# Design System - Neemba Tracker

## üé® Vue d'ensemble

Ce document d√©finit les standards UI/UX pour Neemba Tracker. Suivez ces guidelines pour maintenir une exp√©rience utilisateur coh√©rente.

---

## üé® Couleurs

### Palette principale

**Primary (Jaune/Or)**
- Usage : Accent, CTA, √©l√©ments interactifs
- Tokens : `designTokens.colors.primary[50-900]`
- CSS vars : `var(--color-primary-50)` ‚Üí `var(--color-primary-900)`
- Exemple : Boutons d'action, liens actifs, highlights

**Status Colors**
- Tokens : `designTokens.colors.status.success|info|warning|action|danger`
- Helpers : `constants/statusColors.ts`
- CSS vars recommand√©es : `var(--color-status-success-500)` etc.

| Status | Couleur | Usage | Tokens |
|--------|---------|-------|--------|
| **Success** | Vert | Disponible, positif, valid√© | `designTokens.colors.status.success` |
| **Info** | Bleu | Attribu√©, informatif, admin | `designTokens.colors.status.info` |
| **Warning** | Jaune | Attend action, attention | `designTokens.colors.status.warning` |
| **Action** | Orange | N√©cessite intervention | `designTokens.colors.status.action` |
| **Danger** | Rouge | Erreur, suppression, critique | `designTokens.colors.status.danger` |
| **Neutral** | Gris | Inactif, d√©sactiv√©, neutre | `gray-*` (Tailwind) |

#### Exemples d'utilisation

```tsx
import { designTokens } from '../constants/designTokens';

// Exemple d'utilisation c√¥t√© TS/React
const PrimaryCard = () => (
  <div
    style={{
      backgroundColor: designTokens.colors.primary[50],
      boxShadow: designTokens.elevations.elev1,
      borderRadius: designTokens.radii.card,
    }}
    className="p-4"
  >
    <h3 className="text-sm font-semibold text-gray-900">Titre</h3>
    <p className="text-sm text-gray-600">Contenu de la carte‚Ä¶</p>
  </div>
);
```

```css
/* Exemple d'utilisation via variables CSS */
.btn-primary {
  background-color: var(--color-primary-500);
  color: #111827;
  border-radius: var(--radius-button);
  box-shadow: var(--shadow-elev-1);
}
```

### Logique des status √©quipements

```typescript
AVAILABLE       ‚Üí Vert (success)   - Pr√™t √† √™tre utilis√©
IN_STORAGE      ‚Üí Gris (neutral)   - Stock√©, disponible mais pas prioritaire
ASSIGNED        ‚Üí Bleu (info)      - En cours d'utilisation
PENDING_VALIDATION ‚Üí Jaune (warning) - Attend une action
DECOMMISSIONED  ‚Üí Gris (neutral)   - Hors service

## üé® Design Tokens

### Palette secondaire

| Cat√©gorie | Token | Valeur | Notes |
|-----------|-------|--------|-------|
| Couleurs secondaires | `var(--color-secondary-500)` | `#6e87a7` | Neutres froids pour √©quilibrer le jaune |

### Typography

| Cat√©gorie | Token | Valeur | Notes |
|-----------|-------|--------|-------|
| Font | `font-family: var(--font-sans)` | `Inter` | Base (line-height 1.7)
MANAGER  ‚Üí Vert (success)  - Responsabilit√© organisationnelle
EMPLOYEE ‚Üí Gris (neutral)  - Utilisateur standard
```

---

## üìê Typography

### Hi√©rarchie des titres

```tsx
// Page title (Header)
<h1 className="text-lg font-bold">Titre principal</h1>

// Section title
<h2 className="text-base md:text-lg font-bold">Section</h2>

// Card/Widget title
<h3 className="text-sm font-semibold">Carte</h3>

// Subtitle / Description
<p className="text-xs text-gray-500 dark:text-gray-400">Subtitle</p>
```

### Tailles de texte

| Taille | Classe | Usage |
|--------|--------|-------|
| XS | `text-xs` | Labels, badges, captions |
| SM | `text-sm` | Body text, descriptions |
| Base | `text-base` | Default, paragraphs |
| LG | `text-lg` | Page titles, emphasis |
| XL | `text-xl` | Hero, large titles |

---

## üîò Components

### PageHeader

**Standard avec subtitle**
```tsx
<PageHeader 
    title="Tableau de bord" 
    subtitle="Bienvenue, Jean Dupont"
>
    <PageHeaderActions actions={actions} />
</PageHeader>
```

**Avec retour**
```tsx
<PageHeader 
    title="D√©tails √©quipement" 
    onBack={() => window.location.hash = '#/inventory'}
>
    <PageHeaderActions actions={actions} />
</PageHeader>
```

**Mode s√©lection**
```tsx
<SelectionHeader 
    count={selectedIds.size} 
    onCancel={() => setSelectedIds(new Set())} 
    onDelete={handleBulkDelete} 
/>
```

---

### Buttons & Actions

#### Pattern 1: PageHeaderActions (Desktop + Mobile)

**Usage**: Actions principales dans le header de page

```tsx
const actions = [
    { label: 'Ajouter', icon: 'add', onClick: handleAdd },
    { label: 'Importer', icon: 'upload', onClick: handleImport },
    { label: 'Param√®tres', icon: 'settings', onClick: handleSettings },
];

<PageHeaderActions actions={actions} />
```

- Desktop: Menu trois points (‚ãÆ) en haut √† droite
- Mobile: M√™me comportement, toujours visible

---

#### Pattern 2:### Floating Action Button
 (Mobile uniquement)

**Usage**: Action principale rapide (Ajouter)

```tsx
const fabActions = [
{{ ... }}
- [ ] **Icons**: Utilise les tailles standardis√©es
- [ ] **Loading**: Affiche un skeleton si applicable
- [ ] **Accessibility**: Labels, ARIA, keyboard navigation
- [ ] **Dark mode**: Support light/dark
- [ ] **Animations**: Transitions fluides
- [ ] **Pattern**: Suit les patterns existants

### Animations

#### Mobile Navigation

- `components/MobileNav.tsx`
- `motion.footer` pour l'entr√©e (spring `y` + `opacity`).
- Boutons en `motion.button` avec `whileTap` (0.94) et `whileHover` (1.02), transitions `spring` `stiffness:320` `damping:22`.
- Respecter les classes actives pour la couleur; les animations ne doivent pas alt√©rer le style actif.

#### Dropdown menus

- `components/DropdownMenu.tsx` (mobile sheet) : overlay fade, contenu slide-up (spring). Boutons anim√©s `whileTap`/`whileHover`.
- `ListItemCard` (desktop) : popover `AnimatePresence` avec fade + translate, boutons anim√©s identiquement.
- Garder `AnimatePresence` pour g√©rer la sortie et √©viter clignements.

### Toolbars & menus enregistr√©s

- `components/FilterToolbar.tsx` (`Vues`) : panneau enregistr√© anim√© via `AnimatePresence` + `motion.div` (fade + scale + translate). Actions internes utilisent des feedbacks `whileTap`/`whileHover`.

### Surfaces & Dashboard

- `index.css` : utilitaires `surface-card`, `surface-card-gradient` (blur l√©ger, hover elev√©, gradient primaire/secondaire).
- `components/Dashboard.tsx` : widgets adoptent ces surfaces + typographie `tracking-tight`, badges stats en `bg-secondary-100` / `dark:bg-secondary-800/40`.
- `components/ui/Modal.tsx` : modales Radix appliquent `surface-card` + gradient, titre `text-xl tracking-tight`, footer s√©par√© (border secondaire).

### Gestion des emplacements

- `components/Locations.tsx` : explorateur √† colonnes (Pays ‚Üí Sites ‚Üí Services) en `surface-card surface-card-gradient`, actions via `Button` partag√© et panneau de d√©tails contextuel.
- `SelectAuditLocation.tsx` : s√©lection d'audit reprise avec surfaces harmonis√©es, progress bars d√©grad√©es et CTA `Button` (`Commencer/Continuer/Rapport`).

### Tooltips

- `components/Tooltip.tsx` : gradient secondaire (`bg-gradient-to-br from-secondary-900 ...`), border translucide et blur, fl√®che synchronis√©e avec les couleurs.

### Tabs & navigation secondaires

- `components/PageHeader.tsx` (`Tabs`) : boutons tabb√©s en `motion.button` avec feedback `whileTap`. Barre active partag√©e via `layoutId="tab-active-indicator"` pour animer la transition.

### Toasts & notifications

- `components/Toast.tsx` : apparition/disparition via `AnimatePresence` + `motion.div` (spring + fade). Barre de progression anim√©e en `motion.div` (ease linear). Boutons d'action/fermeture utilisent `whileTap`/`whileHover`.


- Utiliser `transition` courts (`duration < 0.25s`) sur mobile pour garder la fluidit√©.
- Les animations doivent √™tre optionnelles et accessibles (√©viter flashes). Penser √† exposer un toggle ult√©rieur dans les pr√©f√©rences si n√©cessaire.
- Pr√©f√©rer `AnimatePresence` pour g√©rer le cycle de vie (entr√©e/sortie) des overlays/menus.
- ‚úÖ Dark mode support partout

### DON'T ‚ùå

- ‚ùå Hardcoder les couleurs de status dans les composants
{{ ... }}
- ‚ùå FAB sur desktop (utiliser PageHeaderActions)
- ‚ùå Formulaires longs sans wizard
- ‚ùå Modals diff√©rentes pour m√™me usage
- ‚ùå Breakpoints incoh√©rents

---

## üìö R√©f√©rences

- **Types**: `types.ts`
- **Constants**: `constants/statusColors.ts`
- **Composants**: `components/`
- **Exemples**:
  - PageHeader: `Dashboard.tsx`, `Inventory.tsx`
  - FloatingActionButton: `Management.tsx`
  - Modals: `SettingsSheet.tsx`, `Modals.tsx`
  - Forms: `AssignmentWizard.tsx`, `AddEquipmentForm.tsx`

---

**Version**: 1.0.0  
**Derni√®re mise √† jour**: 2025-10-10  
**Maintenu par**: √âquipe Neemba Tracker

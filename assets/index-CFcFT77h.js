function oF(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s0={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HC;function lF(){if(HC)return Ju;HC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:o,ref:a!==void 0?a:null,props:i}}return Ju.Fragment=e,Ju.jsx=n,Ju.jsxs=n,Ju}var KC;function uF(){return KC||(KC=1,s0.exports=lF()),s0.exports}var c=uF(),o0={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC;function cF(){if(YC)return Ke;YC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),y=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=y&&$[y]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function C($,z,H){this.props=$,this.context=z,this.refs=A,this.updater=H||T}C.prototype.isReactComponent={},C.prototype.setState=function($,z){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,z,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function M(){}M.prototype=C.prototype;function _($,z,H){this.props=$,this.context=z,this.refs=A,this.updater=H||T}var k=_.prototype=new M;k.constructor=_,w(k,C.prototype),k.isPureReactComponent=!0;var N=Array.isArray;function I(){}var P={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function D($,z,H){var Q=H.ref;return{$$typeof:t,type:$,key:z,ref:Q!==void 0?Q:null,props:H}}function q($,z){return D($.type,z,$.props)}function U($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function R($){var z={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(H){return z[H]})}var B=/\/+/g;function G($,z){return typeof $=="object"&&$!==null&&$.key!=null?R(""+$.key):z.toString(36)}function W($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(I,I):($.status="pending",$.then(function(z){$.status==="pending"&&($.status="fulfilled",$.value=z)},function(z){$.status==="pending"&&($.status="rejected",$.reason=z)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function V($,z,H,Q,se){var we=typeof $;(we==="undefined"||we==="boolean")&&($=null);var Te=!1;if($===null)Te=!0;else switch(we){case"bigint":case"string":case"number":Te=!0;break;case"object":switch($.$$typeof){case t:case e:Te=!0;break;case p:return Te=$._init,V(Te($._payload),z,H,Q,se)}}if(Te)return se=se($),Te=Q===""?"."+G($,0):Q,N(se)?(H="",Te!=null&&(H=Te.replace(B,"$&/")+"/"),V(se,z,H,"",function(Ne){return Ne})):se!=null&&(U(se)&&(se=q(se,H+(se.key==null||$&&$.key===se.key?"":(""+se.key).replace(B,"$&/")+"/")+Te)),z.push(se)),1;Te=0;var je=Q===""?".":Q+":";if(N($))for(var me=0;me<$.length;me++)Q=$[me],we=je+G(Q,me),Te+=V(Q,z,H,we,se);else if(me=x($),typeof me=="function")for($=me.call($),me=0;!(Q=$.next()).done;)Q=Q.value,we=je+G(Q,me++),Te+=V(Q,z,H,we,se);else if(we==="object"){if(typeof $.then=="function")return V(W($),z,H,Q,se);throw z=String($),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K($,z,H){if($==null)return $;var Q=[],se=0;return V($,Q,"","",function(we){return z.call(H,we,se++)}),Q}function Y($){if($._status===-1){var z=$._result;z=z(),z.then(function(H){($._status===0||$._status===-1)&&($._status=1,$._result=H)},function(H){($._status===0||$._status===-1)&&($._status=2,$._result=H)}),$._status===-1&&($._status=0,$._result=z)}if($._status===1)return $._result.default;throw $._result}var te=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},re={map:K,forEach:function($,z,H){K($,function(){z.apply(this,arguments)},H)},count:function($){var z=0;return K($,function(){z++}),z},toArray:function($){return K($,function(z){return z})||[]},only:function($){if(!U($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Ke.Activity=h,Ke.Children=re,Ke.Component=C,Ke.Fragment=n,Ke.Profiler=a,Ke.PureComponent=_,Ke.StrictMode=r,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Ke.__COMPILER_RUNTIME={__proto__:null,c:function($){return P.H.useMemoCache($)}},Ke.cache=function($){return function(){return $.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function($,z,H){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var Q=w({},$.props),se=$.key;if(z!=null)for(we in z.key!==void 0&&(se=""+z.key),z)!L.call(z,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&z.ref===void 0||(Q[we]=z[we]);var we=arguments.length-2;if(we===1)Q.children=H;else if(1<we){for(var Te=Array(we),je=0;je<we;je++)Te[je]=arguments[je+2];Q.children=Te}return D($.type,se,Q)},Ke.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:i,_context:$},$},Ke.createElement=function($,z,H){var Q,se={},we=null;if(z!=null)for(Q in z.key!==void 0&&(we=""+z.key),z)L.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(se[Q]=z[Q]);var Te=arguments.length-2;if(Te===1)se.children=H;else if(1<Te){for(var je=Array(Te),me=0;me<Te;me++)je[me]=arguments[me+2];se.children=je}if($&&$.defaultProps)for(Q in Te=$.defaultProps,Te)se[Q]===void 0&&(se[Q]=Te[Q]);return D($,we,se)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function($){return{$$typeof:u,render:$}},Ke.isValidElement=U,Ke.lazy=function($){return{$$typeof:p,_payload:{_status:-1,_result:$},_init:Y}},Ke.memo=function($,z){return{$$typeof:d,type:$,compare:z===void 0?null:z}},Ke.startTransition=function($){var z=P.T,H={};P.T=H;try{var Q=$(),se=P.S;se!==null&&se(H,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(I,te)}catch(we){te(we)}finally{z!==null&&H.types!==null&&(z.types=H.types),P.T=z}},Ke.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Ke.use=function($){return P.H.use($)},Ke.useActionState=function($,z,H){return P.H.useActionState($,z,H)},Ke.useCallback=function($,z){return P.H.useCallback($,z)},Ke.useContext=function($){return P.H.useContext($)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function($,z){return P.H.useDeferredValue($,z)},Ke.useEffect=function($,z){return P.H.useEffect($,z)},Ke.useEffectEvent=function($){return P.H.useEffectEvent($)},Ke.useId=function(){return P.H.useId()},Ke.useImperativeHandle=function($,z,H){return P.H.useImperativeHandle($,z,H)},Ke.useInsertionEffect=function($,z){return P.H.useInsertionEffect($,z)},Ke.useLayoutEffect=function($,z){return P.H.useLayoutEffect($,z)},Ke.useMemo=function($,z){return P.H.useMemo($,z)},Ke.useOptimistic=function($,z){return P.H.useOptimistic($,z)},Ke.useReducer=function($,z,H){return P.H.useReducer($,z,H)},Ke.useRef=function($){return P.H.useRef($)},Ke.useState=function($){return P.H.useState($)},Ke.useSyncExternalStore=function($,z,H){return P.H.useSyncExternalStore($,z,H)},Ke.useTransition=function(){return P.H.useTransition()},Ke.version="19.2.0",Ke}var WC;function tT(){return WC||(WC=1,o0.exports=cF()),o0.exports}var j=tT();const Z=yt(j),nT=oF({__proto__:null,default:Z},[j]);var l0={exports:{}},Qu={},u0={exports:{}},c0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC;function dF(){return XC||(XC=1,(function(t){function e(V,K){var Y=V.length;V.push(K);e:for(;0<Y;){var te=Y-1>>>1,re=V[te];if(0<a(re,K))V[te]=K,V[Y]=re,Y=te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],Y=V.pop();if(Y!==K){V[0]=Y;e:for(var te=0,re=V.length,$=re>>>1;te<$;){var z=2*(te+1)-1,H=V[z],Q=z+1,se=V[Q];if(0>a(H,Y))Q<re&&0>a(se,H)?(V[te]=se,V[Q]=Y,te=Q):(V[te]=H,V[z]=Y,te=z);else if(Q<re&&0>a(se,Y))V[te]=se,V[Q]=Y,te=Q;else break e}}return K}function a(V,K){var Y=V.sortIndex-K.sortIndex;return Y!==0?Y:V.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],d=[],p=1,h=null,y=3,x=!1,T=!1,w=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function k(V){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=V)r(d),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(d)}}function N(V){if(w=!1,k(V),!T)if(n(f)!==null)T=!0,I||(I=!0,R());else{var K=n(d);K!==null&&W(N,K.startTime-V)}}var I=!1,P=-1,L=5,D=-1;function q(){return A?!0:!(t.unstable_now()-D<L)}function U(){if(A=!1,I){var V=t.unstable_now();D=V;var K=!0;try{e:{T=!1,w&&(w=!1,M(P),P=-1),x=!0;var Y=y;try{t:{for(k(V),h=n(f);h!==null&&!(h.expirationTime>V&&q());){var te=h.callback;if(typeof te=="function"){h.callback=null,y=h.priorityLevel;var re=te(h.expirationTime<=V);if(V=t.unstable_now(),typeof re=="function"){h.callback=re,k(V),K=!0;break t}h===n(f)&&r(f),k(V)}else r(f);h=n(f)}if(h!==null)K=!0;else{var $=n(d);$!==null&&W(N,$.startTime-V),K=!1}}break e}finally{h=null,y=Y,x=!1}K=void 0}}finally{K?R():I=!1}}}var R;if(typeof _=="function")R=function(){_(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=U,R=function(){G.postMessage(null)}}else R=function(){C(U,0)};function W(V,K){P=C(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(V){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var Y=y;y=K;try{return V()}finally{y=Y}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=y;y=V;try{return K()}finally{y=Y}},t.unstable_scheduleCallback=function(V,K,Y){var te=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,V){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Y+re,V={id:p++,callback:K,priorityLevel:V,startTime:Y,expirationTime:re,sortIndex:-1},Y>te?(V.sortIndex=Y,e(d,V),n(f)===null&&V===n(d)&&(w?(M(P),P=-1):w=!0,W(N,Y-te))):(V.sortIndex=re,e(f,V),T||x||(T=!0,I||(I=!0,R()))),V},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(V){var K=y;return function(){var Y=y;y=K;try{return V.apply(this,arguments)}finally{y=Y}}}})(c0)),c0}var JC;function fF(){return JC||(JC=1,u0.exports=dF()),u0.exports}var d0={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QC;function mF(){if(QC)return Un;QC=1;var t=tT();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(f,d,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:f,containerInfo:d,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(f,d,null,p)},Un.flushSync=function(f){var d=o.T,p=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=p,r.d.f()}},Un.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,h=u(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(f,{crossOrigin:h,integrity:y,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Un.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Un.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,h=u(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Un.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,d){return f(d)},Un.useFormState=function(f,d,p){return o.H.useFormState(f,d,p)},Un.useFormStatus=function(){return o.H.useHostTransitionStatus()},Un.version="19.2.0",Un}var ZC;function mq(){if(ZC)return d0.exports;ZC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),d0.exports=mF(),d0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ej;function pF(){if(ej)return Qu;ej=1;var t=fF(),e=tT(),n=mq();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var l=s,m=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(m=l.return),s=l.return;while(s)}return l.tag===3?m:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(i(s)!==s)throw Error(r(188))}function d(s){var l=s.alternate;if(!l){if(l=i(s),l===null)throw Error(r(188));return l!==s?null:s}for(var m=s,g=l;;){var b=m.return;if(b===null)break;var E=b.alternate;if(E===null){if(g=b.return,g!==null){m=g;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===m)return f(b),s;if(E===g)return f(b),l;E=E.sibling}throw Error(r(188))}if(m.return!==g.return)m=b,g=E;else{for(var O=!1,F=b.child;F;){if(F===m){O=!0,m=b,g=E;break}if(F===g){O=!0,g=b,m=E;break}F=F.sibling}if(!O){for(F=E.child;F;){if(F===m){O=!0,m=E,g=b;break}if(F===g){O=!0,g=E,m=b;break}F=F.sibling}if(!O)throw Error(r(189))}}if(m.alternate!==g)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),_=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function R(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var B=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===B?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case I:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case _:return s.displayName||"Context";case M:return(s._context.displayName||"Context")+".Consumer";case k:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return l=s.displayName||null,l!==null?l:G(s.type)||"Memo";case L:l=s._payload,s=s._init;try{return G(s(l))}catch{}}return null}var W=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},te=[],re=-1;function $(s){return{current:s}}function z(s){0>re||(s.current=te[re],te[re]=null,re--)}function H(s,l){re++,te[re]=s.current,s.current=l}var Q=$(null),se=$(null),we=$(null),Te=$(null);function je(s,l){switch(H(we,l),H(se,s),H(Q,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?hC(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=hC(l),s=gC(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}z(Q),H(Q,s)}function me(){z(Q),z(se),z(we)}function Ne(s){s.memoizedState!==null&&H(Te,s);var l=Q.current,m=gC(l,s.type);l!==m&&(H(se,s),H(Q,m))}function de(s){se.current===s&&(z(Q),z(se)),Te.current===s&&(z(Te),Ku._currentValue=Y)}var ie,Oe;function X(s){if(ie===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);ie=l&&l[1]||"",Oe=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+s+Oe}var ve=!1;function pe(s,l){if(!s||ve)return"";ve=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(ce){var ue=ce}Reflect.construct(s,[],xe)}else{try{xe.call()}catch(ce){ue=ce}s.call(xe.prototype)}}else{try{throw Error()}catch(ce){ue=ce}(xe=s())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(ce){if(ce&&ue&&typeof ce.stack=="string")return[ce.stack,ue.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),O=E[0],F=E[1];if(O&&F){var J=O.split(`
`),le=F.split(`
`);for(b=g=0;g<J.length&&!J[g].includes("DetermineComponentFrameRoot");)g++;for(;b<le.length&&!le[b].includes("DetermineComponentFrameRoot");)b++;if(g===J.length||b===le.length)for(g=J.length-1,b=le.length-1;1<=g&&0<=b&&J[g]!==le[b];)b--;for(;1<=g&&0<=b;g--,b--)if(J[g]!==le[b]){if(g!==1||b!==1)do if(g--,b--,0>b||J[g]!==le[b]){var he=`
`+J[g].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=g&&0<=b);break}}}finally{ve=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?X(m):""}function Le(s,l){switch(s.tag){case 26:case 27:case 5:return X(s.type);case 16:return X("Lazy");case 13:return s.child!==l&&l!==null?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return pe(s.type,!1);case 11:return pe(s.type.render,!1);case 1:return pe(s.type,!0);case 31:return X("Activity");default:return""}}function Qe(s){try{var l="",m=null;do l+=Le(s,m),m=s,s=s.return;while(s);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var lt=Object.prototype.hasOwnProperty,ut=t.unstable_scheduleCallback,Bt=t.unstable_cancelCallback,Ht=t.unstable_shouldYield,Mn=t.unstable_requestPaint,ee=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,Ae=t.unstable_ImmediatePriority,Ce=t.unstable_UserBlockingPriority,fe=t.unstable_NormalPriority,Me=t.unstable_LowPriority,$t=t.unstable_IdlePriority,nn=t.log,Vt=t.unstable_setDisableYieldValue,tt=null,Kt=null;function gn(s){if(typeof nn=="function"&&Vt(s),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(tt,s)}catch{}}var on=Math.clz32?Math.clz32:Xh,Yh=Math.log,Wh=Math.LN2;function Xh(s){return s>>>=0,s===0?32:31-(Yh(s)/Wh|0)|0}var ts=256,oo=262144,ns=4194304;function Se(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ye(s,l,m){var g=s.pendingLanes;if(g===0)return 0;var b=0,E=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var F=g&134217727;return F!==0?(g=F&~E,g!==0?b=Se(g):(O&=F,O!==0?b=Se(O):m||(m=F&~s,m!==0&&(b=Se(m))))):(F=g&~E,F!==0?b=Se(F):O!==0?b=Se(O):m||(m=g&~s,m!==0&&(b=Se(m)))),b===0?0:l!==0&&l!==b&&(l&E)===0&&(E=b&-b,m=l&-l,E>=m||E===32&&(m&4194048)!==0)?l:b}function vt(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function At(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wt(){var s=ns;return ns<<=1,(ns&62914560)===0&&(ns=4194304),s}function ct(s){for(var l=[],m=0;31>m;m++)l.push(s);return l}function Xt(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function lr(s,l,m,g,b,E){var O=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var F=s.entanglements,J=s.expirationTimes,le=s.hiddenUpdates;for(m=O&~m;0<m;){var he=31-on(m),xe=1<<he;F[he]=0,J[he]=-1;var ue=le[he];if(ue!==null)for(le[he]=null,he=0;he<ue.length;he++){var ce=ue[he];ce!==null&&(ce.lane&=-536870913)}m&=~xe}g!==0&&Aa(s,g,0),E!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=E&~(O&~l))}function Aa(s,l,m){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-on(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|m&261930}function ur(s,l){var m=s.entangledLanes|=l;for(s=s.entanglements;m;){var g=31-on(m),b=1<<g;b&l|s[g]&l&&(s[g]|=l),m&=~b}}function Kd(s,l){var m=l&-l;return m=(m&42)!==0?1:iu(m),(m&(s.suspendedLanes|l))!==0?0:m}function iu(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function su(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ou(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:UC(s.type))}function Yd(s,l){var m=K.p;try{return K.p=s,l()}finally{K.p=m}}var ci=Math.random().toString(36).slice(2),kn="__reactFiber$"+ci,Xn="__reactProps$"+ci,lo="__reactContainer$"+ci,Jh="__reactEvents$"+ci,X$="__reactListeners$"+ci,J$="__reactHandles$"+ci,n1="__reactResources$"+ci,lu="__reactMarker$"+ci;function Qh(s){delete s[kn],delete s[Xn],delete s[Jh],delete s[X$],delete s[J$]}function uo(s){var l=s[kn];if(l)return l;for(var m=s.parentNode;m;){if(l=m[lo]||m[kn]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(s=AC(s);s!==null;){if(m=s[kn])return m;s=AC(s)}return l}s=m,m=s.parentNode}return null}function co(s){if(s=s[kn]||s[lo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function uu(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function fo(s){var l=s[n1];return l||(l=s[n1]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function An(s){s[lu]=!0}var r1=new Set,a1={};function rs(s,l){mo(s,l),mo(s+"Capture",l)}function mo(s,l){for(a1[s]=l,s=0;s<l.length;s++)r1.add(l[s])}var Q$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),i1={},s1={};function Z$(s){return lt.call(s1,s)?!0:lt.call(i1,s)?!1:Q$.test(s)?s1[s]=!0:(i1[s]=!0,!1)}function Wd(s,l,m){if(Z$(l))if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+m)}}function Xd(s,l,m){if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+m)}}function Ta(s,l,m,g){if(g===null)s.removeAttribute(m);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(l,m,""+g)}}function Er(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function o1(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function e6(s,l,m){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,E=g.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){m=""+O,E.call(this,O)}}),Object.defineProperty(s,l,{enumerable:g.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Zh(s){if(!s._valueTracker){var l=o1(s)?"checked":"value";s._valueTracker=e6(s,l,""+s[l])}}function l1(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var m=l.getValue(),g="";return s&&(g=o1(s)?s.checked?"true":"false":s.value),s=g,s!==m?(l.setValue(s),!0):!1}function Jd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var t6=/[\n"\\]/g;function Nr(s){return s.replace(t6,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function eg(s,l,m,g,b,E,O,F){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),l!=null?O==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Er(l)):s.value!==""+Er(l)&&(s.value=""+Er(l)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),l!=null?tg(s,O,Er(l)):m!=null?tg(s,O,Er(m)):g!=null&&s.removeAttribute("value"),b==null&&E!=null&&(s.defaultChecked=!!E),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+Er(F):s.removeAttribute("name")}function u1(s,l,m,g,b,E,O,F){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),l!=null||m!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){Zh(s);return}m=m!=null?""+Er(m):"",l=l!=null?""+Er(l):m,F||l===s.value||(s.value=l),s.defaultValue=l}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=F?s.checked:!!g,s.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Zh(s)}function tg(s,l,m){l==="number"&&Jd(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function po(s,l,m,g){if(s=s.options,l){l={};for(var b=0;b<m.length;b++)l["$"+m[b]]=!0;for(m=0;m<s.length;m++)b=l.hasOwnProperty("$"+s[m].value),s[m].selected!==b&&(s[m].selected=b),b&&g&&(s[m].defaultSelected=!0)}else{for(m=""+Er(m),l=null,b=0;b<s.length;b++){if(s[b].value===m){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function c1(s,l,m){if(l!=null&&(l=""+Er(l),l!==s.value&&(s.value=l),m==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=m!=null?""+Er(m):""}function d1(s,l,m,g){if(l==null){if(g!=null){if(m!=null)throw Error(r(92));if(W(g)){if(1<g.length)throw Error(r(93));g=g[0]}m=g}m==null&&(m=""),l=m}m=Er(l),s.defaultValue=m,g=s.textContent,g===m&&g!==""&&g!==null&&(s.value=g),Zh(s)}function ho(s,l){if(l){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=l;return}}s.textContent=l}var n6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function f1(s,l,m){var g=l.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,m):typeof m!="number"||m===0||n6.has(l)?l==="float"?s.cssFloat=m:s[l]=(""+m).trim():s[l]=m+"px"}function m1(s,l,m){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,m!=null){for(var g in m)!m.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var b in l)g=l[b],l.hasOwnProperty(b)&&m[b]!==g&&f1(s,b,g)}else for(var E in l)l.hasOwnProperty(E)&&f1(s,E,l[E])}function ng(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var r6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qd(s){return a6.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ea(){}var rg=null;function ag(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var go=null,yo=null;function p1(s){var l=co(s);if(l&&(s=l.stateNode)){var m=s[Xn]||null;e:switch(s=l.stateNode,l.type){case"input":if(eg(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),l=m.name,m.type==="radio"&&l!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Nr(""+l)+'"][type="radio"]'),l=0;l<m.length;l++){var g=m[l];if(g!==s&&g.form===s.form){var b=g[Xn]||null;if(!b)throw Error(r(90));eg(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<m.length;l++)g=m[l],g.form===s.form&&l1(g)}break e;case"textarea":c1(s,m.value,m.defaultValue);break e;case"select":l=m.value,l!=null&&po(s,!!m.multiple,l,!1)}}}var ig=!1;function h1(s,l,m){if(ig)return s(l,m);ig=!0;try{var g=s(l);return g}finally{if(ig=!1,(go!==null||yo!==null)&&(Bf(),go&&(l=go,s=yo,yo=go=null,p1(l),s)))for(l=0;l<s.length;l++)p1(s[l])}}function cu(s,l){var m=s.stateNode;if(m===null)return null;var g=m[Xn]||null;if(g===null)return null;m=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,l,typeof m));return m}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=!1;if(Na)try{var du={};Object.defineProperty(du,"passive",{get:function(){sg=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{sg=!1}var di=null,og=null,Zd=null;function g1(){if(Zd)return Zd;var s,l=og,m=l.length,g,b="value"in di?di.value:di.textContent,E=b.length;for(s=0;s<m&&l[s]===b[s];s++);var O=m-s;for(g=1;g<=O&&l[m-g]===b[E-g];g++);return Zd=b.slice(s,1<g?1-g:void 0)}function ef(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function tf(){return!0}function y1(){return!1}function Jn(s){function l(m,g,b,E,O){this._reactName=m,this._targetInst=b,this.type=g,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(m=s[F],this[F]=m?m(E):E[F]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?tf:y1,this.isPropagationStopped=y1,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),l}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nf=Jn(as),fu=h({},as,{view:0,detail:0}),i6=Jn(fu),lg,ug,mu,rf=h({},fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==mu&&(mu&&s.type==="mousemove"?(lg=s.screenX-mu.screenX,ug=s.screenY-mu.screenY):ug=lg=0,mu=s),lg)},movementY:function(s){return"movementY"in s?s.movementY:ug}}),v1=Jn(rf),s6=h({},rf,{dataTransfer:0}),o6=Jn(s6),l6=h({},fu,{relatedTarget:0}),cg=Jn(l6),u6=h({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),c6=Jn(u6),d6=h({},as,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),f6=Jn(d6),m6=h({},as,{data:0}),x1=Jn(m6),p6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y6(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=g6[s])?!!l[s]:!1}function dg(){return y6}var v6=h({},fu,{key:function(s){if(s.key){var l=p6[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=ef(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?h6[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(s){return s.type==="keypress"?ef(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ef(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),x6=Jn(v6),b6=h({},rf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b1=Jn(b6),S6=h({},fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),w6=Jn(S6),A6=h({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),T6=Jn(A6),E6=h({},rf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),N6=Jn(E6),_6=h({},as,{newState:0,oldState:0}),C6=Jn(_6),j6=[9,13,27,32],fg=Na&&"CompositionEvent"in window,pu=null;Na&&"documentMode"in document&&(pu=document.documentMode);var M6=Na&&"TextEvent"in window&&!pu,S1=Na&&(!fg||pu&&8<pu&&11>=pu),w1=" ",A1=!1;function T1(s,l){switch(s){case"keyup":return j6.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function E1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vo=!1;function k6(s,l){switch(s){case"compositionend":return E1(l);case"keypress":return l.which!==32?null:(A1=!0,w1);case"textInput":return s=l.data,s===w1&&A1?null:s;default:return null}}function I6(s,l){if(vo)return s==="compositionend"||!fg&&T1(s,l)?(s=g1(),Zd=og=di=null,vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return S1&&l.locale!=="ko"?null:l.data;default:return null}}var P6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!P6[s.type]:l==="textarea"}function _1(s,l,m,g){go?yo?yo.push(g):yo=[g]:go=g,l=Kf(l,"onChange"),0<l.length&&(m=new nf("onChange","change",null,m,g),s.push({event:m,listeners:l}))}var hu=null,gu=null;function O6(s){uC(s,0)}function af(s){var l=uu(s);if(l1(l))return s}function C1(s,l){if(s==="change")return l}var j1=!1;if(Na){var mg;if(Na){var pg="oninput"in document;if(!pg){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),pg=typeof M1.oninput=="function"}mg=pg}else mg=!1;j1=mg&&(!document.documentMode||9<document.documentMode)}function k1(){hu&&(hu.detachEvent("onpropertychange",I1),gu=hu=null)}function I1(s){if(s.propertyName==="value"&&af(gu)){var l=[];_1(l,gu,s,ag(s)),h1(O6,l)}}function R6(s,l,m){s==="focusin"?(k1(),hu=l,gu=m,hu.attachEvent("onpropertychange",I1)):s==="focusout"&&k1()}function D6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return af(gu)}function L6(s,l){if(s==="click")return af(l)}function q6(s,l){if(s==="input"||s==="change")return af(l)}function U6(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var cr=typeof Object.is=="function"?Object.is:U6;function yu(s,l){if(cr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var m=Object.keys(s),g=Object.keys(l);if(m.length!==g.length)return!1;for(g=0;g<m.length;g++){var b=m[g];if(!lt.call(l,b)||!cr(s[b],l[b]))return!1}return!0}function P1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function O1(s,l){var m=P1(s);s=0;for(var g;m;){if(m.nodeType===3){if(g=s+m.textContent.length,s<=l&&g>=l)return{node:m,offset:l-s};s=g}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=P1(m)}}function R1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?R1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function D1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Jd(s.document);l instanceof s.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)s=l.contentWindow;else break;l=Jd(s.document)}return l}function hg(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var B6=Na&&"documentMode"in document&&11>=document.documentMode,xo=null,gg=null,vu=null,yg=!1;function L1(s,l,m){var g=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;yg||xo==null||xo!==Jd(g)||(g=xo,"selectionStart"in g&&hg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),vu&&yu(vu,g)||(vu=g,g=Kf(gg,"onSelect"),0<g.length&&(l=new nf("onSelect","select",null,l,m),s.push({event:l,listeners:g}),l.target=xo)))}function is(s,l){var m={};return m[s.toLowerCase()]=l.toLowerCase(),m["Webkit"+s]="webkit"+l,m["Moz"+s]="moz"+l,m}var bo={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},vg={},q1={};Na&&(q1=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function ss(s){if(vg[s])return vg[s];if(!bo[s])return s;var l=bo[s],m;for(m in l)if(l.hasOwnProperty(m)&&m in q1)return vg[s]=l[m];return s}var U1=ss("animationend"),B1=ss("animationiteration"),$1=ss("animationstart"),$6=ss("transitionrun"),V6=ss("transitionstart"),F6=ss("transitioncancel"),V1=ss("transitionend"),F1=new Map,xg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xg.push("scrollEnd");function Yr(s,l){F1.set(s,l),rs(l,[s])}var sf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},_r=[],So=0,bg=0;function of(){for(var s=So,l=bg=So=0;l<s;){var m=_r[l];_r[l++]=null;var g=_r[l];_r[l++]=null;var b=_r[l];_r[l++]=null;var E=_r[l];if(_r[l++]=null,g!==null&&b!==null){var O=g.pending;O===null?b.next=b:(b.next=O.next,O.next=b),g.pending=b}E!==0&&z1(m,b,E)}}function lf(s,l,m,g){_r[So++]=s,_r[So++]=l,_r[So++]=m,_r[So++]=g,bg|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function Sg(s,l,m,g){return lf(s,l,m,g),uf(s)}function os(s,l){return lf(s,null,null,l),uf(s)}function z1(s,l,m){s.lanes|=m;var g=s.alternate;g!==null&&(g.lanes|=m);for(var b=!1,E=s.return;E!==null;)E.childLanes|=m,g=E.alternate,g!==null&&(g.childLanes|=m),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(b=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,b&&l!==null&&(b=31-on(m),s=E.hiddenUpdates,g=s[b],g===null?s[b]=[l]:g.push(l),l.lane=m|536870912),E):null}function uf(s){if(50<Bu)throw Bu=0,My=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var wo={};function z6(s,l,m,g){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(s,l,m,g){return new z6(s,l,m,g)}function wg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _a(s,l){var m=s.alternate;return m===null?(m=dr(s.tag,l,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=l,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,l=s.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function G1(s,l){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,l=m.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function cf(s,l,m,g,b,E){var O=0;if(g=s,typeof s=="function")wg(s)&&(O=1);else if(typeof s=="string")O=WV(s,m,Q.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case D:return s=dr(31,m,l,b),s.elementType=D,s.lanes=E,s;case w:return ls(m.children,b,E,l);case A:O=8,b|=24;break;case C:return s=dr(12,m,l,b|2),s.elementType=C,s.lanes=E,s;case N:return s=dr(13,m,l,b),s.elementType=N,s.lanes=E,s;case I:return s=dr(19,m,l,b),s.elementType=I,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:O=10;break e;case M:O=9;break e;case k:O=11;break e;case P:O=14;break e;case L:O=16,g=null;break e}O=29,m=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=dr(O,m,l,b),l.elementType=s,l.type=g,l.lanes=E,l}function ls(s,l,m,g){return s=dr(7,s,g,l),s.lanes=m,s}function Ag(s,l,m){return s=dr(6,s,null,l),s.lanes=m,s}function H1(s){var l=dr(18,null,null,0);return l.stateNode=s,l}function Tg(s,l,m){return l=dr(4,s.children!==null?s.children:[],s.key,l),l.lanes=m,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var K1=new WeakMap;function Cr(s,l){if(typeof s=="object"&&s!==null){var m=K1.get(s);return m!==void 0?m:(l={value:s,source:l,stack:Qe(l)},K1.set(s,l),l)}return{value:s,source:l,stack:Qe(l)}}var Ao=[],To=0,df=null,xu=0,jr=[],Mr=0,fi=null,oa=1,la="";function Ca(s,l){Ao[To++]=xu,Ao[To++]=df,df=s,xu=l}function Y1(s,l,m){jr[Mr++]=oa,jr[Mr++]=la,jr[Mr++]=fi,fi=s;var g=oa;s=la;var b=32-on(g)-1;g&=~(1<<b),m+=1;var E=32-on(l)+b;if(30<E){var O=b-b%5;E=(g&(1<<O)-1).toString(32),g>>=O,b-=O,oa=1<<32-on(l)+b|m<<b|g,la=E+s}else oa=1<<E|m<<b|g,la=s}function Eg(s){s.return!==null&&(Ca(s,1),Y1(s,1,0))}function Ng(s){for(;s===df;)df=Ao[--To],Ao[To]=null,xu=Ao[--To],Ao[To]=null;for(;s===fi;)fi=jr[--Mr],jr[Mr]=null,la=jr[--Mr],jr[Mr]=null,oa=jr[--Mr],jr[Mr]=null}function W1(s,l){jr[Mr++]=oa,jr[Mr++]=la,jr[Mr++]=fi,oa=l.id,la=l.overflow,fi=s}var In=null,Rt=null,st=!1,mi=null,kr=!1,_g=Error(r(519));function pi(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bu(Cr(l,s)),_g}function X1(s){var l=s.stateNode,m=s.type,g=s.memoizedProps;switch(l[kn]=s,l[Xn]=g,m){case"dialog":rt("cancel",l),rt("close",l);break;case"iframe":case"object":case"embed":rt("load",l);break;case"video":case"audio":for(m=0;m<Vu.length;m++)rt(Vu[m],l);break;case"source":rt("error",l);break;case"img":case"image":case"link":rt("error",l),rt("load",l);break;case"details":rt("toggle",l);break;case"input":rt("invalid",l),u1(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":rt("invalid",l);break;case"textarea":rt("invalid",l),d1(l,g.value,g.defaultValue,g.children)}m=g.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||l.textContent===""+m||g.suppressHydrationWarning===!0||mC(l.textContent,m)?(g.popover!=null&&(rt("beforetoggle",l),rt("toggle",l)),g.onScroll!=null&&rt("scroll",l),g.onScrollEnd!=null&&rt("scrollend",l),g.onClick!=null&&(l.onclick=Ea),l=!0):l=!1,l||pi(s,!0)}function J1(s){for(In=s.return;In;)switch(In.tag){case 5:case 31:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:In=In.return}}function Eo(s){if(s!==In)return!1;if(!st)return J1(s),st=!0,!1;var l=s.tag,m;if((m=l!==3&&l!==27)&&((m=l===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||Gy(s.type,s.memoizedProps)),m=!m),m&&Rt&&pi(s),J1(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Rt=wC(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Rt=wC(s)}else l===27?(l=Rt,Ci(s.type)?(s=Xy,Xy=null,Rt=s):Rt=l):Rt=In?Pr(s.stateNode.nextSibling):null;return!0}function us(){Rt=In=null,st=!1}function Cg(){var s=mi;return s!==null&&(tr===null?tr=s:tr.push.apply(tr,s),mi=null),s}function bu(s){mi===null?mi=[s]:mi.push(s)}var jg=$(null),cs=null,ja=null;function hi(s,l,m){H(jg,l._currentValue),l._currentValue=m}function Ma(s){s._currentValue=jg.current,z(jg)}function Mg(s,l,m){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===m)break;s=s.return}}function kg(s,l,m,g){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var E=b.dependencies;if(E!==null){var O=b.child;E=E.firstContext;e:for(;E!==null;){var F=E;E=b;for(var J=0;J<l.length;J++)if(F.context===l[J]){E.lanes|=m,F=E.alternate,F!==null&&(F.lanes|=m),Mg(E.return,m,s),g||(O=null);break e}E=F.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(r(341));O.lanes|=m,E=O.alternate,E!==null&&(E.lanes|=m),Mg(O,m,s),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===s){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function No(s,l,m,g){s=null;for(var b=l,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var F=b.type;cr(b.pendingProps.value,O.value)||(s!==null?s.push(F):s=[F])}}else if(b===Te.current){if(O=b.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(Ku):s=[Ku])}b=b.return}s!==null&&kg(l,s,m,g),l.flags|=262144}function ff(s){for(s=s.firstContext;s!==null;){if(!cr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ds(s){cs=s,ja=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Pn(s){return Q1(cs,s)}function mf(s,l){return cs===null&&ds(s),Q1(s,l)}function Q1(s,l){var m=l._currentValue;if(l={context:l,memoizedValue:m,next:null},ja===null){if(s===null)throw Error(r(308));ja=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else ja=ja.next=l;return m}var G6=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(m,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(m){return m()})}},H6=t.unstable_scheduleCallback,K6=t.unstable_NormalPriority,ln={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ig(){return{controller:new G6,data:new Map,refCount:0}}function Su(s){s.refCount--,s.refCount===0&&H6(K6,function(){s.controller.abort()})}var wu=null,Pg=0,_o=0,Co=null;function Y6(s,l){if(wu===null){var m=wu=[];Pg=0,_o=Dy(),Co={status:"pending",value:void 0,then:function(g){m.push(g)}}}return Pg++,l.then(Z1,Z1),l}function Z1(){if(--Pg===0&&wu!==null){Co!==null&&(Co.status="fulfilled");var s=wu;wu=null,_o=0,Co=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function W6(s,l){var m=[],g={status:"pending",value:null,reason:null,then:function(b){m.push(b)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var b=0;b<m.length;b++)(0,m[b])(l)},function(b){for(g.status="rejected",g.reason=b,b=0;b<m.length;b++)(0,m[b])(void 0)}),g}var eN=V.S;V.S=function(s,l){L_=ee(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&Y6(s,l),eN!==null&&eN(s,l)};var fs=$(null);function Og(){var s=fs.current;return s!==null?s:Ct.pooledCache}function pf(s,l){l===null?H(fs,fs.current):H(fs,l.pool)}function tN(){var s=Og();return s===null?null:{parent:ln._currentValue,pool:s}}var jo=Error(r(460)),Rg=Error(r(474)),hf=Error(r(542)),gf={then:function(){}};function nN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rN(s,l,m){switch(m=s[m],m===void 0?s.push(l):m!==l&&(l.then(Ea,Ea),l=m),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,iN(s),s;default:if(typeof l.status=="string")l.then(Ea,Ea);else{if(s=Ct,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=g}},function(g){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,iN(s),s}throw ps=l,jo}}function ms(s){try{var l=s._init;return l(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(ps=m,jo):m}}var ps=null;function aN(){if(ps===null)throw Error(r(459));var s=ps;return ps=null,s}function iN(s){if(s===jo||s===hf)throw Error(r(483))}var Mo=null,Au=0;function yf(s){var l=Au;return Au+=1,Mo===null&&(Mo=[]),rN(Mo,s,l)}function Tu(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function vf(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function sN(s){function l(ae,ne){if(s){var oe=ae.deletions;oe===null?(ae.deletions=[ne],ae.flags|=16):oe.push(ne)}}function m(ae,ne){if(!s)return null;for(;ne!==null;)l(ae,ne),ne=ne.sibling;return null}function g(ae){for(var ne=new Map;ae!==null;)ae.key!==null?ne.set(ae.key,ae):ne.set(ae.index,ae),ae=ae.sibling;return ne}function b(ae,ne){return ae=_a(ae,ne),ae.index=0,ae.sibling=null,ae}function E(ae,ne,oe){return ae.index=oe,s?(oe=ae.alternate,oe!==null?(oe=oe.index,oe<ne?(ae.flags|=67108866,ne):oe):(ae.flags|=67108866,ne)):(ae.flags|=1048576,ne)}function O(ae){return s&&ae.alternate===null&&(ae.flags|=67108866),ae}function F(ae,ne,oe,ye){return ne===null||ne.tag!==6?(ne=Ag(oe,ae.mode,ye),ne.return=ae,ne):(ne=b(ne,oe),ne.return=ae,ne)}function J(ae,ne,oe,ye){var Ue=oe.type;return Ue===w?he(ae,ne,oe.props.children,ye,oe.key):ne!==null&&(ne.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&ms(Ue)===ne.type)?(ne=b(ne,oe.props),Tu(ne,oe),ne.return=ae,ne):(ne=cf(oe.type,oe.key,oe.props,null,ae.mode,ye),Tu(ne,oe),ne.return=ae,ne)}function le(ae,ne,oe,ye){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==oe.containerInfo||ne.stateNode.implementation!==oe.implementation?(ne=Tg(oe,ae.mode,ye),ne.return=ae,ne):(ne=b(ne,oe.children||[]),ne.return=ae,ne)}function he(ae,ne,oe,ye,Ue){return ne===null||ne.tag!==7?(ne=ls(oe,ae.mode,ye,Ue),ne.return=ae,ne):(ne=b(ne,oe),ne.return=ae,ne)}function xe(ae,ne,oe){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Ag(""+ne,ae.mode,oe),ne.return=ae,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return oe=cf(ne.type,ne.key,ne.props,null,ae.mode,oe),Tu(oe,ne),oe.return=ae,oe;case T:return ne=Tg(ne,ae.mode,oe),ne.return=ae,ne;case L:return ne=ms(ne),xe(ae,ne,oe)}if(W(ne)||R(ne))return ne=ls(ne,ae.mode,oe,null),ne.return=ae,ne;if(typeof ne.then=="function")return xe(ae,yf(ne),oe);if(ne.$$typeof===_)return xe(ae,mf(ae,ne),oe);vf(ae,ne)}return null}function ue(ae,ne,oe,ye){var Ue=ne!==null?ne.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return Ue!==null?null:F(ae,ne,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:return oe.key===Ue?J(ae,ne,oe,ye):null;case T:return oe.key===Ue?le(ae,ne,oe,ye):null;case L:return oe=ms(oe),ue(ae,ne,oe,ye)}if(W(oe)||R(oe))return Ue!==null?null:he(ae,ne,oe,ye,null);if(typeof oe.then=="function")return ue(ae,ne,yf(oe),ye);if(oe.$$typeof===_)return ue(ae,ne,mf(ae,oe),ye);vf(ae,oe)}return null}function ce(ae,ne,oe,ye,Ue){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ae=ae.get(oe)||null,F(ne,ae,""+ye,Ue);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return ae=ae.get(ye.key===null?oe:ye.key)||null,J(ne,ae,ye,Ue);case T:return ae=ae.get(ye.key===null?oe:ye.key)||null,le(ne,ae,ye,Ue);case L:return ye=ms(ye),ce(ae,ne,oe,ye,Ue)}if(W(ye)||R(ye))return ae=ae.get(oe)||null,he(ne,ae,ye,Ue,null);if(typeof ye.then=="function")return ce(ae,ne,oe,yf(ye),Ue);if(ye.$$typeof===_)return ce(ae,ne,oe,mf(ne,ye),Ue);vf(ne,ye)}return null}function Ie(ae,ne,oe,ye){for(var Ue=null,dt=null,De=ne,Xe=ne=0,it=null;De!==null&&Xe<oe.length;Xe++){De.index>Xe?(it=De,De=null):it=De.sibling;var ft=ue(ae,De,oe[Xe],ye);if(ft===null){De===null&&(De=it);break}s&&De&&ft.alternate===null&&l(ae,De),ne=E(ft,ne,Xe),dt===null?Ue=ft:dt.sibling=ft,dt=ft,De=it}if(Xe===oe.length)return m(ae,De),st&&Ca(ae,Xe),Ue;if(De===null){for(;Xe<oe.length;Xe++)De=xe(ae,oe[Xe],ye),De!==null&&(ne=E(De,ne,Xe),dt===null?Ue=De:dt.sibling=De,dt=De);return st&&Ca(ae,Xe),Ue}for(De=g(De);Xe<oe.length;Xe++)it=ce(De,ae,Xe,oe[Xe],ye),it!==null&&(s&&it.alternate!==null&&De.delete(it.key===null?Xe:it.key),ne=E(it,ne,Xe),dt===null?Ue=it:dt.sibling=it,dt=it);return s&&De.forEach(function(Pi){return l(ae,Pi)}),st&&Ca(ae,Xe),Ue}function Be(ae,ne,oe,ye){if(oe==null)throw Error(r(151));for(var Ue=null,dt=null,De=ne,Xe=ne=0,it=null,ft=oe.next();De!==null&&!ft.done;Xe++,ft=oe.next()){De.index>Xe?(it=De,De=null):it=De.sibling;var Pi=ue(ae,De,ft.value,ye);if(Pi===null){De===null&&(De=it);break}s&&De&&Pi.alternate===null&&l(ae,De),ne=E(Pi,ne,Xe),dt===null?Ue=Pi:dt.sibling=Pi,dt=Pi,De=it}if(ft.done)return m(ae,De),st&&Ca(ae,Xe),Ue;if(De===null){for(;!ft.done;Xe++,ft=oe.next())ft=xe(ae,ft.value,ye),ft!==null&&(ne=E(ft,ne,Xe),dt===null?Ue=ft:dt.sibling=ft,dt=ft);return st&&Ca(ae,Xe),Ue}for(De=g(De);!ft.done;Xe++,ft=oe.next())ft=ce(De,ae,Xe,ft.value,ye),ft!==null&&(s&&ft.alternate!==null&&De.delete(ft.key===null?Xe:ft.key),ne=E(ft,ne,Xe),dt===null?Ue=ft:dt.sibling=ft,dt=ft);return s&&De.forEach(function(sF){return l(ae,sF)}),st&&Ca(ae,Xe),Ue}function Nt(ae,ne,oe,ye){if(typeof oe=="object"&&oe!==null&&oe.type===w&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case x:e:{for(var Ue=oe.key;ne!==null;){if(ne.key===Ue){if(Ue=oe.type,Ue===w){if(ne.tag===7){m(ae,ne.sibling),ye=b(ne,oe.props.children),ye.return=ae,ae=ye;break e}}else if(ne.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===L&&ms(Ue)===ne.type){m(ae,ne.sibling),ye=b(ne,oe.props),Tu(ye,oe),ye.return=ae,ae=ye;break e}m(ae,ne);break}else l(ae,ne);ne=ne.sibling}oe.type===w?(ye=ls(oe.props.children,ae.mode,ye,oe.key),ye.return=ae,ae=ye):(ye=cf(oe.type,oe.key,oe.props,null,ae.mode,ye),Tu(ye,oe),ye.return=ae,ae=ye)}return O(ae);case T:e:{for(Ue=oe.key;ne!==null;){if(ne.key===Ue)if(ne.tag===4&&ne.stateNode.containerInfo===oe.containerInfo&&ne.stateNode.implementation===oe.implementation){m(ae,ne.sibling),ye=b(ne,oe.children||[]),ye.return=ae,ae=ye;break e}else{m(ae,ne);break}else l(ae,ne);ne=ne.sibling}ye=Tg(oe,ae.mode,ye),ye.return=ae,ae=ye}return O(ae);case L:return oe=ms(oe),Nt(ae,ne,oe,ye)}if(W(oe))return Ie(ae,ne,oe,ye);if(R(oe)){if(Ue=R(oe),typeof Ue!="function")throw Error(r(150));return oe=Ue.call(oe),Be(ae,ne,oe,ye)}if(typeof oe.then=="function")return Nt(ae,ne,yf(oe),ye);if(oe.$$typeof===_)return Nt(ae,ne,mf(ae,oe),ye);vf(ae,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,ne!==null&&ne.tag===6?(m(ae,ne.sibling),ye=b(ne,oe),ye.return=ae,ae=ye):(m(ae,ne),ye=Ag(oe,ae.mode,ye),ye.return=ae,ae=ye),O(ae)):m(ae,ne)}return function(ae,ne,oe,ye){try{Au=0;var Ue=Nt(ae,ne,oe,ye);return Mo=null,Ue}catch(De){if(De===jo||De===hf)throw De;var dt=dr(29,De,null,ae.mode);return dt.lanes=ye,dt.return=ae,dt}finally{}}}var hs=sN(!0),oN=sN(!1),gi=!1;function Dg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function yi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vi(s,l,m){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(gt&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,l=uf(s),z1(s,null,m),l}return lf(s,g,l,m),uf(s)}function Eu(s,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,m|=g,l.lanes=m,ur(s,m)}}function qg(s,l){var m=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,m===g)){var b=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var O={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};E===null?b=E=O:E=E.next=O,m=m.next}while(m!==null);E===null?b=E=l:E=E.next=l}else b=E=l;m={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=l:s.next=l,m.lastBaseUpdate=l}var Ug=!1;function Nu(){if(Ug){var s=Co;if(s!==null)throw s}}function _u(s,l,m,g){Ug=!1;var b=s.updateQueue;gi=!1;var E=b.firstBaseUpdate,O=b.lastBaseUpdate,F=b.shared.pending;if(F!==null){b.shared.pending=null;var J=F,le=J.next;J.next=null,O===null?E=le:O.next=le,O=J;var he=s.alternate;he!==null&&(he=he.updateQueue,F=he.lastBaseUpdate,F!==O&&(F===null?he.firstBaseUpdate=le:F.next=le,he.lastBaseUpdate=J))}if(E!==null){var xe=b.baseState;O=0,he=le=J=null,F=E;do{var ue=F.lane&-536870913,ce=ue!==F.lane;if(ce?(at&ue)===ue:(g&ue)===ue){ue!==0&&ue===_o&&(Ug=!0),he!==null&&(he=he.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ie=s,Be=F;ue=l;var Nt=m;switch(Be.tag){case 1:if(Ie=Be.payload,typeof Ie=="function"){xe=Ie.call(Nt,xe,ue);break e}xe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Be.payload,ue=typeof Ie=="function"?Ie.call(Nt,xe,ue):Ie,ue==null)break e;xe=h({},xe,ue);break e;case 2:gi=!0}}ue=F.callback,ue!==null&&(s.flags|=64,ce&&(s.flags|=8192),ce=b.callbacks,ce===null?b.callbacks=[ue]:ce.push(ue))}else ce={lane:ue,tag:F.tag,payload:F.payload,callback:F.callback,next:null},he===null?(le=he=ce,J=xe):he=he.next=ce,O|=ue;if(F=F.next,F===null){if(F=b.shared.pending,F===null)break;ce=F,F=ce.next,ce.next=null,b.lastBaseUpdate=ce,b.shared.pending=null}}while(!0);he===null&&(J=xe),b.baseState=J,b.firstBaseUpdate=le,b.lastBaseUpdate=he,E===null&&(b.shared.lanes=0),Ai|=O,s.lanes=O,s.memoizedState=xe}}function lN(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function uN(s,l){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)lN(m[s],l)}var ko=$(null),xf=$(0);function cN(s,l){s=Ua,H(xf,s),H(ko,l),Ua=s|l.baseLanes}function Bg(){H(xf,Ua),H(ko,ko.current)}function $g(){Ua=xf.current,z(ko),z(xf)}var fr=$(null),Ir=null;function xi(s){var l=s.alternate;H(rn,rn.current&1),H(fr,s),Ir===null&&(l===null||ko.current!==null||l.memoizedState!==null)&&(Ir=s)}function Vg(s){H(rn,rn.current),H(fr,s),Ir===null&&(Ir=s)}function dN(s){s.tag===22?(H(rn,rn.current),H(fr,s),Ir===null&&(Ir=s)):bi()}function bi(){H(rn,rn.current),H(fr,fr.current)}function mr(s){z(fr),Ir===s&&(Ir=null),z(rn)}var rn=$(0);function bf(s){for(var l=s;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Yy(m)||Wy(m)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ka=0,We=null,Tt=null,un=null,Sf=!1,Io=!1,gs=!1,wf=0,Cu=0,Po=null,X6=0;function Jt(){throw Error(r(321))}function Fg(s,l){if(l===null)return!1;for(var m=0;m<l.length&&m<s.length;m++)if(!cr(s[m],l[m]))return!1;return!0}function zg(s,l,m,g,b,E){return ka=E,We=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,V.H=s===null||s.memoizedState===null?YN:iy,gs=!1,E=m(g,b),gs=!1,Io&&(E=mN(l,m,g,b)),fN(s),E}function fN(s){V.H=ku;var l=Tt!==null&&Tt.next!==null;if(ka=0,un=Tt=We=null,Sf=!1,Cu=0,Po=null,l)throw Error(r(300));s===null||cn||(s=s.dependencies,s!==null&&ff(s)&&(cn=!0))}function mN(s,l,m,g){We=s;var b=0;do{if(Io&&(Po=null),Cu=0,Io=!1,25<=b)throw Error(r(301));if(b+=1,un=Tt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}V.H=WN,E=l(m,g)}while(Io);return E}function J6(){var s=V.H,l=s.useState()[0];return l=typeof l.then=="function"?ju(l):l,s=s.useState()[0],(Tt!==null?Tt.memoizedState:null)!==s&&(We.flags|=1024),l}function Gg(){var s=wf!==0;return wf=0,s}function Hg(s,l,m){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~m}function Kg(s){if(Sf){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Sf=!1}ka=0,un=Tt=We=null,Io=!1,Cu=wf=0,Po=null}function Gn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?We.memoizedState=un=s:un=un.next=s,un}function an(){if(Tt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var l=un===null?We.memoizedState:un.next;if(l!==null)un=l,Tt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},un===null?We.memoizedState=un=s:un=un.next=s}return un}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ju(s){var l=Cu;return Cu+=1,Po===null&&(Po=[]),s=rN(Po,s,l),l=We,(un===null?l.memoizedState:un.next)===null&&(l=l.alternate,V.H=l===null||l.memoizedState===null?YN:iy),s}function Tf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return ju(s);if(s.$$typeof===_)return Pn(s)}throw Error(r(438,String(s)))}function Yg(s){var l=null,m=We.updateQueue;if(m!==null&&(l=m.memoCache),l==null){var g=We.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),m===null&&(m=Af(),We.updateQueue=m),m.memoCache=l,m=l.data[l.index],m===void 0)for(m=l.data[l.index]=Array(s),g=0;g<s;g++)m[g]=q;return l.index++,m}function Ia(s,l){return typeof l=="function"?l(s):l}function Ef(s){var l=an();return Wg(l,Tt,s)}function Wg(s,l,m){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=m;var b=s.baseQueue,E=g.pending;if(E!==null){if(b!==null){var O=b.next;b.next=E.next,E.next=O}l.baseQueue=b=E,g.pending=null}if(E=s.baseState,b===null)s.memoizedState=E;else{l=b.next;var F=O=null,J=null,le=l,he=!1;do{var xe=le.lane&-536870913;if(xe!==le.lane?(at&xe)===xe:(ka&xe)===xe){var ue=le.revertLane;if(ue===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),xe===_o&&(he=!0);else if((ka&ue)===ue){le=le.next,ue===_o&&(he=!0);continue}else xe={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},J===null?(F=J=xe,O=E):J=J.next=xe,We.lanes|=ue,Ai|=ue;xe=le.action,gs&&m(E,xe),E=le.hasEagerState?le.eagerState:m(E,xe)}else ue={lane:xe,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},J===null?(F=J=ue,O=E):J=J.next=ue,We.lanes|=xe,Ai|=xe;le=le.next}while(le!==null&&le!==l);if(J===null?O=E:J.next=F,!cr(E,s.memoizedState)&&(cn=!0,he&&(m=Co,m!==null)))throw m;s.memoizedState=E,s.baseState=O,s.baseQueue=J,g.lastRenderedState=E}return b===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Xg(s){var l=an(),m=l.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var g=m.dispatch,b=m.pending,E=l.memoizedState;if(b!==null){m.pending=null;var O=b=b.next;do E=s(E,O.action),O=O.next;while(O!==b);cr(E,l.memoizedState)||(cn=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),m.lastRenderedState=E}return[E,g]}function pN(s,l,m){var g=We,b=an(),E=st;if(E){if(m===void 0)throw Error(r(407));m=m()}else m=l();var O=!cr((Tt||b).memoizedState,m);if(O&&(b.memoizedState=m,cn=!0),b=b.queue,Zg(yN.bind(null,g,b,s),[s]),b.getSnapshot!==l||O||un!==null&&un.memoizedState.tag&1){if(g.flags|=2048,Oo(9,{destroy:void 0},gN.bind(null,g,b,m,l),null),Ct===null)throw Error(r(349));E||(ka&127)!==0||hN(g,l,m)}return m}function hN(s,l,m){s.flags|=16384,s={getSnapshot:l,value:m},l=We.updateQueue,l===null?(l=Af(),We.updateQueue=l,l.stores=[s]):(m=l.stores,m===null?l.stores=[s]:m.push(s))}function gN(s,l,m,g){l.value=m,l.getSnapshot=g,vN(l)&&xN(s)}function yN(s,l,m){return m(function(){vN(l)&&xN(s)})}function vN(s){var l=s.getSnapshot;s=s.value;try{var m=l();return!cr(s,m)}catch{return!0}}function xN(s){var l=os(s,2);l!==null&&nr(l,s,2)}function Jg(s){var l=Gn();if(typeof s=="function"){var m=s;if(s=m(),gs){gn(!0);try{m()}finally{gn(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:s},l}function bN(s,l,m,g){return s.baseState=m,Wg(s,Tt,typeof g=="function"?g:Ia)}function Q6(s,l,m,g,b){if(Cf(s))throw Error(r(485));if(s=l.action,s!==null){var E={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};V.T!==null?m(!0):E.isTransition=!1,g(E),m=l.pending,m===null?(E.next=l.pending=E,SN(l,E)):(E.next=m.next,l.pending=m.next=E)}}function SN(s,l){var m=l.action,g=l.payload,b=s.state;if(l.isTransition){var E=V.T,O={};V.T=O;try{var F=m(b,g),J=V.S;J!==null&&J(O,F),wN(s,l,F)}catch(le){Qg(s,l,le)}finally{E!==null&&O.types!==null&&(E.types=O.types),V.T=E}}else try{E=m(b,g),wN(s,l,E)}catch(le){Qg(s,l,le)}}function wN(s,l,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(g){AN(s,l,g)},function(g){return Qg(s,l,g)}):AN(s,l,m)}function AN(s,l,m){l.status="fulfilled",l.value=m,TN(l),s.state=m,l=s.pending,l!==null&&(m=l.next,m===l?s.pending=null:(m=m.next,l.next=m,SN(s,m)))}function Qg(s,l,m){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=m,TN(l),l=l.next;while(l!==g)}s.action=null}function TN(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function EN(s,l){return l}function NN(s,l){if(st){var m=Ct.formState;if(m!==null){e:{var g=We;if(st){if(Rt){t:{for(var b=Rt,E=kr;b.nodeType!==8;){if(!E){b=null;break t}if(b=Pr(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){Rt=Pr(b.nextSibling),g=b.data==="F!";break e}}pi(g)}g=!1}g&&(l=m[0])}}return m=Gn(),m.memoizedState=m.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EN,lastRenderedState:l},m.queue=g,m=GN.bind(null,We,g),g.dispatch=m,g=Jg(!1),E=ay.bind(null,We,!1,g.queue),g=Gn(),b={state:l,dispatch:null,action:s,pending:null},g.queue=b,m=Q6.bind(null,We,b,E,m),b.dispatch=m,g.memoizedState=s,[l,m,!1]}function _N(s){var l=an();return CN(l,Tt,s)}function CN(s,l,m){if(l=Wg(s,l,EN)[0],s=Ef(Ia)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=ju(l)}catch(O){throw O===jo?hf:O}else g=l;l=an();var b=l.queue,E=b.dispatch;return m!==l.memoizedState&&(We.flags|=2048,Oo(9,{destroy:void 0},Z6.bind(null,b,m),null)),[g,E,s]}function Z6(s,l){s.action=l}function jN(s){var l=an(),m=Tt;if(m!==null)return CN(l,m,s);an(),l=l.memoizedState,m=an();var g=m.queue.dispatch;return m.memoizedState=s,[l,g,!1]}function Oo(s,l,m,g){return s={tag:s,create:m,deps:g,inst:l,next:null},l=We.updateQueue,l===null&&(l=Af(),We.updateQueue=l),m=l.lastEffect,m===null?l.lastEffect=s.next=s:(g=m.next,m.next=s,s.next=g,l.lastEffect=s),s}function MN(){return an().memoizedState}function Nf(s,l,m,g){var b=Gn();We.flags|=s,b.memoizedState=Oo(1|l,{destroy:void 0},m,g===void 0?null:g)}function _f(s,l,m,g){var b=an();g=g===void 0?null:g;var E=b.memoizedState.inst;Tt!==null&&g!==null&&Fg(g,Tt.memoizedState.deps)?b.memoizedState=Oo(l,E,m,g):(We.flags|=s,b.memoizedState=Oo(1|l,E,m,g))}function kN(s,l){Nf(8390656,8,s,l)}function Zg(s,l){_f(2048,8,s,l)}function eV(s){We.flags|=4;var l=We.updateQueue;if(l===null)l=Af(),We.updateQueue=l,l.events=[s];else{var m=l.events;m===null?l.events=[s]:m.push(s)}}function IN(s){var l=an().memoizedState;return eV({ref:l,nextImpl:s}),function(){if((gt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function PN(s,l){return _f(4,2,s,l)}function ON(s,l){return _f(4,4,s,l)}function RN(s,l){if(typeof l=="function"){s=s();var m=l(s);return function(){typeof m=="function"?m():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function DN(s,l,m){m=m!=null?m.concat([s]):null,_f(4,4,RN.bind(null,l,s),m)}function ey(){}function LN(s,l){var m=an();l=l===void 0?null:l;var g=m.memoizedState;return l!==null&&Fg(l,g[1])?g[0]:(m.memoizedState=[s,l],s)}function qN(s,l){var m=an();l=l===void 0?null:l;var g=m.memoizedState;if(l!==null&&Fg(l,g[1]))return g[0];if(g=s(),gs){gn(!0);try{s()}finally{gn(!1)}}return m.memoizedState=[g,l],g}function ty(s,l,m){return m===void 0||(ka&1073741824)!==0&&(at&261930)===0?s.memoizedState=l:(s.memoizedState=m,s=U_(),We.lanes|=s,Ai|=s,m)}function UN(s,l,m,g){return cr(m,l)?m:ko.current!==null?(s=ty(s,m,g),cr(s,l)||(cn=!0),s):(ka&42)===0||(ka&1073741824)!==0&&(at&261930)===0?(cn=!0,s.memoizedState=m):(s=U_(),We.lanes|=s,Ai|=s,l)}function BN(s,l,m,g,b){var E=K.p;K.p=E!==0&&8>E?E:8;var O=V.T,F={};V.T=F,ay(s,!1,l,m);try{var J=b(),le=V.S;if(le!==null&&le(F,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var he=W6(J,g);Mu(s,l,he,gr(s))}else Mu(s,l,g,gr(s))}catch(xe){Mu(s,l,{then:function(){},status:"rejected",reason:xe},gr())}finally{K.p=E,O!==null&&F.types!==null&&(O.types=F.types),V.T=O}}function tV(){}function ny(s,l,m,g){if(s.tag!==5)throw Error(r(476));var b=$N(s).queue;BN(s,b,l,Y,m===null?tV:function(){return VN(s),m(g)})}function $N(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:Y},next:null};var m={};return l.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:m},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function VN(s){var l=$N(s);l.next===null&&(l=s.alternate.memoizedState),Mu(s,l.next.queue,{},gr())}function ry(){return Pn(Ku)}function FN(){return an().memoizedState}function zN(){return an().memoizedState}function nV(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var m=gr();s=yi(m);var g=vi(l,s,m);g!==null&&(nr(g,l,m),Eu(g,l,m)),l={cache:Ig()},s.payload=l;return}l=l.return}}function rV(s,l,m){var g=gr();m={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Cf(s)?HN(l,m):(m=Sg(s,l,m,g),m!==null&&(nr(m,s,g),KN(m,l,g)))}function GN(s,l,m){var g=gr();Mu(s,l,m,g)}function Mu(s,l,m,g){var b={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Cf(s))HN(l,b);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var O=l.lastRenderedState,F=E(O,m);if(b.hasEagerState=!0,b.eagerState=F,cr(F,O))return lf(s,l,b,0),Ct===null&&of(),!1}catch{}finally{}if(m=Sg(s,l,b,g),m!==null)return nr(m,s,g),KN(m,l,g),!0}return!1}function ay(s,l,m,g){if(g={lane:2,revertLane:Dy(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Cf(s)){if(l)throw Error(r(479))}else l=Sg(s,m,g,2),l!==null&&nr(l,s,2)}function Cf(s){var l=s.alternate;return s===We||l!==null&&l===We}function HN(s,l){Io=Sf=!0;var m=s.pending;m===null?l.next=l:(l.next=m.next,m.next=l),s.pending=l}function KN(s,l,m){if((m&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,m|=g,l.lanes=m,ur(s,m)}}var ku={readContext:Pn,use:Tf,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};ku.useEffectEvent=Jt;var YN={readContext:Pn,use:Tf,useCallback:function(s,l){return Gn().memoizedState=[s,l===void 0?null:l],s},useContext:Pn,useEffect:kN,useImperativeHandle:function(s,l,m){m=m!=null?m.concat([s]):null,Nf(4194308,4,RN.bind(null,l,s),m)},useLayoutEffect:function(s,l){return Nf(4194308,4,s,l)},useInsertionEffect:function(s,l){Nf(4,2,s,l)},useMemo:function(s,l){var m=Gn();l=l===void 0?null:l;var g=s();if(gs){gn(!0);try{s()}finally{gn(!1)}}return m.memoizedState=[g,l],g},useReducer:function(s,l,m){var g=Gn();if(m!==void 0){var b=m(l);if(gs){gn(!0);try{m(l)}finally{gn(!1)}}}else b=l;return g.memoizedState=g.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},g.queue=s,s=s.dispatch=rV.bind(null,We,s),[g.memoizedState,s]},useRef:function(s){var l=Gn();return s={current:s},l.memoizedState=s},useState:function(s){s=Jg(s);var l=s.queue,m=GN.bind(null,We,l);return l.dispatch=m,[s.memoizedState,m]},useDebugValue:ey,useDeferredValue:function(s,l){var m=Gn();return ty(m,s,l)},useTransition:function(){var s=Jg(!1);return s=BN.bind(null,We,s.queue,!0,!1),Gn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,m){var g=We,b=Gn();if(st){if(m===void 0)throw Error(r(407));m=m()}else{if(m=l(),Ct===null)throw Error(r(349));(at&127)!==0||hN(g,l,m)}b.memoizedState=m;var E={value:m,getSnapshot:l};return b.queue=E,kN(yN.bind(null,g,E,s),[s]),g.flags|=2048,Oo(9,{destroy:void 0},gN.bind(null,g,E,m,l),null),m},useId:function(){var s=Gn(),l=Ct.identifierPrefix;if(st){var m=la,g=oa;m=(g&~(1<<32-on(g)-1)).toString(32)+m,l="_"+l+"R_"+m,m=wf++,0<m&&(l+="H"+m.toString(32)),l+="_"}else m=X6++,l="_"+l+"r_"+m.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:ry,useFormState:NN,useActionState:NN,useOptimistic:function(s){var l=Gn();l.memoizedState=l.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=m,l=ay.bind(null,We,!0,m),m.dispatch=l,[s,l]},useMemoCache:Yg,useCacheRefresh:function(){return Gn().memoizedState=nV.bind(null,We)},useEffectEvent:function(s){var l=Gn(),m={impl:s};return l.memoizedState=m,function(){if((gt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},iy={readContext:Pn,use:Tf,useCallback:LN,useContext:Pn,useEffect:Zg,useImperativeHandle:DN,useInsertionEffect:PN,useLayoutEffect:ON,useMemo:qN,useReducer:Ef,useRef:MN,useState:function(){return Ef(Ia)},useDebugValue:ey,useDeferredValue:function(s,l){var m=an();return UN(m,Tt.memoizedState,s,l)},useTransition:function(){var s=Ef(Ia)[0],l=an().memoizedState;return[typeof s=="boolean"?s:ju(s),l]},useSyncExternalStore:pN,useId:FN,useHostTransitionStatus:ry,useFormState:_N,useActionState:_N,useOptimistic:function(s,l){var m=an();return bN(m,Tt,s,l)},useMemoCache:Yg,useCacheRefresh:zN};iy.useEffectEvent=IN;var WN={readContext:Pn,use:Tf,useCallback:LN,useContext:Pn,useEffect:Zg,useImperativeHandle:DN,useInsertionEffect:PN,useLayoutEffect:ON,useMemo:qN,useReducer:Xg,useRef:MN,useState:function(){return Xg(Ia)},useDebugValue:ey,useDeferredValue:function(s,l){var m=an();return Tt===null?ty(m,s,l):UN(m,Tt.memoizedState,s,l)},useTransition:function(){var s=Xg(Ia)[0],l=an().memoizedState;return[typeof s=="boolean"?s:ju(s),l]},useSyncExternalStore:pN,useId:FN,useHostTransitionStatus:ry,useFormState:jN,useActionState:jN,useOptimistic:function(s,l){var m=an();return Tt!==null?bN(m,Tt,s,l):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:Yg,useCacheRefresh:zN};WN.useEffectEvent=IN;function sy(s,l,m,g){l=s.memoizedState,m=m(g,l),m=m==null?l:h({},l,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var oy={enqueueSetState:function(s,l,m){s=s._reactInternals;var g=gr(),b=yi(g);b.payload=l,m!=null&&(b.callback=m),l=vi(s,b,g),l!==null&&(nr(l,s,g),Eu(l,s,g))},enqueueReplaceState:function(s,l,m){s=s._reactInternals;var g=gr(),b=yi(g);b.tag=1,b.payload=l,m!=null&&(b.callback=m),l=vi(s,b,g),l!==null&&(nr(l,s,g),Eu(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var m=gr(),g=yi(m);g.tag=2,l!=null&&(g.callback=l),l=vi(s,g,m),l!==null&&(nr(l,s,m),Eu(l,s,m))}};function XN(s,l,m,g,b,E,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,O):l.prototype&&l.prototype.isPureReactComponent?!yu(m,g)||!yu(b,E):!0}function JN(s,l,m,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,g),l.state!==s&&oy.enqueueReplaceState(l,l.state,null)}function ys(s,l){var m=l;if("ref"in l){m={};for(var g in l)g!=="ref"&&(m[g]=l[g])}if(s=s.defaultProps){m===l&&(m=h({},m));for(var b in s)m[b]===void 0&&(m[b]=s[b])}return m}function QN(s){sf(s)}function ZN(s){console.error(s)}function e_(s){sf(s)}function jf(s,l){try{var m=s.onUncaughtError;m(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function t_(s,l,m){try{var g=s.onCaughtError;g(m.value,{componentStack:m.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function ly(s,l,m){return m=yi(m),m.tag=3,m.payload={element:null},m.callback=function(){jf(s,l)},m}function n_(s){return s=yi(s),s.tag=3,s}function r_(s,l,m,g){var b=m.type.getDerivedStateFromError;if(typeof b=="function"){var E=g.value;s.payload=function(){return b(E)},s.callback=function(){t_(l,m,g)}}var O=m.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){t_(l,m,g),typeof b!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var F=g.stack;this.componentDidCatch(g.value,{componentStack:F!==null?F:""})})}function aV(s,l,m,g,b){if(m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=m.alternate,l!==null&&No(l,m,b,!0),m=fr.current,m!==null){switch(m.tag){case 31:case 13:return Ir===null?$f():m.alternate===null&&Qt===0&&(Qt=3),m.flags&=-257,m.flags|=65536,m.lanes=b,g===gf?m.flags|=16384:(l=m.updateQueue,l===null?m.updateQueue=new Set([g]):l.add(g),Py(s,g,b)),!1;case 22:return m.flags|=65536,g===gf?m.flags|=16384:(l=m.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},m.updateQueue=l):(m=l.retryQueue,m===null?l.retryQueue=new Set([g]):m.add(g)),Py(s,g,b)),!1}throw Error(r(435,m.tag))}return Py(s,g,b),$f(),!1}if(st)return l=fr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,g!==_g&&(s=Error(r(422),{cause:g}),bu(Cr(s,m)))):(g!==_g&&(l=Error(r(423),{cause:g}),bu(Cr(l,m))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,g=Cr(g,m),b=ly(s.stateNode,g,b),qg(s,b),Qt!==4&&(Qt=2)),!1;var E=Error(r(520),{cause:g});if(E=Cr(E,m),Uu===null?Uu=[E]:Uu.push(E),Qt!==4&&(Qt=2),l===null)return!0;g=Cr(g,m),m=l;do{switch(m.tag){case 3:return m.flags|=65536,s=b&-b,m.lanes|=s,s=ly(m.stateNode,g,s),qg(m,s),!1;case 1:if(l=m.type,E=m.stateNode,(m.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ti===null||!Ti.has(E))))return m.flags|=65536,b&=-b,m.lanes|=b,b=n_(b),r_(b,s,m,g),qg(m,b),!1}m=m.return}while(m!==null);return!1}var uy=Error(r(461)),cn=!1;function On(s,l,m,g){l.child=s===null?oN(l,null,m,g):hs(l,s.child,m,g)}function a_(s,l,m,g,b){m=m.render;var E=l.ref;if("ref"in g){var O={};for(var F in g)F!=="ref"&&(O[F]=g[F])}else O=g;return ds(l),g=zg(s,l,m,O,E,b),F=Gg(),s!==null&&!cn?(Hg(s,l,b),Pa(s,l,b)):(st&&F&&Eg(l),l.flags|=1,On(s,l,g,b),l.child)}function i_(s,l,m,g,b){if(s===null){var E=m.type;return typeof E=="function"&&!wg(E)&&E.defaultProps===void 0&&m.compare===null?(l.tag=15,l.type=E,s_(s,l,E,g,b)):(s=cf(m.type,null,g,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,!yy(s,b)){var O=E.memoizedProps;if(m=m.compare,m=m!==null?m:yu,m(O,g)&&s.ref===l.ref)return Pa(s,l,b)}return l.flags|=1,s=_a(E,g),s.ref=l.ref,s.return=l,l.child=s}function s_(s,l,m,g,b){if(s!==null){var E=s.memoizedProps;if(yu(E,g)&&s.ref===l.ref)if(cn=!1,l.pendingProps=g=E,yy(s,b))(s.flags&131072)!==0&&(cn=!0);else return l.lanes=s.lanes,Pa(s,l,b)}return cy(s,l,m,g,b)}function o_(s,l,m,g){var b=g.children,E=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|m:m,s!==null){for(g=l.child=s.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~E}else g=0,l.child=null;return l_(s,l,E,m,g)}if((m&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&pf(l,E!==null?E.cachePool:null),E!==null?cN(l,E):Bg(),dN(l);else return g=l.lanes=536870912,l_(s,l,E!==null?E.baseLanes|m:m,m,g)}else E!==null?(pf(l,E.cachePool),cN(l,E),bi(),l.memoizedState=null):(s!==null&&pf(l,null),Bg(),bi());return On(s,l,b,m),l.child}function Iu(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function l_(s,l,m,g,b){var E=Og();return E=E===null?null:{parent:ln._currentValue,pool:E},l.memoizedState={baseLanes:m,cachePool:E},s!==null&&pf(l,null),Bg(),dN(l),s!==null&&No(s,l,g,!0),l.childLanes=b,null}function Mf(s,l){return l=If({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function u_(s,l,m){return hs(l,s.child,null,m),s=Mf(l,l.pendingProps),s.flags|=2,mr(l),l.memoizedState=null,s}function iV(s,l,m){var g=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(st){if(g.mode==="hidden")return s=Mf(l,g),l.lanes=536870912,Iu(null,s);if(Vg(l),(s=Rt)?(s=SC(s,kr),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:fi!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},m=H1(s),m.return=l,l.child=m,In=l,Rt=null)):s=null,s===null)throw pi(l);return l.lanes=536870912,null}return Mf(l,g)}var E=s.memoizedState;if(E!==null){var O=E.dehydrated;if(Vg(l),b)if(l.flags&256)l.flags&=-257,l=u_(s,l,m);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(cn||No(s,l,m,!1),b=(m&s.childLanes)!==0,cn||b){if(g=Ct,g!==null&&(O=Kd(g,m),O!==0&&O!==E.retryLane))throw E.retryLane=O,os(s,O),nr(g,s,O),uy;$f(),l=u_(s,l,m)}else s=E.treeContext,Rt=Pr(O.nextSibling),In=l,st=!0,mi=null,kr=!1,s!==null&&W1(l,s),l=Mf(l,g),l.flags|=4096;return l}return s=_a(s.child,{mode:g.mode,children:g.children}),s.ref=l.ref,l.child=s,s.return=l,s}function kf(s,l){var m=l.ref;if(m===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(l.flags|=4194816)}}function cy(s,l,m,g,b){return ds(l),m=zg(s,l,m,g,void 0,b),g=Gg(),s!==null&&!cn?(Hg(s,l,b),Pa(s,l,b)):(st&&g&&Eg(l),l.flags|=1,On(s,l,m,b),l.child)}function c_(s,l,m,g,b,E){return ds(l),l.updateQueue=null,m=mN(l,g,m,b),fN(s),g=Gg(),s!==null&&!cn?(Hg(s,l,E),Pa(s,l,E)):(st&&g&&Eg(l),l.flags|=1,On(s,l,m,E),l.child)}function d_(s,l,m,g,b){if(ds(l),l.stateNode===null){var E=wo,O=m.contextType;typeof O=="object"&&O!==null&&(E=Pn(O)),E=new m(g,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=oy,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=g,E.state=l.memoizedState,E.refs={},Dg(l),O=m.contextType,E.context=typeof O=="object"&&O!==null?Pn(O):wo,E.state=l.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(sy(l,m,O,g),E.state=l.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&oy.enqueueReplaceState(E,E.state,null),_u(l,g,E,b),Nu(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){E=l.stateNode;var F=l.memoizedProps,J=ys(m,F);E.props=J;var le=E.context,he=m.contextType;O=wo,typeof he=="object"&&he!==null&&(O=Pn(he));var xe=m.getDerivedStateFromProps;he=typeof xe=="function"||typeof E.getSnapshotBeforeUpdate=="function",F=l.pendingProps!==F,he||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(F||le!==O)&&JN(l,E,g,O),gi=!1;var ue=l.memoizedState;E.state=ue,_u(l,g,E,b),Nu(),le=l.memoizedState,F||ue!==le||gi?(typeof xe=="function"&&(sy(l,m,xe,g),le=l.memoizedState),(J=gi||XN(l,m,J,g,ue,le,O))?(he||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=le),E.props=g,E.state=le,E.context=O,g=J):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,Lg(s,l),O=l.memoizedProps,he=ys(m,O),E.props=he,xe=l.pendingProps,ue=E.context,le=m.contextType,J=wo,typeof le=="object"&&le!==null&&(J=Pn(le)),F=m.getDerivedStateFromProps,(le=typeof F=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==xe||ue!==J)&&JN(l,E,g,J),gi=!1,ue=l.memoizedState,E.state=ue,_u(l,g,E,b),Nu();var ce=l.memoizedState;O!==xe||ue!==ce||gi||s!==null&&s.dependencies!==null&&ff(s.dependencies)?(typeof F=="function"&&(sy(l,m,F,g),ce=l.memoizedState),(he=gi||XN(l,m,he,g,ue,ce,J)||s!==null&&s.dependencies!==null&&ff(s.dependencies))?(le||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,ce,J),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,ce,J)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=ce),E.props=g,E.state=ce,E.context=J,g=he):(typeof E.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),g=!1)}return E=g,kf(s,l),g=(l.flags&128)!==0,E||g?(E=l.stateNode,m=g&&typeof m.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,s!==null&&g?(l.child=hs(l,s.child,null,b),l.child=hs(l,null,m,b)):On(s,l,m,b),l.memoizedState=E.state,s=l.child):s=Pa(s,l,b),s}function f_(s,l,m,g){return us(),l.flags|=256,On(s,l,m,g),l.child}var dy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fy(s){return{baseLanes:s,cachePool:tN()}}function my(s,l,m){return s=s!==null?s.childLanes&~m:0,l&&(s|=hr),s}function m_(s,l,m){var g=l.pendingProps,b=!1,E=(l.flags&128)!==0,O;if((O=E)||(O=s!==null&&s.memoizedState===null?!1:(rn.current&2)!==0),O&&(b=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,s===null){if(st){if(b?xi(l):bi(),(s=Rt)?(s=SC(s,kr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:fi!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},m=H1(s),m.return=l,l.child=m,In=l,Rt=null)):s=null,s===null)throw pi(l);return Wy(s)?l.lanes=32:l.lanes=536870912,null}var F=g.children;return g=g.fallback,b?(bi(),b=l.mode,F=If({mode:"hidden",children:F},b),g=ls(g,b,m,null),F.return=l,g.return=l,F.sibling=g,l.child=F,g=l.child,g.memoizedState=fy(m),g.childLanes=my(s,O,m),l.memoizedState=dy,Iu(null,g)):(xi(l),py(l,F))}var J=s.memoizedState;if(J!==null&&(F=J.dehydrated,F!==null)){if(E)l.flags&256?(xi(l),l.flags&=-257,l=hy(s,l,m)):l.memoizedState!==null?(bi(),l.child=s.child,l.flags|=128,l=null):(bi(),F=g.fallback,b=l.mode,g=If({mode:"visible",children:g.children},b),F=ls(F,b,m,null),F.flags|=2,g.return=l,F.return=l,g.sibling=F,l.child=g,hs(l,s.child,null,m),g=l.child,g.memoizedState=fy(m),g.childLanes=my(s,O,m),l.memoizedState=dy,l=Iu(null,g));else if(xi(l),Wy(F)){if(O=F.nextSibling&&F.nextSibling.dataset,O)var le=O.dgst;O=le,g=Error(r(419)),g.stack="",g.digest=O,bu({value:g,source:null,stack:null}),l=hy(s,l,m)}else if(cn||No(s,l,m,!1),O=(m&s.childLanes)!==0,cn||O){if(O=Ct,O!==null&&(g=Kd(O,m),g!==0&&g!==J.retryLane))throw J.retryLane=g,os(s,g),nr(O,s,g),uy;Yy(F)||$f(),l=hy(s,l,m)}else Yy(F)?(l.flags|=192,l.child=s.child,l=null):(s=J.treeContext,Rt=Pr(F.nextSibling),In=l,st=!0,mi=null,kr=!1,s!==null&&W1(l,s),l=py(l,g.children),l.flags|=4096);return l}return b?(bi(),F=g.fallback,b=l.mode,J=s.child,le=J.sibling,g=_a(J,{mode:"hidden",children:g.children}),g.subtreeFlags=J.subtreeFlags&65011712,le!==null?F=_a(le,F):(F=ls(F,b,m,null),F.flags|=2),F.return=l,g.return=l,g.sibling=F,l.child=g,Iu(null,g),g=l.child,F=s.child.memoizedState,F===null?F=fy(m):(b=F.cachePool,b!==null?(J=ln._currentValue,b=b.parent!==J?{parent:J,pool:J}:b):b=tN(),F={baseLanes:F.baseLanes|m,cachePool:b}),g.memoizedState=F,g.childLanes=my(s,O,m),l.memoizedState=dy,Iu(s.child,g)):(xi(l),m=s.child,s=m.sibling,m=_a(m,{mode:"visible",children:g.children}),m.return=l,m.sibling=null,s!==null&&(O=l.deletions,O===null?(l.deletions=[s],l.flags|=16):O.push(s)),l.child=m,l.memoizedState=null,m)}function py(s,l){return l=If({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function If(s,l){return s=dr(22,s,null,l),s.lanes=0,s}function hy(s,l,m){return hs(l,s.child,null,m),s=py(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function p_(s,l,m){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Mg(s.return,l,m)}function gy(s,l,m,g,b,E){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:m,tailMode:b,treeForkCount:E}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=m,O.tailMode=b,O.treeForkCount=E)}function h_(s,l,m){var g=l.pendingProps,b=g.revealOrder,E=g.tail;g=g.children;var O=rn.current,F=(O&2)!==0;if(F?(O=O&1|2,l.flags|=128):O&=1,H(rn,O),On(s,l,g,m),g=st?xu:0,!F&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&p_(s,m,l);else if(s.tag===19)p_(s,m,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(m=l.child,b=null;m!==null;)s=m.alternate,s!==null&&bf(s)===null&&(b=m),m=m.sibling;m=b,m===null?(b=l.child,l.child=null):(b=m.sibling,m.sibling=null),gy(l,!1,b,m,E,g);break;case"backwards":case"unstable_legacy-backwards":for(m=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&bf(s)===null){l.child=b;break}s=b.sibling,b.sibling=m,m=b,b=s}gy(l,!0,m,null,E,g);break;case"together":gy(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function Pa(s,l,m){if(s!==null&&(l.dependencies=s.dependencies),Ai|=l.lanes,(m&l.childLanes)===0)if(s!==null){if(No(s,l,m,!1),(m&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,m=_a(s,s.pendingProps),l.child=m,m.return=l;s.sibling!==null;)s=s.sibling,m=m.sibling=_a(s,s.pendingProps),m.return=l;m.sibling=null}return l.child}function yy(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&ff(s)))}function sV(s,l,m){switch(l.tag){case 3:je(l,l.stateNode.containerInfo),hi(l,ln,s.memoizedState.cache),us();break;case 27:case 5:Ne(l);break;case 4:je(l,l.stateNode.containerInfo);break;case 10:hi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Vg(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(xi(l),l.flags|=128,null):(m&l.child.childLanes)!==0?m_(s,l,m):(xi(l),s=Pa(s,l,m),s!==null?s.sibling:null);xi(l);break;case 19:var b=(s.flags&128)!==0;if(g=(m&l.childLanes)!==0,g||(No(s,l,m,!1),g=(m&l.childLanes)!==0),b){if(g)return h_(s,l,m);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),H(rn,rn.current),g)break;return null;case 22:return l.lanes=0,o_(s,l,m,l.pendingProps);case 24:hi(l,ln,s.memoizedState.cache)}return Pa(s,l,m)}function g_(s,l,m){if(s!==null)if(s.memoizedProps!==l.pendingProps)cn=!0;else{if(!yy(s,m)&&(l.flags&128)===0)return cn=!1,sV(s,l,m);cn=(s.flags&131072)!==0}else cn=!1,st&&(l.flags&1048576)!==0&&Y1(l,xu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(s=ms(l.elementType),l.type=s,typeof s=="function")wg(s)?(g=ys(s,g),l.tag=1,l=d_(null,l,s,g,m)):(l.tag=0,l=cy(null,l,s,g,m));else{if(s!=null){var b=s.$$typeof;if(b===k){l.tag=11,l=a_(null,l,s,g,m);break e}else if(b===P){l.tag=14,l=i_(null,l,s,g,m);break e}}throw l=G(s)||s,Error(r(306,l,""))}}return l;case 0:return cy(s,l,l.type,l.pendingProps,m);case 1:return g=l.type,b=ys(g,l.pendingProps),d_(s,l,g,b,m);case 3:e:{if(je(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var E=l.memoizedState;b=E.element,Lg(s,l),_u(l,g,null,m);var O=l.memoizedState;if(g=O.cache,hi(l,ln,g),g!==E.cache&&kg(l,[ln],m,!0),Nu(),g=O.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=f_(s,l,g,m);break e}else if(g!==b){b=Cr(Error(r(424)),l),bu(b),l=f_(s,l,g,m);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Rt=Pr(s.firstChild),In=l,st=!0,mi=null,kr=!0,m=oN(l,null,g,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(us(),g===b){l=Pa(s,l,m);break e}On(s,l,g,m)}l=l.child}return l;case 26:return kf(s,l),s===null?(m=_C(l.type,null,l.pendingProps,null))?l.memoizedState=m:st||(m=l.type,s=l.pendingProps,g=Yf(we.current).createElement(m),g[kn]=l,g[Xn]=s,Rn(g,m,s),An(g),l.stateNode=g):l.memoizedState=_C(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ne(l),s===null&&st&&(g=l.stateNode=TC(l.type,l.pendingProps,we.current),In=l,kr=!0,b=Rt,Ci(l.type)?(Xy=b,Rt=Pr(g.firstChild)):Rt=b),On(s,l,l.pendingProps.children,m),kf(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&st&&((b=g=Rt)&&(g=DV(g,l.type,l.pendingProps,kr),g!==null?(l.stateNode=g,In=l,Rt=Pr(g.firstChild),kr=!1,b=!0):b=!1),b||pi(l)),Ne(l),b=l.type,E=l.pendingProps,O=s!==null?s.memoizedProps:null,g=E.children,Gy(b,E)?g=null:O!==null&&Gy(b,O)&&(l.flags|=32),l.memoizedState!==null&&(b=zg(s,l,J6,null,null,m),Ku._currentValue=b),kf(s,l),On(s,l,g,m),l.child;case 6:return s===null&&st&&((s=m=Rt)&&(m=LV(m,l.pendingProps,kr),m!==null?(l.stateNode=m,In=l,Rt=null,s=!0):s=!1),s||pi(l)),null;case 13:return m_(s,l,m);case 4:return je(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=hs(l,null,g,m):On(s,l,g,m),l.child;case 11:return a_(s,l,l.type,l.pendingProps,m);case 7:return On(s,l,l.pendingProps,m),l.child;case 8:return On(s,l,l.pendingProps.children,m),l.child;case 12:return On(s,l,l.pendingProps.children,m),l.child;case 10:return g=l.pendingProps,hi(l,l.type,g.value),On(s,l,g.children,m),l.child;case 9:return b=l.type._context,g=l.pendingProps.children,ds(l),b=Pn(b),g=g(b),l.flags|=1,On(s,l,g,m),l.child;case 14:return i_(s,l,l.type,l.pendingProps,m);case 15:return s_(s,l,l.type,l.pendingProps,m);case 19:return h_(s,l,m);case 31:return iV(s,l,m);case 22:return o_(s,l,m,l.pendingProps);case 24:return ds(l),g=Pn(ln),s===null?(b=Og(),b===null&&(b=Ct,E=Ig(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=m),b=E),l.memoizedState={parent:g,cache:b},Dg(l),hi(l,ln,b)):((s.lanes&m)!==0&&(Lg(s,l),_u(l,null,null,m),Nu()),b=s.memoizedState,E=l.memoizedState,b.parent!==g?(b={parent:g,cache:g},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),hi(l,ln,g)):(g=E.cache,hi(l,ln,g),g!==b.cache&&kg(l,[ln],m,!0))),On(s,l,l.pendingProps.children,m),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Oa(s){s.flags|=4}function vy(s,l,m,g,b){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(F_())s.flags|=8192;else throw ps=gf,Rg}else s.flags&=-16777217}function y_(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!IC(l))if(F_())s.flags|=8192;else throw ps=gf,Rg}function Pf(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Wt():536870912,s.lanes|=l,qo|=l)}function Pu(s,l){if(!st)switch(s.tailMode){case"hidden":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Dt(s){var l=s.alternate!==null&&s.alternate.child===s.child,m=0,g=0;if(l)for(var b=s.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=m,l}function oV(s,l,m){var g=l.pendingProps;switch(Ng(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(l),null;case 1:return Dt(l),null;case 3:return m=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Ma(ln),me(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(Eo(l)?Oa(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Cg())),Dt(l),null;case 26:var b=l.type,E=l.memoizedState;return s===null?(Oa(l),E!==null?(Dt(l),y_(l,E)):(Dt(l),vy(l,b,null,g,m))):E?E!==s.memoizedState?(Oa(l),Dt(l),y_(l,E)):(Dt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==g&&Oa(l),Dt(l),vy(l,b,s,g,m)),null;case 27:if(de(l),m=we.current,b=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Oa(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Dt(l),null}s=Q.current,Eo(l)?X1(l):(s=TC(b,g,m),l.stateNode=s,Oa(l))}return Dt(l),null;case 5:if(de(l),b=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Oa(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Dt(l),null}if(E=Q.current,Eo(l))X1(l);else{var O=Yf(we.current);switch(E){case 1:E=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:E=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":E=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":E=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":E=O.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?O.createElement(b,{is:g.is}):O.createElement(b)}}E[kn]=l,E[Xn]=g;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)E.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=E;e:switch(Rn(E,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Oa(l)}}return Dt(l),vy(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,m),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&Oa(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=we.current,Eo(l)){if(s=l.stateNode,m=l.memoizedProps,g=null,b=In,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}s[kn]=l,s=!!(s.nodeValue===m||g!==null&&g.suppressHydrationWarning===!0||mC(s.nodeValue,m)),s||pi(l,!0)}else s=Yf(s).createTextNode(g),s[kn]=l,l.stateNode=s}return Dt(l),null;case 31:if(m=l.memoizedState,s===null||s.memoizedState!==null){if(g=Eo(l),m!==null){if(s===null){if(!g)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[kn]=l}else us(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dt(l),s=!1}else m=Cg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return l.flags&256?(mr(l),l):(mr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Dt(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=Eo(l),g!==null&&g.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[kn]=l}else us(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Dt(l),b=!1}else b=Cg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(mr(l),l):(mr(l),null)}return mr(l),(l.flags&128)!==0?(l.lanes=m,l):(m=g!==null,s=s!==null&&s.memoizedState!==null,m&&(g=l.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==b&&(g.flags|=2048)),m!==s&&m&&(l.child.flags|=8192),Pf(l,l.updateQueue),Dt(l),null);case 4:return me(),s===null&&By(l.stateNode.containerInfo),Dt(l),null;case 10:return Ma(l.type),Dt(l),null;case 19:if(z(rn),g=l.memoizedState,g===null)return Dt(l),null;if(b=(l.flags&128)!==0,E=g.rendering,E===null)if(b)Pu(g,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(E=bf(s),E!==null){for(l.flags|=128,Pu(g,!1),s=E.updateQueue,l.updateQueue=s,Pf(l,s),l.subtreeFlags=0,s=m,m=l.child;m!==null;)G1(m,s),m=m.sibling;return H(rn,rn.current&1|2),st&&Ca(l,g.treeForkCount),l.child}s=s.sibling}g.tail!==null&&ee()>qf&&(l.flags|=128,b=!0,Pu(g,!1),l.lanes=4194304)}else{if(!b)if(s=bf(E),s!==null){if(l.flags|=128,b=!0,s=s.updateQueue,l.updateQueue=s,Pf(l,s),Pu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!st)return Dt(l),null}else 2*ee()-g.renderingStartTime>qf&&m!==536870912&&(l.flags|=128,b=!0,Pu(g,!1),l.lanes=4194304);g.isBackwards?(E.sibling=l.child,l.child=E):(s=g.last,s!==null?s.sibling=E:l.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ee(),s.sibling=null,m=rn.current,H(rn,b?m&1|2:m&1),st&&Ca(l,g.treeForkCount),s):(Dt(l),null);case 22:case 23:return mr(l),$g(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(m&536870912)!==0&&(l.flags&128)===0&&(Dt(l),l.subtreeFlags&6&&(l.flags|=8192)):Dt(l),m=l.updateQueue,m!==null&&Pf(l,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==m&&(l.flags|=2048),s!==null&&z(fs),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ma(ln),Dt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function lV(s,l){switch(Ng(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ma(ln),me(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return de(l),null;case 31:if(l.memoizedState!==null){if(mr(l),l.alternate===null)throw Error(r(340));us()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(mr(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));us()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return z(rn),null;case 4:return me(),null;case 10:return Ma(l.type),null;case 22:case 23:return mr(l),$g(),s!==null&&z(fs),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Ma(ln),null;case 25:return null;default:return null}}function v_(s,l){switch(Ng(l),l.tag){case 3:Ma(ln),me();break;case 26:case 27:case 5:de(l);break;case 4:me();break;case 31:l.memoizedState!==null&&mr(l);break;case 13:mr(l);break;case 19:z(rn);break;case 10:Ma(l.type);break;case 22:case 23:mr(l),$g(),s!==null&&z(fs);break;case 24:Ma(ln)}}function Ou(s,l){try{var m=l.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var b=g.next;m=b;do{if((m.tag&s)===s){g=void 0;var E=m.create,O=m.inst;g=E(),O.destroy=g}m=m.next}while(m!==b)}}catch(F){wt(l,l.return,F)}}function Si(s,l,m){try{var g=l.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var E=b.next;g=E;do{if((g.tag&s)===s){var O=g.inst,F=O.destroy;if(F!==void 0){O.destroy=void 0,b=l;var J=m,le=F;try{le()}catch(he){wt(b,J,he)}}}g=g.next}while(g!==E)}}catch(he){wt(l,l.return,he)}}function x_(s){var l=s.updateQueue;if(l!==null){var m=s.stateNode;try{uN(l,m)}catch(g){wt(s,s.return,g)}}}function b_(s,l,m){m.props=ys(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(g){wt(s,l,g)}}function Ru(s,l){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof m=="function"?s.refCleanup=m(g):m.current=g}}catch(b){wt(s,l,b)}}function ua(s,l){var m=s.ref,g=s.refCleanup;if(m!==null)if(typeof g=="function")try{g()}catch(b){wt(s,l,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(b){wt(s,l,b)}else m.current=null}function S_(s){var l=s.type,m=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":m.autoFocus&&g.focus();break e;case"img":m.src?g.src=m.src:m.srcSet&&(g.srcset=m.srcSet)}}catch(b){wt(s,s.return,b)}}function xy(s,l,m){try{var g=s.stateNode;MV(g,s.type,m,l),g[Xn]=l}catch(b){wt(s,s.return,b)}}function w_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ci(s.type)||s.tag===4}function by(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||w_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ci(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sy(s,l,m){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,l):(l=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,l.appendChild(s),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Ea));else if(g!==4&&(g===27&&Ci(s.type)&&(m=s.stateNode,l=null),s=s.child,s!==null))for(Sy(s,l,m),s=s.sibling;s!==null;)Sy(s,l,m),s=s.sibling}function Of(s,l,m){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?m.insertBefore(s,l):m.appendChild(s);else if(g!==4&&(g===27&&Ci(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(Of(s,l,m),s=s.sibling;s!==null;)Of(s,l,m),s=s.sibling}function A_(s){var l=s.stateNode,m=s.memoizedProps;try{for(var g=s.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Rn(l,g,m),l[kn]=s,l[Xn]=m}catch(E){wt(s,s.return,E)}}var Ra=!1,dn=!1,wy=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function uV(s,l){if(s=s.containerInfo,Fy=tm,s=D1(s),hg(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var g=m.getSelection&&m.getSelection();if(g&&g.rangeCount!==0){m=g.anchorNode;var b=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var O=0,F=-1,J=-1,le=0,he=0,xe=s,ue=null;t:for(;;){for(var ce;xe!==m||b!==0&&xe.nodeType!==3||(F=O+b),xe!==E||g!==0&&xe.nodeType!==3||(J=O+g),xe.nodeType===3&&(O+=xe.nodeValue.length),(ce=xe.firstChild)!==null;)ue=xe,xe=ce;for(;;){if(xe===s)break t;if(ue===m&&++le===b&&(F=O),ue===E&&++he===g&&(J=O),(ce=xe.nextSibling)!==null)break;xe=ue,ue=xe.parentNode}xe=ce}m=F===-1||J===-1?null:{start:F,end:J}}else m=null}m=m||{start:0,end:0}}else m=null;for(zy={focusedElem:s,selectionRange:m},tm=!1,Tn=l;Tn!==null;)if(l=Tn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Tn=s;else for(;Tn!==null;){switch(l=Tn,E=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)b=s[m],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,m=l,b=E.memoizedProps,E=E.memoizedState,g=m.stateNode;try{var Ie=ys(m.type,b);s=g.getSnapshotBeforeUpdate(Ie,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(Be){wt(m,m.return,Be)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,m=s.nodeType,m===9)Ky(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Ky(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Tn=s;break}Tn=l.return}}function E_(s,l,m){var g=m.flags;switch(m.tag){case 0:case 11:case 15:La(s,m),g&4&&Ou(5,m);break;case 1:if(La(s,m),g&4)if(s=m.stateNode,l===null)try{s.componentDidMount()}catch(O){wt(m,m.return,O)}else{var b=ys(m.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(b,l,s.__reactInternalSnapshotBeforeUpdate)}catch(O){wt(m,m.return,O)}}g&64&&x_(m),g&512&&Ru(m,m.return);break;case 3:if(La(s,m),g&64&&(s=m.updateQueue,s!==null)){if(l=null,m.child!==null)switch(m.child.tag){case 27:case 5:l=m.child.stateNode;break;case 1:l=m.child.stateNode}try{uN(s,l)}catch(O){wt(m,m.return,O)}}break;case 27:l===null&&g&4&&A_(m);case 26:case 5:La(s,m),l===null&&g&4&&S_(m),g&512&&Ru(m,m.return);break;case 12:La(s,m);break;case 31:La(s,m),g&4&&C_(s,m);break;case 13:La(s,m),g&4&&j_(s,m),g&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=vV.bind(null,m),qV(s,m))));break;case 22:if(g=m.memoizedState!==null||Ra,!g){l=l!==null&&l.memoizedState!==null||dn,b=Ra;var E=dn;Ra=g,(dn=l)&&!E?qa(s,m,(m.subtreeFlags&8772)!==0):La(s,m),Ra=b,dn=E}break;case 30:break;default:La(s,m)}}function N_(s){var l=s.alternate;l!==null&&(s.alternate=null,N_(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Qh(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ft=null,Qn=!1;function Da(s,l,m){for(m=m.child;m!==null;)__(s,l,m),m=m.sibling}function __(s,l,m){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(tt,m)}catch{}switch(m.tag){case 26:dn||ua(m,l),Da(s,l,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:dn||ua(m,l);var g=Ft,b=Qn;Ci(m.type)&&(Ft=m.stateNode,Qn=!1),Da(s,l,m),zu(m.stateNode),Ft=g,Qn=b;break;case 5:dn||ua(m,l);case 6:if(g=Ft,b=Qn,Ft=null,Da(s,l,m),Ft=g,Qn=b,Ft!==null)if(Qn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(m.stateNode)}catch(E){wt(m,l,E)}else try{Ft.removeChild(m.stateNode)}catch(E){wt(m,l,E)}break;case 18:Ft!==null&&(Qn?(s=Ft,xC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),Ho(s)):xC(Ft,m.stateNode));break;case 4:g=Ft,b=Qn,Ft=m.stateNode.containerInfo,Qn=!0,Da(s,l,m),Ft=g,Qn=b;break;case 0:case 11:case 14:case 15:Si(2,m,l),dn||Si(4,m,l),Da(s,l,m);break;case 1:dn||(ua(m,l),g=m.stateNode,typeof g.componentWillUnmount=="function"&&b_(m,l,g)),Da(s,l,m);break;case 21:Da(s,l,m);break;case 22:dn=(g=dn)||m.memoizedState!==null,Da(s,l,m),dn=g;break;default:Da(s,l,m)}}function C_(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Ho(s)}catch(m){wt(l,l.return,m)}}}function j_(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Ho(s)}catch(m){wt(l,l.return,m)}}function cV(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new T_),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new T_),l;default:throw Error(r(435,s.tag))}}function Rf(s,l){var m=cV(s);l.forEach(function(g){if(!m.has(g)){m.add(g);var b=xV.bind(null,s,g);g.then(b,b)}})}function Zn(s,l){var m=l.deletions;if(m!==null)for(var g=0;g<m.length;g++){var b=m[g],E=s,O=l,F=O;e:for(;F!==null;){switch(F.tag){case 27:if(Ci(F.type)){Ft=F.stateNode,Qn=!1;break e}break;case 5:Ft=F.stateNode,Qn=!1;break e;case 3:case 4:Ft=F.stateNode.containerInfo,Qn=!0;break e}F=F.return}if(Ft===null)throw Error(r(160));__(E,O,b),Ft=null,Qn=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)M_(l,s),l=l.sibling}var Wr=null;function M_(s,l){var m=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Zn(l,s),er(s),g&4&&(Si(3,s,s.return),Ou(3,s),Si(5,s,s.return));break;case 1:Zn(l,s),er(s),g&512&&(dn||m===null||ua(m,m.return)),g&64&&Ra&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?g:m.concat(g))));break;case 26:var b=Wr;if(Zn(l,s),er(s),g&512&&(dn||m===null||ua(m,m.return)),g&4){var E=m!==null?m.memoizedState:null;if(g=s.memoizedState,m===null)if(g===null)if(s.stateNode===null){e:{g=s.type,m=s.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":E=b.getElementsByTagName("title")[0],(!E||E[lu]||E[kn]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(g),b.head.insertBefore(E,b.querySelector("head > title"))),Rn(E,g,m),E[kn]=s,An(E),g=E;break e;case"link":var O=MC("link","href",b).get(g+(m.href||""));if(O){for(var F=0;F<O.length;F++)if(E=O[F],E.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&E.getAttribute("rel")===(m.rel==null?null:m.rel)&&E.getAttribute("title")===(m.title==null?null:m.title)&&E.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){O.splice(F,1);break t}}E=b.createElement(g),Rn(E,g,m),b.head.appendChild(E);break;case"meta":if(O=MC("meta","content",b).get(g+(m.content||""))){for(F=0;F<O.length;F++)if(E=O[F],E.getAttribute("content")===(m.content==null?null:""+m.content)&&E.getAttribute("name")===(m.name==null?null:m.name)&&E.getAttribute("property")===(m.property==null?null:m.property)&&E.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&E.getAttribute("charset")===(m.charSet==null?null:m.charSet)){O.splice(F,1);break t}}E=b.createElement(g),Rn(E,g,m),b.head.appendChild(E);break;default:throw Error(r(468,g))}E[kn]=s,An(E),g=E}s.stateNode=g}else kC(b,s.type,s.stateNode);else s.stateNode=jC(b,g,s.memoizedProps);else E!==g?(E===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):E.count--,g===null?kC(b,s.type,s.stateNode):jC(b,g,s.memoizedProps)):g===null&&s.stateNode!==null&&xy(s,s.memoizedProps,m.memoizedProps)}break;case 27:Zn(l,s),er(s),g&512&&(dn||m===null||ua(m,m.return)),m!==null&&g&4&&xy(s,s.memoizedProps,m.memoizedProps);break;case 5:if(Zn(l,s),er(s),g&512&&(dn||m===null||ua(m,m.return)),s.flags&32){b=s.stateNode;try{ho(b,"")}catch(Ie){wt(s,s.return,Ie)}}g&4&&s.stateNode!=null&&(b=s.memoizedProps,xy(s,b,m!==null?m.memoizedProps:b)),g&1024&&(wy=!0);break;case 6:if(Zn(l,s),er(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,m=s.stateNode;try{m.nodeValue=g}catch(Ie){wt(s,s.return,Ie)}}break;case 3:if(Jf=null,b=Wr,Wr=Wf(l.containerInfo),Zn(l,s),Wr=b,er(s),g&4&&m!==null&&m.memoizedState.isDehydrated)try{Ho(l.containerInfo)}catch(Ie){wt(s,s.return,Ie)}wy&&(wy=!1,k_(s));break;case 4:g=Wr,Wr=Wf(s.stateNode.containerInfo),Zn(l,s),er(s),Wr=g;break;case 12:Zn(l,s),er(s);break;case 31:Zn(l,s),er(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Rf(s,g)));break;case 13:Zn(l,s),er(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Lf=ee()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Rf(s,g)));break;case 22:b=s.memoizedState!==null;var J=m!==null&&m.memoizedState!==null,le=Ra,he=dn;if(Ra=le||b,dn=he||J,Zn(l,s),dn=he,Ra=le,er(s),g&8192)e:for(l=s.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(m===null||J||Ra||dn||vs(s)),m=null,l=s;;){if(l.tag===5||l.tag===26){if(m===null){J=m=l;try{if(E=J.stateNode,b)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{F=J.stateNode;var xe=J.memoizedProps.style,ue=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;F.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Ie){wt(J,J.return,Ie)}}}else if(l.tag===6){if(m===null){J=l;try{J.stateNode.nodeValue=b?"":J.memoizedProps}catch(Ie){wt(J,J.return,Ie)}}}else if(l.tag===18){if(m===null){J=l;try{var ce=J.stateNode;b?bC(ce,!0):bC(J.stateNode,!1)}catch(Ie){wt(J,J.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;m===l&&(m=null),l=l.return}m===l&&(m=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(m=g.retryQueue,m!==null&&(g.retryQueue=null,Rf(s,m))));break;case 19:Zn(l,s),er(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Rf(s,g)));break;case 30:break;case 21:break;default:Zn(l,s),er(s)}}function er(s){var l=s.flags;if(l&2){try{for(var m,g=s.return;g!==null;){if(w_(g)){m=g;break}g=g.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var b=m.stateNode,E=by(s);Of(s,E,b);break;case 5:var O=m.stateNode;m.flags&32&&(ho(O,""),m.flags&=-33);var F=by(s);Of(s,F,O);break;case 3:case 4:var J=m.stateNode.containerInfo,le=by(s);Sy(s,le,J);break;default:throw Error(r(161))}}catch(he){wt(s,s.return,he)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function k_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;k_(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function La(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)E_(s,l.alternate,l),l=l.sibling}function vs(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Si(4,l,l.return),vs(l);break;case 1:ua(l,l.return);var m=l.stateNode;typeof m.componentWillUnmount=="function"&&b_(l,l.return,m),vs(l);break;case 27:zu(l.stateNode);case 26:case 5:ua(l,l.return),vs(l);break;case 22:l.memoizedState===null&&vs(l);break;case 30:vs(l);break;default:vs(l)}s=s.sibling}}function qa(s,l,m){for(m=m&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,b=s,E=l,O=E.flags;switch(E.tag){case 0:case 11:case 15:qa(b,E,m),Ou(4,E);break;case 1:if(qa(b,E,m),g=E,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(le){wt(g,g.return,le)}if(g=E,b=g.updateQueue,b!==null){var F=g.stateNode;try{var J=b.shared.hiddenCallbacks;if(J!==null)for(b.shared.hiddenCallbacks=null,b=0;b<J.length;b++)lN(J[b],F)}catch(le){wt(g,g.return,le)}}m&&O&64&&x_(E),Ru(E,E.return);break;case 27:A_(E);case 26:case 5:qa(b,E,m),m&&g===null&&O&4&&S_(E),Ru(E,E.return);break;case 12:qa(b,E,m);break;case 31:qa(b,E,m),m&&O&4&&C_(b,E);break;case 13:qa(b,E,m),m&&O&4&&j_(b,E);break;case 22:E.memoizedState===null&&qa(b,E,m),Ru(E,E.return);break;case 30:break;default:qa(b,E,m)}l=l.sibling}}function Ay(s,l){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&Su(m))}function Ty(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Su(s))}function Xr(s,l,m,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)I_(s,l,m,g),l=l.sibling}function I_(s,l,m,g){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Xr(s,l,m,g),b&2048&&Ou(9,l);break;case 1:Xr(s,l,m,g);break;case 3:Xr(s,l,m,g),b&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Su(s)));break;case 12:if(b&2048){Xr(s,l,m,g),s=l.stateNode;try{var E=l.memoizedProps,O=E.id,F=E.onPostCommit;typeof F=="function"&&F(O,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(J){wt(l,l.return,J)}}else Xr(s,l,m,g);break;case 31:Xr(s,l,m,g);break;case 13:Xr(s,l,m,g);break;case 23:break;case 22:E=l.stateNode,O=l.alternate,l.memoizedState!==null?E._visibility&2?Xr(s,l,m,g):Du(s,l):E._visibility&2?Xr(s,l,m,g):(E._visibility|=2,Ro(s,l,m,g,(l.subtreeFlags&10256)!==0||!1)),b&2048&&Ay(O,l);break;case 24:Xr(s,l,m,g),b&2048&&Ty(l.alternate,l);break;default:Xr(s,l,m,g)}}function Ro(s,l,m,g,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=s,O=l,F=m,J=g,le=O.flags;switch(O.tag){case 0:case 11:case 15:Ro(E,O,F,J,b),Ou(8,O);break;case 23:break;case 22:var he=O.stateNode;O.memoizedState!==null?he._visibility&2?Ro(E,O,F,J,b):Du(E,O):(he._visibility|=2,Ro(E,O,F,J,b)),b&&le&2048&&Ay(O.alternate,O);break;case 24:Ro(E,O,F,J,b),b&&le&2048&&Ty(O.alternate,O);break;default:Ro(E,O,F,J,b)}l=l.sibling}}function Du(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var m=s,g=l,b=g.flags;switch(g.tag){case 22:Du(m,g),b&2048&&Ay(g.alternate,g);break;case 24:Du(m,g),b&2048&&Ty(g.alternate,g);break;default:Du(m,g)}l=l.sibling}}var Lu=8192;function Do(s,l,m){if(s.subtreeFlags&Lu)for(s=s.child;s!==null;)P_(s,l,m),s=s.sibling}function P_(s,l,m){switch(s.tag){case 26:Do(s,l,m),s.flags&Lu&&s.memoizedState!==null&&XV(m,Wr,s.memoizedState,s.memoizedProps);break;case 5:Do(s,l,m);break;case 3:case 4:var g=Wr;Wr=Wf(s.stateNode.containerInfo),Do(s,l,m),Wr=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Lu,Lu=16777216,Do(s,l,m),Lu=g):Do(s,l,m));break;default:Do(s,l,m)}}function O_(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function qu(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var g=l[m];Tn=g,D_(g,s)}O_(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)R_(s),s=s.sibling}function R_(s){switch(s.tag){case 0:case 11:case 15:qu(s),s.flags&2048&&Si(9,s,s.return);break;case 3:qu(s);break;case 12:qu(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Df(s)):qu(s);break;default:qu(s)}}function Df(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var g=l[m];Tn=g,D_(g,s)}O_(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Si(8,l,l.return),Df(l);break;case 22:m=l.stateNode,m._visibility&2&&(m._visibility&=-3,Df(l));break;default:Df(l)}s=s.sibling}}function D_(s,l){for(;Tn!==null;){var m=Tn;switch(m.tag){case 0:case 11:case 15:Si(8,m,l);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var g=m.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Su(m.memoizedState.cache)}if(g=m.child,g!==null)g.return=m,Tn=g;else e:for(m=s;Tn!==null;){g=Tn;var b=g.sibling,E=g.return;if(N_(g),g===m){Tn=null;break e}if(b!==null){b.return=E,Tn=b;break e}Tn=E}}}var dV={getCacheForType:function(s){var l=Pn(ln),m=l.data.get(s);return m===void 0&&(m=s(),l.data.set(s,m)),m},cacheSignal:function(){return Pn(ln).controller.signal}},fV=typeof WeakMap=="function"?WeakMap:Map,gt=0,Ct=null,nt=null,at=0,St=0,pr=null,wi=!1,Lo=!1,Ey=!1,Ua=0,Qt=0,Ai=0,xs=0,Ny=0,hr=0,qo=0,Uu=null,tr=null,_y=!1,Lf=0,L_=0,qf=1/0,Uf=null,Ti=null,yn=0,Ei=null,Uo=null,Ba=0,Cy=0,jy=null,q_=null,Bu=0,My=null;function gr(){return(gt&2)!==0&&at!==0?at&-at:V.T!==null?Dy():ou()}function U_(){if(hr===0)if((at&536870912)===0||st){var s=oo;oo<<=1,(oo&3932160)===0&&(oo=262144),hr=s}else hr=536870912;return s=fr.current,s!==null&&(s.flags|=32),hr}function nr(s,l,m){(s===Ct&&(St===2||St===9)||s.cancelPendingCommit!==null)&&(Bo(s,0),Ni(s,at,hr,!1)),Xt(s,m),((gt&2)===0||s!==Ct)&&(s===Ct&&((gt&2)===0&&(xs|=m),Qt===4&&Ni(s,at,hr,!1)),ca(s))}function B_(s,l,m){if((gt&6)!==0)throw Error(r(327));var g=!m&&(l&127)===0&&(l&s.expiredLanes)===0||vt(s,l),b=g?hV(s,l):Iy(s,l,!0),E=g;do{if(b===0){Lo&&!g&&Ni(s,l,0,!1);break}else{if(m=s.current.alternate,E&&!mV(m)){b=Iy(s,l,!1),E=!1;continue}if(b===2){if(E=l,s.errorRecoveryDisabledLanes&E)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var F=s;b=Uu;var J=F.current.memoizedState.isDehydrated;if(J&&(Bo(F,O).flags|=256),O=Iy(F,O,!1),O!==2){if(Ey&&!J){F.errorRecoveryDisabledLanes|=E,xs|=E,b=4;break e}E=tr,tr=b,E!==null&&(tr===null?tr=E:tr.push.apply(tr,E))}b=O}if(E=!1,b!==2)continue}}if(b===1){Bo(s,0),Ni(s,l,0,!0);break}e:{switch(g=s,E=b,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ni(g,l,hr,!wi);break e;case 2:tr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Lf+300-ee(),10<b)){if(Ni(g,l,hr,!wi),Ye(g,0,!0)!==0)break e;Ba=l,g.timeoutHandle=yC($_.bind(null,g,m,tr,Uf,_y,l,hr,xs,qo,wi,E,"Throttled",-0,0),b);break e}$_(g,m,tr,Uf,_y,l,hr,xs,qo,wi,E,null,-0,0)}}break}while(!0);ca(s)}function $_(s,l,m,g,b,E,O,F,J,le,he,xe,ue,ce){if(s.timeoutHandle=-1,xe=l.subtreeFlags,xe&8192||(xe&16785408)===16785408){xe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ea},P_(l,E,xe);var Ie=(E&62914560)===E?Lf-ee():(E&4194048)===E?L_-ee():0;if(Ie=JV(xe,Ie),Ie!==null){Ba=E,s.cancelPendingCommit=Ie(W_.bind(null,s,l,E,m,g,b,O,F,J,he,xe,null,ue,ce)),Ni(s,E,O,!le);return}}W_(s,l,E,m,g,b,O,F,J)}function mV(s){for(var l=s;;){var m=l.tag;if((m===0||m===11||m===15)&&l.flags&16384&&(m=l.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var g=0;g<m.length;g++){var b=m[g],E=b.getSnapshot;b=b.value;try{if(!cr(E(),b))return!1}catch{return!1}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ni(s,l,m,g){l&=~Ny,l&=~xs,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var b=l;0<b;){var E=31-on(b),O=1<<E;g[E]=-1,b&=~O}m!==0&&Aa(s,m,l)}function Bf(){return(gt&6)===0?($u(0),!1):!0}function ky(){if(nt!==null){if(St===0)var s=nt.return;else s=nt,ja=cs=null,Kg(s),Mo=null,Au=0,s=nt;for(;s!==null;)v_(s.alternate,s),s=s.return;nt=null}}function Bo(s,l){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,PV(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),Ba=0,ky(),Ct=s,nt=m=_a(s.current,null),at=l,St=0,pr=null,wi=!1,Lo=vt(s,l),Ey=!1,qo=hr=Ny=xs=Ai=Qt=0,tr=Uu=null,_y=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var b=31-on(g),E=1<<b;l|=s[b],g&=~E}return Ua=l,of(),m}function V_(s,l){We=null,V.H=ku,l===jo||l===hf?(l=aN(),St=3):l===Rg?(l=aN(),St=4):St=l===uy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,pr=l,nt===null&&(Qt=1,jf(s,Cr(l,s.current)))}function F_(){var s=fr.current;return s===null?!0:(at&4194048)===at?Ir===null:(at&62914560)===at||(at&536870912)!==0?s===Ir:!1}function z_(){var s=V.H;return V.H=ku,s===null?ku:s}function G_(){var s=V.A;return V.A=dV,s}function $f(){Qt=4,wi||(at&4194048)!==at&&fr.current!==null||(Lo=!0),(Ai&134217727)===0&&(xs&134217727)===0||Ct===null||Ni(Ct,at,hr,!1)}function Iy(s,l,m){var g=gt;gt|=2;var b=z_(),E=G_();(Ct!==s||at!==l)&&(Uf=null,Bo(s,l)),l=!1;var O=Qt;e:do try{if(St!==0&&nt!==null){var F=nt,J=pr;switch(St){case 8:ky(),O=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(l=!0);var le=St;if(St=0,pr=null,$o(s,F,J,le),m&&Lo){O=0;break e}break;default:le=St,St=0,pr=null,$o(s,F,J,le)}}pV(),O=Qt;break}catch(he){V_(s,he)}while(!0);return l&&s.shellSuspendCounter++,ja=cs=null,gt=g,V.H=b,V.A=E,nt===null&&(Ct=null,at=0,of()),O}function pV(){for(;nt!==null;)H_(nt)}function hV(s,l){var m=gt;gt|=2;var g=z_(),b=G_();Ct!==s||at!==l?(Uf=null,qf=ee()+500,Bo(s,l)):Lo=vt(s,l);e:do try{if(St!==0&&nt!==null){l=nt;var E=pr;t:switch(St){case 1:St=0,pr=null,$o(s,l,E,1);break;case 2:case 9:if(nN(E)){St=0,pr=null,K_(l);break}l=function(){St!==2&&St!==9||Ct!==s||(St=7),ca(s)},E.then(l,l);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:nN(E)?(St=0,pr=null,K_(l)):(St=0,pr=null,$o(s,l,E,7));break;case 5:var O=null;switch(nt.tag){case 26:O=nt.memoizedState;case 5:case 27:var F=nt;if(O?IC(O):F.stateNode.complete){St=0,pr=null;var J=F.sibling;if(J!==null)nt=J;else{var le=F.return;le!==null?(nt=le,Vf(le)):nt=null}break t}}St=0,pr=null,$o(s,l,E,5);break;case 6:St=0,pr=null,$o(s,l,E,6);break;case 8:ky(),Qt=6;break e;default:throw Error(r(462))}}gV();break}catch(he){V_(s,he)}while(!0);return ja=cs=null,V.H=g,V.A=b,gt=m,nt!==null?0:(Ct=null,at=0,of(),Qt)}function gV(){for(;nt!==null&&!Ht();)H_(nt)}function H_(s){var l=g_(s.alternate,s,Ua);s.memoizedProps=s.pendingProps,l===null?Vf(s):nt=l}function K_(s){var l=s,m=l.alternate;switch(l.tag){case 15:case 0:l=c_(m,l,l.pendingProps,l.type,void 0,at);break;case 11:l=c_(m,l,l.pendingProps,l.type.render,l.ref,at);break;case 5:Kg(l);default:v_(m,l),l=nt=G1(l,Ua),l=g_(m,l,Ua)}s.memoizedProps=s.pendingProps,l===null?Vf(s):nt=l}function $o(s,l,m,g){ja=cs=null,Kg(l),Mo=null,Au=0;var b=l.return;try{if(aV(s,b,l,m,at)){Qt=1,jf(s,Cr(m,s.current)),nt=null;return}}catch(E){if(b!==null)throw nt=b,E;Qt=1,jf(s,Cr(m,s.current)),nt=null;return}l.flags&32768?(st||g===1?s=!0:Lo||(at&536870912)!==0?s=!1:(wi=s=!0,(g===2||g===9||g===3||g===6)&&(g=fr.current,g!==null&&g.tag===13&&(g.flags|=16384))),Y_(l,s)):Vf(l)}function Vf(s){var l=s;do{if((l.flags&32768)!==0){Y_(l,wi);return}s=l.return;var m=oV(l.alternate,l,Ua);if(m!==null){nt=m;return}if(l=l.sibling,l!==null){nt=l;return}nt=l=s}while(l!==null);Qt===0&&(Qt=5)}function Y_(s,l){do{var m=lV(s.alternate,s);if(m!==null){m.flags&=32767,nt=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!l&&(s=s.sibling,s!==null)){nt=s;return}nt=s=m}while(s!==null);Qt=6,nt=null}function W_(s,l,m,g,b,E,O,F,J){s.cancelPendingCommit=null;do Ff();while(yn!==0);if((gt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=bg,lr(s,m,E,O,F,J),s===Ct&&(nt=Ct=null,at=0),Uo=l,Ei=s,Ba=m,Cy=E,jy=b,q_=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,bV(fe,function(){return eC(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=V.T,V.T=null,b=K.p,K.p=2,O=gt,gt|=4;try{uV(s,l,m)}finally{gt=O,K.p=b,V.T=g}}yn=1,X_(),J_(),Q_()}}function X_(){if(yn===1){yn=0;var s=Ei,l=Uo,m=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||m){m=V.T,V.T=null;var g=K.p;K.p=2;var b=gt;gt|=4;try{M_(l,s);var E=zy,O=D1(s.containerInfo),F=E.focusedElem,J=E.selectionRange;if(O!==F&&F&&F.ownerDocument&&R1(F.ownerDocument.documentElement,F)){if(J!==null&&hg(F)){var le=J.start,he=J.end;if(he===void 0&&(he=le),"selectionStart"in F)F.selectionStart=le,F.selectionEnd=Math.min(he,F.value.length);else{var xe=F.ownerDocument||document,ue=xe&&xe.defaultView||window;if(ue.getSelection){var ce=ue.getSelection(),Ie=F.textContent.length,Be=Math.min(J.start,Ie),Nt=J.end===void 0?Be:Math.min(J.end,Ie);!ce.extend&&Be>Nt&&(O=Nt,Nt=Be,Be=O);var ae=O1(F,Be),ne=O1(F,Nt);if(ae&&ne&&(ce.rangeCount!==1||ce.anchorNode!==ae.node||ce.anchorOffset!==ae.offset||ce.focusNode!==ne.node||ce.focusOffset!==ne.offset)){var oe=xe.createRange();oe.setStart(ae.node,ae.offset),ce.removeAllRanges(),Be>Nt?(ce.addRange(oe),ce.extend(ne.node,ne.offset)):(oe.setEnd(ne.node,ne.offset),ce.addRange(oe))}}}}for(xe=[],ce=F;ce=ce.parentNode;)ce.nodeType===1&&xe.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<xe.length;F++){var ye=xe[F];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}tm=!!Fy,zy=Fy=null}finally{gt=b,K.p=g,V.T=m}}s.current=l,yn=2}}function J_(){if(yn===2){yn=0;var s=Ei,l=Uo,m=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||m){m=V.T,V.T=null;var g=K.p;K.p=2;var b=gt;gt|=4;try{E_(s,l.alternate,l)}finally{gt=b,K.p=g,V.T=m}}yn=3}}function Q_(){if(yn===4||yn===3){yn=0,Mn();var s=Ei,l=Uo,m=Ba,g=q_;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?yn=5:(yn=0,Uo=Ei=null,Z_(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Ti=null),su(m),l=l.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(tt,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=V.T,b=K.p,K.p=2,V.T=null;try{for(var E=s.onRecoverableError,O=0;O<g.length;O++){var F=g[O];E(F.value,{componentStack:F.stack})}}finally{V.T=l,K.p=b}}(Ba&3)!==0&&Ff(),ca(s),b=s.pendingLanes,(m&261930)!==0&&(b&42)!==0?s===My?Bu++:(Bu=0,My=s):Bu=0,$u(0)}}function Z_(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Su(l)))}function Ff(){return X_(),J_(),Q_(),eC()}function eC(){if(yn!==5)return!1;var s=Ei,l=Cy;Cy=0;var m=su(Ba),g=V.T,b=K.p;try{K.p=32>m?32:m,V.T=null,m=jy,jy=null;var E=Ei,O=Ba;if(yn=0,Uo=Ei=null,Ba=0,(gt&6)!==0)throw Error(r(331));var F=gt;if(gt|=4,R_(E.current),I_(E,E.current,O,m),gt=F,$u(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(tt,E)}catch{}return!0}finally{K.p=b,V.T=g,Z_(s,l)}}function tC(s,l,m){l=Cr(m,l),l=ly(s.stateNode,l,2),s=vi(s,l,2),s!==null&&(Xt(s,2),ca(s))}function wt(s,l,m){if(s.tag===3)tC(s,s,m);else for(;l!==null;){if(l.tag===3){tC(l,s,m);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ti===null||!Ti.has(g))){s=Cr(m,s),m=n_(2),g=vi(l,m,2),g!==null&&(r_(m,g,l,s),Xt(g,2),ca(g));break}}l=l.return}}function Py(s,l,m){var g=s.pingCache;if(g===null){g=s.pingCache=new fV;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(m)||(Ey=!0,b.add(m),s=yV.bind(null,s,l,m),l.then(s,s))}function yV(s,l,m){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Ct===s&&(at&m)===m&&(Qt===4||Qt===3&&(at&62914560)===at&&300>ee()-Lf?(gt&2)===0&&Bo(s,0):Ny|=m,qo===at&&(qo=0)),ca(s)}function nC(s,l){l===0&&(l=Wt()),s=os(s,l),s!==null&&(Xt(s,l),ca(s))}function vV(s){var l=s.memoizedState,m=0;l!==null&&(m=l.retryLane),nC(s,m)}function xV(s,l){var m=0;switch(s.tag){case 31:case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(m=b.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),nC(s,m)}function bV(s,l){return ut(s,l)}var zf=null,Vo=null,Oy=!1,Gf=!1,Ry=!1,_i=0;function ca(s){s!==Vo&&s.next===null&&(Vo===null?zf=Vo=s:Vo=Vo.next=s),Gf=!0,Oy||(Oy=!0,wV())}function $u(s,l){if(!Ry&&Gf){Ry=!0;do for(var m=!1,g=zf;g!==null;){if(s!==0){var b=g.pendingLanes;if(b===0)var E=0;else{var O=g.suspendedLanes,F=g.pingedLanes;E=(1<<31-on(42|s)+1)-1,E&=b&~(O&~F),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(m=!0,sC(g,E))}else E=at,E=Ye(g,g===Ct?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||vt(g,E)||(m=!0,sC(g,E));g=g.next}while(m);Ry=!1}}function SV(){rC()}function rC(){Gf=Oy=!1;var s=0;_i!==0&&IV()&&(s=_i);for(var l=ee(),m=null,g=zf;g!==null;){var b=g.next,E=aC(g,l);E===0?(g.next=null,m===null?zf=b:m.next=b,b===null&&(Vo=m)):(m=g,(s!==0||(E&3)!==0)&&(Gf=!0)),g=b}yn!==0&&yn!==5||$u(s),_i!==0&&(_i=0)}function aC(s,l){for(var m=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var O=31-on(E),F=1<<O,J=b[O];J===-1?((F&m)===0||(F&g)!==0)&&(b[O]=At(F,l)):J<=l&&(s.expiredLanes|=F),E&=~F}if(l=Ct,m=at,m=Ye(s,s===l?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,m===0||s===l&&(St===2||St===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Bt(g),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||vt(s,m)){if(l=m&-m,l===s.callbackPriority)return l;switch(g!==null&&Bt(g),su(m)){case 2:case 8:m=Ce;break;case 32:m=fe;break;case 268435456:m=$t;break;default:m=fe}return g=iC.bind(null,s),m=ut(m,g),s.callbackPriority=l,s.callbackNode=m,l}return g!==null&&g!==null&&Bt(g),s.callbackPriority=2,s.callbackNode=null,2}function iC(s,l){if(yn!==0&&yn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if(Ff()&&s.callbackNode!==m)return null;var g=at;return g=Ye(s,s===Ct?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(B_(s,g,l),aC(s,ee()),s.callbackNode!=null&&s.callbackNode===m?iC.bind(null,s):null)}function sC(s,l){if(Ff())return null;B_(s,l,!0)}function wV(){OV(function(){(gt&6)!==0?ut(Ae,SV):rC()})}function Dy(){if(_i===0){var s=_o;s===0&&(s=ts,ts<<=1,(ts&261888)===0&&(ts=256)),_i=s}return _i}function oC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Qd(""+s)}function lC(s,l){var m=l.ownerDocument.createElement("input");return m.name=l.name,m.value=l.value,s.id&&m.setAttribute("form",s.id),l.parentNode.insertBefore(m,l),s=new FormData(s),m.parentNode.removeChild(m),s}function AV(s,l,m,g,b){if(l==="submit"&&m&&m.stateNode===b){var E=oC((b[Xn]||null).action),O=g.submitter;O&&(l=(l=O[Xn]||null)?oC(l.formAction):O.getAttribute("formAction"),l!==null&&(E=l,O=null));var F=new nf("action","action",null,g,b);s.push({event:F,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(_i!==0){var J=O?lC(b,O):new FormData(b);ny(m,{pending:!0,data:J,method:b.method,action:E},null,J)}}else typeof E=="function"&&(F.preventDefault(),J=O?lC(b,O):new FormData(b),ny(m,{pending:!0,data:J,method:b.method,action:E},E,J))},currentTarget:b}]})}}for(var Ly=0;Ly<xg.length;Ly++){var qy=xg[Ly],TV=qy.toLowerCase(),EV=qy[0].toUpperCase()+qy.slice(1);Yr(TV,"on"+EV)}Yr(U1,"onAnimationEnd"),Yr(B1,"onAnimationIteration"),Yr($1,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr($6,"onTransitionRun"),Yr(V6,"onTransitionStart"),Yr(F6,"onTransitionCancel"),Yr(V1,"onTransitionEnd"),mo("onMouseEnter",["mouseout","mouseover"]),mo("onMouseLeave",["mouseout","mouseover"]),mo("onPointerEnter",["pointerout","pointerover"]),mo("onPointerLeave",["pointerout","pointerover"]),rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rs("onBeforeInput",["compositionend","keypress","textInput","paste"]),rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vu));function uC(s,l){l=(l&4)!==0;for(var m=0;m<s.length;m++){var g=s[m],b=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var O=g.length-1;0<=O;O--){var F=g[O],J=F.instance,le=F.currentTarget;if(F=F.listener,J!==E&&b.isPropagationStopped())break e;E=F,b.currentTarget=le;try{E(b)}catch(he){sf(he)}b.currentTarget=null,E=J}else for(O=0;O<g.length;O++){if(F=g[O],J=F.instance,le=F.currentTarget,F=F.listener,J!==E&&b.isPropagationStopped())break e;E=F,b.currentTarget=le;try{E(b)}catch(he){sf(he)}b.currentTarget=null,E=J}}}}function rt(s,l){var m=l[Jh];m===void 0&&(m=l[Jh]=new Set);var g=s+"__bubble";m.has(g)||(cC(l,s,2,!1),m.add(g))}function Uy(s,l,m){var g=0;l&&(g|=4),cC(m,s,g,l)}var Hf="_reactListening"+Math.random().toString(36).slice(2);function By(s){if(!s[Hf]){s[Hf]=!0,r1.forEach(function(m){m!=="selectionchange"&&(NV.has(m)||Uy(m,!1,s),Uy(m,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Hf]||(l[Hf]=!0,Uy("selectionchange",!1,l))}}function cC(s,l,m,g){switch(UC(l)){case 2:var b=eF;break;case 8:b=tF;break;default:b=t0}m=b.bind(null,l,m,s),b=void 0,!sg||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(l,m,{capture:!0,passive:b}):s.addEventListener(l,m,!0):b!==void 0?s.addEventListener(l,m,{passive:b}):s.addEventListener(l,m,!1)}function $y(s,l,m,g,b){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var F=g.stateNode.containerInfo;if(F===b)break;if(O===4)for(O=g.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;F!==null;){if(O=uo(F),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){g=E=O;continue e}F=F.parentNode}}g=g.return}h1(function(){var le=E,he=ag(m),xe=[];e:{var ue=F1.get(s);if(ue!==void 0){var ce=nf,Ie=s;switch(s){case"keypress":if(ef(m)===0)break e;case"keydown":case"keyup":ce=x6;break;case"focusin":Ie="focus",ce=cg;break;case"focusout":Ie="blur",ce=cg;break;case"beforeblur":case"afterblur":ce=cg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=v1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=o6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=w6;break;case U1:case B1:case $1:ce=c6;break;case V1:ce=T6;break;case"scroll":case"scrollend":ce=i6;break;case"wheel":ce=N6;break;case"copy":case"cut":case"paste":ce=f6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=b1;break;case"toggle":case"beforetoggle":ce=C6}var Be=(l&4)!==0,Nt=!Be&&(s==="scroll"||s==="scrollend"),ae=Be?ue!==null?ue+"Capture":null:ue;Be=[];for(var ne=le,oe;ne!==null;){var ye=ne;if(oe=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||oe===null||ae===null||(ye=cu(ne,ae),ye!=null&&Be.push(Fu(ne,ye,oe))),Nt)break;ne=ne.return}0<Be.length&&(ue=new ce(ue,Ie,null,m,he),xe.push({event:ue,listeners:Be}))}}if((l&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",ce=s==="mouseout"||s==="pointerout",ue&&m!==rg&&(Ie=m.relatedTarget||m.fromElement)&&(uo(Ie)||Ie[lo]))break e;if((ce||ue)&&(ue=he.window===he?he:(ue=he.ownerDocument)?ue.defaultView||ue.parentWindow:window,ce?(Ie=m.relatedTarget||m.toElement,ce=le,Ie=Ie?uo(Ie):null,Ie!==null&&(Nt=i(Ie),Be=Ie.tag,Ie!==Nt||Be!==5&&Be!==27&&Be!==6)&&(Ie=null)):(ce=null,Ie=le),ce!==Ie)){if(Be=v1,ye="onMouseLeave",ae="onMouseEnter",ne="mouse",(s==="pointerout"||s==="pointerover")&&(Be=b1,ye="onPointerLeave",ae="onPointerEnter",ne="pointer"),Nt=ce==null?ue:uu(ce),oe=Ie==null?ue:uu(Ie),ue=new Be(ye,ne+"leave",ce,m,he),ue.target=Nt,ue.relatedTarget=oe,ye=null,uo(he)===le&&(Be=new Be(ae,ne+"enter",Ie,m,he),Be.target=oe,Be.relatedTarget=Nt,ye=Be),Nt=ye,ce&&Ie)t:{for(Be=_V,ae=ce,ne=Ie,oe=0,ye=ae;ye;ye=Be(ye))oe++;ye=0;for(var Ue=ne;Ue;Ue=Be(Ue))ye++;for(;0<oe-ye;)ae=Be(ae),oe--;for(;0<ye-oe;)ne=Be(ne),ye--;for(;oe--;){if(ae===ne||ne!==null&&ae===ne.alternate){Be=ae;break t}ae=Be(ae),ne=Be(ne)}Be=null}else Be=null;ce!==null&&dC(xe,ue,ce,Be,!1),Ie!==null&&Nt!==null&&dC(xe,Nt,Ie,Be,!0)}}e:{if(ue=le?uu(le):window,ce=ue.nodeName&&ue.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ue.type==="file")var dt=C1;else if(N1(ue))if(j1)dt=q6;else{dt=D6;var De=R6}else ce=ue.nodeName,!ce||ce.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&ng(le.elementType)&&(dt=C1):dt=L6;if(dt&&(dt=dt(s,le))){_1(xe,dt,m,he);break e}De&&De(s,ue,le),s==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&tg(ue,"number",ue.value)}switch(De=le?uu(le):window,s){case"focusin":(N1(De)||De.contentEditable==="true")&&(xo=De,gg=le,vu=null);break;case"focusout":vu=gg=xo=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,L1(xe,m,he);break;case"selectionchange":if(B6)break;case"keydown":case"keyup":L1(xe,m,he)}var Xe;if(fg)e:{switch(s){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else vo?T1(s,m)&&(it="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(it="onCompositionStart");it&&(S1&&m.locale!=="ko"&&(vo||it!=="onCompositionStart"?it==="onCompositionEnd"&&vo&&(Xe=g1()):(di=he,og="value"in di?di.value:di.textContent,vo=!0)),De=Kf(le,it),0<De.length&&(it=new x1(it,s,null,m,he),xe.push({event:it,listeners:De}),Xe?it.data=Xe:(Xe=E1(m),Xe!==null&&(it.data=Xe)))),(Xe=M6?k6(s,m):I6(s,m))&&(it=Kf(le,"onBeforeInput"),0<it.length&&(De=new x1("onBeforeInput","beforeinput",null,m,he),xe.push({event:De,listeners:it}),De.data=Xe)),AV(xe,s,le,m,he)}uC(xe,l)})}function Fu(s,l,m){return{instance:s,listener:l,currentTarget:m}}function Kf(s,l){for(var m=l+"Capture",g=[];s!==null;){var b=s,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=cu(s,m),b!=null&&g.unshift(Fu(s,b,E)),b=cu(s,l),b!=null&&g.push(Fu(s,b,E))),s.tag===3)return g;s=s.return}return[]}function _V(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function dC(s,l,m,g,b){for(var E=l._reactName,O=[];m!==null&&m!==g;){var F=m,J=F.alternate,le=F.stateNode;if(F=F.tag,J!==null&&J===g)break;F!==5&&F!==26&&F!==27||le===null||(J=le,b?(le=cu(m,E),le!=null&&O.unshift(Fu(m,le,J))):b||(le=cu(m,E),le!=null&&O.push(Fu(m,le,J)))),m=m.return}O.length!==0&&s.push({event:l,listeners:O})}var CV=/\r\n?/g,jV=/\u0000|\uFFFD/g;function fC(s){return(typeof s=="string"?s:""+s).replace(CV,`
`).replace(jV,"")}function mC(s,l){return l=fC(l),fC(s)===l}function Et(s,l,m,g,b,E){switch(m){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||ho(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&ho(s,""+g);break;case"className":Xd(s,"class",g);break;case"tabIndex":Xd(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Xd(s,m,g);break;case"style":m1(s,g,E);break;case"data":if(l!=="object"){Xd(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||m!=="href")){s.removeAttribute(m);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(m);break}g=Qd(""+g),s.setAttribute(m,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(m==="formAction"?(l!=="input"&&Et(s,l,"name",b.name,b,null),Et(s,l,"formEncType",b.formEncType,b,null),Et(s,l,"formMethod",b.formMethod,b,null),Et(s,l,"formTarget",b.formTarget,b,null)):(Et(s,l,"encType",b.encType,b,null),Et(s,l,"method",b.method,b,null),Et(s,l,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(m);break}g=Qd(""+g),s.setAttribute(m,g);break;case"onClick":g!=null&&(s.onclick=Ea);break;case"onScroll":g!=null&&rt("scroll",s);break;case"onScrollEnd":g!=null&&rt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}m=Qd(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(m,""+g):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":g===!0?s.setAttribute(m,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(m,g):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(m,g):s.removeAttribute(m);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(m):s.setAttribute(m,g);break;case"popover":rt("beforetoggle",s),rt("toggle",s),Wd(s,"popover",g);break;case"xlinkActuate":Ta(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ta(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ta(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ta(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ta(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ta(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ta(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ta(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ta(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Wd(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=r6.get(m)||m,Wd(s,m,g))}}function Vy(s,l,m,g,b,E){switch(m){case"style":m1(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof g=="string"?ho(s,g):(typeof g=="number"||typeof g=="bigint")&&ho(s,""+g);break;case"onScroll":g!=null&&rt("scroll",s);break;case"onScrollEnd":g!=null&&rt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!a1.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(b=m.endsWith("Capture"),l=m.slice(2,b?m.length-7:void 0),E=s[Xn]||null,E=E!=null?E[m]:null,typeof E=="function"&&s.removeEventListener(l,E,b),typeof g=="function")){typeof E!="function"&&E!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(l,g,b);break e}m in s?s[m]=g:g===!0?s.setAttribute(m,""):Wd(s,m,g)}}}function Rn(s,l,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",s),rt("load",s);var g=!1,b=!1,E;for(E in m)if(m.hasOwnProperty(E)){var O=m[E];if(O!=null)switch(E){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Et(s,l,E,O,m,null)}}b&&Et(s,l,"srcSet",m.srcSet,m,null),g&&Et(s,l,"src",m.src,m,null);return;case"input":rt("invalid",s);var F=E=O=b=null,J=null,le=null;for(g in m)if(m.hasOwnProperty(g)){var he=m[g];if(he!=null)switch(g){case"name":b=he;break;case"type":O=he;break;case"checked":J=he;break;case"defaultChecked":le=he;break;case"value":E=he;break;case"defaultValue":F=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,l));break;default:Et(s,l,g,he,m,null)}}u1(s,E,F,J,le,O,b,!1);return;case"select":rt("invalid",s),g=O=E=null;for(b in m)if(m.hasOwnProperty(b)&&(F=m[b],F!=null))switch(b){case"value":E=F;break;case"defaultValue":O=F;break;case"multiple":g=F;default:Et(s,l,b,F,m,null)}l=E,m=O,s.multiple=!!g,l!=null?po(s,!!g,l,!1):m!=null&&po(s,!!g,m,!0);return;case"textarea":rt("invalid",s),E=b=g=null;for(O in m)if(m.hasOwnProperty(O)&&(F=m[O],F!=null))switch(O){case"value":g=F;break;case"defaultValue":b=F;break;case"children":E=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:Et(s,l,O,F,m,null)}d1(s,g,b,E);return;case"option":for(J in m)if(m.hasOwnProperty(J)&&(g=m[J],g!=null))switch(J){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Et(s,l,J,g,m,null)}return;case"dialog":rt("beforetoggle",s),rt("toggle",s),rt("cancel",s),rt("close",s);break;case"iframe":case"object":rt("load",s);break;case"video":case"audio":for(g=0;g<Vu.length;g++)rt(Vu[g],s);break;case"image":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"embed":case"source":case"link":rt("error",s),rt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in m)if(m.hasOwnProperty(le)&&(g=m[le],g!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Et(s,l,le,g,m,null)}return;default:if(ng(l)){for(he in m)m.hasOwnProperty(he)&&(g=m[he],g!==void 0&&Vy(s,l,he,g,m,void 0));return}}for(F in m)m.hasOwnProperty(F)&&(g=m[F],g!=null&&Et(s,l,F,g,m,null))}function MV(s,l,m,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,O=null,F=null,J=null,le=null,he=null;for(ce in m){var xe=m[ce];if(m.hasOwnProperty(ce)&&xe!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":J=xe;default:g.hasOwnProperty(ce)||Et(s,l,ce,null,g,xe)}}for(var ue in g){var ce=g[ue];if(xe=m[ue],g.hasOwnProperty(ue)&&(ce!=null||xe!=null))switch(ue){case"type":E=ce;break;case"name":b=ce;break;case"checked":le=ce;break;case"defaultChecked":he=ce;break;case"value":O=ce;break;case"defaultValue":F=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,l));break;default:ce!==xe&&Et(s,l,ue,ce,g,xe)}}eg(s,O,F,J,le,he,E,b);return;case"select":ce=O=F=ue=null;for(E in m)if(J=m[E],m.hasOwnProperty(E)&&J!=null)switch(E){case"value":break;case"multiple":ce=J;default:g.hasOwnProperty(E)||Et(s,l,E,null,g,J)}for(b in g)if(E=g[b],J=m[b],g.hasOwnProperty(b)&&(E!=null||J!=null))switch(b){case"value":ue=E;break;case"defaultValue":F=E;break;case"multiple":O=E;default:E!==J&&Et(s,l,b,E,g,J)}l=F,m=O,g=ce,ue!=null?po(s,!!m,ue,!1):!!g!=!!m&&(l!=null?po(s,!!m,l,!0):po(s,!!m,m?[]:"",!1));return;case"textarea":ce=ue=null;for(F in m)if(b=m[F],m.hasOwnProperty(F)&&b!=null&&!g.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Et(s,l,F,null,g,b)}for(O in g)if(b=g[O],E=m[O],g.hasOwnProperty(O)&&(b!=null||E!=null))switch(O){case"value":ue=b;break;case"defaultValue":ce=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==E&&Et(s,l,O,b,g,E)}c1(s,ue,ce);return;case"option":for(var Ie in m)if(ue=m[Ie],m.hasOwnProperty(Ie)&&ue!=null&&!g.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:Et(s,l,Ie,null,g,ue)}for(J in g)if(ue=g[J],ce=m[J],g.hasOwnProperty(J)&&ue!==ce&&(ue!=null||ce!=null))switch(J){case"selected":s.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Et(s,l,J,ue,g,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in m)ue=m[Be],m.hasOwnProperty(Be)&&ue!=null&&!g.hasOwnProperty(Be)&&Et(s,l,Be,null,g,ue);for(le in g)if(ue=g[le],ce=m[le],g.hasOwnProperty(le)&&ue!==ce&&(ue!=null||ce!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:Et(s,l,le,ue,g,ce)}return;default:if(ng(l)){for(var Nt in m)ue=m[Nt],m.hasOwnProperty(Nt)&&ue!==void 0&&!g.hasOwnProperty(Nt)&&Vy(s,l,Nt,void 0,g,ue);for(he in g)ue=g[he],ce=m[he],!g.hasOwnProperty(he)||ue===ce||ue===void 0&&ce===void 0||Vy(s,l,he,ue,g,ce);return}}for(var ae in m)ue=m[ae],m.hasOwnProperty(ae)&&ue!=null&&!g.hasOwnProperty(ae)&&Et(s,l,ae,null,g,ue);for(xe in g)ue=g[xe],ce=m[xe],!g.hasOwnProperty(xe)||ue===ce||ue==null&&ce==null||Et(s,l,xe,ue,g,ce)}function pC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kV(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,m=performance.getEntriesByType("resource"),g=0;g<m.length;g++){var b=m[g],E=b.transferSize,O=b.initiatorType,F=b.duration;if(E&&F&&pC(O)){for(O=0,F=b.responseEnd,g+=1;g<m.length;g++){var J=m[g],le=J.startTime;if(le>F)break;var he=J.transferSize,xe=J.initiatorType;he&&pC(xe)&&(J=J.responseEnd,O+=he*(J<F?1:(F-le)/(J-le)))}if(--g,l+=8*(E+O)/(b.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Fy=null,zy=null;function Yf(s){return s.nodeType===9?s:s.ownerDocument}function hC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gC(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Gy(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Hy=null;function IV(){var s=window.event;return s&&s.type==="popstate"?s===Hy?!1:(Hy=s,!0):(Hy=null,!1)}var yC=typeof setTimeout=="function"?setTimeout:void 0,PV=typeof clearTimeout=="function"?clearTimeout:void 0,vC=typeof Promise=="function"?Promise:void 0,OV=typeof queueMicrotask=="function"?queueMicrotask:typeof vC<"u"?function(s){return vC.resolve(null).then(s).catch(RV)}:yC;function RV(s){setTimeout(function(){throw s})}function Ci(s){return s==="head"}function xC(s,l){var m=l,g=0;do{var b=m.nextSibling;if(s.removeChild(m),b&&b.nodeType===8)if(m=b.data,m==="/$"||m==="/&"){if(g===0){s.removeChild(b),Ho(l);return}g--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")g++;else if(m==="html")zu(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,zu(m);for(var E=m.firstChild;E;){var O=E.nextSibling,F=E.nodeName;E[lu]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&E.rel.toLowerCase()==="stylesheet"||m.removeChild(E),E=O}}else m==="body"&&zu(s.ownerDocument.body);m=b}while(m);Ho(l)}function bC(s,l){var m=s;s=0;do{var g=m.nextSibling;if(m.nodeType===1?l?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(l?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),g&&g.nodeType===8)if(m=g.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=g}while(m)}function Ky(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var m=l;switch(l=l.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Ky(m),Qh(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function DV(s,l,m,g){for(;s.nodeType===1;){var b=m;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[lu])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Pr(s.nextSibling),s===null)break}return null}function LV(s,l,m){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=Pr(s.nextSibling),s===null))return null;return s}function SC(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Pr(s.nextSibling),s===null))return null;return s}function Yy(s){return s.data==="$?"||s.data==="$~"}function Wy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function qV(s,l){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||m.readyState!=="loading")l();else{var g=function(){l(),m.removeEventListener("DOMContentLoaded",g)};m.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Pr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Xy=null;function wC(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(l===0)return Pr(s.nextSibling);l--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||l++}s=s.nextSibling}return null}function AC(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(l===0)return s;l--}else m!=="/$"&&m!=="/&"||l++}s=s.previousSibling}return null}function TC(s,l,m){switch(l=Yf(m),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function zu(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Qh(s)}var Or=new Map,EC=new Set;function Wf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var $a=K.d;K.d={f:UV,r:BV,D:$V,C:VV,L:FV,m:zV,X:HV,S:GV,M:KV};function UV(){var s=$a.f(),l=Bf();return s||l}function BV(s){var l=co(s);l!==null&&l.tag===5&&l.type==="form"?VN(l):$a.r(s)}var Fo=typeof document>"u"?null:document;function NC(s,l,m){var g=Fo;if(g&&typeof l=="string"&&l){var b=Nr(l);b='link[rel="'+s+'"][href="'+b+'"]',typeof m=="string"&&(b+='[crossorigin="'+m+'"]'),EC.has(b)||(EC.add(b),s={rel:s,crossOrigin:m,href:l},g.querySelector(b)===null&&(l=g.createElement("link"),Rn(l,"link",s),An(l),g.head.appendChild(l)))}}function $V(s){$a.D(s),NC("dns-prefetch",s,null)}function VV(s,l){$a.C(s,l),NC("preconnect",s,l)}function FV(s,l,m){$a.L(s,l,m);var g=Fo;if(g&&s&&l){var b='link[rel="preload"][as="'+Nr(l)+'"]';l==="image"&&m&&m.imageSrcSet?(b+='[imagesrcset="'+Nr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(b+='[imagesizes="'+Nr(m.imageSizes)+'"]')):b+='[href="'+Nr(s)+'"]';var E=b;switch(l){case"style":E=zo(s);break;case"script":E=Go(s)}Or.has(E)||(s=h({rel:"preload",href:l==="image"&&m&&m.imageSrcSet?void 0:s,as:l},m),Or.set(E,s),g.querySelector(b)!==null||l==="style"&&g.querySelector(Gu(E))||l==="script"&&g.querySelector(Hu(E))||(l=g.createElement("link"),Rn(l,"link",s),An(l),g.head.appendChild(l)))}}function zV(s,l){$a.m(s,l);var m=Fo;if(m&&s){var g=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Nr(g)+'"][href="'+Nr(s)+'"]',E=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=Go(s)}if(!Or.has(E)&&(s=h({rel:"modulepreload",href:s},l),Or.set(E,s),m.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Hu(E)))return}g=m.createElement("link"),Rn(g,"link",s),An(g),m.head.appendChild(g)}}}function GV(s,l,m){$a.S(s,l,m);var g=Fo;if(g&&s){var b=fo(g).hoistableStyles,E=zo(s);l=l||"default";var O=b.get(E);if(!O){var F={loading:0,preload:null};if(O=g.querySelector(Gu(E)))F.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},m),(m=Or.get(E))&&Jy(s,m);var J=O=g.createElement("link");An(J),Rn(J,"link",s),J._p=new Promise(function(le,he){J.onload=le,J.onerror=he}),J.addEventListener("load",function(){F.loading|=1}),J.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Xf(O,l,g)}O={type:"stylesheet",instance:O,count:1,state:F},b.set(E,O)}}}function HV(s,l){$a.X(s,l);var m=Fo;if(m&&s){var g=fo(m).hoistableScripts,b=Go(s),E=g.get(b);E||(E=m.querySelector(Hu(b)),E||(s=h({src:s,async:!0},l),(l=Or.get(b))&&Qy(s,l),E=m.createElement("script"),An(E),Rn(E,"link",s),m.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function KV(s,l){$a.M(s,l);var m=Fo;if(m&&s){var g=fo(m).hoistableScripts,b=Go(s),E=g.get(b);E||(E=m.querySelector(Hu(b)),E||(s=h({src:s,async:!0,type:"module"},l),(l=Or.get(b))&&Qy(s,l),E=m.createElement("script"),An(E),Rn(E,"link",s),m.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function _C(s,l,m,g){var b=(b=we.current)?Wf(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(l=zo(m.href),m=fo(b).hoistableStyles,g=m.get(l),g||(g={type:"style",instance:null,count:0,state:null},m.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=zo(m.href);var E=fo(b).hoistableStyles,O=E.get(s);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,O),(E=b.querySelector(Gu(s)))&&!E._p&&(O.instance=E,O.state.loading=5),Or.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Or.set(s,m),E||YV(b,s,m,O.state))),l&&g===null)throw Error(r(528,""));return O}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=m.async,m=m.src,typeof m=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Go(m),m=fo(b).hoistableScripts,g=m.get(l),g||(g={type:"script",instance:null,count:0,state:null},m.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function zo(s){return'href="'+Nr(s)+'"'}function Gu(s){return'link[rel="stylesheet"]['+s+"]"}function CC(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function YV(s,l,m,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Rn(l,"link",m),An(l),s.head.appendChild(l))}function Go(s){return'[src="'+Nr(s)+'"]'}function Hu(s){return"script[async]"+s}function jC(s,l,m){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Nr(m.href)+'"]');if(g)return l.instance=g,An(g),g;var b=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),An(g),Rn(g,"style",b),Xf(g,m.precedence,s),l.instance=g;case"stylesheet":b=zo(m.href);var E=s.querySelector(Gu(b));if(E)return l.state.loading|=4,l.instance=E,An(E),E;g=CC(m),(b=Or.get(b))&&Jy(g,b),E=(s.ownerDocument||s).createElement("link"),An(E);var O=E;return O._p=new Promise(function(F,J){O.onload=F,O.onerror=J}),Rn(E,"link",g),l.state.loading|=4,Xf(E,m.precedence,s),l.instance=E;case"script":return E=Go(m.src),(b=s.querySelector(Hu(E)))?(l.instance=b,An(b),b):(g=m,(b=Or.get(E))&&(g=h({},m),Qy(g,b)),s=s.ownerDocument||s,b=s.createElement("script"),An(b),Rn(b,"link",g),s.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Xf(g,m.precedence,s));return l.instance}function Xf(s,l,m){for(var g=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,E=b,O=0;O<g.length;O++){var F=g[O];if(F.dataset.precedence===l)E=F;else if(E!==b)break}E?E.parentNode.insertBefore(s,E.nextSibling):(l=m.nodeType===9?m.head:m,l.insertBefore(s,l.firstChild))}function Jy(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Qy(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Jf=null;function MC(s,l,m){if(Jf===null){var g=new Map,b=Jf=new Map;b.set(m,g)}else b=Jf,g=b.get(m),g||(g=new Map,b.set(m,g));if(g.has(s))return g;for(g.set(s,null),m=m.getElementsByTagName(s),b=0;b<m.length;b++){var E=m[b];if(!(E[lu]||E[kn]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(l)||"";O=s+O;var F=g.get(O);F?F.push(E):g.set(O,[E])}}return g}function kC(s,l,m){s=s.ownerDocument||s,s.head.insertBefore(m,l==="title"?s.querySelector("head > title"):null)}function WV(s,l,m){if(m===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function IC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function XV(s,l,m,g){if(m.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var b=zo(g.href),E=l.querySelector(Gu(b));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Qf.bind(s),l.then(s,s)),m.state.loading|=4,m.instance=E,An(E);return}E=l.ownerDocument||l,g=CC(g),(b=Or.get(b))&&Jy(g,b),E=E.createElement("link"),An(E);var O=E;O._p=new Promise(function(F,J){O.onload=F,O.onerror=J}),Rn(E,"link",g),m.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,l),(l=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=Qf.bind(s),l.addEventListener("load",m),l.addEventListener("error",m))}}var Zy=0;function JV(s,l){return s.stylesheets&&s.count===0&&em(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var g=setTimeout(function(){if(s.stylesheets&&em(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+l);0<s.imgBytes&&Zy===0&&(Zy=62500*kV());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&em(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>Zy?50:800)+l);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function Qf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)em(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zf=null;function em(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zf=new Map,l.forEach(QV,s),Zf=null,Qf.call(s))}function QV(s,l){if(!(l.state.loading&4)){var m=Zf.get(s);if(m)var g=m.get(null);else{m=new Map,Zf.set(s,m);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var O=b[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(m.set(O.dataset.precedence,O),g=O)}g&&m.set(null,g)}b=l.instance,O=b.getAttribute("data-precedence"),E=m.get(O)||g,E===g&&m.set(null,b),m.set(O,b),this.count++,g=Qf.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),E?E.parentNode.insertBefore(b,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),l.state.loading|=4}}var Ku={$$typeof:_,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function ZV(s,l,m,g,b,E,O,F,J){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ct(0),this.hiddenUpdates=ct(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function PC(s,l,m,g,b,E,O,F,J,le,he,xe){return s=new ZV(s,l,m,O,J,le,he,xe,F),l=1,E===!0&&(l|=24),E=dr(3,null,null,l),s.current=E,E.stateNode=s,l=Ig(),l.refCount++,s.pooledCache=l,l.refCount++,E.memoizedState={element:g,isDehydrated:m,cache:l},Dg(E),s}function OC(s){return s?(s=wo,s):wo}function RC(s,l,m,g,b,E){b=OC(b),g.context===null?g.context=b:g.pendingContext=b,g=yi(l),g.payload={element:m},E=E===void 0?null:E,E!==null&&(g.callback=E),m=vi(s,g,l),m!==null&&(nr(m,s,l),Eu(m,s,l))}function DC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<l?m:l}}function e0(s,l){DC(s,l),(s=s.alternate)&&DC(s,l)}function LC(s){if(s.tag===13||s.tag===31){var l=os(s,67108864);l!==null&&nr(l,s,67108864),e0(s,67108864)}}function qC(s){if(s.tag===13||s.tag===31){var l=gr();l=iu(l);var m=os(s,l);m!==null&&nr(m,s,l),e0(s,l)}}var tm=!0;function eF(s,l,m,g){var b=V.T;V.T=null;var E=K.p;try{K.p=2,t0(s,l,m,g)}finally{K.p=E,V.T=b}}function tF(s,l,m,g){var b=V.T;V.T=null;var E=K.p;try{K.p=8,t0(s,l,m,g)}finally{K.p=E,V.T=b}}function t0(s,l,m,g){if(tm){var b=n0(g);if(b===null)$y(s,l,g,nm,m),BC(s,g);else if(rF(b,s,l,m,g))g.stopPropagation();else if(BC(s,g),l&4&&-1<nF.indexOf(s)){for(;b!==null;){var E=co(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=Se(E.pendingLanes);if(O!==0){var F=E;for(F.pendingLanes|=2,F.entangledLanes|=2;O;){var J=1<<31-on(O);F.entanglements[1]|=J,O&=~J}ca(E),(gt&6)===0&&(qf=ee()+500,$u(0))}}break;case 31:case 13:F=os(E,2),F!==null&&nr(F,E,2),Bf(),e0(E,2)}if(E=n0(g),E===null&&$y(s,l,g,nm,m),E===b)break;b=E}b!==null&&g.stopPropagation()}else $y(s,l,g,null,m)}}function n0(s){return s=ag(s),r0(s)}var nm=null;function r0(s){if(nm=null,s=uo(s),s!==null){var l=i(s);if(l===null)s=null;else{var m=l.tag;if(m===13){if(s=o(l),s!==null)return s;s=null}else if(m===31){if(s=u(l),s!==null)return s;s=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return nm=s,null}function UC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ae:return 2;case Ce:return 8;case fe:case Me:return 32;case $t:return 268435456;default:return 32}default:return 32}}var a0=!1,ji=null,Mi=null,ki=null,Yu=new Map,Wu=new Map,Ii=[],nF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BC(s,l){switch(s){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":Yu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(l.pointerId)}}function Xu(s,l,m,g,b,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:m,eventSystemFlags:g,nativeEvent:E,targetContainers:[b]},l!==null&&(l=co(l),l!==null&&LC(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function rF(s,l,m,g,b){switch(l){case"focusin":return ji=Xu(ji,s,l,m,g,b),!0;case"dragenter":return Mi=Xu(Mi,s,l,m,g,b),!0;case"mouseover":return ki=Xu(ki,s,l,m,g,b),!0;case"pointerover":var E=b.pointerId;return Yu.set(E,Xu(Yu.get(E)||null,s,l,m,g,b)),!0;case"gotpointercapture":return E=b.pointerId,Wu.set(E,Xu(Wu.get(E)||null,s,l,m,g,b)),!0}return!1}function $C(s){var l=uo(s.target);if(l!==null){var m=i(l);if(m!==null){if(l=m.tag,l===13){if(l=o(m),l!==null){s.blockedOn=l,Yd(s.priority,function(){qC(m)});return}}else if(l===31){if(l=u(m),l!==null){s.blockedOn=l,Yd(s.priority,function(){qC(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rm(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var m=n0(s.nativeEvent);if(m===null){m=s.nativeEvent;var g=new m.constructor(m.type,m);rg=g,m.target.dispatchEvent(g),rg=null}else return l=co(m),l!==null&&LC(l),s.blockedOn=m,!1;l.shift()}return!0}function VC(s,l,m){rm(s)&&m.delete(l)}function aF(){a0=!1,ji!==null&&rm(ji)&&(ji=null),Mi!==null&&rm(Mi)&&(Mi=null),ki!==null&&rm(ki)&&(ki=null),Yu.forEach(VC),Wu.forEach(VC)}function am(s,l){s.blockedOn===l&&(s.blockedOn=null,a0||(a0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,aF)))}var im=null;function FC(s){im!==s&&(im=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){im===s&&(im=null);for(var l=0;l<s.length;l+=3){var m=s[l],g=s[l+1],b=s[l+2];if(typeof g!="function"){if(r0(g||m)===null)continue;break}var E=co(m);E!==null&&(s.splice(l,3),l-=3,ny(E,{pending:!0,data:b,method:m.method,action:g},g,b))}}))}function Ho(s){function l(J){return am(J,s)}ji!==null&&am(ji,s),Mi!==null&&am(Mi,s),ki!==null&&am(ki,s),Yu.forEach(l),Wu.forEach(l);for(var m=0;m<Ii.length;m++){var g=Ii[m];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Ii.length&&(m=Ii[0],m.blockedOn===null);)$C(m),m.blockedOn===null&&Ii.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(g=0;g<m.length;g+=3){var b=m[g],E=m[g+1],O=b[Xn]||null;if(typeof E=="function")O||FC(m);else if(O){var F=null;if(E&&E.hasAttribute("formAction")){if(b=E,O=E[Xn]||null)F=O.formAction;else if(r0(b)!==null)continue}else F=O.action;typeof F=="function"?m[g+1]=F:(m.splice(g,3),g-=3),FC(m)}}}function zC(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),g||setTimeout(m,20)}function m(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(m,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function i0(s){this._internalRoot=s}sm.prototype.render=i0.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var m=l.current,g=gr();RC(m,g,s,l,null,null)},sm.prototype.unmount=i0.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;RC(s.current,2,null,s,null,null),Bf(),l[lo]=null}};function sm(s){this._internalRoot=s}sm.prototype.unstable_scheduleHydration=function(s){if(s){var l=ou();s={blockedOn:null,target:s,priority:l};for(var m=0;m<Ii.length&&l!==0&&l<Ii[m].priority;m++);Ii.splice(m,0,s),m===0&&$C(s)}};var GC=e.version;if(GC!=="19.2.0")throw Error(r(527,GC,"19.2.0"));K.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var iF={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var om=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!om.isDisabled&&om.supportsFiber)try{tt=om.inject(iF),Kt=om}catch{}}return Qu.createRoot=function(s,l){if(!a(s))throw Error(r(299));var m=!1,g="",b=QN,E=ZN,O=e_;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=PC(s,1,!1,null,null,m,g,null,b,E,O,zC),s[lo]=l.current,By(s),new i0(l)},Qu.hydrateRoot=function(s,l,m){if(!a(s))throw Error(r(299));var g=!1,b="",E=QN,O=ZN,F=e_,J=null;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(b=m.identifierPrefix),m.onUncaughtError!==void 0&&(E=m.onUncaughtError),m.onCaughtError!==void 0&&(O=m.onCaughtError),m.onRecoverableError!==void 0&&(F=m.onRecoverableError),m.formState!==void 0&&(J=m.formState)),l=PC(s,1,!0,l,m??null,g,b,J,E,O,F,zC),l.context=OC(null),m=l.current,g=gr(),g=iu(g),b=yi(g),b.callback=null,vi(m,b,g),m=g,l.current.lanes=m,Xt(l,m),ca(l),s[lo]=l.current,By(s),new sm(l)},Qu.version="19.2.0",Qu}var tj;function hF(){if(tj)return l0.exports;tj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l0.exports=pF(),l0.exports}var gF=hF();const yF=yt(gF);var pq=mq();const vF=yt(pq);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const nj="popstate";function xF(t){t===void 0&&(t={});function e(a,i){let{pathname:o="/",search:u="",hash:f=""}=Xs(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),YS("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=a.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof i=="string"?i:hq(i))}function r(a,i){rT(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return SF(e,n,r,t)}function pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bF(){return Math.random().toString(36).substr(2,8)}function rj(t,e){return{usr:t.state,key:t.key,idx:e}}function YS(t,e,n,r){return n===void 0&&(n=null),_c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xs(e):e,{state:n,key:e&&e.key||r||bF()})}function hq(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SF(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,u=Bi.Pop,f=null,d=p();d==null&&(d=0,o.replaceState(_c({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function h(){u=Bi.Pop;let A=p(),C=A==null?null:A-d;d=A,f&&f({action:u,location:w.location,delta:C})}function y(A,C){u=Bi.Push;let M=YS(w.location,A,C);n&&n(M,A),d=p()+1;let _=rj(M,d),k=w.createHref(M);try{o.pushState(_,"",k)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(k)}i&&f&&f({action:u,location:w.location,delta:1})}function x(A,C){u=Bi.Replace;let M=YS(w.location,A,C);n&&n(M,A),d=p();let _=rj(M,d),k=w.createHref(M);o.replaceState(_,"",k),i&&f&&f({action:u,location:w.location,delta:0})}function T(A){let C=a.location.origin!=="null"?a.location.origin:a.location.href,M=typeof A=="string"?A:hq(A);return M=M.replace(/ $/,"%20"),pn(C,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,C)}let w={get action(){return u},get location(){return t(a,o)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(nj,h),f=A,()=>{a.removeEventListener(nj,h),f=null}},createHref(A){return e(a,A)},createURL:T,encodeLocation(A){let C=T(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(A){return o.go(A)}};return w}var aj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(aj||(aj={}));function wF(t,e,n){return n===void 0&&(n="/"),AF(t,e,n)}function AF(t,e,n,r){let a=typeof e=="string"?Xs(e):e,i=vq(a.pathname||"/",n);if(i==null)return null;let o=gq(t);TF(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=DF(i);u=PF(o[f],d)}return u}function gq(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,u)=>{let f={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};f.relativePath.startsWith("/")&&(pn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let d=Ds([r,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&(pn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),gq(i.children,e,p,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:kF(d,i.index),routesMeta:p})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,o);else for(let f of yq(i.path))a(i,o,f)}),e}function yq(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=yq(r.join("/")),u=[];return u.push(...o.map(f=>f===""?i:[i,f].join("/"))),a&&u.push(...o),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function TF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:IF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EF=/^:[\w-]+$/,NF=3,_F=2,CF=1,jF=10,MF=-2,ij=t=>t==="*";function kF(t,e){let n=t.split("/"),r=n.length;return n.some(ij)&&(r+=MF),e&&(r+=_F),n.filter(a=>!ij(a)).reduce((a,i)=>a+(EF.test(i)?NF:i===""?CF:jF),r)}function IF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function PF(t,e,n){let{routesMeta:r}=t,a={},i="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",h=OF({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),y=f.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Ds([i,h.pathname]),pathnameBase:BF(Ds([i,h.pathnameBase])),route:y}),h.pathnameBase!=="/"&&(i=Ds([i,h.pathnameBase]))}return o}function OF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RF(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((d,p,h)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let w=u[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=u[h];return x&&!T?d[y]=void 0:d[y]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function RF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function DF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vq(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Xs(t):t;return{pathname:n?n.startsWith("/")?n:qF(n,e):e,search:$F(r),hash:VF(a)}}function qF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function f0(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xq(t,e){let n=UF(t);return e?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bq(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Xs(t):(a=_c({},t),pn(!a.pathname||!a.pathname.includes("?"),f0("?","pathname","search",a)),pn(!a.pathname||!a.pathname.includes("#"),f0("#","pathname","hash",a)),pn(!a.search||!a.search.includes("#"),f0("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),h-=1;a.pathname=y.join("/")}u=h>=0?e[h]:"/"}let f=LF(a,u),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}const Ds=t=>t.join("/").replace(/\/\/+/g,"/"),BF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$F=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sq=["post","put","patch","delete"];new Set(Sq);const zF=["get",...Sq];new Set(zF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cc.apply(this,arguments)}const aT=j.createContext(null),GF=j.createContext(null),Ad=j.createContext(null),eh=j.createContext(null),Ki=j.createContext({outlet:null,matches:[],isDataRoute:!1}),wq=j.createContext(null);function Td(){return j.useContext(eh)!=null}function Ed(){return Td()||pn(!1),j.useContext(eh).location}function Aq(t){j.useContext(Ad).static||j.useLayoutEffect(t)}function Tq(){let{isDataRoute:t}=j.useContext(Ki);return t?az():HF()}function HF(){Td()||pn(!1);let t=j.useContext(aT),{basename:e,future:n,navigator:r}=j.useContext(Ad),{matches:a}=j.useContext(Ki),{pathname:i}=Ed(),o=JSON.stringify(xq(a,n.v7_relativeSplatPath)),u=j.useRef(!1);return Aq(()=>{u.current=!0}),j.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let h=bq(d,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ds([e,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[e,r,o,i,t])}function $r(){let{matches:t}=j.useContext(Ki),e=t[t.length-1];return e?e.params:{}}function KF(t,e){return YF(t,e)}function YF(t,e,n,r){Td()||pn(!1);let{navigator:a}=j.useContext(Ad),{matches:i}=j.useContext(Ki),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let f=o?o.pathnameBase:"/";o&&o.route;let d=Ed(),p;if(e){var h;let A=typeof e=="string"?Xs(e):e;f==="/"||(h=A.pathname)!=null&&h.startsWith(f)||pn(!1),p=A}else p=d;let y=p.pathname||"/",x=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=wF(t,{pathname:x}),w=ZF(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Ds([f,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Ds([f,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&w?j.createElement(eh.Provider,{value:{location:Cc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Bi.Pop}},w):w}function WF(){let t=rz(),e=FF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:a},n):null,null)}const XF=j.createElement(WF,null);class JF extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Ki.Provider,{value:this.props.routeContext},j.createElement(wq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QF(t){let{routeContext:e,match:n,children:r}=t,a=j.useContext(aT);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Ki.Provider,{value:e},r)}function ZF(t,e,n,r){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let p=o.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);p>=0||pn(!1),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=p),h.route.id){let{loaderData:y,errors:x}=n,T=h.route.loader&&y[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||T){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,h,y)=>{let x,T=!1,w=null,A=null;n&&(x=u&&h.route.id?u[h.route.id]:void 0,w=h.route.errorElement||XF,f&&(d<0&&y===0?(iz("route-fallback"),T=!0,A=null):d===y&&(T=!0,A=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),M=()=>{let _;return x?_=w:T?_=A:h.route.Component?_=j.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=p,j.createElement(QF,{match:h,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?j.createElement(JF,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:M(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):M()},null)}var Eq=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Eq||{}),Nq=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Nq||{});function ez(t){let e=j.useContext(aT);return e||pn(!1),e}function tz(t){let e=j.useContext(GF);return e||pn(!1),e}function nz(t){let e=j.useContext(Ki);return e||pn(!1),e}function _q(t){let e=nz(),n=e.matches[e.matches.length-1];return n.route.id||pn(!1),n.route.id}function rz(){var t;let e=j.useContext(wq),n=tz(),r=_q();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function az(){let{router:t}=ez(Eq.UseNavigateStable),e=_q(Nq.UseNavigateStable),n=j.useRef(!1);return Aq(()=>{n.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Cc({fromRouteId:e},i)))},[t,e])}const sj={};function iz(t,e,n){sj[t]||(sj[t]=!0)}function sz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vn(t){let{to:e,replace:n,state:r,relative:a}=t;Td()||pn(!1);let{future:i,static:o}=j.useContext(Ad),{matches:u}=j.useContext(Ki),{pathname:f}=Ed(),d=Tq(),p=bq(e,xq(u,i.v7_relativeSplatPath),f,a==="path"),h=JSON.stringify(p);return j.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:a}),[d,h,a,n,r]),null}function Ze(t){pn(!1)}function oz(t){let{basename:e="/",children:n=null,location:r,navigationType:a=Bi.Pop,navigator:i,static:o=!1,future:u}=t;Td()&&pn(!1);let f=e.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:f,navigator:i,static:o,future:Cc({v7_relativeSplatPath:!1},u)}),[f,u,i,o]);typeof r=="string"&&(r=Xs(r));let{pathname:p="/",search:h="",hash:y="",state:x=null,key:T="default"}=r,w=j.useMemo(()=>{let A=vq(p,f);return A==null?null:{location:{pathname:A,search:h,hash:y,state:x,key:T},navigationType:a}},[f,p,h,y,x,T,a]);return w==null?null:j.createElement(Ad.Provider,{value:d},j.createElement(eh.Provider,{children:n,value:w}))}function lz(t){let{children:e,location:n}=t;return KF(WS(e),n)}new Promise(()=>{});function WS(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,a)=>{if(!j.isValidElement(r))return;let i=[...e,a];if(r.type===j.Fragment){n.push.apply(n,WS(r.props.children,i));return}r.type!==Ze&&pn(!1),!r.props.index||!r.props.children||pn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=WS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function XS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function uz(t,e){let n=XS(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(i=>{n.append(a,i)})}),n}const cz="6";try{window.__reactRouterVersion=cz}catch{}const dz="startTransition",oj=nT[dz];function fz(t){let{basename:e,children:n,future:r,window:a}=t,i=j.useRef();i.current==null&&(i.current=xF({window:a,v5Compat:!0}));let o=i.current,[u,f]=j.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=j.useCallback(h=>{d&&oj?oj(()=>f(h)):f(h)},[f,d]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.useEffect(()=>sz(r),[r]),j.createElement(oz,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}var lj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lj||(lj={}));var uj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uj||(uj={}));function mz(t){let e=j.useRef(XS(t)),n=j.useRef(!1),r=Ed(),a=j.useMemo(()=>uz(r.search,n.current?null:e.current),[r.search]),i=Tq(),o=j.useCallback((u,f)=>{const d=XS(typeof u=="function"?u(a):u);n.current=!0,i("?"+d,f)},[i,a]);return[a,o]}var Ge=(t=>(t.ASSIGN="Attribuer un équipement",t.RETURN="Retourner un équipement",t))(Ge||{}),qe=(t=>(t.AVAILABLE="Disponible",t.ASSIGNED="Attribué",t.PENDING_VALIDATION="En attente de validation",t.IN_REPAIR="En réparation",t.IN_STORAGE="En stock",t.DECOMMISSIONED="Désaffecté",t))(qe||{}),Ut=(t=>(t.PENDING="En attente",t.APPROVED="Approuvé",t.REJECTED="Rejeté",t))(Ut||{}),_e=(t=>(t.ADMIN="Admin TI",t.MANAGER="Responsable",t.EMPLOYEE="Employé",t))(_e||{});const iT=j.createContext({});function sT(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const oT=typeof window<"u",Cq=oT?j.useLayoutEffect:j.useEffect,th=j.createContext(null);function lT(t,e){t.indexOf(e)===-1&&t.push(e)}function uT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Xa=(t,e,n)=>n>e?e:n<t?t:n;let cT=()=>{};const Ja={},jq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Mq(t){return typeof t=="object"&&t!==null}const kq=t=>/^0[^.\s]+$/u.test(t);function dT(t){let e;return()=>(e===void 0&&(e=t()),e)}const zr=t=>t,pz=(t,e)=>n=>e(t(n)),Nd=(...t)=>t.reduce(pz),jc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class fT{constructor(){this.subscriptions=[]}add(e){return lT(this.subscriptions,e),()=>uT(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pa=t=>t*1e3,Vr=t=>t/1e3;function Iq(t,e){return e?t*(1e3/e):0}const Pq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hz=1e-7,gz=12;function yz(t,e,n,r,a){let i,o,u=0;do o=e+(n-e)/2,i=Pq(o,r,a)-t,i>0?n=o:e=o;while(Math.abs(i)>hz&&++u<gz);return o}function _d(t,e,n,r){if(t===e&&n===r)return zr;const a=i=>yz(i,0,1,t,n);return i=>i===0||i===1?i:Pq(a(i),e,r)}const Oq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Rq=t=>e=>1-t(1-e),Dq=_d(.33,1.53,.69,.99),mT=Rq(Dq),Lq=Oq(mT),qq=t=>(t*=2)<1?.5*mT(t):.5*(2-Math.pow(2,-10*(t-1))),pT=t=>1-Math.sin(Math.acos(t)),Uq=Rq(pT),Bq=Oq(pT),vz=_d(.42,0,1,1),xz=_d(0,0,.58,1),$q=_d(.42,0,.58,1),bz=t=>Array.isArray(t)&&typeof t[0]!="number",Vq=t=>Array.isArray(t)&&typeof t[0]=="number",Sz={linear:zr,easeIn:vz,easeInOut:$q,easeOut:xz,circIn:pT,circInOut:Bq,circOut:Uq,backIn:mT,backInOut:Lq,backOut:Dq,anticipate:qq},wz=t=>typeof t=="string",cj=t=>{if(Vq(t)){cT(t.length===4);const[e,n,r,a]=t;return _d(e,n,r,a)}else if(wz(t))return Sz[t];return t},um=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Az(t,e){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(p){o.has(p)&&(d.schedule(p),t()),p(u)}const d={schedule:(p,h=!1,y=!1)=>{const T=y&&a?n:r;return h&&o.add(p),T.has(p)||T.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(u=p,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),n.clear(),a=!1,i&&(i=!1,d.process(p))}};return d}const Tz=40;function Fq(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=um.reduce((_,k)=>(_[k]=Az(i),_),{}),{setup:u,read:f,resolveKeyframes:d,preUpdate:p,update:h,preRender:y,render:x,postRender:T}=o,w=()=>{const _=Ja.useManualTiming?a.timestamp:performance.now();n=!1,Ja.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(_-a.timestamp,Tz),1)),a.timestamp=_,a.isProcessing=!0,u.process(a),f.process(a),d.process(a),p.process(a),h.process(a),y.process(a),x.process(a),T.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(w))},A=()=>{n=!0,r=!0,a.isProcessing||t(w)};return{schedule:um.reduce((_,k)=>{const N=o[k];return _[k]=(I,P=!1,L=!1)=>(n||A(),N.schedule(I,P,L)),_},{}),cancel:_=>{for(let k=0;k<um.length;k++)o[um[k]].cancel(_)},state:a,steps:o}}const{schedule:zt,cancel:Gi,state:Ln,steps:m0}=Fq(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0);let qm;function Ez(){qm=void 0}const ir={now:()=>(qm===void 0&&ir.set(Ln.isProcessing||Ja.useManualTiming?Ln.timestamp:performance.now()),qm),set:t=>{qm=t,queueMicrotask(Ez)}},zq=t=>e=>typeof e=="string"&&e.startsWith(t),hT=zq("--"),Nz=zq("var(--"),gT=t=>Nz(t)?_z.test(t.split("/*")[0].trim()):!1,_z=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Mc={...Hl,transform:t=>Xa(0,1,t)},cm={...Hl,default:1},hc=t=>Math.round(t*1e5)/1e5,yT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Cz(t){return t==null}const jz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vT=(t,e)=>n=>!!(typeof n=="string"&&jz.test(n)&&n.startsWith(t)||e&&!Cz(n)&&Object.prototype.hasOwnProperty.call(n,e)),Gq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,u]=r.match(yT);return{[t]:parseFloat(a),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},Mz=t=>Xa(0,255,t),p0={...Hl,transform:t=>Math.round(Mz(t))},js={test:vT("rgb","red"),parse:Gq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+p0.transform(t)+", "+p0.transform(e)+", "+p0.transform(n)+", "+hc(Mc.transform(r))+")"};function kz(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const JS={test:vT("#"),parse:kz,transform:js.transform},Cd=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Di=Cd("deg"),ha=Cd("%"),Fe=Cd("px"),Iz=Cd("vh"),Pz=Cd("vw"),dj={...ha,parse:t=>ha.parse(t)/100,transform:t=>ha.transform(t*100)},el={test:vT("hsl","hue"),parse:Gq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ha.transform(hc(e))+", "+ha.transform(hc(n))+", "+hc(Mc.transform(r))+")"},mn={test:t=>js.test(t)||JS.test(t)||el.test(t),parse:t=>js.test(t)?js.parse(t):el.test(t)?el.parse(t):JS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?js.transform(t):el.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},Oz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Rz(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(yT))==null?void 0:e.length)||0)+(((n=t.match(Oz))==null?void 0:n.length)||0)>0}const Hq="number",Kq="color",Dz="var",Lz="var(",fj="${}",qz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const u=e.replace(qz,f=>(mn.test(f)?(r.color.push(i),a.push(Kq),n.push(mn.parse(f))):f.startsWith(Lz)?(r.var.push(i),a.push(Dz),n.push(f)):(r.number.push(i),a.push(Hq),n.push(parseFloat(f))),++i,fj)).split(fj);return{values:n,split:u,indexes:r,types:a}}function Yq(t){return kc(t).values}function Wq(t){const{split:e,types:n}=kc(t),r=e.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],a[o]!==void 0){const u=n[o];u===Hq?i+=hc(a[o]):u===Kq?i+=mn.transform(a[o]):i+=a[o]}return i}}const Uz=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function Bz(t){const e=Yq(t);return Wq(t)(e.map(Uz))}const Hi={test:Rz,parse:Yq,createTransformer:Wq,getAnimatableNone:Bz};function h0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $z({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,i=0,o=0;if(!e)a=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;a=h0(f,u,t+1/3),i=h0(f,u,t),o=h0(f,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Hm(t,e){return n=>n>0?e:t}const Yt=(t,e,n)=>t+(e-t)*n,g0=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},Vz=[JS,js,el],Fz=t=>Vz.find(e=>e.test(t));function mj(t){const e=Fz(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=$z(n)),n}const pj=(t,e)=>{const n=mj(t),r=mj(e);if(!n||!r)return Hm(t,e);const a={...n};return i=>(a.red=g0(n.red,r.red,i),a.green=g0(n.green,r.green,i),a.blue=g0(n.blue,r.blue,i),a.alpha=Yt(n.alpha,r.alpha,i),js.transform(a))},QS=new Set(["none","hidden"]);function zz(t,e){return QS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Gz(t,e){return n=>Yt(t,e,n)}function xT(t){return typeof t=="number"?Gz:typeof t=="string"?gT(t)?Hm:mn.test(t)?pj:Yz:Array.isArray(t)?Xq:typeof t=="object"?mn.test(t)?pj:Hz:Hm}function Xq(t,e){const n=[...t],r=n.length,a=t.map((i,o)=>xT(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function Hz(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=xT(t[a])(t[a],e[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Kz(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][r[i]],u=t.values[o]??0;n[a]=u,r[i]++}return n}const Yz=(t,e)=>{const n=Hi.createTransformer(e),r=kc(t),a=kc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?QS.has(t)&&!a.values.length||QS.has(e)&&!r.values.length?zz(t,e):Nd(Xq(Kz(r,a),a.values),n):Hm(t,e)};function Jq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Yt(t,e,n):xT(t)(t,e)}const Wz=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>zt.update(e,n),stop:()=>Gi(e),now:()=>Ln.isProcessing?Ln.timestamp:ir.now()}},Qq=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let i=0;i<a;i++)r+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Km=2e4;function bT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Km;)e+=n,r=t.next(e);return e>=Km?1/0:e}function Xz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(bT(r),Km);return{type:"keyframes",ease:i=>r.next(a*i).value/e,duration:Vr(a)}}const Jz=5;function Zq(t,e,n){const r=Math.max(e-Jz,0);return Iq(n-t(r),e-r)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},y0=.001;function Qz({duration:t=en.duration,bounce:e=en.bounce,velocity:n=en.velocity,mass:r=en.mass}){let a,i,o=1-e;o=Xa(en.minDamping,en.maxDamping,o),t=Xa(en.minDuration,en.maxDuration,Vr(t)),o<1?(a=d=>{const p=d*o,h=p*t,y=p-n,x=ZS(d,o),T=Math.exp(-h);return y0-y/x*T},i=d=>{const h=d*o*t,y=h*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-h),w=ZS(Math.pow(d,2),o);return(-a(d)+y0>0?-1:1)*((y-x)*T)/w}):(a=d=>{const p=Math.exp(-d*t),h=(d-n)*t+1;return-y0+p*h},i=d=>{const p=Math.exp(-d*t),h=(n-d)*(t*t);return p*h});const u=5/t,f=eG(a,i,u);if(t=pa(t),isNaN(f))return{stiffness:en.stiffness,damping:en.damping,duration:t};{const d=Math.pow(f,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Zz=12;function eG(t,e,n){let r=n;for(let a=1;a<Zz;a++)r=r-t(r)/e(r);return r}function ZS(t,e){return t*Math.sqrt(1-e*e)}const tG=["duration","bounce"],nG=["stiffness","damping","mass"];function hj(t,e){return e.some(n=>t[n]!==void 0)}function rG(t){let e={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...t};if(!hj(t,nG)&&hj(t,tG))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Xa(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:en.mass,stiffness:a,damping:i}}else{const n=Qz(t);e={...e,...n,mass:en.mass},e.isResolvedFromDuration=!0}return e}function Ym(t=en.visualDuration,e=en.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:f,damping:d,mass:p,duration:h,velocity:y,isResolvedFromDuration:x}=rG({...n,velocity:-Vr(n.velocity||0)}),T=y||0,w=d/(2*Math.sqrt(f*p)),A=o-i,C=Vr(Math.sqrt(f/p)),M=Math.abs(A)<5;r||(r=M?en.restSpeed.granular:en.restSpeed.default),a||(a=M?en.restDelta.granular:en.restDelta.default);let _;if(w<1){const N=ZS(C,w);_=I=>{const P=Math.exp(-w*C*I);return o-P*((T+w*C*A)/N*Math.sin(N*I)+A*Math.cos(N*I))}}else if(w===1)_=N=>o-Math.exp(-C*N)*(A+(T+C*A)*N);else{const N=C*Math.sqrt(w*w-1);_=I=>{const P=Math.exp(-w*C*I),L=Math.min(N*I,300);return o-P*((T+w*C*A)*Math.sinh(L)+N*A*Math.cosh(L))/N}}const k={calculatedDuration:x&&h||null,next:N=>{const I=_(N);if(x)u.done=N>=h;else{let P=N===0?T:0;w<1&&(P=N===0?pa(T):Zq(_,N,I));const L=Math.abs(P)<=r,D=Math.abs(o-I)<=a;u.done=L&&D}return u.value=u.done?o:I,u},toString:()=>{const N=Math.min(bT(k),Km),I=Qq(P=>k.next(N*P).value,N,30);return N+"ms "+I},toTransition:()=>{}};return k}Ym.applyToOptions=t=>{const e=Xz(t,100,Ym);return t.ease=e.ease,t.duration=pa(e.duration),t.type="keyframes",t};function ew({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:f,restDelta:d=.5,restSpeed:p}){const h=t[0],y={done:!1,value:h},x=L=>u!==void 0&&L<u||f!==void 0&&L>f,T=L=>u===void 0?f:f===void 0||Math.abs(u-L)<Math.abs(f-L)?u:f;let w=n*e;const A=h+w,C=o===void 0?A:o(A);C!==A&&(w=C-h);const M=L=>-w*Math.exp(-L/r),_=L=>C+M(L),k=L=>{const D=M(L),q=_(L);y.done=Math.abs(D)<=d,y.value=y.done?C:q};let N,I;const P=L=>{x(y.value)&&(N=L,I=Ym({keyframes:[y.value,T(y.value)],velocity:Zq(_,L,y.value),damping:a,stiffness:i,restDelta:d,restSpeed:p}))};return P(0),{calculatedDuration:null,next:L=>{let D=!1;return!I&&N===void 0&&(D=!0,k(L),P(L)),N!==void 0&&L>=N?I.next(L-N):(!D&&k(L),y)}}}function aG(t,e,n){const r=[],a=n||Ja.mix||Jq,i=t.length-1;for(let o=0;o<i;o++){let u=a(t[o],t[o+1]);if(e){const f=Array.isArray(e)?e[o]||zr:e;u=Nd(f,u)}r.push(u)}return r}function iG(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const i=t.length;if(cT(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=aG(e,r,a),f=u.length,d=p=>{if(o&&p<t[0])return e[0];let h=0;if(f>1)for(;h<t.length-2&&!(p<t[h+1]);h++);const y=jc(t[h],t[h+1],p);return u[h](y)};return n?p=>d(Xa(t[0],t[i-1],p)):d}function sG(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=jc(0,e,r);t.push(Yt(n,1,a))}}function oG(t){const e=[0];return sG(e,t.length-1),e}function lG(t,e){return t.map(n=>n*e)}function uG(t,e){return t.map(()=>e||$q).splice(0,t.length-1)}function gc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=bz(r)?r.map(cj):cj(r),i={done:!1,value:e[0]},o=lG(n&&n.length===e.length?n:oG(e),t),u=iG(o,e,{ease:Array.isArray(a)?a:uG(e,a)});return{calculatedDuration:t,next:f=>(i.value=u(f),i.done=f>=t,i)}}const cG=t=>t!==null;function ST(t,{repeat:e,repeatType:n="loop"},r,a=1){const i=t.filter(cG),u=a<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const dG={decay:ew,inertia:ew,tween:gc,keyframes:gc,spring:Ym};function e4(t){typeof t.type=="string"&&(t.type=dG[t.type])}class wT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const fG=t=>t/100;class AT extends wT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==ir.now()&&this.tick(ir.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;e4(e);const{type:n=gc,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const f=n||gc;f!==gc&&typeof u[0]!="number"&&(this.mixKeyframes=Nd(fG,Jq(u[0],u[1])),u=[0,100]);const d=f({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=bT(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:h,repeatType:y,repeatDelay:x,type:T,onUpdate:w,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-d*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?C<0:C>a;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,k=r;if(h){const L=Math.min(this.currentTime,a)/u;let D=Math.floor(L),q=L%1;!q&&L>=1&&(q=1),q===1&&D--,D=Math.min(D,h+1),!!(D%2)&&(y==="reverse"?(q=1-q,x&&(q-=x/u)):y==="mirror"&&(k=o)),_=Xa(0,1,q)*u}const N=M?{done:!1,value:p[0]}:k.next(_);i&&(N.value=i(N.value));let{done:I}=N;!M&&f!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return P&&T!==ew&&(N.value=ST(p,this.options,A,this.speed)),w&&w(N.value),P&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Vr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vr(e)}get time(){return Vr(this.currentTime)}set time(e){var n;e=pa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ir.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=Wz,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ir.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function mG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ms=t=>t*180/Math.PI,tw=t=>{const e=Ms(Math.atan2(t[1],t[0]));return nw(e)},pG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tw,rotateZ:tw,skewX:t=>Ms(Math.atan(t[1])),skewY:t=>Ms(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},nw=t=>(t=t%360,t<0&&(t+=360),t),gj=tw,yj=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),vj=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yj,scaleY:vj,scale:t=>(yj(t)+vj(t))/2,rotateX:t=>nw(Ms(Math.atan2(t[6],t[5]))),rotateY:t=>nw(Ms(Math.atan2(-t[2],t[0]))),rotateZ:gj,rotate:gj,skewX:t=>Ms(Math.atan(t[4])),skewY:t=>Ms(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function rw(t){return t.includes("scale")?1:0}function aw(t,e){if(!t||t==="none")return rw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=hG,a=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=pG,a=u}if(!a)return rw(e);const i=r[e],o=a[1].split(",").map(yG);return typeof i=="function"?i(o):o[i]}const gG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return aw(n,e)};function yG(t){return parseFloat(t.trim())}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Yl=new Set(Kl),xj=t=>t===Hl||t===Fe,vG=new Set(["x","y","z"]),xG=Kl.filter(t=>!vG.has(t));function bG(t){const e=[];return xG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ls={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>aw(e,"x"),y:(t,{transform:e})=>aw(e,"y")};Ls.translateX=Ls.x;Ls.translateY=Ls.y;const qs=new Set;let iw=!1,sw=!1,ow=!1;function t4(){if(sw){const t=Array.from(qs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=bG(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sw=!1,iw=!1,qs.forEach(t=>t.complete(ow)),qs.clear()}function n4(){qs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(sw=!0)})}function SG(){ow=!0,n4(),t4(),ow=!1}class TT{constructor(e,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qs.add(this),iw||(iw=!0,zt.read(n4),zt.resolveKeyframes(t4))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}mG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qs.delete(this)}cancel(){this.state==="scheduled"&&(qs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wG=t=>t.startsWith("--");function AG(t,e,n){wG(e)?t.style.setProperty(e,n):t.style[e]=n}const TG=dT(()=>window.ScrollTimeline!==void 0),EG={};function NG(t,e){const n=dT(t);return()=>EG[e]??n()}const r4=NG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,bj={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cc([0,.65,.55,1]),circOut:cc([.55,0,1,.45]),backIn:cc([.31,.01,.66,-.59]),backOut:cc([.33,1.53,.69,.99])};function a4(t,e){if(t)return typeof t=="function"?r4()?Qq(t,e):"ease-out":Vq(t)?cc(t):Array.isArray(t)?t.map(n=>a4(n,e)||bj.easeOut):bj[t]}function _G(t,e,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:f}={},d=void 0){const p={[e]:n};f&&(p.offset=f);const h=a4(u,a);Array.isArray(h)&&(p.easing=h);const y={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(p,y)}function i4(t){return typeof t=="function"&&"applyToOptions"in t}function CG({type:t,...e}){return i4(t)&&r4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class jG extends wT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,cT(typeof e.type!="string");const d=CG(e);this.animation=_G(n,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=ST(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):AG(n,r,p),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Vr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vr(e)}get time(){return Vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&TG()?(this.animation.timeline=e,zr):n(this)}}const s4={anticipate:qq,backInOut:Lq,circInOut:Bq};function MG(t){return t in s4}function kG(t){typeof t.ease=="string"&&MG(t.ease)&&(t.ease=s4[t.ease])}const Sj=10;class IG extends jG{constructor(e){kG(e),e4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new AT({...o,autoplay:!1}),f=pa(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-Sj).value,u.sample(f).value,Sj),u.stop()}}const wj=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hi.test(t)||t==="0")&&!t.startsWith("url("));function PG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function OG(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=wj(a,e),u=wj(i,e);return!o||!u?!1:PG(t)||(n==="spring"||i4(n))&&r}function lw(t){t.duration=0,t.type="keyframes"}const RG=new Set(["opacity","clipPath","filter","transform"]),DG=dT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LG(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return DG()&&n&&RG.has(n)&&(n!=="transform"||!d)&&!f&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const qG=40;class UG extends wT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:f,motionValue:d,element:p,...h}){var T;super(),this.stop=()=>{var w,A;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=ir.now();const y={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:f,motionValue:d,element:p,...h},x=(p==null?void 0:p.KeyframeResolver)||TT;this.keyframeResolver=new x(u,(w,A,C)=>this.onKeyframesResolved(w,A,y,!C),f,d,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:f,isHandoff:d,onUpdate:p}=r;this.resolvedAt=ir.now(),OG(e,i,o,u)||((Ja.instantAnimations||!f)&&(p==null||p(ST(e,r,n))),e[0]=e[e.length-1],lw(r),r.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>qG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!d&&LG(y)?new IG({...y,element:y.motionValue.owner.current}):new AT(y);x.finished.then(()=>this.notifyFinished()).catch(zr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),SG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const BG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function $G(t){const e=BG.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function o4(t,e,n=1){const[r,a]=$G(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return jq(o)?parseFloat(o):o}return gT(a)?o4(a,e,n+1):a}function ET(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const l4=new Set(["width","height","top","left","right","bottom",...Kl]),VG={test:t=>t==="auto",parse:t=>t},u4=t=>e=>e.test(t),c4=[Hl,Fe,ha,Di,Pz,Iz,VG],Aj=t=>c4.find(u4(t));function FG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kq(t):!0}const zG=new Set(["brightness","contrast","saturate","opacity"]);function GG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(yT)||[];if(!r)return t;const a=n.replace(r,"");let i=zG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+a+")"}const HG=/\b([a-z-]*)\(.*?\)/gu,uw={...Hi,getAnimatableNone:t=>{const e=t.match(HG);return e?e.map(GG).join(" "):t}},Tj={...Hl,transform:Math.round},KG={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:cm,scaleX:cm,scaleY:cm,scaleZ:cm,skew:Di,skewX:Di,skewY:Di,distance:Fe,translateX:Fe,translateY:Fe,translateZ:Fe,x:Fe,y:Fe,z:Fe,perspective:Fe,transformPerspective:Fe,opacity:Mc,originX:dj,originY:dj,originZ:Fe},NT={borderWidth:Fe,borderTopWidth:Fe,borderRightWidth:Fe,borderBottomWidth:Fe,borderLeftWidth:Fe,borderRadius:Fe,radius:Fe,borderTopLeftRadius:Fe,borderTopRightRadius:Fe,borderBottomRightRadius:Fe,borderBottomLeftRadius:Fe,width:Fe,maxWidth:Fe,height:Fe,maxHeight:Fe,top:Fe,right:Fe,bottom:Fe,left:Fe,padding:Fe,paddingTop:Fe,paddingRight:Fe,paddingBottom:Fe,paddingLeft:Fe,margin:Fe,marginTop:Fe,marginRight:Fe,marginBottom:Fe,marginLeft:Fe,backgroundPositionX:Fe,backgroundPositionY:Fe,...KG,zIndex:Tj,fillOpacity:Mc,strokeOpacity:Mc,numOctaves:Tj},YG={...NT,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:uw,WebkitFilter:uw},d4=t=>YG[t];function f4(t,e){let n=d4(t);return n!==uw&&(n=Hi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const WG=new Set(["auto","none","0"]);function XG(t,e,n){let r=0,a;for(;r<t.length&&!a;){const i=t[r];typeof i=="string"&&!WG.has(i)&&kc(i).values.length&&(a=t[r]),r++}if(a&&n)for(const i of e)t[i]=f4(n,a)}class JG extends TT{constructor(e,n,r,a,i){super(e,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),gT(d))){const p=o4(d,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!l4.has(r)||e.length!==2)return;const[a,i]=e,o=Aj(a),u=Aj(i);if(o!==u)if(xj(o)&&xj(u))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Ls[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||FG(e[a]))&&r.push(a);r.length&&XG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ls[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ls[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function QG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const m4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function p4(t){return Mq(t)&&"offsetHeight"in t}const Ej=30,ZG=t=>!isNaN(parseFloat(t));class e8{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=ir.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ir.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new fT);const r=this.events[e].add(n);return e==="change"?()=>{r(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ir.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Ej)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ej);return Iq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(t,e){return new e8(t,e)}const{schedule:_T}=Fq(queueMicrotask,!1),Zr={x:!1,y:!1};function h4(){return Zr.x||Zr.y}function t8(t){return t==="x"||t==="y"?Zr[t]?null:(Zr[t]=!0,()=>{Zr[t]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}function g4(t,e){const n=QG(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Nj(t){return!(t.pointerType==="touch"||h4())}function n8(t,e,n={}){const[r,a,i]=g4(t,n),o=u=>{if(!Nj(u))return;const{target:f}=u,d=e(f,u);if(typeof d!="function"||!f)return;const p=h=>{Nj(h)&&(d(h),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,a)};return r.forEach(u=>{u.addEventListener("pointerenter",o,a)}),i}const y4=(t,e)=>e?t===e?!0:y4(t,e.parentElement):!1,CT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,r8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function a8(t){return r8.has(t.tagName)||t.tabIndex!==-1}const Um=new WeakSet;function _j(t){return e=>{e.key==="Enter"&&t(e)}}function v0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i8=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=_j(()=>{if(Um.has(n))return;v0(n,"down");const a=_j(()=>{v0(n,"up")}),i=()=>v0(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Cj(t){return CT(t)&&!h4()}function s8(t,e,n={}){const[r,a,i]=g4(t,n),o=u=>{const f=u.currentTarget;if(!Cj(u))return;Um.add(f);const d=e(f,u),p=(x,T)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",y),Um.has(f)&&Um.delete(f),Cj(x)&&typeof d=="function"&&d(x,{success:T})},h=x=>{p(x,f===window||f===document||n.useGlobalTarget||y4(f,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",y,a)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,a),p4(u)&&(u.addEventListener("focus",d=>i8(d,a)),!a8(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function v4(t){return Mq(t)&&"ownerSVGElement"in t}function o8(t){return v4(t)&&t.tagName==="svg"}const Fn=t=>!!(t&&t.getVelocity),l8=[...c4,mn,Hi],u8=t=>l8.find(u4(t)),jT=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jj(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function c8(...t){return e=>{let n=!1;const r=t.map(a=>{const i=jj(a,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():jj(t[a],null)}}}}function d8(...t){return j.useCallback(c8(...t),t)}class f8 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=p4(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m8({children:t,isPresent:e,anchorX:n,root:r}){const a=j.useId(),i=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=j.useContext(jT),f=d8(i,t==null?void 0:t.ref);return j.useInsertionEffect(()=>{const{width:d,height:p,top:h,left:y,right:x}=o.current;if(e||!i.current||!d||!p)return;const T=n==="left"?`left: ${y}`:`right: ${x}`;i.current.dataset.motionPopId=a;const w=document.createElement("style");u&&(w.nonce=u);const A=r??document.head;return A.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${T}px !important;
            top: ${h}px !important;
          }
        `),()=>{A.contains(w)&&A.removeChild(w)}},[e]),c.jsx(f8,{isPresent:e,childRef:i,sizeRef:o,children:j.cloneElement(t,{ref:f})})}const p8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:u,root:f})=>{const d=sT(h8),p=j.useId();let h=!0,y=j.useMemo(()=>(h=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:x=>{d.set(x,!0);for(const T of d.values())if(!T)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return i&&h&&(y={...y}),j.useMemo(()=>{d.forEach((x,T)=>d.set(T,!1))},[n]),j.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=c.jsx(m8,{isPresent:n,anchorX:u,root:f,children:t})),c.jsx(th.Provider,{value:y,children:t})};function h8(){return new Map}function x4(t=!0){const e=j.useContext(th);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,i=j.useId();j.useEffect(()=>{if(t)return a(i)},[t]);const o=j.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const dm=t=>t.key||"";function Mj(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const Js=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:u="left",root:f})=>{const[d,p]=x4(o),h=j.useMemo(()=>Mj(t),[t]),y=o&&!d?[]:h.map(dm),x=j.useRef(!0),T=j.useRef(h),w=sT(()=>new Map),[A,C]=j.useState(h),[M,_]=j.useState(h);Cq(()=>{x.current=!1,T.current=h;for(let I=0;I<M.length;I++){const P=dm(M[I]);y.includes(P)?w.delete(P):w.get(P)!==!0&&w.set(P,!1)}},[M,y.length,y.join("-")]);const k=[];if(h!==A){let I=[...h];for(let P=0;P<M.length;P++){const L=M[P],D=dm(L);y.includes(D)||(I.splice(P,0,L),k.push(L))}return i==="wait"&&k.length&&(I=k),_(Mj(I)),C(h),null}const{forceRender:N}=j.useContext(iT);return c.jsx(c.Fragment,{children:M.map(I=>{const P=dm(I),L=o&&!d?!1:h===M||y.includes(P),D=()=>{if(w.has(P))w.set(P,!0);else return;let q=!0;w.forEach(U=>{U||(q=!1)}),q&&(N==null||N(),_(T.current),o&&(p==null||p()),r&&r())};return c.jsx(p8,{isPresent:L,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:f,onExitComplete:L?void 0:D,anchorX:u,children:I},P)})})},b4=j.createContext({strict:!1}),kj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bl={};for(const t in kj)bl[t]={isEnabled:e=>kj[t].some(n=>!!e[n])};function g8(t){for(const e in t)bl[e]={...bl[e],...t[e]}}const y8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Wm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||y8.has(t)}let S4=t=>!Wm(t);function v8(t){typeof t=="function"&&(S4=e=>e.startsWith("on")?!Wm(e):t(e))}try{v8(require("@emotion/is-prop-valid").default)}catch{}function x8(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(S4(a)||n===!0&&Wm(a)||!e&&!Wm(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const nh=j.createContext({});function rh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ic(t){return typeof t=="string"||Array.isArray(t)}const MT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kT=["initial",...MT];function ah(t){return rh(t.animate)||kT.some(e=>Ic(t[e]))}function w4(t){return!!(ah(t)||t.variants)}function b8(t,e){if(ah(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ic(n)?n:void 0,animate:Ic(r)?r:void 0}}return t.inherit!==!1?e:{}}function S8(t){const{initial:e,animate:n}=b8(t,j.useContext(nh));return j.useMemo(()=>({initial:e,animate:n}),[Ij(e),Ij(n)])}function Ij(t){return Array.isArray(t)?t.join(" "):t}const Pc={};function w8(t){for(const e in t)Pc[e]=t[e],hT(e)&&(Pc[e].isCSSVariable=!0)}function A4(t,{layout:e,layoutId:n}){return Yl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Pc[t]||t==="opacity")}const A8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},T8=Kl.length;function E8(t,e,n){let r="",a=!0;for(let i=0;i<T8;i++){const o=Kl[i],u=t[o];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(o.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const d=m4(u,NT[o]);if(!f){a=!1;const p=A8[o]||o;r+=`${p}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function IT(t,e,n){const{style:r,vars:a,transformOrigin:i}=t;let o=!1,u=!1;for(const f in e){const d=e[f];if(Yl.has(f)){o=!0;continue}else if(hT(f)){a[f]=d;continue}else{const p=m4(d,NT[f]);f.startsWith("origin")?(u=!0,i[f]=p):r[f]=p}}if(e.transform||(o||n?r.transform=E8(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:p=0}=i;r.transformOrigin=`${f} ${d} ${p}`}}const PT=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function T4(t,e,n){for(const r in e)!Fn(e[r])&&!A4(r,n)&&(t[r]=e[r])}function N8({transformTemplate:t},e){return j.useMemo(()=>{const n=PT();return IT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function _8(t,e){const n=t.style||{},r={};return T4(r,n,t),Object.assign(r,N8(t,e)),r}function C8(t,e){const n={},r=_8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const j8={offset:"stroke-dashoffset",array:"stroke-dasharray"},M8={offset:"strokeDashoffset",array:"strokeDasharray"};function k8(t,e,n=1,r=0,a=!0){t.pathLength=1;const i=a?j8:M8;t[i.offset]=Fe.transform(-r);const o=Fe.transform(e),u=Fe.transform(n);t[i.array]=`${o} ${u}`}function E4(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...u},f,d,p){if(IT(t,u,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:y}=t;h.transform&&(y.transform=h.transform,delete h.transform),(y.transform||h.transformOrigin)&&(y.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&k8(h,a,i,o,!1)}const N4=()=>({...PT(),attrs:{}}),_4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function I8(t,e,n,r){const a=j.useMemo(()=>{const i=N4();return E4(i,e,_4(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};T4(i,t.style,t),a.style={...i,...a.style}}return a}const P8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function OT(t){return typeof t!="string"||t.includes("-")?!1:!!(P8.indexOf(t)>-1||/[A-Z]/u.test(t))}function O8(t,e,n,{latestValues:r},a,i=!1){const u=(OT(t)?I8:C8)(e,r,a,t),f=x8(e,typeof t=="string",i),d=t!==j.Fragment?{...f,...u,ref:n}:{},{children:p}=e,h=j.useMemo(()=>Fn(p)?p.get():p,[p]);return j.createElement(t,{...d,children:h})}function Pj(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function RT(t,e,n,r){if(typeof e=="function"){const[a,i]=Pj(r);e=e(n!==void 0?n:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=Pj(r);e=e(n!==void 0?n:t.custom,a,i)}return e}function Bm(t){return Fn(t)?t.get():t}function R8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:D8(n,r,a,t),renderState:e()}}function D8(t,e,n,r){const a={},i=r(t,{});for(const y in i)a[y]=Bm(i[y]);let{initial:o,animate:u}=t;const f=ah(t),d=w4(t);e&&d&&!f&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const h=p?u:o;if(h&&typeof h!="boolean"&&!rh(h)){const y=Array.isArray(h)?h:[h];for(let x=0;x<y.length;x++){const T=RT(t,y[x]);if(T){const{transitionEnd:w,transition:A,...C}=T;for(const M in C){let _=C[M];if(Array.isArray(_)){const k=p?_.length-1:0;_=_[k]}_!==null&&(a[M]=_)}for(const M in w)a[M]=w[M]}}}return a}const C4=t=>(e,n)=>{const r=j.useContext(nh),a=j.useContext(th),i=()=>R8(t,e,r,a);return n?i():sT(i)};function DT(t,e,n){var i;const{style:r}=t,a={};for(const o in r)(Fn(r[o])||e.style&&Fn(e.style[o])||A4(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const L8=C4({scrapeMotionValuesFromProps:DT,createRenderState:PT});function j4(t,e,n){const r=DT(t,e,n);for(const a in t)if(Fn(t[a])||Fn(e[a])){const i=Kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=t[a]}return r}const q8=C4({scrapeMotionValuesFromProps:j4,createRenderState:N4}),U8=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B8(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tl(n)&&(n.current=r))},[e])}const LT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$8="framerAppearId",M4="data-"+LT($8),k4=j.createContext({});function V8(t,e,n,r,a){var w,A;const{visualElement:i}=j.useContext(nh),o=j.useContext(b4),u=j.useContext(th),f=j.useContext(jT).reducedMotion,d=j.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,h=j.useContext(k4);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&F8(d.current,n,a,h);const y=j.useRef(!1);j.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const x=n[M4],T=j.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,x)));return Cq(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),T.current&&p.animationState&&p.animationState.animateChanges())}),j.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,x)}),T.current=!1),p.enteringChildren=void 0)}),p}function F8(t,e,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:u,layoutScroll:f,layoutRoot:d,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:I4(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||u&&tl(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:f,layoutRoot:d})}function I4(t){if(t)return t.options.allowProjection!==!1?t.projection:I4(t.parent)}function x0(t,{forwardMotionProps:e=!1}={},n,r){n&&g8(n);const a=OT(t)?q8:L8;function i(u,f){let d;const p={...j.useContext(jT),...u,layoutId:z8(u)},{isStatic:h}=p,y=S8(u),x=a(u,h);if(!h&&oT){G8();const T=H8(p);d=T.MeasureLayout,y.visualElement=V8(t,x,p,r,T.ProjectionNode)}return c.jsxs(nh.Provider,{value:y,children:[d&&y.visualElement?c.jsx(d,{visualElement:y.visualElement,...p}):null,O8(t,u,B8(x,y.visualElement,f),x,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=j.forwardRef(i);return o[U8]=t,o}function z8({layoutId:t}){const e=j.useContext(iT).id;return e&&t!==void 0?e+"-"+t:t}function G8(t,e){j.useContext(b4).strict}function H8(t){const{drag:e,layout:n}=bl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function K8(t,e){if(typeof Proxy>"u")return x0;const n=new Map,r=(i,o)=>x0(i,o,t,e),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,x0(o,void 0,t,e)),n.get(o))})}function P4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Y8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function W8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function b0(t){return t===void 0||t===1}function cw({scale:t,scaleX:e,scaleY:n}){return!b0(t)||!b0(e)||!b0(n)}function Ts(t){return cw(t)||O4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function O4(t){return Oj(t.x)||Oj(t.y)}function Oj(t){return t&&t!=="0%"}function Xm(t,e,n){const r=t-n,a=e*r;return n+a}function Rj(t,e,n,r,a){return a!==void 0&&(t=Xm(t,a,r)),Xm(t,n,r)+e}function dw(t,e=0,n=1,r,a){t.min=Rj(t.min,e,n,r,a),t.max=Rj(t.max,e,n,r,a)}function R4(t,{x:e,y:n}){dw(t.x,e.translate,e.scale,e.originPoint),dw(t.y,n.translate,n.scale,n.originPoint)}const Dj=.999999999999,Lj=1.0000000000001;function X8(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let i,o;for(let u=0;u<a;u++){i=n[u],o=i.projectionDelta;const{visualElement:f}=i.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&rl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,R4(t,o)),r&&Ts(i.latestValues)&&rl(t,i.latestValues))}e.x<Lj&&e.x>Dj&&(e.x=1),e.y<Lj&&e.y>Dj&&(e.y=1)}function nl(t,e){t.min=t.min+e,t.max=t.max+e}function qj(t,e,n,r,a=.5){const i=Yt(t.min,t.max,a);dw(t,e,n,i,r)}function rl(t,e){qj(t.x,e.x,e.scaleX,e.scale,e.originX),qj(t.y,e.y,e.scaleY,e.scale,e.originY)}function D4(t,e){return P4(W8(t.getBoundingClientRect(),e))}function J8(t,e,n){const r=D4(t,n),{scroll:a}=e;return a&&(nl(r.x,a.offset.x),nl(r.y,a.offset.y)),r}const Uj=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:Uj(),y:Uj()}),Bj=()=>({min:0,max:0}),sn=()=>({x:Bj(),y:Bj()}),fw={current:null},L4={current:!1};function Q8(){if(L4.current=!0,!!oT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fw.current=t.matches;t.addEventListener("change",e),e()}else fw.current=!1}const Z8=new WeakMap;function eH(t,e,n){for(const r in e){const a=e[r],i=n[r];if(Fn(a))t.addValue(r,a);else if(Fn(i))t.addValue(r,xl(a,{owner:t}));else if(i!==a)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(r);t.addValue(r,xl(o!==void 0?o:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const $j=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=TT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ir.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,zt.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=o;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=ah(n),this.isVariantNode=w4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in h){const x=h[y];f[y]!==void 0&&Fn(x)&&x.set(f[y])}}mount(e){var n;this.current=e,Z8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),L4.current||Q8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gi(this.notifyUpdate),Gi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Yl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&zt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bl){const n=bl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$j.length;r++){const a=$j[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=eH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(jq(r)||kq(r))?r=parseFloat(r):!u8(r)&&Hi.test(n)&&(r=f4(e,n)),this.setBaseTarget(e,Fn(r)?r.get():r)),Fn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=RT(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Fn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new fT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){_T.render(this.render)}}class q4 extends tH{constructor(){super(...arguments),this.KeyframeResolver=JG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function U4(t,{style:e,vars:n},r,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function nH(t){return window.getComputedStyle(t)}class rH extends q4{constructor(){super(...arguments),this.type="html",this.renderInstance=U4}readValueFromInstance(e,n){var r;if(Yl.has(n))return(r=this.projection)!=null&&r.isProjecting?rw(n):gG(e,n);{const a=nH(e),i=(hT(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return D4(e,n)}build(e,n,r){IT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return DT(e,n,r)}}const B4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aH(t,e,n,r){U4(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(B4.has(a)?a:LT(a),e.attrs[a])}class iH extends q4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Yl.has(n)){const r=d4(n);return r&&r.default||0}return n=B4.has(n)?n:LT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return j4(e,n,r)}build(e,n,r){E4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){aH(e,n,r,a)}mount(e){this.isSVGTag=_4(e.tagName),super.mount(e)}}const sH=(t,e)=>OT(t)?new iH(e):new rH(e,{allowProjection:t!==j.Fragment});function dl(t,e,n){const r=t.getProps();return RT(r,e,n!==void 0?n:r.custom,t)}const mw=t=>Array.isArray(t);function oH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xl(n))}function lH(t){return mw(t)?t[t.length-1]||0:t}function uH(t,e){const n=dl(t,e);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const u=lH(i[o]);oH(t,o,u)}}function cH(t){return!!(Fn(t)&&t.add)}function pw(t,e){const n=t.getValue("willChange");if(cH(n))return n.add(e);if(!n&&Ja.WillChange){const r=new Ja.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function $4(t){return t.props[M4]}const dH=t=>t!==null;function fH(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(dH),i=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[i]}const mH={type:"spring",stiffness:500,damping:25,restSpeed:10},pH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hH={type:"keyframes",duration:.8},gH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yH=(t,{keyframes:e})=>e.length>2?hH:Yl.has(t)?t.startsWith("scale")?pH(e[1]):mH:gH;function vH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:u,from:f,elapsed:d,...p}){return!!Object.keys(p).length}const qT=(t,e,n,r={},a,i)=>o=>{const u=ET(r,t)||{},f=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-pa(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:a};vH(u)||Object.assign(p,yH(t,p)),p.duration&&(p.duration=pa(p.duration)),p.repeatDelay&&(p.repeatDelay=pa(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(lw(p),p.delay===0&&(h=!0)),(Ja.instantAnimations||Ja.skipAnimations)&&(h=!0,lw(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,h&&!i&&e.get()!==void 0){const y=fH(p.keyframes,u);if(y!==void 0){zt.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new AT(p):new UG(p)};function xH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function V4(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const f=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const p in u){const h=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||d&&xH(d,p))continue;const x={delay:n,...ET(i||{},p)},T=h.get();if(T!==void 0&&!h.isAnimating&&!Array.isArray(y)&&y===T&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=$4(t);if(C){const M=window.MotionHandoffAnimation(C,p,zt);M!==null&&(x.startTime=M,w=!0)}}pw(t,p),h.start(qT(p,h,y,t.shouldReduceMotion&&l4.has(p)?{type:!1}:x,t,w));const A=h.animation;A&&f.push(A)}return o&&Promise.all(f).then(()=>{zt.update(()=>{o&&uH(t,o)})}),f}function F4(t,e,n,r=0,a=1){const i=Array.from(t).sort((d,p)=>d.sortNodePosition(p)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):a===1?i*r:u-i*r}function hw(t,e,n={}){var f;const r=dl(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(V4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:y}=a;return bH(t,e,d,p,h,y,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,p]=u==="beforeChildren"?[i,o]:[o,i];return d().then(()=>p())}else return Promise.all([i(),o(n.delay)])}function bH(t,e,n=0,r=0,a=0,i=1,o){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(hw(f,e,{...o,delay:n+(typeof r=="function"?0:r)+F4(t.variantChildren,f,r,a,i)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function SH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(i=>hw(t,i,n));r=Promise.all(a)}else if(typeof e=="string")r=hw(t,e,n);else{const a=typeof e=="function"?dl(t,e,n.custom):e;r=Promise.all(V4(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function z4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const wH=kT.length;function G4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?G4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wH;n++){const r=kT[n],a=t.props[r];(Ic(a)||a===!1)&&(e[r]=a)}return e}const AH=[...MT].reverse(),TH=MT.length;function EH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>SH(t,n,r)))}function NH(t){let e=EH(t),n=Vj(),r=!0;const a=f=>(d,p)=>{var y;const h=dl(t,p,f==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(h){const{transition:x,transitionEnd:T,...w}=h;d={...d,...w,...T}}return d};function i(f){e=f(t)}function o(f){const{props:d}=t,p=G4(t.parent)||{},h=[],y=new Set;let x={},T=1/0;for(let A=0;A<TH;A++){const C=AH[A],M=n[C],_=d[C]!==void 0?d[C]:p[C],k=Ic(_),N=C===f?M.isActive:null;N===!1&&(T=A);let I=_===p[C]&&_!==d[C]&&k;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),M.protectedKeys={...x},!M.isActive&&N===null||!_&&!M.prevProp||rh(_)||typeof _=="boolean")continue;const P=_H(M.prevProp,_);let L=P||C===f&&M.isActive&&!I&&k||A>T&&k,D=!1;const q=Array.isArray(_)?_:[_];let U=q.reduce(a(C),{});N===!1&&(U={});const{prevResolvedValues:R={}}=M,B={...R,...U},G=K=>{L=!0,y.has(K)&&(D=!0,y.delete(K)),M.needsAnimating[K]=!0;const Y=t.getValue(K);Y&&(Y.liveStyle=!1)};for(const K in B){const Y=U[K],te=R[K];if(x.hasOwnProperty(K))continue;let re=!1;mw(Y)&&mw(te)?re=!z4(Y,te):re=Y!==te,re?Y!=null?G(K):y.add(K):Y!==void 0&&y.has(K)?G(K):M.protectedKeys[K]=!0}M.prevProp=_,M.prevResolvedValues=U,M.isActive&&(x={...x,...U}),r&&t.blockInitialAnimation&&(L=!1);const W=I&&P;L&&(!W||D)&&h.push(...q.map(K=>{const Y={type:C};if(typeof K=="string"&&r&&!W&&t.manuallyAnimateOnMount&&t.parent){const{parent:te}=t,re=dl(te,K);if(te.enteringChildren&&re){const{delayChildren:$}=re.transition||{};Y.delay=F4(te.enteringChildren,t,$)}}return{animation:K,options:Y}}))}if(y.size){const A={};if(typeof d.initial!="boolean"){const C=dl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);C&&C.transition&&(A.transition=C.transition)}y.forEach(C=>{const M=t.getBaseTarget(C),_=t.getValue(C);_&&(_.liveStyle=!0),A[C]=M??null}),h.push({animation:A})}let w=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function u(f,d){var h;if(n[f].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(y=>{var x;return(x=y.animationState)==null?void 0:x.setActive(f,d)}),n[f].isActive=d;const p=o(f);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Vj()}}}function _H(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!z4(e,t):!1}function bs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vj(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}class Yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CH extends Yi{constructor(e){super(e),e.animationState||(e.animationState=NH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();rh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let jH=0;class MH extends Yi{constructor(){super(...arguments),this.id=jH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const kH={animation:{Feature:CH},exit:{Feature:MH}};function Oc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function jd(t){return{point:{x:t.pageX,y:t.pageY}}}const IH=t=>e=>CT(e)&&t(e,jd(e));function yc(t,e,n,r){return Oc(t,e,IH(n),r)}const H4=1e-4,PH=1-H4,OH=1+H4,K4=.01,RH=0-K4,DH=0+K4;function Hn(t){return t.max-t.min}function LH(t,e,n){return Math.abs(t-e)<=n}function Fj(t,e,n,r=.5){t.origin=r,t.originPoint=Yt(e.min,e.max,t.origin),t.scale=Hn(n)/Hn(e),t.translate=Yt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=PH&&t.scale<=OH||isNaN(t.scale))&&(t.scale=1),(t.translate>=RH&&t.translate<=DH||isNaN(t.translate))&&(t.translate=0)}function vc(t,e,n,r){Fj(t.x,e.x,n.x,r?r.originX:void 0),Fj(t.y,e.y,n.y,r?r.originY:void 0)}function zj(t,e,n){t.min=n.min+e.min,t.max=t.min+Hn(e)}function qH(t,e,n){zj(t.x,e.x,n.x),zj(t.y,e.y,n.y)}function Gj(t,e,n){t.min=e.min-n.min,t.max=t.min+Hn(e)}function xc(t,e,n){Gj(t.x,e.x,n.x),Gj(t.y,e.y,n.y)}function Ur(t){return[t("x"),t("y")]}const Y4=({current:t})=>t?t.ownerDocument.defaultView:null,Hj=(t,e)=>Math.abs(t-e);function UH(t,e){const n=Hj(t.x,e.x),r=Hj(t.y,e.y);return Math.sqrt(n**2+r**2)}class W4{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=w0(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,T=UH(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!T)return;const{point:w}=y,{timestamp:A}=Ln;this.history.push({...w,timestamp:A});const{onStart:C,onMove:M}=this.handlers;x||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=S0(x,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:T,onSessionEnd:w,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=w0(y.type==="pointercancel"?this.lastMoveEventInfo:S0(x,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,C),w&&w(y,C)},!CT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const u=jd(e),f=S0(u,this.transformPagePoint),{point:d}=f,{timestamp:p}=Ln;this.history=[{...d,timestamp:p}];const{onSessionStart:h}=n;h&&h(e,w0(f,this.history)),this.removeListeners=Nd(yc(this.contextWindow,"pointermove",this.handlePointerMove),yc(this.contextWindow,"pointerup",this.handlePointerUp),yc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gi(this.updatePoint)}}function S0(t,e){return e?{point:e(t.point)}:t}function Kj(t,e){return{x:t.x-e.x,y:t.y-e.y}}function w0({point:t},e){return{point:t,delta:Kj(t,X4(e)),offset:Kj(t,BH(e)),velocity:$H(e,.1)}}function BH(t){return t[0]}function X4(t){return t[t.length-1]}function $H(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=X4(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>pa(e)));)n--;if(!r)return{x:0,y:0};const i=Vr(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function VH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Yt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Yt(n,t,r.max):Math.min(t,n)),t}function Yj(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FH(t,{top:e,left:n,bottom:r,right:a}){return{x:Yj(t.x,n,a),y:Yj(t.y,e,r)}}function Wj(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function zH(t,e){return{x:Wj(t.x,e.x),y:Wj(t.y,e.y)}}function GH(t,e){let n=.5;const r=Hn(t),a=Hn(e);return a>r?n=jc(e.min,e.max-r,t.min):r>a&&(n=jc(t.min,t.max-a,e.min)),Xa(0,1,n)}function HH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const gw=.35;function KH(t=gw){return t===!1?t=0:t===!0&&(t=gw),{x:Xj(t,"left","right"),y:Xj(t,"top","bottom")}}function Xj(t,e,n){return{min:Jj(t,e),max:Jj(t,n)}}function Jj(t,e){return typeof t=="number"?t:t[e]||0}const YH=new WeakMap;class WH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jd(h).point)},o=(h,y)=>{const{drag:x,dragPropagation:T,onDragStart:w}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t8(x),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(C=>{let M=this.getAxisMotionValue(C).get()||0;if(ha.test(M)){const{projection:_}=this.visualElement;if(_&&_.layout){const k=_.layout.layoutBox[C];k&&(M=Hn(k)*(parseFloat(M)/100))}}this.originPoint[C]=M}),w&&zt.postRender(()=>w(h,y)),pw(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y;const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:w,onDrag:A}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=y;if(T&&this.currentDirection===null){this.currentDirection=XH(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),A&&A(h,y)},f=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y,this.stop(h,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ur(h=>{var y;return this.getAnimationState(h)==="paused"&&((y=this.getAxisMotionValue(h).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new W4(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:Y4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&zt.postRender(()=>u(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!fm(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=VH(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=FH(r.layoutBox,e):this.constraints=!1,this.elastic=KH(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ur(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=HH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=J8(r,a.root,this.visualElement.getTransformPagePoint());let o=zH(a.layout.layoutBox,i);if(n){const u=n(Y8(o));this.hasMutatedConstraints=!!u,u&&(o=P4(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},d=Ur(p=>{if(!fm(p,n,this.currentDirection))return;let h=f&&f[p]||{};o&&(h={min:0,max:0});const y=a?200:1e6,x=a?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(p,T)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return pw(this.visualElement,e),r.start(qT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ur(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ur(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ur(n=>{const{drag:r}=this.getProps();if(!fm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:u}=a.layout.layoutBox[n];i.set(e[n]-Yt(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ur(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const f=u.get();a[o]=GH({min:f,max:f},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ur(o=>{if(!fm(o,e,null))return;const u=this.getAxisMotionValue(o),{min:f,max:d}=this.constraints[o];u.set(Yt(f,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;YH.set(this.visualElement,this);const e=this.visualElement.current,n=yc(e,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();tl(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),zt.read(r);const o=Oc(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ur(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=f[p].translate,h.set(h.get()+f[p].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=gw,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function fm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JH extends Yi{constructor(e){super(e),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new WH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Qj=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class QH extends Yi{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(e){this.session=new W4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Qj(e),onStart:Qj(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&zt.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=yc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $m={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Zj(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Fe.test(t))t=parseFloat(t);else return t;const n=Zj(t,e.target.x),r=Zj(t,e.target.y);return`${n}% ${r}%`}},ZH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Hi.parse(t);if(a.length>5)return r;const i=Hi.createTransformer(t),o=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;a[0+o]/=u,a[1+o]/=f;const d=Yt(u,f,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let A0=!1;class e9 extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=e;w8(t9),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),A0&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),$m.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,A0=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||zt.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_T.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;A0=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function J4(t){const[e,n]=x4(),r=j.useContext(iT);return c.jsx(e9,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(k4),isPresent:e,safeToRemove:n})}const t9={borderRadius:{...Zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zu,borderTopRightRadius:Zu,borderBottomLeftRadius:Zu,borderBottomRightRadius:Zu,boxShadow:ZH};function n9(t,e,n){const r=Fn(t)?t:xl(t);return r.start(qT("",r,e,n)),r.animation}const r9=(t,e)=>t.depth-e.depth;class a9{constructor(){this.children=[],this.isDirty=!1}add(e){lT(this.children,e),this.isDirty=!0}remove(e){uT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(r9),this.isDirty=!1,this.children.forEach(e)}}function i9(t,e){const n=ir.now(),r=({timestamp:a})=>{const i=a-n;i>=e&&(Gi(r),t(i-e))};return zt.setup(r,!0),()=>Gi(r)}const Q4=["TopLeft","TopRight","BottomLeft","BottomRight"],s9=Q4.length,eM=t=>typeof t=="string"?parseFloat(t):t,tM=t=>typeof t=="number"||Fe.test(t);function o9(t,e,n,r,a,i){a?(t.opacity=Yt(0,n.opacity??1,l9(r)),t.opacityExit=Yt(e.opacity??1,0,u9(r))):i&&(t.opacity=Yt(e.opacity??1,n.opacity??1,r));for(let o=0;o<s9;o++){const u=`border${Q4[o]}Radius`;let f=nM(e,u),d=nM(n,u);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||tM(f)===tM(d)?(t[u]=Math.max(Yt(eM(f),eM(d),r),0),(ha.test(d)||ha.test(f))&&(t[u]+="%")):t[u]=d}(e.rotate||n.rotate)&&(t.rotate=Yt(e.rotate||0,n.rotate||0,r))}function nM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const l9=Z4(0,.5,Uq),u9=Z4(.5,.95,zr);function Z4(t,e,n){return r=>r<t?0:r>e?1:n(jc(t,e,r))}function rM(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){rM(t.x,e.x),rM(t.y,e.y)}function aM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iM(t,e,n,r,a){return t-=e,t=Xm(t,1/n,r),a!==void 0&&(t=Xm(t,1/a,r)),t}function c9(t,e=0,n=1,r=.5,a,i=t,o=t){if(ha.test(e)&&(e=parseFloat(e),e=Yt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=Yt(i.min,i.max,r);t===i&&(u-=e),t.min=iM(t.min,e,n,u,a),t.max=iM(t.max,e,n,u,a)}function sM(t,e,[n,r,a],i,o){c9(t,e[n],e[r],e[a],e.scale,i,o)}const d9=["x","scaleX","originX"],f9=["y","scaleY","originY"];function oM(t,e,n,r){sM(t.x,e,d9,n?n.x:void 0,r?r.x:void 0),sM(t.y,e,f9,n?n.y:void 0,r?r.y:void 0)}function lM(t){return t.translate===0&&t.scale===1}function e3(t){return lM(t.x)&&lM(t.y)}function uM(t,e){return t.min===e.min&&t.max===e.max}function m9(t,e){return uM(t.x,e.x)&&uM(t.y,e.y)}function cM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function t3(t,e){return cM(t.x,e.x)&&cM(t.y,e.y)}function dM(t){return Hn(t.x)/Hn(t.y)}function fM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class p9{constructor(){this.members=[]}add(e){lT(this.members,e),e.scheduleRender()}remove(e){if(uT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h9(t,e,n){let r="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:h,rotateY:y,skewX:x,skewY:T}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),h&&(r+=`rotateX(${h}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const T0=["","X","Y","Z"],g9=1e3;let y9=0;function E0(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function n3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=$4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(a||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&n3(r)}function r3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},u=e==null?void 0:e()){this.id=y9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(b9),this.nodes.forEach(T9),this.nodes.forEach(E9),this.nodes.forEach(S9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new a9)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new fT),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const f=this.eventHandlers.get(o);f&&f.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=v4(o)&&!o8(o),this.instance=o;const{layoutId:u,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let p,h=0;const y=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{h=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==h&&(h=x,this.root.updateBlockedByResize=!0,p&&p(),p=i9(y,250),$m.hasAnimatedSinceResize&&($m.hasAnimatedSinceResize=!1,this.nodes.forEach(hM)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||M9,{onLayoutAnimationStart:w,onLayoutAnimationComplete:A}=d.getProps(),C=!this.targetLayout||!t3(this.targetLayout,x),M=!h&&y;if(this.options.layoutRoot||this.resumeFrom||M||h&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...ET(T,"layout"),onPlay:w,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,M)}else h||hM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(N9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&n3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(A9),this.nodes.forEach(v9),this.nodes.forEach(x9)):this.nodes.forEach(pM),this.clearAllSnapshots();const u=ir.now();Ln.delta=Xa(0,1e3/60,u-Ln.timestamp),Ln.timestamp=u,Ln.isProcessing=!0,m0.update.process(Ln),m0.preRender.process(Ln),m0.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_T.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(w9),this.sharedNodes.forEach(_9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hn(this.snapshot.measuredBox.x)&&!Hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!e3(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;o&&this.instance&&(u||Ts(this.latestValues)||p)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return o&&(f=this.removeTransform(f)),k9(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return sn();const u=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(I9))){const{scroll:p}=this.root;p&&(nl(u.x,p.offset.x),nl(u.y,p.offset.y))}return u}removeElementScroll(o){var f;const u=sn();if(Rr(u,o),(f=this.scroll)!=null&&f.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:h,options:y}=p;p!==this.root&&h&&y.layoutScroll&&(h.wasRoot&&Rr(u,o),nl(u.x,h.offset.x),nl(u.y,h.offset.y))}return u}applyTransform(o,u=!1){const f=sn();Rr(f,o);for(let d=0;d<this.path.length;d++){const p=this.path[d];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&rl(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Ts(p.latestValues)&&rl(f,p.latestValues)}return Ts(this.latestValues)&&rl(f,this.latestValues),f}removeTransform(o){const u=sn();Rr(u,o);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!Ts(d.latestValues))continue;cw(d.latestValues)&&d.updateSnapshot();const p=sn(),h=d.measurePageBox();Rr(p,h),oM(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return Ts(this.latestValues)&&oM(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:h}=this.options;if(!(!this.layout||!(p||h))){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),xc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),R4(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),xc(this.relativeTargetOrigin,this.target,x.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||cw(this.parent.latestValues)||O4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(f=!1),f)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Rr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;X8(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=sn());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aM(this.prevProjectionDelta.x,this.projectionDelta.x),aM(this.prevProjectionDelta.y,this.projectionDelta.y)),vc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!fM(this.projectionDelta.x,this.prevProjectionDelta.x)||!fM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(o,u=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},h=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=sn(),x=f?f.source:void 0,T=this.layout?this.layout.source:void 0,w=x!==T,A=this.getStack(),C=!A||A.members.length<=1,M=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(j9));this.animationProgress=0;let _;this.mixTargetDelta=k=>{const N=k/1e3;gM(h.x,o.x,N),gM(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),C9(this.relativeTarget,this.relativeTargetOrigin,y,N),_&&m9(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=sn()),Rr(_,this.relativeTarget)),w&&(this.animationValues=p,o9(p,d,this.latestValues,N,M,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,f,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(d=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{$m.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xl(0)),this.currentAnimation=n9(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),o.onUpdate&&o.onUpdate(p)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(g9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:f,layout:d,latestValues:p}=o;if(!(!u||!f||!d)){if(this!==o&&this.layout&&d&&a3(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||sn();const h=Hn(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+h;const y=Hn(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+y}Rr(u,f),rl(u,p),vc(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new p9),this.sharedNodes.get(o).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const d={};f.z&&E0("z",o,d,this.animationValues);for(let p=0;p<T0.length;p++)E0(`rotate${T0[p]}`,o,d,this.animationValues),E0(`skew${T0[p]}`,o,d,this.animationValues);o.render();for(const p in d)o.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Bm(u==null?void 0:u.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Bm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ts(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=h9(this.projectionDeltaWithTransform,this.treeScale,p);f&&(h=f(p,h)),o.transform=h;const{x:y,y:x}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:o.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in Pc){if(p[T]===void 0)continue;const{correct:w,applyTo:A,isCSSVariable:C}=Pc[T],M=h==="none"?p[T]:w(p[T],d);if(A){const _=A.length;for(let k=0;k<_;k++)o[A[k]]=M}else C?this.options.visualElement.renderState.vars[T]=M:o[T]=M}this.options.layoutId&&(o.pointerEvents=d===this?Bm(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(mM),this.root.sharedNodes.clear()}}}function v9(t){t.updateLayout()}function x9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ur(h=>{const y=o?e.measuredBox[h]:e.layoutBox[h],x=Hn(y);y.min=r[h].min,y.max=y.min+x}):a3(i,e.layoutBox,r)&&Ur(h=>{const y=o?e.measuredBox[h]:e.layoutBox[h],x=Hn(r[h]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+x)});const u=al();vc(u,r,e.layoutBox);const f=al();o?vc(f,t.applyTransform(a,!0),e.measuredBox):vc(f,r,e.layoutBox);const d=!e3(u);let p=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:y,layout:x}=h;if(y&&x){const T=sn();xc(T,e.layoutBox,y.layoutBox);const w=sn();xc(w,r,x.layoutBox),t3(T,w)||(p=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function b9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function w9(t){t.clearSnapshot()}function mM(t){t.clearMeasurements()}function pM(t){t.isLayoutDirty=!1}function A9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function T9(t){t.resolveTargetDelta()}function E9(t){t.calcProjection()}function N9(t){t.resetSkewAndRotation()}function _9(t){t.removeLeadSnapshot()}function gM(t,e,n){t.translate=Yt(e.translate,0,n),t.scale=Yt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yM(t,e,n,r){t.min=Yt(e.min,n.min,r),t.max=Yt(e.max,n.max,r)}function C9(t,e,n,r){yM(t.x,e.x,n.x,r),yM(t.y,e.y,n.y,r)}function j9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const M9={duration:.45,ease:[.4,0,.1,1]},vM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xM=vM("applewebkit/")&&!vM("chrome/")?Math.round:zr;function bM(t){t.min=xM(t.min),t.max=xM(t.max)}function k9(t){bM(t.x),bM(t.y)}function a3(t,e,n){return t==="position"||t==="preserve-aspect"&&!LH(dM(e),dM(n),.2)}function I9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const P9=r3({attachResizeListener:(t,e)=>Oc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),N0={current:void 0},i3=r3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!N0.current){const t=new P9({});t.mount(window),t.setOptions({layoutScroll:!0}),N0.current=t}return N0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),O9={pan:{Feature:QH},drag:{Feature:JH,ProjectionNode:i3,MeasureLayout:J4}};function SM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&zt.postRender(()=>i(e,jd(e)))}class R9 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=n8(e,(n,r)=>(SM(this.node,r,"Start"),a=>SM(this.node,a,"End"))))}unmount(){}}class D9 extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nd(Oc(this.node.current,"focus",()=>this.onFocus()),Oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&zt.postRender(()=>i(e,jd(e)))}class L9 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=s8(e,(n,r)=>(wM(this.node,r,"Start"),(a,{success:i})=>wM(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yw=new WeakMap,_0=new WeakMap,q9=t=>{const e=yw.get(t.target);e&&e(t)},U9=t=>{t.forEach(q9)};function B9({root:t,...e}){const n=t||document;_0.has(n)||_0.set(n,{});const r=_0.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(U9,{root:t,...e})),r[a]}function $9(t,e,n){const r=B9(e);return yw.set(t,n),r.observe(t),()=>{yw.delete(t),r.unobserve(t)}}const V9={some:0,all:1};class F9 extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:V9[a]},u=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),y=d?p:h;y&&y(f)};return $9(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(z9(e,n))&&this.startObserver()}unmount(){}}function z9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const G9={inView:{Feature:F9},tap:{Feature:L9},focus:{Feature:D9},hover:{Feature:R9}},H9={layout:{ProjectionNode:i3,MeasureLayout:J4}},K9={...kH,...G9,...O9,...H9},He=K8(K9,sH),AM=3e3,Y9=({id:t,message:e,type:n,onDismiss:r,actionLabel:a,onAction:i})=>{const[o,u]=j.useState(!0);j.useEffect(()=>{const p=setTimeout(()=>u(!1),AM);return()=>clearTimeout(p)},[]),j.useEffect(()=>{if(o)return;const p=setTimeout(()=>r(t),400);return()=>clearTimeout(p)},[o,t,r]);const d={success:{icon:"check_circle",container:"bg-status-success-50 dark:bg-status-success-900/30",iconColor:"text-status-success-500 dark:text-status-success-300",progress:"bg-status-success-400"},error:{icon:"error",container:"bg-status-danger-50 dark:bg-status-danger-900/30",iconColor:"text-status-danger-500 dark:text-status-danger-300",progress:"bg-status-danger-400"},info:{icon:"info",container:"bg-status-info-50 dark:bg-status-info-900/30",iconColor:"text-status-info-500 dark:text-status-info-300",progress:"bg-status-info-400"}}[n];return c.jsx(Js,{children:o&&c.jsxs(He.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}},className:`relative flex w-full max-w-sm items-center gap-4 overflow-hidden rounded-lg p-4 shadow-lg ring-1 ring-black/5 dark:ring-white/10 ${d.container}`,onAnimationComplete:p=>{p==="exit"&&r(t)},children:[c.jsx("span",{className:`material-symbols-outlined text-2xl ${d.iconColor}`,children:d.icon}),c.jsx("p",{className:"flex-1 text-sm font-medium text-gray-800 dark:text-gray-100",children:e}),a&&c.jsx(He.button,{onClick:()=>{try{i&&i()}finally{u(!1)}},className:"rounded-md px-2 py-1 text-xs font-semibold text-primary-700 hover:text-primary-800 dark:text-primary-300 dark:hover:text-primary-200 focus:outline-none focus:ring-2 focus:ring-primary-400",whileTap:{scale:.95},whileHover:{scale:1.05},transition:{type:"spring",stiffness:320,damping:24},children:a}),c.jsx(He.button,{onClick:()=>u(!1),className:"flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Fermer",whileTap:{scale:.95},whileHover:{scale:1.1},transition:{type:"spring",stiffness:320,damping:24},children:c.jsx("span",{className:"material-symbols-outlined",children:"close"})}),c.jsx(He.div,{className:`absolute bottom-0 left-0 h-1 ${d.progress}`,initial:{width:"100%"},animate:{width:"0%",transition:{duration:AM/1e3,ease:"linear"}}})]},t)})},s3=j.createContext(void 0),Wn=()=>{const t=j.useContext(s3);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},W9=({children:t})=>{const[e,n]=j.useState([]),r=j.useRef(0),a=j.useCallback((o,u,f)=>{r.current+=1;const d=`toast-${Date.now()}-${r.current}`;n(p=>[...p,{id:d,message:o,type:u,actionLabel:f==null?void 0:f.actionLabel,onAction:f==null?void 0:f.onAction}])},[]),i=j.useCallback(o=>{n(u=>u.filter(f=>f.id!==o))},[]);return c.jsxs(s3.Provider,{value:{addToast:a},children:[t,c.jsx("div",{"aria-live":"polite",role:"status",className:"fixed bottom-4 left-1/2 -translate-x-1/2 lg:bottom-auto lg:top-6 lg:left-auto lg:right-6 lg:translate-x-0 z-50 w-full max-w-sm p-4 lg:p-0 space-y-3",children:e.map(o=>c.jsx(Y9,{...o,onDismiss:i},o.id))})]})},X9=[{id:"user-1",name:"Alice Admin",role:_e.ADMIN,department:"IT",avatarUrl:"https://i.pravatar.cc/150?u=user-1",employeeId:"10001",email:"alice.admin@example.com",password:"Admin2022",pin:"111111"},{id:"user-2",name:"Robert Brown",role:_e.MANAGER,department:"Management",avatarUrl:"https://i.pravatar.cc/150?u=user-2",employeeId:"10002",email:"robert.brown@example.com",managerId:"user-1",password:"22222",pin:"222222"},{id:"user-3",name:"Jane Smith",role:_e.EMPLOYEE,department:"Engineering",avatarUrl:"https://i.pravatar.cc/150?u=user-3",employeeId:"10003",email:"jane.smith@example.com",managerId:"user-2",password:"33333",pin:"333333"},{id:"user-4",name:"Ethan Harper",role:_e.EMPLOYEE,department:"Engineering",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuDmWVYY7jD-zGHMzq1Lzg6BgvHf3MWGcsvW1pXKV3aoCLgnOxO6cX3qS-3owD9gSMolAN9ewLJWoxNgtPlj4GyMsL0dN0QzHL77Idz7lOJYmddCQlKD0zADsCYaLGWt5vcsvZKwh71XhFgKdlmBSwdRe_KghJuw8vjiwQOPM0-NZ6r8VgdQMgFK15vxnRwZkAYrvIvuOb17TQznj8VLrfZUdlXk6WiGfWVQSDGFDMDiA3jB4Slm7Hjr6u7Eu36QXmsSy55YXP9Uvfc",employeeId:"10004",email:"ethan.harper@example.com",managerId:"user-2",password:"44444",pin:"444444"},{id:"user-5",name:"Olivia Bennett",role:_e.EMPLOYEE,department:"Design",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuACrRsvIIpt8jOUyxmn3wpRi23xKcBfJChepkixKdNwlXv4ldRndthYv-dyY12roM5CTGn6n2q-cZtLZYAIoyQNWrERGCQBjJdDdYtiHLnavpy22U0aQD49Nyzu92u-IDgW440C-JK5KsS8UyXNX450CQfTKqSeSupZJvcSilKSTqw5sDMx2Eca11txTShMCWSuUzqODFzTmRWZICClwl8GU2vwtLMMzAFJNrklj1cuzHsGCbj6ahh9KJIaybYjUQbsBrmFXj8E31M",employeeId:"10005",email:"olivia.bennett@example.com",managerId:"user-2",password:"55555",pin:"555555"},{id:"user-6",name:"Sophia Bennett",role:_e.EMPLOYEE,department:"Marketing",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuDhhKqhQPmMwD36aqc1mNMiPDyf8XfA5xkQAP1KfE6MX2VLASFw-dMZd9lfFhVznTD-1rup8t0bYWZztu9G4rYmSi4z8PHmPc6A6b4Nq05H6FuVmQ-ei7a1GxBEWpORky6gasfcagjU8wTIptm_Mj4R2A32sQOHT7jIemiNrRyn-OJWWFtSi9n8z7sg7_HKGo-5XTJJexnIsDMvDj8N8cPfIHAp1as1gHHp1mQxgbgOLvKrEfBk6Gx7aWPawDbQaKartni2xBMjAXY",employeeId:"10006",email:"sophia.bennett@example.com",managerId:"user-2",password:"66666",pin:"666666"},{id:"user-7",name:"Liam Carter",role:_e.EMPLOYEE,department:"Sales",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBDkrWWg53fJ6JOgk_4NUskNPrK6-7rNwiJM55-nr39icoAysQuSwaERoNR6usPSlvsNBOx8iZIgMv6MhOLoOFEQx07aSWz3mL2Balw_9_UwQXtmamLfxd7GMBJ7jDKhhX_x9iFCEyciA59167NqHxp00DQS_J1bXCau6zy52CJGcW0dMgKJsb36EYuNQ1jj8szCPIXNLGbMCSwmxGR_ECP76KQ53y2vvj5Rx1ZnyoSCoj0G5tvHcjS2tWkbgM6fAx9PL7rB-DF0ZI",employeeId:"10007",email:"liam.carter@example.com",managerId:"user-2",password:"77777",pin:"777777"},{id:"user-8",name:"Olivia Davis",role:_e.EMPLOYEE,department:"Product",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuArZFBtrVrTItNSv4R3QPf__AGyhDhOS92M6avoJie54rIaKP83vXZOZyro0wZxtimcmwJaCyeiVpGIP4vWrCatDWfomEDC5hc8-usu9Bm4Y0r4hdvxi_wp8fDQSEN_-BjBQoYrK2A07s0Nl3BeiD4qFNm-jMKye4h1e_NiA-cUWduuDz2oVVrKxMLF2y1Iv2I4jNsSVybBzoYa93bTJ1o6uEBi3mnPiOMqavrrYtzH35w4MUVb7rq6VNlY6Sa6UTLa_wo2rl41hIQ",employeeId:"10008",email:"olivia.davis@example.com",managerId:"user-2",password:"88888",pin:"888888"},{id:"user-9",name:"Noah Evans",role:_e.EMPLOYEE,department:"HR",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBElGyrcCxsOWCfh8I5XmW4Q_roCtDm_tGLofQGMX3Z8rBDjfsYMFVFJsFJQ70ltIScW_yqrglPipNiN-f9ggwJhJele_XXUS4JVhphZjhoKHKetzQXDTUZmWWu5PQdc5726ZkNYuAns6FFupzTHDYBogd1EF10omnlwP3DXcWCADV-P6DpUEYQvNXVpibLYD-pzJ4keVIPYfH-kuoo6ctdK7TMJrEmf3NICo38HOOOwQQZz1gszNJXgfMoDGU5iPPqfx3NLKkEFQ8",employeeId:"10009",email:"noah.evans@example.com",managerId:"user-2",password:"99999",pin:"999999"}],J9=[{id:"cat-1",name:"Laptop",icon:"laptop_chromebook"},{id:"cat-2",name:"Monitor",icon:"desktop_windows"},{id:"cat-3",name:"Keyboard",icon:"keyboard"},{id:"cat-4",name:"Mouse",icon:"mouse"},{id:"cat-5",name:"Docking Station",icon:"dock"},{id:"cat-6",name:"Headphones",icon:"headphones"},{id:"cat-8",name:"Desktop",icon:"desktop_mac"},{id:"cat-9",name:"Printer",icon:"print"},{id:"cat-7",name:"Other",icon:"devices_other"}],Q9=[{id:"model-1",name:"Dell Latitude 7420",modelNumber:"LAT7420-123X",brand:"Dell",categoryId:"cat-1",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuB-Q0jBf8S22TbU-pCgoOC2mE2OpF__sBSwhI1FFPspN4oRJIc0YmdsbKaCNN_tgbiMVLKBQrQ7wYMm94NhgxUKe7wKndVnUZu_3JZGWnM-PvJdJhD8lpMlCILPHsmGTn6oCeQiLYM7NPPI_IWVJ1gGkWnwsW6o3jDRWQ49qcqy2FRCafdIGRNqjjfUV9dZXM9Tl7q7PC6F0RVODEnXp7DQ9fPcRVOiFFSeamk22xzs81BNtYyq-yVf4HHcxdLtUNq_fAckwvvza5U"},{id:"model-2",name:"Dell U2721DE",modelNumber:"U2721DE",brand:"Dell",categoryId:"cat-2",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBBksvGlhFH7ySiqCM4Sqfb64GdIXFuKlifKUsbQ4kRjcuTyhToOL0s51icZooX9vINv9TMNu-SRmIgOg_v_5SZ8MKscjneXzod1_seZYW0AOUz2bqFe8JGTsZNeef2YXSeNR79ORIGG5RNV6Bu_Mo1GpZvYPeXRsUHyBtMIbaACEubJ2uK5VHGB1wAjFUecnSZcrCWmjC7KxCwAjXz4GAZrKmHwi3PEbCJHFfvUvsoCQgKeTEK7JNdoRDaoHq2mep8IwcyZuSyx0s"},{id:"model-3",name:'MacBook Pro 14"',modelNumber:"A2442",brand:"Apple",categoryId:"cat-1",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuB-Q0jBf8S22TbU-pCgoOC2mE2OpF__sBSwhI1FFPspN4oRJIc0YmdsbKaCNN_tgbiMVLKBQrQ7wYMm94NhgxUKe7wKndVnUZu_3JZGWnM-PvJdJhD8lpMlCILPHsmGTn6oCeQiLYM7NPPI_IWVJ1gGkWnwsW6o3jDRWQ49qcqy2FRCafdIGRNqjjfUV9dZXM9Tl7q7PC6F0RVODEnXp7DQ9fPcRVOiFFSeamk22xzs81BNtYyq-yVf4HHcxdLtUNq_fAckwvvza5U"},{id:"model-4",name:"Logitech MX Keys",modelNumber:"920-009295",brand:"Logitech",categoryId:"cat-3",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuCAqd0p6tDArTI3qqzauzYjcW22PXuhxZmsQWMIPYELbVWOGF5eHMlEYcNKuiMOXlBuarJ9m9LW8cQIqtjFcqIlORBDxqw6vIg6PIDX8ANArawoiHvSyhsuMP3B06thIu_c-ihhI3ppc9Wzj1HWulaalx7VYDNOdDbT1yU1WSMGklhtxESWA9XK0BCV7s12KjtciV5NUsIEVQK4D0dc6Tmg9kvKW6sQzyLByeXXb99-q9X4W6lEgDreJ99g_C2bwpEu0DewdN8qZhY"},{id:"model-5",name:"LG UltraFine 5K",modelNumber:"27MD5KL-B",brand:"LG",categoryId:"cat-2",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBBksvGlhFH7ySiqCM4Sqfb64GdIXFuKlifKUsbQ4kRjcuTyhToOL0s51icZooX9vINv9TMNu-SRmIgOg_v_5SZ8MKscjneXzod1_seZYW0AOUz2bqFe8JGTsZNeef2YXSeNR79ORIGG5RNV6Bu_Mo1GpZvYPeXRsUHyBtMIbaACEubJ2uK5VHGB1wAjFUecnSZcrCWmjC7KxCwAjXz4GAZrKmHwi3PEbCJHFfvUvsoCQgKeTEK7JNdoRDaoHq2mep8IwcyZuSyx0s"},{id:"model-6",name:"Logitech MX Master 3",modelNumber:"910-005694",brand:"Logitech",categoryId:"cat-4",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuA-9_X36E6Mh0GoQKbDbsR6maaTewkpEacma7FeboVSYP9eWagtnmDRwlUxVouRhP1hF_SGGeaiAL0T2x9T2WD2WcE9L6FH0oKOD3VE5d7U9MT9JWdwTL1FQqF_BLDhjyxaPCAa0t_f6q8OpaYV0gJbfawhTRFlTpjeMtFLLU8oss9vF5dqWUbjfXQNtFL579bTwDS11r_-gmLngroSeKGS9eNxc9Yk6R3a3j5vNNlPsewUsAhapFbyeIXtEiStQp4B1CbXb2yLZqs"}],Z9=[{id:"country-1",name:"Togo"},{id:"country-2",name:"France"},{id:"country-3",name:"Sénégal"}],e7=[{id:"site-1",name:"Siège Lomé",countryId:"country-1"},{id:"site-2",name:"Agence Kara",countryId:"country-1"},{id:"site-3",name:"Bureau Paris",countryId:"country-2"},{id:"site-4",name:"Hub Dakar",countryId:"country-3"}],t7=[{id:"dept-1",name:"Finance",siteId:"site-1"},{id:"dept-2",name:"IT",siteId:"site-1"},{id:"dept-3",name:"Commercial",siteId:"site-2"},{id:"dept-4",name:"Marketing Europe",siteId:"site-3"}],n7=[{id:"eq-1",modelId:"model-1",name:"LPT-FIN-01",assetTag:"ASSET-12345",status:qe.AVAILABLE,siteId:"site-1",departmentId:"dept-1",purchaseDate:"2023-01-15",warrantyStartDate:"2023-01-15",warrantyEndDate:"2026-01-14",os:"Windows 11 Pro",ram:"16 Go",storage:"512 Go SSD",operationalStatus:"Actif"},{id:"eq-2",modelId:"model-2",assetTag:"ASSET-12346",status:qe.AVAILABLE,siteId:"site-2",purchaseDate:"2023-02-20",warrantyStartDate:"2023-02-20",warrantyEndDate:"2025-02-19",operationalStatus:"Actif"},{id:"eq-3",modelId:"model-3",name:"MBP-JSMITH",assetTag:"ASSET-22001",status:qe.ASSIGNED,siteId:"site-3",purchaseDate:"2023-05-10",warrantyStartDate:"2023-05-10",warrantyEndDate:"2026-05-09",os:"macOS Sonoma",ram:"16 Go",storage:"512 Go SSD",agentS1:"23.3.4.12",agentM42:"Oui",agentME:"Oui",operationalStatus:"Actif"},{id:"eq-4",modelId:"model-4",assetTag:"ASSET-22002",status:qe.ASSIGNED,siteId:"site-3",operationalStatus:"Actif"},{id:"eq-5",modelId:"model-5",assetTag:"ASSET-12347",status:qe.IN_REPAIR,siteId:"site-1",departmentId:"dept-2",purchaseDate:"2022-11-01",warrantyStartDate:"2022-11-01",warrantyEndDate:"2024-10-31",operationalStatus:"En réparation"},{id:"eq-6",modelId:"model-6",assetTag:"ASSET-22003",status:qe.ASSIGNED,siteId:"site-3",operationalStatus:"Actif"}],r7=[{id:"as-1",action:Ge.ASSIGN,equipmentId:"eq-3",date:"2023-10-26",userId:"user-3",managerId:"user-2",signature:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",validation:{it:!0,manager:!0,user:!0},status:Ut.APPROVED},{id:"as-2",action:Ge.ASSIGN,equipmentId:"eq-4",date:"2023-10-28",userId:"user-4",managerId:"user-2",signature:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",validation:{it:!0,manager:!0,user:!0},status:Ut.APPROVED},{id:"as-3",action:Ge.ASSIGN,equipmentId:"eq-6",date:"2023-10-27",userId:"user-5",managerId:"user-2",signature:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",validation:{it:!0,manager:!0,user:!0},status:Ut.APPROVED}],a7=[{id:"log-1",timestamp:new Date(Date.now()-2880*60*1e3).toISOString(),user:"Alice Admin",action:"create",entityType:"model",entityName:"Dell Latitude 7420"},{id:"log-2",timestamp:new Date(Date.now()-1440*60*1e3).toISOString(),user:"Alice Admin",action:"create",entityType:"equipment",entityName:"Dell Latitude 7420 (ASSET-12345)"},{id:"log-3",timestamp:new Date(Date.now()-4320*60*1e3).toISOString(),user:"Alice Admin",action:"create",entityType:"category",entityName:"Laptop"}],i7={currentUser:null,assignments:r7,equipment:n7,users:X9,categories:J9,models:Q9,auditLog:a7,editHistory:[],countries:Z9,sites:e7,departments:t7,auditSessions:[]},s7=(t,e)=>{switch(e.type){case"LOGIN_SUCCESS":return{...t,currentUser:e.payload};case"LOGOUT":return{...t,currentUser:null};case"SET_CURRENT_USER":return{...t,currentUser:e.payload};case"SAVE_ASSIGNMENT":{const n={...e.payload,id:`as-${Date.now()}`,status:Ut.PENDING};return{...t,assignments:[n,...t.assignments],equipment:t.equipment.map(r=>r.id===n.equipmentId?{...r,status:qe.PENDING_VALIDATION,pendingAssignmentId:n.id}:r)}}case"SAVE_EQUIPMENT":{const n=e.payload,r=!!n.id;let a=t.editHistory;if(r&&n.id&&t.currentUser){const o=t.equipment.find(u=>u.id===n.id);if(o){const u=[],f=(p,h)=>{const y=p==null?"":String(p),x=h==null?"":String(h);return y!==x};["name","assetTag","purchaseDate","warrantyStartDate","warrantyEndDate","status","siteId","departmentId","os","ram","storage","agentS1","agentM42","agentME","notes","operationalStatus"].forEach(p=>{p in n&&f(o[p],n[p])&&u.push({field:p,oldValue:o[p],newValue:n[p]})}),u.length>0&&(a=[{id:`hist-${Date.now()}`,timestamp:new Date().toISOString(),userId:t.currentUser.id,entityType:"equipment",entityId:n.id,changes:u},...t.editHistory])}}const i=r?t.equipment.map(o=>o.id===n.id?{...o,...n}:o):[{...n,id:`eq-${Date.now()}`},...t.equipment];return{...t,equipment:i,editHistory:a}}case"IMPORT_EQUIPMENT":{const n=e.payload.map((r,a)=>({...r,id:`eq-${Date.now()}-${a}`}));return{...t,equipment:[...n,...t.equipment]}}case"IMPORT_USERS":{const n=e.payload.map((r,a)=>({...r,id:`user-${Date.now()}-${a}`}));return{...t,users:[...n,...t.users]}}case"SAVE_USER":{const n=e.payload,r=!!n.id;let a=t.editHistory;if(r&&n.id&&t.currentUser){const o=t.users.find(u=>u.id===n.id);if(o){const u=[],f=(p,h)=>{const y=p==null?"":String(p),x=h==null?"":String(h);return y!==x};["name","role","department","email","managerId"].forEach(p=>{p in n&&f(o[p],n[p])&&u.push({field:p,oldValue:o[p],newValue:n[p]})}),u.length>0&&(a=[{id:`hist-${Date.now()}`,timestamp:new Date().toISOString(),userId:t.currentUser.id,entityType:"user",entityId:n.id,changes:u},...t.editHistory])}}const i=r?t.users.map(o=>o.id===n.id?{...o,...n}:o):[{...n,id:`user-${Date.now()}`},...t.users];return{...t,users:i,editHistory:a}}case"SAVE_PASSWORD":return{...t,users:t.users.map(n=>n.id===e.payload.userId?{...n,password:e.payload.password}:n)};case"SAVE_PIN":return{...t,users:t.users.map(n=>n.id===e.payload.userId?{...n,pin:e.payload.pin}:n)};case"SAVE_WEBAUTHN_CREDENTIAL":return{...t,users:t.users.map(n=>n.id===e.payload.userId?{...n,webauthnCredentialId:e.payload.credentialId||void 0}:n)};case"SAVE_CATEGORY":{const n=e.payload;if(!!n.id)return{...t,categories:t.categories.map(a=>a.id===n.id?{...a,...n}:a)};{const a={id:`cat-${Date.now()}`,name:n.name,description:n.description,icon:n.icon};return{...t,categories:[a,...t.categories]}}}case"SAVE_MODEL":{const n=e.payload;if(!!n.id)return{...t,models:t.models.map(a=>a.id===n.id?{...a,name:n.modelName,brand:n.brand,categoryId:n.type,specifications:n.specifications,modelNumber:n.modelNumber,imageUrl:n.imageUrl}:a)};{const a={id:`model-${Date.now()}`,name:n.modelName,brand:n.brand,categoryId:n.type,specifications:n.specifications,modelNumber:n.modelNumber,imageUrl:n.imageUrl};return{...t,models:[a,...t.models]}}}case"IMPORT_MODELS":{const n=e.payload.map((r,a)=>({...r,id:`model-${Date.now()}-${a}`}));return{...t,models:[...n,...t.models]}}case"DELETE_EQUIPMENT":return{...t,equipment:t.equipment.filter(n=>n.id!==e.payload)};case"DELETE_USER":return{...t,users:t.users.filter(n=>n.id!==e.payload)};case"DELETE_CATEGORY":return{...t,categories:t.categories.filter(n=>n.id!==e.payload)};case"DELETE_MODEL":return{...t,models:t.models.filter(n=>n.id!==e.payload)};case"BULK_DELETE_EQUIPMENT":return{...t,equipment:t.equipment.filter(n=>!e.payload.includes(n.id))};case"BULK_DELETE_USERS":return{...t,users:t.users.filter(n=>!e.payload.includes(n.id))};case"BULK_UPDATE_STATUS":return{...t,equipment:t.equipment.map(n=>e.payload.ids.includes(n.id)?{...n,status:e.payload.status}:n)};case"BULK_UPDATE_LOCATION":return{...t,equipment:t.equipment.map(n=>e.payload.ids.includes(n.id)?{...n,location:e.payload.location}:n)};case"APPROVE_ASSIGNMENT":{const{assignmentId:n,currentUser:r,actor:a}=e.payload,i=t.assignments.find(C=>C.id===n);if(!i||!i.validation)return t;let o={...i.validation},u=null;if(a?u=a:r.id===i.managerId?u="manager":r.id===i.userId?u="user":r.role===_e.ADMIN&&(u="it"),!u)return t;const f=i.validation;let d=!1;const p={...i.validatedBy||{}},h={...i.validatedAt||{}},y=new Date().toISOString(),x=i.action===Ge.ASSIGN;if(u==="manager"){const C=x?f.it:f.it&&f.user;!f.manager&&C&&(o.manager=!0,d=!0,p.manager=r.id,h.manager=y)}else if(u==="user"){const C=x?f.it&&f.manager:f.it;!f.user&&C&&(o.user=!0,d=!0,p.user=r.id,h.user=y)}else u==="it"&&(f.it||(o.it=!0,d=!0,p.it=r.id,h.it=y));if(!d)return t;const T=o.it&&o.manager&&o.user,w=T?Ut.APPROVED:i.status,A=T?i.action===Ge.ASSIGN?qe.ASSIGNED:qe.AVAILABLE:qe.PENDING_VALIDATION;return{...t,assignments:t.assignments.map(C=>C.id===n?{...C,validation:o,status:w,validatedBy:p,validatedAt:h}:C),equipment:T?t.equipment.map(C=>C.id===i.equipmentId?{...C,status:A,pendingAssignmentId:void 0}:C):t.equipment}}case"REJECT_ASSIGNMENT":{const{assignmentId:n,reason:r}=e.payload,a=t.assignments.find(i=>i.id===n);return a?{...t,assignments:t.assignments.map(i=>i.id===n?{...i,status:Ut.REJECTED,rejectionReason:r}:i),equipment:t.equipment.map(i=>i.id===a.equipmentId?{...i,status:qe.AVAILABLE,pendingAssignmentId:void 0}:i)}:t}case"REVERT_ASSIGNMENT_VALIDATION":{const{assignmentId:n,actor:r}=e.payload,a=t.assignments.find(h=>h.id===n);if(!a||!a.validation)return t;const i=a.validation.it&&a.validation.manager&&a.validation.user,o={...a.validation},u={...a.validatedBy||{}},f={...a.validatedAt||{}};r==="it"?(o.it=!1,u&&delete u.it,f&&delete f.it):r==="manager"?(o.manager=!1,u&&delete u.manager,f&&delete f.manager):r==="user"&&(o.user=!1,u&&delete u.user,f&&delete f.user);const d=o.it&&o.manager&&o.user,p=d?Ut.APPROVED:Ut.PENDING;return{...t,assignments:t.assignments.map(h=>h.id===n?{...h,validation:o,validatedBy:u,validatedAt:f,status:p}:h),equipment:i&&!d?t.equipment.map(h=>h.id===a.equipmentId?{...h,status:qe.PENDING_VALIDATION,pendingAssignmentId:n}:h):t.equipment}}case"RESTORE_REJECTED_ASSIGNMENT":{const{assignmentId:n}=e.payload,r=t.assignments.find(a=>a.id===n);return r?{...t,assignments:t.assignments.map(a=>a.id===n?{...a,status:Ut.PENDING,rejectionReason:void 0}:a),equipment:t.equipment.map(a=>a.id===r.equipmentId?{...a,status:qe.PENDING_VALIDATION,pendingAssignmentId:n}:a)}:t}case"LOG_AUDIT_EVENT":{const{user:n,action:r,entityType:a,entityName:i}=e.payload,o={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),user:n.name,action:r,entityType:a,entityName:i};return{...t,auditLog:[o,...t.auditLog]}}case"SAVE_COUNTRY":{const{id:n,name:r}=e.payload;if(n)return{...t,countries:t.countries.map(a=>a.id===n?{...a,name:r}:a)};{const a={id:`country-${Date.now()}`,name:r};return{...t,countries:[...t.countries,a]}}}case"DELETE_COUNTRY":return{...t,countries:t.countries.filter(n=>n.id!==e.payload)};case"SAVE_SITE":{const{id:n,name:r,countryId:a}=e.payload;if(n)return{...t,sites:t.sites.map(i=>i.id===n?{...i,name:r,countryId:a}:i)};{const i={id:`site-${Date.now()}`,name:r,countryId:a};return{...t,sites:[...t.sites,i]}}}case"DELETE_SITE":return{...t,sites:t.sites.filter(n=>n.id!==e.payload)};case"SAVE_DEPARTMENT":{const{id:n,name:r,siteId:a}=e.payload;if(n)return{...t,departments:t.departments.map(i=>i.id===n?{...i,name:r,siteId:a}:i)};{const i={id:`dept-${Date.now()}`,name:r,siteId:a};return{...t,departments:[...t.departments,i]}}}case"DELETE_DEPARTMENT":return{...t,departments:t.departments.filter(n=>n.id!==e.payload)};case"IMPORT_LOCATIONS":{const{countries:n,sites:r,departments:a}=e.payload,i=n.map((f,d)=>({...f,id:`country-${Date.now()}-${d}`})),o=r.map((f,d)=>({...f,id:`site-${Date.now()}-${d}`})),u=a.map((f,d)=>({...f,id:`dept-${Date.now()}-${d}`}));return{...t,countries:[...t.countries,...i],sites:[...t.sites,...o],departments:[...t.departments,...u]}}case"START_AUDIT_SESSION":{const{departmentId:n,userId:r}=e.payload,a=t.auditSessions.find(i=>i.departmentId===n&&(i.status==="in-progress"||i.status==="paused"));if(a)return{...t,auditSessions:t.auditSessions.map(i=>i.id===a.id?{...i,status:"in-progress",updatedAt:new Date().toISOString()}:i)};{const i={id:`audit-${Date.now()}`,departmentId:n,startedByUserId:r,status:"in-progress",scannedItemIds:[],unexpectedItems:[],startedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...t,auditSessions:[i,...t.auditSessions]}}}case"PAUSE_AUDIT_SESSION":return{...t,auditSessions:t.auditSessions.map(n=>n.id===e.payload.sessionId?{...n,status:"paused",updatedAt:new Date().toISOString()}:n)};case"CANCEL_AUDIT_SESSION":return{...t,auditSessions:t.auditSessions.filter(n=>n.id!==e.payload.sessionId)};case"COMPLETE_AUDIT_SESSION":return{...t,auditSessions:t.auditSessions.map(n=>n.id===e.payload.sessionId?{...n,status:"completed",updatedAt:new Date().toISOString()}:n)};case"UPDATE_AUDIT_SESSION_SCAN":{const{sessionId:n,scannedItemId:r,unexpectedItem:a}=e.payload;return{...t,auditSessions:t.auditSessions.map(i=>{if(i.id===n){const o={...i,updatedAt:new Date().toISOString()};return r&&!i.scannedItemIds.includes(r)&&(o.scannedItemIds=[...i.scannedItemIds,r]),a&&(o.unexpectedItems=[...i.unexpectedItems,a]),o}return i})}}default:return t}},o3=j.createContext(void 0),o7=({children:t})=>{const[e,n]=j.useReducer(s7,i7);return c.jsx(o3.Provider,{value:{state:e,dispatch:n},children:t})},l3=()=>{const t=j.useContext(o3);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t},u3=j.createContext(void 0),c3=()=>{const t=j.useContext(u3);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},l7=({children:t})=>{const[e,n]=j.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),r=i=>{localStorage.setItem("theme",i),n(i)},a=()=>{r(e==="light"?"dark":"light")};return j.useEffect(()=>{const i=window.document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[e]),c.jsx(u3.Provider,{value:{theme:e,setTheme:r,toggleTheme:a},children:t})},u7=({error:t,errorInfo:e,onReset:n})=>{const[r,a]=Z.useState(!1),i=()=>{window.location.reload()},o=()=>{const u=`
Error: ${(t==null?void 0:t.message)||"Unknown error"}
Stack: ${(t==null?void 0:t.stack)||"No stack trace"}
Component Stack: ${(e==null?void 0:e.componentStack)||"No component stack"}
    `.trim();navigator.clipboard.writeText(u).then(()=>{alert("Détails de l'erreur copiés dans le presse-papiers")})};return c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:c.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"max-w-2xl w-full",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl border border-white/20 dark:border-gray-700/30 shadow-2xl",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-transparent to-orange-500/5 pointer-events-none"}),c.jsxs("div",{className:"relative p-8 md:p-12",children:[c.jsx(He.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center shadow-lg",children:c.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),c.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center mb-4 bg-gradient-to-r from-red-600 to-orange-600 dark:from-red-400 dark:to-orange-400 bg-clip-text text-transparent",children:"Oups ! Une erreur s'est produite"}),c.jsx("p",{className:"text-center text-gray-600 dark:text-gray-300 mb-8 text-lg",children:"Quelque chose s'est mal passé. Ne vous inquiétez pas, vos données sont en sécurité."}),t&&c.jsx("div",{className:"mb-6 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800",children:c.jsx("p",{className:"text-sm font-mono text-red-800 dark:text-red-300 break-words",children:t.message})}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[c.jsx("button",{onClick:n||i,className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105",children:c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Réessayer"]})}),c.jsx("button",{onClick:o,className:"flex-1 px-6 py-3 rounded-xl bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-semibold border-2 border-gray-200 dark:border-gray-600 transition-all duration-200 hover:border-gray-300 dark:hover:border-gray-500",children:c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copier les détails"]})})]}),c.jsx("button",{onClick:()=>a(!r),className:"w-full text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:r?"▼ Masquer les détails":"▶ Afficher les détails techniques"}),r&&c.jsx(He.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 rounded-xl bg-gray-900 dark:bg-black overflow-auto max-h-96",children:c.jsxs("div",{className:"text-xs font-mono text-green-400",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-gray-400 mb-2",children:"Stack Trace:"}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:(t==null?void 0:t.stack)||"No stack trace available"})]}),e&&c.jsxs("div",{children:[c.jsx("div",{className:"text-gray-400 mb-2",children:"Component Stack:"}),c.jsx("pre",{className:"whitespace-pre-wrap break-words",children:e.componentStack})]})]})})]})]}),c.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-6",children:"Si le problème persiste, veuillez contacter le support technique"})]})})};function vw(t,e,n="medium"){const r={timestamp:new Date,message:t.message,stack:t.stack,context:e,severity:n};console[n==="critical"||n==="high"?"error":"warn"]("[Error Tracking]",{message:t.message,severity:n,context:e,timestamp:r.timestamp.toISOString()});try{const i=c7();i.push({...r,timestamp:r.timestamp.toISOString()}),i.length>10&&i.shift(),localStorage.setItem("neemba_recent_errors",JSON.stringify(i))}catch(i){console.warn("Failed to store error in localStorage:",i)}}function c7(){try{const t=localStorage.getItem("neemba_recent_errors");return t?JSON.parse(t):[]}catch{return[]}}function d7(){window.addEventListener("error",t=>{vw(t.error||new Error(t.message),{filename:t.filename,lineno:t.lineno,colno:t.colno,type:"unhandled"},"high")}),window.addEventListener("unhandledrejection",t=>{const e=t.reason instanceof Error?t.reason:new Error(String(t.reason));vw(e,{type:"unhandled-promise",promise:t.promise},"high")}),console.log("[Error Tracking] Initialized")}class f7 extends j.Component{constructor(e){super(e),this.handleReset=()=>{var n,r;this.setState({hasError:!1,error:null,errorInfo:null}),(r=(n=this.props).onReset)==null||r.call(n)},this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){vw(e,{componentStack:n.componentStack,boundary:"ErrorBoundary"}),this.setState({errorInfo:n}),console.error("ErrorBoundary caught an error:",e,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:c.jsx(u7,{error:this.state.error,errorInfo:this.state.errorInfo,onReset:this.handleReset}):this.props.children}}const ni=({content:t,children:e,align:n="top",disabled:r=!1})=>{const[a,i]=j.useState(!1),o=j.useId();if(r)return c.jsx(c.Fragment,{children:e});const u={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",right:"top-1/2 -translate-y-1/2 left-full ml-3"},f={top:"absolute top-full left-1/2 -translate-x-1/2 h-0 w-0 border-x-4 border-x-transparent border-t-4 border-t-secondary-900 dark:border-t-secondary-100",right:"absolute top-1/2 -translate-y-1/2 -left-1 h-0 w-0 border-y-4 border-y-transparent border-r-4 border-r-secondary-900 dark:border-r-secondary-100"},d=()=>i(!0),p=()=>i(!1),h=Z.isValidElement(e)?Z.cloneElement(e,{"aria-describedby":a?o:void 0}):e,y={type:"spring",stiffness:260,damping:22};return c.jsxs("div",{className:"relative flex items-center",onMouseEnter:d,onMouseLeave:p,onFocusCapture:d,onBlurCapture:p,onTouchStart:d,onTouchEnd:p,onTouchCancel:p,onKeyDown:x=>{x.key==="Escape"&&p()},role:"presentation",children:[h,c.jsx(Js,{children:a&&c.jsxs(He.div,{id:o,initial:{opacity:0,scale:.95,y:n==="top"?6:0,x:n==="right"?-6:0},animate:{opacity:1,scale:1,x:0,y:0,transition:y},exit:{opacity:0,scale:.95,y:n==="top"?6:0,x:n==="right"?-6:0,transition:{duration:.15}},className:`pointer-events-none absolute w-auto whitespace-nowrap rounded-[var(--radius-card)] bg-gradient-to-br from-secondary-900 via-gray-900 to-secondary-800/95 dark:from-secondary-200 dark:via-secondary-100 dark:to-white px-3 py-1.5 text-center text-sm font-semibold text-white dark:text-secondary-900 shadow-[var(--shadow-elev-3)] backdrop-blur-sm border border-secondary-700/60 dark:border-secondary-200/50 z-50 ${u[n]}`,children:[t,c.jsx("div",{className:f[n]})]},"tooltip")})]})},Jr=({icon:t,label:e,isActive:n,isCollapsed:r,onClick:a,id:i,badgeCount:o})=>c.jsx(ni,{content:e,align:"right",disabled:!r,children:c.jsxs("button",{id:i,onClick:a,className:`flex items-center w-full px-4 py-3 text-left rounded-lg text-sm font-semibold transition-colors ${n?"bg-primary-100 dark:bg-primary-500/20 text-primary-900 dark:text-primary-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"} ${r?"justify-center":""}`,"aria-label":e,children:[c.jsx("span",{className:`material-symbols-outlined pointer-events-none ${r?"":"mr-3"}`,children:t}),!r&&c.jsx("span",{className:"pointer-events-none transition-opacity duration-200 whitespace-nowrap flex-1 flex items-center",children:e}),!r&&!!o&&o>0&&c.jsx("span",{className:"ml-auto inline-flex items-center justify-center rounded-full bg-red-600 text-white text-[10px] px-2 py-0.5 min-w-[20px]",children:o})]})}),m7=({currentUser:t,activeHash:e,isCollapsed:n,onToggle:r,onOpenSettings:a,onLogout:i,pendingApprovalsCount:o=0})=>{const u=t.role===_e.ADMIN,f=t.role===_e.MANAGER,d=e.substring(1)||"/dashboard",[p,h]=j.useState(!1),y=j.useRef(null);return j.useEffect(()=>{const x=T=>{y.current&&!y.current.contains(T.target)&&h(!1)};return p&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[p]),c.jsxs("aside",{className:`hidden lg:flex flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen sticky top-0 transition-all duration-300 ease-in-out ${n?"w-20":"w-64"}`,children:[c.jsxs("button",{onClick:r,className:`flex items-center w-full h-16 flex-shrink-0 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${n?"justify-center px-2":"justify-between px-4"}`,"aria-label":n?"Agrandir la barre latérale":"Réduire la barre latérale",children:[!n&&c.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 transition-opacity duration-200 whitespace-nowrap truncate",children:"Neemba Tracker"}),c.jsx("span",{className:"material-symbols-outlined text-gray-500 transition-transform duration-300",children:n?"keyboard_double_arrow_right":"keyboard_double_arrow_left"})]}),c.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto overflow-x-hidden",children:[c.jsx(Jr,{icon:"grid_view",label:"Dashboard",isCollapsed:n,isActive:d.startsWith("/dashboard")||d==="/",onClick:()=>window.location.hash="#/dashboard"}),u&&c.jsxs(c.Fragment,{children:[c.jsx(Jr,{id:"nav-equipment",icon:"devices",label:"Équipement",isCollapsed:n,isActive:d.startsWith("/inventory")||d.startsWith("/categories")||d.startsWith("/models"),onClick:()=>window.location.hash="#/inventory"}),c.jsx(Jr,{id:"nav-users",icon:"group",label:"Utilisateurs",isCollapsed:n,isActive:d.startsWith("/users"),onClick:()=>window.location.hash="#/users"}),c.jsx(Jr,{id:"nav-approvals",icon:"pending_actions",label:"Approbations",isCollapsed:n,isActive:d.startsWith("/pending-approvals"),onClick:()=>window.location.hash="#/pending-approvals",badgeCount:o}),c.jsx(Jr,{id:"nav-management",icon:"category",label:"Gestion",isCollapsed:n,isActive:d.startsWith("/management"),onClick:()=>window.location.hash="#/management"}),c.jsx(Jr,{id:"nav-locations",icon:"pin_drop",label:"Emplacements",isCollapsed:n,isActive:d.startsWith("/locations"),onClick:()=>window.location.hash="#/locations"}),c.jsx(Jr,{id:"nav-audit",icon:"checklist",label:"Audit",isCollapsed:n,isActive:d.startsWith("/audit"),onClick:()=>window.location.hash="#/audit"}),c.jsx(Jr,{id:"nav-reports",icon:"summarize",label:"Rapports",isCollapsed:n,isActive:d.startsWith("/reports"),onClick:()=>window.location.hash="#/reports"})]}),f&&c.jsxs(c.Fragment,{children:[c.jsx(Jr,{id:"nav-team",icon:"group",label:"Mon équipe",isCollapsed:n,isActive:d.startsWith("/users"),onClick:()=>window.location.hash="#/users"}),c.jsx(Jr,{id:"nav-approvals",icon:"pending_actions",label:"Approbations",isCollapsed:n,isActive:d.startsWith("/pending-approvals"),onClick:()=>window.location.hash="#/pending-approvals",badgeCount:o})]}),!u&&!f&&c.jsx(c.Fragment,{children:c.jsx(Jr,{id:"nav-approvals",icon:"pending_actions",label:"Approbations",isCollapsed:n,isActive:d.startsWith("/pending-approvals"),onClick:()=>window.location.hash="#/pending-approvals",badgeCount:o})})]}),c.jsxs("div",{className:"mt-auto",children:[c.jsx("div",{className:"p-2",children:c.jsx(ni,{content:"Paramètres",align:"right",disabled:!n,children:c.jsxs("button",{onClick:a,className:`flex items-center w-full p-2 rounded-lg text-sm font-semibold transition-colors text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100 ${n?"justify-center":""}`,"aria-label":"Paramètres",children:[c.jsx("span",{className:`material-symbols-outlined pointer-events-none ${n?"":"mr-3"}`,children:"settings"}),!n&&c.jsx("span",{className:"pointer-events-none transition-opacity duration-200 whitespace-nowrap",children:"Paramètres"})]})})}),c.jsxs("div",{ref:y,className:"relative p-2",children:[p&&c.jsxs("div",{className:`absolute bottom-full mb-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-lg ring-1 ring-black/5 dark:ring-white/10 p-2 animate-fade-in ${n?"left-1/2 -translate-x-1/2":"left-2"}`,style:{animationDuration:"150ms"},children:[c.jsxs("div",{className:"flex items-center gap-3 p-2",children:[c.jsx("img",{src:t.avatarUrl,alt:t.name,className:"size-10 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:t.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.email})]})]}),c.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-600"}),c.jsx("a",{href:"#/profile",onClick:()=>h(!1),className:"block w-full text-left px-2 py-1.5 rounded-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Mon profil"}),c.jsx("button",{onClick:i,className:"block w-full text-left px-2 py-1.5 rounded-md text-sm text-status-danger-700 dark:text-status-danger-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Se déconnecter"}),c.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-600"}),c.jsxs("div",{className:"px-2 py-1 text-xs text-gray-400 dark:text-gray-500",children:[c.jsx("a",{href:"#",className:"hover:underline",children:"Confidentialité"})," • ",c.jsx("a",{href:"#",className:"hover:underline",children:"Termes"})]})]}),c.jsxs("button",{onClick:()=>h(x=>!x),className:`flex items-center w-full rounded-lg transition-colors p-2 ${p?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-100 dark:hover:bg-gray-700"} ${n?"justify-center":""}`,"aria-haspopup":"true","aria-expanded":p,"aria-label":"Menu utilisateur",children:[c.jsx("img",{src:t.avatarUrl,alt:t.name,className:"size-8 rounded-full flex-shrink-0"}),!n&&c.jsx("span",{className:"ml-3 font-semibold text-sm text-gray-700 dark:text-gray-300 truncate transition-opacity",children:t.name})]})]})]})]})},p7=[{id:"dashboard",icon:"grid_view",label:"Dashboard",hash:"#/dashboard"},{id:"inventory",icon:"devices",label:"Équipement",hash:"#/inventory"},{id:"users",icon:"group",label:"Utilisateurs",hash:"#/users"},{id:"pending-approvals",icon:"pending_actions",label:"Approbations",hash:"#/pending-approvals"}],h7=[{id:"dashboard",icon:"grid_view",label:"Dashboard",hash:"#/dashboard"},{id:"users",icon:"group",label:"Mon équipe",hash:"#/users"},{id:"pending-approvals",icon:"pending_actions",label:"Approbations",hash:"#/pending-approvals"}],g7=["management","locations","audit","reports"],y7=({activeHash:t,showFullNav:e,role:n,onMoreClick:r,pendingApprovalsCount:a=0})=>{const i=t.substring(1)||"/dashboard",o=n===_e.ADMIN?p7:h7,u=n===_e.ADMIN,f="relative flex flex-1 flex-col items-center justify-center gap-1 py-2 rounded-[var(--radius-card)] transition-colors min-w-[72px] focus-visible:outline-none focus-visible:ring-0",d="text-primary-700 dark:text-primary-200",p="text-gray-500 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/70",h={scale:.94},y={scale:1.02},x={type:"spring",stiffness:320,damping:22},T=w=>w==="dashboard"?i.startsWith("/dashboard")||i==="/":w==="inventory"?i.startsWith("/inventory")||i.startsWith("/categories")||i.startsWith("/models"):w==="users"?i.startsWith("/users"):w==="pending-approvals"?i.startsWith("/pending-approvals"):w==="more"?g7.some(A=>i.startsWith(`/${A}`)):i.startsWith(`/${w}`);return e?c.jsx(He.footer,{className:"fixed bottom-0 left-0 right-0 z-10 lg:hidden",initial:{y:24,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:24},children:c.jsxs(He.div,{className:"flex items-stretch gap-1 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/95 px-2 py-2 backdrop-blur-sm shadow-[var(--shadow-elev-1)]",layout:!0,children:[o.map(w=>c.jsxs(He.button,{id:`mobile-nav-${w.id}`,onClick:()=>window.location.hash=w.hash,"aria-label":w.label,className:`${f} ${T(w.id)?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:w.icon}),c.jsx("span",{className:"text-xs font-medium",children:w.label}),w.id==="pending-approvals"&&a>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center rounded-full bg-red-600 text-white text-[10px] px-1.5 py-0.5 min-w-[18px]",children:a})]},w.id)),u&&c.jsxs(He.button,{onClick:r,"aria-label":"Plus",className:`${f} ${T("more")?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"more_horiz"}),c.jsx("span",{className:"text-xs font-medium",children:"Plus"})]})]})}):c.jsx(He.footer,{className:"fixed bottom-0 left-0 right-0 z-10 lg:hidden",initial:{y:24,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:24},children:c.jsxs(He.div,{className:"flex items-stretch gap-1 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/95 px-2 py-2 backdrop-blur-sm shadow-[var(--shadow-elev-1)]",layout:!0,children:[c.jsxs(He.button,{onClick:()=>window.location.hash="#/dashboard","aria-label":"Dashboard",className:`${f} ${T("dashboard")?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"grid_view"}),c.jsx("span",{className:"text-xs font-medium",children:"Dashboard"})]}),c.jsxs(He.button,{onClick:()=>window.location.hash="#/pending-approvals","aria-label":"Approbations",className:`${f} ${T("pending-approvals")?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pending_actions"}),c.jsx("span",{className:"text-xs font-medium",children:"Approbations"}),a>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center rounded-full bg-red-600 text-white text-[10px] px-1.5 py-0.5 min-w-[18px]",children:a})]})]})})},Zt=({className:t})=>c.jsx("div",{className:`rounded-md animate-pulse bg-gradient-to-r from-secondary-100 via-secondary-50 to-secondary-100 dark:from-secondary-800 dark:via-secondary-700 dark:to-secondary-800 ${t}`,style:{backgroundSize:"200% 100%",animation:"shimmer 2s infinite"}}),v7=()=>c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{children:[c.jsx(Zt,{className:"h-8 w-48 mb-4 ml-4"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(Zt,{className:"h-24 rounded-xl"}),c.jsx(Zt,{className:"h-24 rounded-xl"}),c.jsx(Zt,{className:"h-24 rounded-xl"}),c.jsx(Zt,{className:"h-24 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Zt,{className:"h-72 rounded-lg"}),c.jsx(Zt,{className:"h-72 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx(Zt,{className:"h-8 w-40 mb-4 ml-4"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Zt,{className:"h-20 rounded-lg"}),c.jsx(Zt,{className:"h-20 rounded-lg"}),c.jsx(Zt,{className:"h-20 rounded-lg"})]})]})]}),x7=()=>c.jsx("div",{className:"space-y-3 px-4",children:[...Array(5)].map((t,e)=>c.jsxs("div",{className:"flex items-center gap-4 rounded-xl p-3 surface-card surface-card-gradient",children:[c.jsx(Zt,{className:"h-5 w-5 rounded flex-shrink-0"}),c.jsx(Zt,{className:"size-16 rounded-lg flex-shrink-0"}),c.jsxs("div",{className:"flex-1 overflow-hidden space-y-2",children:[c.jsx(Zt,{className:"h-5 w-3/4"}),c.jsx(Zt,{className:"h-4 w-1/2"}),c.jsx(Zt,{className:"h-3 w-1/3"})]}),c.jsx(Zt,{className:"h-6 w-24 rounded-full"}),c.jsx(Zt,{className:"size-8 rounded-full"})]},e))}),b7=()=>c.jsx("div",{className:"divide-y divide-secondary-100 dark:divide-secondary-800 surface-card overflow-hidden",children:[...Array(6)].map((t,e)=>c.jsxs("div",{className:"flex items-center gap-4 p-3",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsx(Zt,{className:"size-12 rounded-full flex-shrink-0"}),c.jsxs("div",{className:"flex flex-col justify-center space-y-2 flex-1",children:[c.jsx(Zt,{className:"h-5 w-1/2"}),c.jsx(Zt,{className:"h-4 w-1/3"})]})]}),c.jsx("div",{className:"shrink-0",children:c.jsx(Zt,{className:"size-6 rounded"})})]},e))});function Qs(t,e){const n=Z.useRef(null);Z.useEffect(()=>{var r;if(e){n.current=document.activeElement;const a=(r=t.current)==null?void 0:r.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(a&&a.length>0){const i=a[0],o=a[a.length-1];setTimeout(()=>i.focus(),50);const u=f=>{f.key!=="Escape"&&f.key==="Tab"&&(f.shiftKey?document.activeElement===i&&(o.focus(),f.preventDefault()):document.activeElement===o&&(i.focus(),f.preventDefault()))};return document.addEventListener("keydown",u),()=>{var f;document.removeEventListener("keydown",u),(f=n.current)==null||f.focus()}}}},[e,t])}const It=({title:t,subtitle:e,onBack:n,children:r})=>c.jsxs("header",{className:"sticky top-0 z-40 flex h-auto min-h-16 flex-shrink-0 items-center justify-between gap-2 border-b border-gray-200 dark:border-gray-700 bg-white/85 dark:bg-gray-800/85 px-4 py-2 md:px-6 backdrop-blur-sm shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"flex flex-1 basis-0 items-center justify-start",children:n&&c.jsx("button",{onClick:n,className:"flex size-10 items-center justify-center rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700","aria-label":"Retour",children:c.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})})}),c.jsxs("div",{className:"flex flex-col items-center justify-center px-2 min-w-0 max-w-full text-center",children:[c.jsx("h1",{className:"text-balance text-center text-lg font-bold leading-tight text-gray-900 dark:text-gray-100",children:t}),e&&c.jsx("p",{className:"mt-0.5 text-balance text-center text-xs leading-snug text-gray-500 dark:text-gray-400",children:e})]}),c.jsx("div",{className:"flex flex-1 basis-0 justify-end items-center gap-2",children:r})]}),d3=({count:t,onCancel:e,onDelete:n})=>c.jsxs("header",{className:"sticky top-0 z-10 flex h-16 flex-shrink-0 items-center justify-between gap-2 border-b border-gray-700 bg-gray-900 text-white px-4 md:px-6 shadow-[var(--shadow-elev-2)]",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:e,className:"flex size-10 items-center justify-center rounded-full text-white hover:bg-gray-700","aria-label":"Annuler la sélection",children:c.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),c.jsx("span",{className:"text-xl font-bold",children:t})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:n,className:"flex size-10 items-center justify-center rounded-full text-white hover:bg-gray-700","aria-label":"Supprimer la sélection",children:c.jsx("span",{className:"material-symbols-outlined",children:"delete"})})})]}),ba=({actions:t,hideOnMobile:e=!1})=>{const[n,r]=j.useState(!1),a=j.useRef(null);return j.useEffect(()=>{const i=o=>{a.current&&!a.current.contains(o.target)&&r(!1)};return n&&document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[n]),Qs(a,n),j.useEffect(()=>{if(!n)return;const i=o=>{o.key==="Escape"&&r(!1)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[n]),!t||t.length===0?null:c.jsx("div",{className:`${e?"hidden lg:inline-flex":"inline-flex"}`,ref:a,children:c.jsxs("div",{className:"relative",children:[c.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"flex h-10 w-10 items-center justify-center rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700","aria-haspopup":"true","aria-expanded":n,"aria-label":"Plus d'options",children:c.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})}),n&&c.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 origin-top-right rounded-[var(--radius-card)] bg-white dark:bg-gray-800 shadow-[var(--shadow-elev-3)] ring-1 ring-black/5 dark:ring-white/10 focus:outline-none z-20 animate-fade-in",style:{animationDuration:"100ms"},role:"menu","aria-orientation":"vertical",children:c.jsx("div",{className:"py-1",children:t.map((i,o)=>c.jsxs("button",{onClick:u=>{i.onClick(u),r(!1)},disabled:i.disabled,title:i.disabled?i.title:i.label,className:`w-full text-left flex items-center px-4 py-2 text-sm ${i.isDestructive?"text-status-danger-700 dark:text-status-danger-400":"text-gray-700 dark:text-gray-200"} hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed`,role:"menuitem",children:[c.jsx("span",{className:"material-symbols-outlined mr-3",children:i.icon}),i.label]},o))})})]})})},Md=({children:t,contentClassName:e})=>c.jsx("footer",{className:"sticky bottom-0 z-10 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 border-t border-gray-200 dark:border-gray-700 lg:static",children:c.jsx("div",{className:`flex justify-end gap-4 ${e||"max-w-full"}`,children:t})}),Zo=({title:t,icon:e,children:n,className:r})=>c.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-[var(--radius-card)] shadow-[var(--shadow-elev-1)] ${r||""}`,children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:e}),t]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2",children:n})]}),rr=({label:t,value:e})=>{const n=(()=>{if(e==null)return"N/A";if(typeof e=="string"){const a=e.trim();return a.length>0?a:"N/A"}return e})(),r=typeof n=="string"||typeof n=="number";return c.jsxs("div",{className:"py-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),r?c.jsx("p",{className:"text-base text-gray-900 dark:text-gray-100",children:n}):c.jsx("div",{className:"text-base text-gray-900 dark:text-gray-100",children:n})]})},f3=({tabs:t,activeTab:e,onTabClick:n})=>c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 sticky top-0 z-10",children:c.jsx("nav",{className:"-mb-px flex space-x-4 px-4","aria-label":"Tabs",children:t.map(r=>{const a=e===r.id;return c.jsxs(He.button,{type:"button",onClick:()=>n(r.id),className:`relative flex items-center gap-2 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-transparent text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,"aria-current":a?"page":void 0,whileTap:{scale:.96},transition:{type:"spring",stiffness:320,damping:28},children:[r.icon&&c.jsx("span",{className:"material-symbols-outlined !text-base",children:r.icon}),c.jsx("span",{children:r.label}),a&&c.jsx(He.span,{layoutId:"tab-active-indicator",className:"absolute inset-x-0 bottom-0 h-[3px] rounded-full bg-primary-500 dark:bg-primary-400",transition:{type:"spring",stiffness:260,damping:24}})]},r.id)})})}),Us=({id:t,imageUrl:e,imageShape:n="square",title:r,details:a,statusBadge:i,isSelected:o,onCardClick:u,selectionModeActive:f,onLongPress:d,onSelectToggle:p,actions:h,isPopoverOpen:y,onActionsClick:x,onMobileActionsClick:T,popoverRef:w,popoverPosition:A,footerActions:C,fullHeight:M})=>{const _=n==="round"?"size-12":"size-14",k=n==="round"?"rounded-full":"rounded-[var(--radius-card)]",N=`relative surface-card surface-card-gradient overflow-hidden border ${o?"border-primary-400 ring-2 ring-primary-200 dark:ring-primary-500/30":"border-transparent dark:border-transparent"} hover:-translate-y-0.5 transition-all duration-200 ${M?"h-full":""}`,I=j.useRef(null),P=j.useRef(!1),L=R=>{R.pointerType==="mouse"&&R.button!==0||!d||(P.current=!1,I.current=window.setTimeout(()=>{d(t),P.current=!0},500))},D=()=>{I.current&&clearTimeout(I.current)},q=R=>{if(P.current){R.preventDefault(),R.stopPropagation();return}u&&!f?u(t):f&&p&&p(R)},U=c.jsxs("div",{className:"flex items-center gap-3 w-full h-full p-2.5",children:[c.jsx("div",{className:`flex-shrink-0 flex items-center justify-center transition-all duration-300 ease-in-out ${f?"w-10":"w-0"}`,"aria-hidden":!f,onClick:R=>R.stopPropagation(),children:c.jsx("input",{type:"checkbox",checked:!!o,onChange:R=>p==null?void 0:p(R),className:`h-5 w-5 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500 cursor-pointer transition-opacity duration-150 ${f?"opacity-100":"opacity-0 pointer-events-none"}`,tabIndex:f?0:-1,"aria-label":`Sélectionner ${r}`})}),e&&c.jsx("div",{className:`flex-shrink-0 ${_} ${k} bg-gray-100 dark:bg-gray-700 overflow-hidden`,children:c.jsx("img",{src:e,alt:"",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-100 truncate",children:r}),a&&a.length>0&&c.jsx("div",{className:"flex items-center gap-x-3 gap-y-1 flex-wrap text-sm text-gray-500 dark:text-gray-400 mt-1",children:a.map((R,B)=>R.text?c.jsxs("div",{className:"flex items-center gap-1.5",children:[R.icon&&c.jsx("span",{className:"material-symbols-outlined !text-base",children:R.icon}),c.jsx("span",{className:"truncate",children:R.text})]},B):null)})]}),c.jsxs("div",{className:"flex items-center gap-2 pl-2 min-w-0",children:[i&&c.jsx("div",{className:"min-w-0",children:i}),h&&x&&c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:R=>x(R,t),className:"hidden lg:flex size-8 items-center justify-center rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-haspopup":"true","aria-expanded":y,"aria-label":"Actions",children:c.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})}),c.jsx("button",{onClick:R=>T&&T(R,t),className:"flex lg:hidden size-8 items-center justify-center rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Actions",children:c.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})}),c.jsx(Js,{children:y&&w&&c.jsx(He.div,{ref:w,className:`absolute top-full right-0 mt-2 w-48 origin-top-right rounded-md bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black dark:ring-gray-700 ring-opacity-5 focus:outline-none z-10 ${A==="top"?"bottom-full top-auto mb-2":""}`,initial:{opacity:0,y:-8,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{opacity:0,y:-6,scale:.96,transition:{duration:.18}},children:c.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:h.map(R=>c.jsx(ni,{content:R.disabledTooltip||"",disabled:!R.disabled||!R.disabledTooltip,children:c.jsxs(He.button,{onClick:R.onClick,disabled:R.disabled,className:`w-full text-left flex items-center px-4 py-2 text-sm ${R.isDestructive?"text-red-600":"text-gray-700 dark:text-gray-200"} hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed`,role:"menuitem",whileTap:{scale:R.disabled?1:.97},whileHover:{scale:R.disabled?1:1.02},transition:{type:"spring",stiffness:320,damping:24},children:[c.jsx("span",{className:"material-symbols-outlined mr-3",children:R.icon}),R.label]})},R.label))})})})]})]})]});return c.jsxs("div",{className:N,children:[c.jsx("div",{className:`${u?"cursor-pointer":""} ${C?"":"h-full"}`,onClick:q,onPointerDown:L,onPointerUp:D,onPointerLeave:D,children:U}),C&&c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:C})]})},ih=({actions:t,id:e,mainIcon:n,className:r=""})=>{const[a,i]=j.useState(!1),o=j.useRef(null);if(j.useEffect(()=>{const d=p=>{o.current&&!o.current.contains(p.target)&&i(!1)};return a&&document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[a]),!t||t.length===0)return null;const u=t.length>1,f=t[0];return c.jsxs("div",{ref:o,className:`fixed bottom-24 right-4 z-20 flex flex-col items-end ${r}`,children:[c.jsx(Js,{children:a&&u&&c.jsx(He.div,{initial:{opacity:0,y:12,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:20}},exit:{opacity:0,y:12,scale:.95,transition:{duration:.15}},className:"mb-4 bg-white dark:bg-gray-800 rounded-xl shadow-2xl ring-1 ring-black/5 dark:ring-white/10 w-64 backdrop-blur",children:c.jsx("div",{className:"p-2",children:t.map(d=>c.jsxs(He.button,{onClick:p=>{d.onClick(p),i(!1)},className:"w-full flex items-center gap-4 text-left p-3 rounded-lg text-sm font-semibold text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":d.label,whileTap:{scale:.98},whileHover:{scale:1.01},children:[c.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-400",children:d.icon}),c.jsx("span",{children:d.label})]},d.label))})},"fab-menu")}),c.jsx(He.button,{id:e,onClick:u?()=>i(d=>!d):f.onClick,className:`flex items-center justify-center size-16 rounded-full shadow-lg transition-colors duration-200 ${a?"bg-primary-600":"bg-primary-500 hover:bg-primary-600"}`,"aria-haspopup":u,"aria-expanded":a,whileTap:{scale:.92},animate:{rotate:a?45:0,scale:a?1.05:1,transition:{type:"spring",stiffness:260,damping:18}},children:c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-900",children:n||f.icon})})]})},Zs=({title:t,subtitle:e,children:n,className:r="",onShowMore:a})=>c.jsxs("div",{className:`surface-card surface-card-gradient flex flex-col h-full p-5 ${r}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 tracking-tight",children:t}),e&&c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-300",children:e})]}),a&&c.jsx("button",{type:"button",onClick:a,"aria-label":"Voir plus",className:"inline-flex items-center justify-center size-9 rounded-full text-primary-600 dark:text-primary-300 hover:text-primary-700 dark:hover:text-primary-200 transition-colors",children:c.jsx("span",{className:"material-symbols-outlined text-lg",children:"open_in_new"})})]}),c.jsx("div",{className:"flex-grow overflow-hidden",children:n})]}),S7=({count:t,onClick:e})=>c.jsxs("button",{type:"button",onClick:e,className:"group relative w-full overflow-hidden text-left surface-card surface-card-gradient p-4 transition-all hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 bg-gradient-to-b from-primary-400 to-status-warning-400"}),c.jsxs("div",{className:"ml-4 flex items-center gap-4",children:[c.jsx("div",{className:"flex shrink-0 items-center justify-center size-12 rounded-full bg-status-warning-200/80 dark:bg-status-warning-900/50 backdrop-blur",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-status-warning-800 dark:text-status-warning-300",children:"pending_actions"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Approbations en attente"}),c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:[t," article(s) requiert/requièrent votre attention."]})]}),c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-200 transition-transform group-hover:translate-x-1",children:"chevron_right"})]})]}),w7=({equipment:t})=>{const e=t.filter(i=>i.status===qe.ASSIGNED).length,n=t.filter(i=>i.status===qe.AVAILABLE).length,r=t.filter(i=>i.status===qe.IN_REPAIR).length,a=t.filter(i=>i.status===qe.PENDING_VALIDATION).length;return c.jsx(Zs,{title:"Statut des équipements",children:c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"Attribué"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:e})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"Disponible"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:n})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"En attente"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:a})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"En réparation"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:r})]})]})})},A7=({equipment:t,models:e,categories:n,onCategoryClick:r,onShowMore:a,chartType:i,onChartTypeChange:o})=>{const{data:u,total:f}=j.useMemo(()=>{const T={},w=new Map(e.map(k=>[k.id,k.categoryId]));for(const k of t){const N=w.get(k.modelId);N&&(T[N]=(T[N]||0)+1)}const A=Object.values(T).reduce((k,N)=>k+N,0),C=Object.entries(T).map(([k,N])=>({category:n.find(I=>I.id===k),count:N,percentage:A>0?N/A*100:0})).filter(k=>!!k.category).sort((k,N)=>N.count-k.count),M=5;let _=C;if(C.length>M){const k=C.slice(0,M),N=C.slice(M),I=N.reduce((D,q)=>D+q.count,0),P=N.reduce((D,q)=>D+q.percentage,0),L={category:{id:"other",name:"Autres",icon:"devices_other"},count:I,percentage:P};_=[...k,L]}return{data:_,total:A}},[t,e,n]),d=["#FFCA18","#6366F1","#10B981","#F97316","#EF4444","#8B5CF6"],p=()=>i==="bar"?"donut_small":i==="donut"?"view_list":"bar_chart",h=()=>c.jsx("div",{className:"space-y-3 pr-2 h-full overflow-y-auto",children:u.map((T,w)=>c.jsxs("div",{onClick:()=>T.category.id!=="other"&&r(T.category.id),onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&T.category.id!=="other"&&r(T.category.id)},role:"button",tabIndex:T.category.id!=="other"?0:-1,className:`w-full text-left group rounded-md p-1 ${T.category.id!=="other"?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50":"cursor-default"}`,"aria-label":`${T.category.name}: ${T.count} articles, ${T.percentage.toFixed(0)}%`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[c.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:T.category.name}),c.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[T.count," (",T.percentage.toFixed(0),"%)"]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:c.jsx("div",{className:"h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${T.percentage}%`,backgroundColor:d[w%d.length]}})})]},T.category.id))}),y=()=>{const C=2*Math.PI*55;let M=0;return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[c.jsxs("div",{className:"relative w-48 h-48",children:[c.jsxs("svg",{viewBox:"0 0 200 200",className:"transform -rotate-90",children:[c.jsx("circle",{cx:"100",cy:"100",r:55,fill:"none",stroke:"#e5e7eb",strokeWidth:25,className:"dark:stroke-gray-700"}),u.map((_,k)=>{const N=_.percentage/100*C,I=M/100*C;return M+=_.percentage,c.jsx("circle",{cx:"100",cy:"100",r:55,fill:"none",stroke:d[k%d.length],strokeWidth:25,strokeDasharray:`${N} ${C}`,strokeDashoffset:-I,className:"transition-all duration-500 ease-out"},_.category.id)})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[c.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:f}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"articles"})]})]}),c.jsx("div",{className:"mt-2 grid grid-cols-2 gap-x-6 gap-y-2 w-full px-4 text-sm",children:u.map((_,k)=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center min-w-0",children:[c.jsx("span",{className:"size-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:d[k%d.length]}}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:_.category.name})]}),c.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400 flex-shrink-0",children:[_.count," (",_.percentage.toFixed(0),"%)"]})]},_.category.id))})]})},x=()=>c.jsx("div",{className:"space-y-2 pr-2 h-full overflow-y-auto",children:u.map((T,w)=>c.jsxs("div",{onClick:()=>T.category.id!=="other"&&r(T.category.id),className:`flex justify-between items-center p-2 rounded-md ${T.category.id!=="other"?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50":"cursor-default"}`,children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"size-2 rounded-full mr-3",style:{backgroundColor:d[w%d.length]}}),c.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:T.category.name})]}),c.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.count," (",T.percentage.toFixed(0),"%)"]})]},T.category.id))});return c.jsx(Zs,{title:"Équipements par catégorie",subtitle:`(${f} articles)`,className:"h-full",onShowMore:a,children:u.length===0?c.jsx("div",{className:"flex-grow flex items-center justify-center text-gray-500 dark:text-gray-400 h-full",children:"Aucun équipement à afficher."}):c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-grow min-h-0 animate-fade-in",children:[i==="bar"&&h(),i==="donut"&&y(),i==="list"&&x()]},i),c.jsx("div",{className:"flex-shrink-0 pt-4",children:c.jsx(ni,{content:"Changer le type de graphique",align:"right",children:c.jsx("button",{onClick:o,className:"flex items-center justify-center size-8 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":"Changer le type de graphique",children:c.jsx("span",{className:"material-symbols-outlined !text-base",children:p()})})})})]})})},T7=({equipment:t,models:e,onSelectEquipment:n,onShowMore:r})=>{const a=j.useMemo(()=>{const u=new Date,f=new Date;return f.setDate(u.getDate()+30),t.filter(d=>d.warrantyEndDate).map(d=>({...d,warrantyEndDate:new Date(d.warrantyEndDate)})).filter(d=>d.warrantyEndDate>u&&d.warrantyEndDate<=f).sort((d,p)=>d.warrantyEndDate.getTime()-p.warrantyEndDate.getTime())},[t]),i=new Map(e.map(u=>[u.id,u])),o=new Date;return c.jsx(Zs,{title:"Garanties expirant bientôt",onShowMore:r,children:a.length===0?c.jsx("div",{className:"flex-grow flex items-center justify-center text-gray-500 dark:text-gray-400 h-full",children:"Aucune garantie n'expire bientôt."}):c.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 max-h-40",children:a.map(u=>{var p;const f=Math.ceil((u.warrantyEndDate.getTime()-o.getTime())/864e5),d=f<=7;return c.jsxs("button",{type:"button",onClick:()=>n(u.id),className:"w-full text-left flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.jsx("div",{className:`flex items-center justify-center size-10 rounded-full ${d?"bg-status-danger-100 dark:bg-status-danger-900/50":"bg-status-warning-100 dark:bg-status-warning-900/50"}`,children:c.jsx("span",{className:`material-symbols-outlined ${d?"text-status-danger-700 dark:text-status-danger-400":"text-status-warning-700 dark:text-status-warning-400"}`,children:"shield"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm text-gray-800 dark:text-gray-200",children:(p=i.get(u.modelId))==null?void 0:p.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u.assetTag})]}),c.jsxs("div",{className:`text-sm font-semibold ${d?"text-status-danger-700 dark:text-status-danger-400":"text-status-warning-700 dark:text-status-warning-400"}`,children:[f," jours"]})]},u.id)})})})},E7=({equipment:t,models:e,onSelectEquipment:n,onShowMore:r})=>{const a=j.useMemo(()=>t.filter(o=>o.status===qe.IN_REPAIR),[t]),i=new Map(e.map(o=>[o.id,o]));return c.jsx(Zs,{title:"Articles en réparation",subtitle:`(${a.length} articles)`,onShowMore:r,children:a.length===0?c.jsx("div",{className:"flex-grow flex items-center justify-center text-gray-500 dark:text-gray-400 h-full",children:"Aucun article en réparation."}):c.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 max-h-40",children:a.map(o=>{var u;return c.jsxs("button",{type:"button",onClick:()=>n(o.id),className:"w-full text-left flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-status-warning-100 dark:bg-status-warning-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-status-warning-700 dark:text-status-warning-400",children:"build"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm text-gray-800 dark:text-gray-200",children:(u=i.get(o.modelId))==null?void 0:u.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o.assetTag})]})]},o.id)})})})},N7=({teamMembers:t,assignments:e,equipment:n,models:r,categories:a,onSelectUser:i,onShowMore:o})=>{const u=new Map(n.map(h=>[h.id,h])),f=new Map(r.map(h=>[h.id,h])),d=new Map(a.map(h=>[h.id,h])),p=h=>{const y=new Map;for(const x of e){if(x.userId!==h)continue;const T=y.get(x.equipmentId);(!T||new Date(x.date)>new Date(T.date))&&y.set(x.equipmentId,x)}return Array.from(y.values()).filter(x=>x.action===Ge.ASSIGN&&x.status===Ut.APPROVED).map(x=>u.get(x.equipmentId)).filter(x=>x!==void 0)};return c.jsx(Zs,{title:"Mon équipe",onShowMore:o,children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(h=>{const y=p(h.id);return c.jsxs("button",{type:"button",onClick:()=>i(h.id),className:"w-full text-left bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 cursor-pointer hover:ring-2 hover:ring-primary-300 dark:hover:ring-primary-500 transition-all border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[c.jsx("img",{src:h.avatarUrl,alt:h.name,className:"size-12 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-100",children:h.name}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.department})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[c.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"Équipement attribué"}),y.length>0?c.jsx("ul",{className:"space-y-2",children:y.map(x=>{const T=f.get(x.modelId),w=T?d.get(T.categoryId):null;return c.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"material-symbols-outlined text-base text-gray-400 dark:text-gray-500",children:(w==null?void 0:w.icon)||"devices"}),c.jsx("span",{children:(T==null?void 0:T.name)||x.assetTag})]},x.id)})}):c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"Aucun équipement attribué."})]})]},h.id)})})})},_7=({currentUser:t,assignments:e,auditLog:n,users:r,equipment:a,models:i,categories:o,onShowMore:u})=>{const f=j.useMemo(()=>new Map(r.map(A=>[A.id,A])),[r]),d=j.useMemo(()=>new Map(r.map(A=>[A.name,A])),[r]),p=j.useMemo(()=>new Map(a.map(A=>[A.id,A])),[a]),h=j.useMemo(()=>new Map(i.map(A=>[A.id,A])),[i]),y=j.useMemo(()=>{const A=e.map(k=>{const N=r.find(D=>D.role===_e.ADMIN),I=f.get(k.userId),P=p.get(k.equipmentId),L=P?h.get(P.modelId):null;return{id:`assign-${k.id}`,date:new Date(k.date),actor:N,type:k.action===Ge.ASSIGN?"ASSIGN":"RETURN",targetUser:I,targetName:(L==null?void 0:L.name)||"équipement",targetId:P==null?void 0:P.id,targetType:"equipment"}}),C=n.map(k=>{const N=d.get(k.user);let I=null,P;if(k.entityType==="equipment"){const L=a.find(D=>D.assetTag&&k.entityName.includes(D.assetTag));if(L){I=L.id;const D=e.filter(q=>q.equipmentId===L.id&&q.action===Ge.ASSIGN&&q.status===Ut.APPROVED).sort((q,U)=>new Date(U.date).getTime()-new Date(q.date).getTime())[0];D&&(P=f.get(D.userId))}}else if(k.entityType==="user"){const L=r.find(D=>D.name===k.entityName);L&&(I=L.id,P=L)}else if(k.entityType==="category"){const L=o.find(D=>D.name===k.entityName);L&&(I=L.id)}else if(k.entityType==="model"){const L=i.find(D=>D.name===k.entityName);L&&(I=L.id)}return{id:`audit-${k.id}`,date:new Date(k.timestamp),actor:N,type:k.action.toUpperCase(),targetUser:P,targetName:k.entityName,targetId:I,targetType:k.entityType}});return[...A,...C].filter(k=>{var N,I;if(!k.actor)return!1;if(t.role===_e.ADMIN)return!0;if(t.role===_e.MANAGER){const P=((N=k.targetUser)==null?void 0:N.managerId)===t.id;return k.actor.id===t.id||P||k.targetType!=="equipment"&&k.targetType!=="user"}return t.role===_e.EMPLOYEE?((I=k.targetUser)==null?void 0:I.id)===t.id:!1}).sort((k,N)=>N.date.getTime()-k.date.getTime()).slice(0,4)},[e,n,r,a,i,t,f,d,p,h,o]),x=A=>{if(!A.targetId)return;let C="";switch(A.targetType){case"equipment":C=`#/equipment/${A.targetId}`;break;case"user":C=`#/users/${A.targetId}`;break;case"category":C=`#/categories/${A.targetId}`;break;case"model":C=`#/models/${A.targetId}`;break;default:return}window.location.hash=C},T=A=>{switch(A){case"ASSIGN":return{icon:"person_add",color:"primary",isPrimary:!0};case"RETURN":return{icon:"undo",color:"action",isPrimary:!1};case"CREATE":return{icon:"add_circle",color:"success",isPrimary:!1};case"UPDATE":return{icon:"edit",color:"info",isPrimary:!1};case"DELETE":return{icon:"delete",color:"danger",isPrimary:!1};default:return{icon:"info",color:"gray",isPrimary:!1}}},w=A=>{const C=t.id===A.actor.id,M=C?"Vous":A.actor.name,_=c.jsx("span",{className:"font-bold",children:M}),k=C?"avez":"a",N=c.jsx("span",{className:"font-bold",children:A.targetName});switch(A.type){case"ASSIGN":const I=A.targetUser?A.targetUser.name:"un utilisateur",P=c.jsx("span",{className:"font-bold",children:I});return c.jsxs(c.Fragment,{children:[_," ",k," attribué ",N," à ",P,"."]});case"RETURN":const L=A.targetUser?A.targetUser.name:"un utilisateur",D=c.jsx("span",{className:"font-bold",children:L});return c.jsxs(c.Fragment,{children:[_," ",k," enregistré le retour de ",N," par ",D,"."]});case"CREATE":return c.jsxs(c.Fragment,{children:[_," ",k," créé ",A.targetType," ",N,"."]});case"UPDATE":return c.jsxs(c.Fragment,{children:[_," ",k," mis à jour ",A.targetType," ",N,"."]});case"DELETE":return c.jsxs(c.Fragment,{children:[_," ",k," supprimé ",A.targetType," ",N,"."]});default:return"Activité inconnue."}};return c.jsx(Zs,{title:"Activité récente",onShowMore:u,children:c.jsxs("div",{className:"relative pl-4 pt-2",children:[c.jsx("div",{className:"absolute left-8 top-5 bottom-5 w-1 rounded-full bg-gradient-to-b from-primary-200/50 via-secondary-200/30 to-transparent dark:from-primary-500/30 dark:via-secondary-500/20 dark:to-transparent"}),c.jsx("ul",{className:"space-y-3",children:y.length>0?y.map(A=>{const{icon:C,color:M,isPrimary:_}=T(A.type);let k,N;return M==="gray"?(k="bg-gray-100 dark:bg-gray-700",N="text-gray-500 dark:text-gray-400"):_?(k="bg-primary-100 dark:bg-primary-900/50",N="text-primary-600 dark:text-primary-400"):(k=`bg-status-${M}-100 dark:bg-status-${M}-900/50`,N=`text-status-${M}-600 dark:text-status-${M}-400`),c.jsx("li",{children:c.jsxs("button",{type:"button",onClick:()=>x(A),disabled:!A.targetId,className:"group w-full text-left relative flex items-start gap-4 p-3 -m-2 rounded-xl transition-all duration-300 ease-[var(--ease-fluid)] hover:bg-white/60 dark:hover:bg-gray-800/60 hover:backdrop-blur-sm hover:shadow-[var(--shadow-elev-1)] hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:hover:bg-transparent dark:disabled:hover:bg-transparent disabled:hover:transform-none","aria-label":`Voir les détails de: ${A.targetName}`,children:[c.jsx("div",{className:"absolute left-2 top-3 flex items-center",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:A.actor.avatarUrl,alt:A.actor.name,className:"size-10 rounded-full ring-4 ring-white dark:ring-gray-800 shadow-[var(--shadow-elev-1)] transition-transform duration-300 group-hover:scale-105"}),c.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 flex items-center justify-center size-6 rounded-full ${k} ring-2 ring-white dark:ring-gray-800 shadow-sm transition-transform duration-300 group-hover:scale-110`,children:c.jsx("span",{className:`material-symbols-outlined !text-sm ${N}`,children:C})})]})}),c.jsxs("div",{className:"ml-14 pt-1 min-h-[4rem] flex-1",children:[c.jsx("p",{className:"text-sm leading-relaxed text-gray-800 dark:text-gray-200 font-medium",children:w(A)}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs text-gray-400 dark:text-gray-500",children:"schedule"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(A.date).toLocaleString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})]})},A.id)}):c.jsxs("li",{className:"relative flex items-start gap-4 p-4 rounded-xl bg-gray-50/50 dark:bg-gray-800/30 border border-gray-200/50 dark:border-gray-700/50",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-gray-100 dark:bg-gray-700",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-400 dark:text-gray-500",children:"inbox"})}),c.jsxs("div",{className:"flex-1 pt-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucune activité récente"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Les événements apparaîtront ici"})]})]})})]})})},C7=({onAssign:t,onReturn:e})=>c.jsx(Zs,{title:"Actions rapides",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:t,className:"flex flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 p-4 transition-colors hover:bg-primary-50 dark:hover:bg-primary-500/10",children:[c.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-300",children:c.jsx("span",{className:"material-symbols-outlined text-3xl",children:"person_add"})}),c.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:"Attribuer"})]}),c.jsxs("button",{onClick:e,className:"flex flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 p-4 transition-colors hover:bg-status-action-50 dark:hover:bg-status-action-500/10",children:[c.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-status-action-100 dark:bg-status-action-900/50 text-status-action-700 dark:text-status-action-300",children:c.jsx("span",{className:"material-symbols-outlined text-3xl",children:"undo"})}),c.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:"Retourner"})]})]})}),j7=t=>{const{currentUser:e,assignments:n,equipment:r,users:a,models:i,categories:o,auditLog:u,onShowPendingApprovals:f,isLoading:d,onOpenSettings:p}=t,[h,y]=j.useState(!1),[x,T]=j.useState([]),[w,A]=j.useState(null),[C,M]=j.useState(null),_=j.useRef(null),k=j.useRef(null),[N,I]=j.useState(!1),P=j.useRef(null),[L,D]=j.useState("bar"),q=j.useRef(null);j.useRef(null);const U=j.useRef(null),R=j.useRef(null),B=j.useRef("");j.useEffect(()=>{const ee=be=>{P.current&&!P.current.contains(be.target)&&I(!1)};return N&&document.addEventListener("mousedown",ee),()=>{document.removeEventListener("mousedown",ee)}},[N]);const G=j.useCallback(()=>I(!1),[]),W=j.useCallback(ee=>{T(ee),localStorage.setItem(`dashboardConfig_${e.id}`,JSON.stringify(ee)),q.current=ee},[e.id]),V=j.useCallback(()=>{q.current=x,y(!0),A(null),M(null),G()},[x,G]),K=j.useCallback(()=>{q.current&&q.current.length>0&&T(q.current),y(!1),A(null),M(null),G()},[G]),Y=j.useCallback(()=>{W(x),y(!1),A(null),M(null),G()},[x,W,G]);j.useEffect(()=>{const ee=localStorage.getItem(`categoryChartType_${e.id}`);(ee==="bar"||ee==="donut"||ee==="list")&&D(ee)},[e.id]);const te=j.useCallback(()=>{const ee=["bar","donut","list"];D(be=>{const Ae=ee.indexOf(be),Ce=ee[(Ae+1)%ee.length];return localStorage.setItem(`categoryChartType_${e.id}`,Ce),Ce})},[e.id]),re=j.useMemo(()=>e.role!==_e.MANAGER?[]:a.filter(ee=>ee.managerId===e.id),[e.role,a]),$=j.useMemo(()=>n.filter(ee=>{const be=r.find(Ae=>Ae.id===ee.equipmentId);if((be==null?void 0:be.status)!==qe.PENDING_VALIDATION||ee.status!==Ut.PENDING||!ee.validation)return!1;if(ee.action===Ge.ASSIGN){if(e.id===ee.managerId&&!ee.validation.manager||e.id===ee.userId&&ee.validation.manager&&!ee.validation.user)return!0}else if(e.id===ee.userId&&!ee.validation.user||e.id===ee.managerId&&ee.validation.user&&!ee.validation.manager)return!0;return!1}).length,[n,r,e]),z=j.useMemo(()=>[{component:w7,props:{equipment:r},roles:[_e.ADMIN],className:"col-span-1 md:col-span-2"},{component:C7,props:{onAssign:()=>window.location.hash="#/assign",onReturn:()=>window.location.hash="#/return"},roles:[_e.ADMIN],className:"col-span-1"},{component:A7,props:{equipment:r,models:i,categories:o,onCategoryClick:ee=>window.location.hash=`#/inventory?category=${ee}`,onShowMore:()=>window.location.hash="#/management",chartType:L,onChartTypeChange:te},roles:[_e.ADMIN,_e.MANAGER],className:"col-span-1 md:col-span-2 lg:col-span-1"},{component:T7,props:{equipment:r,models:i,onSelectEquipment:ee=>window.location.hash=`#/equipment/${ee}`,onShowMore:()=>window.location.hash="#/inventory"},roles:[_e.ADMIN,_e.MANAGER],className:"col-span-1 md:col-span-2 lg:col-span-1"},{component:E7,props:{equipment:r,models:i,onSelectEquipment:ee=>window.location.hash=`#/equipment/${ee}`,onShowMore:()=>window.location.hash="#/inventory"},roles:[_e.ADMIN,_e.MANAGER],className:"col-span-1 md:col-span-2 lg:col-span-1"},{component:N7,props:{teamMembers:re,assignments:n,equipment:r,models:i,categories:o,onSelectUser:ee=>window.location.hash=`#/users/${ee}`,onShowMore:()=>window.location.hash="#/users"},roles:[_e.MANAGER],className:"col-span-1 md:col-span-3"},{component:_7,props:{currentUser:e,assignments:n,auditLog:u,users:a,equipment:r,models:i,categories:o,onShowMore:()=>{}},roles:[_e.ADMIN,_e.MANAGER,_e.EMPLOYEE],className:"col-span-1 md:col-span-3"}],[r,i,o,L,te,re,n,e,u,a]),H=j.useCallback(ee=>ee.component.name,[]);j.useEffect(()=>{const ee=`dashboardConfig_${e.id}`;let be=null;try{const fe=localStorage.getItem(ee);fe&&(be=JSON.parse(fe))}catch(fe){console.error("Failed to parse dashboard config:",fe)}const Ae=z.filter(fe=>fe.roles.includes(e.role)),Ce=Ae.map(H);if(be&&Array.isArray(be)){const fe=be.filter(Vt=>Ce.includes(Vt.id)),Me=Ae.filter(Vt=>!fe.some(tt=>tt.id===H(Vt))),nn=[...[...fe,...Me.map(Vt=>({id:H(Vt),visible:!0}))]].sort((Vt,tt)=>{const Kt=(be==null?void 0:be.findIndex(on=>on.id===Vt.id))??-1,gn=(be==null?void 0:be.findIndex(on=>on.id===tt.id))??-1;return Kt===-1&&gn===-1?0:Kt===-1?1:gn===-1?-1:Kt-gn});q.current=nn,T(nn)}else{const fe=Ae.map(Me=>({id:H(Me),visible:!0}));q.current=fe,T(fe)}},[e.id,e.role,z,H]);const Q=j.useMemo(()=>x.map(ee=>{const be=z.find(Ae=>H(Ae)===ee.id);return be?{config:ee,widget:be}:null}).filter(ee=>ee!==null),[x,z,H]),se=j.useMemo(()=>Q.filter(({config:ee})=>ee.visible),[Q]),we=h?Q:se,Te=ee=>{const be=x.map(Ae=>Ae.id===ee?{...Ae,visible:!Ae.visible}:Ae);T(be)},je=(ee,be)=>{if(A(be),M(be),ee.dataTransfer.effectAllowed="move",ee.dataTransfer.setData("text/html",be),ee.dataTransfer.setDragImage&&ee.currentTarget){const Ae=ee.currentTarget.cloneNode(!0);Ae.style.opacity="0.5",ee.dataTransfer.setDragImage(ee.currentTarget,0,0)}},me=(ee,be)=>{if(!ee||!be||ee===be)return;const Ae=se.map(({widget:Vt})=>H(Vt)),Ce=Ae.indexOf(ee),fe=Ae.indexOf(be);if(Ce===-1||fe===-1)return;const Me=[...Ae],[$t]=Me.splice(Ce,1);Me.splice(fe,0,$t);const nn=[...x].sort((Vt,tt)=>{const Kt=Me.indexOf(Vt.id),gn=Me.indexOf(tt.id);return Kt===-1&&gn===-1?0:Kt===-1?1:gn===-1?-1:Kt-gn});T(nn)},Ne=(ee,be)=>{ee.preventDefault(),ee.dataTransfer.dropEffect="move",C!==be&&M(be)},de=(ee,be)=>{ee.preventDefault(),w&&(me(w,be),A(null),M(null),"vibrate"in navigator&&navigator.vibrate(50))},ie=ee=>{const be=ee.getBoundingClientRect(),Ae=document.createElement("div");Ae.className="pointer-events-none fixed inset-0 z-[60] flex items-center justify-center";const Ce=ee.cloneNode(!0);Ce.style.width=`${be.width}px`,Ce.style.height=`${be.height}px`,Ce.style.opacity="0.92",Ce.style.boxShadow="0 35px 60px -15px rgba(15, 23, 42, 0.45)",Ce.style.borderRadius="1rem",Ce.style.overflow="hidden",Ce.classList.add("bg-white","dark:bg-gray-800"),Ce.style.transform="scale(1.02)",Ce.style.pointerEvents="none";const fe=document.createElement("div");return fe.style.position="absolute",fe.style.left=`${be.left}px`,fe.style.top=`${be.top}px`,fe.style.width=`${be.width}px`,fe.style.height=`${be.height}px`,fe.style.transform="translate(-50%, -50%)",fe.appendChild(Ce),Ae.appendChild(fe),document.body.appendChild(Ae),U.current=Ae,B.current=document.body.style.overflow,document.body.style.overflow="hidden",fe},Oe=ee=>{const be=U.current;if(!be)return;const Ae=be.firstElementChild;Ae&&(Ae.style.left=`${ee.clientX}px`,Ae.style.top=`${ee.clientY}px`)},X=ee=>{const be=document.scrollingElement||document.documentElement,Ae=80,Ce=20;R.current&&(window.clearInterval(R.current),R.current=null),ee.clientY<Ae?R.current=window.setInterval(()=>{be.scrollBy({top:-Ce,behavior:"auto"})},16):window.innerHeight-ee.clientY<Ae&&(R.current=window.setInterval(()=>{be.scrollBy({top:Ce,behavior:"auto"})},16))},ve=()=>{R.current&&(window.clearInterval(R.current),R.current=null)},pe=()=>{ve(),U.current&&(U.current.remove(),U.current=null),document.body.style.overflow=B.current,B.current=""},Le=(ee,be)=>{if(_.current=ee,k.current=ee,A(ee),M(ee),"vibrate"in navigator&&navigator.vibrate(30),be){const Ae=be.querySelector("[data-widget-content]");Ae&&ie(Ae)}},Qe=ee=>{if(!_.current)return;const be=ee.touches[0];if(!be)return;const{clientX:Ae,clientY:Ce}=be;Oe({clientX:Ae,clientY:Ce}),X({clientY:Ce});const fe=document.elementFromPoint(Ae,Ce),Me=fe==null?void 0:fe.closest("[data-widget-id]");if(Me!=null&&Me.dataset.widgetId){const $t=Me.dataset.widgetId;k.current!==$t&&(k.current=$t,M($t),"vibrate"in navigator&&navigator.vibrate(10))}},lt=()=>{pe();const ee=_.current,be=k.current;ee&&be&&(me(ee,be),"vibrate"in navigator&&navigator.vibrate([30,20,30])),_.current=null,k.current=null,A(null),M(null)};j.useEffect(()=>()=>{pe()},[]);const ut=()=>{A(null),M(null)};if(d)return c.jsx(v7,{});const Mn=h?[{label:"Annuler",icon:"close",onClick:()=>K()},{label:"Sauvegarder",icon:"check",onClick:()=>Y()}]:[{label:"Réorganiser",icon:"edit",onClick:()=>V()},{label:"Paramètres",icon:"settings",onClick:p}];return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[c.jsx(It,{title:"Tableau de bord",subtitle:`Bienvenue, ${e.name}`,children:c.jsx(ba,{actions:Mn})}),c.jsxs("main",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-24 md:p-6 space-y-6",children:[h&&c.jsx("div",{className:"surface-card surface-card-gradient rounded-2xl p-4 border-l-4 border-primary-500 shadow-lg animate-in fade-in slide-in-from-top-2 duration-300",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-primary-100 dark:bg-primary-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-300",children:"info"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Mode réorganisation"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Glissez-déposez les widgets pour les réorganiser. Cliquez sur l'icône œil pour les masquer/afficher."})]})]})}),$>0&&c.jsx(S7,{count:$,onClick:f}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:we.map(({config:ee,widget:be})=>{const Ae=be.component,Ce=H(be),fe=ee.visible;return c.jsxs("div",{draggable:h&&ee.visible,onDragStart:Me=>je(Me,Ce),onDragOver:Me=>Ne(Me,Ce),onDrop:Me=>de(Me,Ce),onDragEnd:ut,"data-widget-id":Ce,className:`${be.className} transition-all duration-300 ${h?"relative rounded-xl p-1 touch-none cursor-grab":""} ${w===Ce?"opacity-30 scale-95 cursor-grabbing":""} ${C===Ce&&w!==Ce&&h?"ring-4 ring-primary-400 ring-opacity-50 scale-105 shadow-2xl":""}`,children:[h&&c.jsx("div",{className:`pointer-events-none absolute inset-0 rounded-xl border-2 border-dashed transition-all duration-300 ${C===Ce&&w!==Ce?"border-primary-500 bg-primary-50/20 dark:bg-primary-900/20":"border-primary-400"}`,children:C===Ce&&w!==Ce&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"bg-primary-500 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg animate-pulse",children:"Déposer ici"})})}),c.jsxs("div",{className:`${h?"relative rounded-xl bg-white dark:bg-gray-800 shadow-sm overflow-hidden":""}`,"data-widget-content":!0,children:[h&&c.jsxs("div",{className:"absolute inset-x-0 top-0 flex items-center justify-between px-4 py-2 bg-gray-100/90 dark:bg-gray-800/80 backdrop-blur-sm z-10",children:[c.jsxs("button",{type:"button",draggable:h&&fe,onDragStart:Me=>{Me.stopPropagation(),je(Me,Ce)},onTouchStart:Me=>{Me.stopPropagation(),Le(Ce,Me.currentTarget.closest("[data-widget-id]"))},onTouchMove:Me=>{Me.stopPropagation(),Qe(Me)},onTouchEnd:Me=>{Me.stopPropagation(),lt()},onTouchCancel:()=>lt(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300 hover:bg-primary-200 dark:hover:bg-primary-800/50 transition-all hover:scale-105 active:scale-95 cursor-grab active:cursor-grabbing","aria-label":"Déplacer ce widget",children:[c.jsx("span",{className:"material-symbols-outlined text-lg leading-none",children:"drag_indicator"}),c.jsx("span",{className:"text-xs font-semibold",children:"Déplacer"})]}),c.jsx("button",{type:"button",onClick:()=>Te(ee.id),className:`flex items-center justify-center size-8 rounded-full transition-colors ${fe?"bg-gray-100 text-gray-700 hover:bg-gray-200/90 dark:bg-gray-700/70 dark:text-gray-100 dark:hover:bg-gray-600/70":"bg-primary-100 text-primary-800 hover:bg-primary-200 dark:bg-primary-900/40 dark:text-primary-200 dark:hover:bg-primary-800/40"}`,"aria-label":fe?"Masquer ce widget":"Afficher ce widget",children:c.jsx("span",{className:"material-symbols-outlined text-base leading-none",children:fe?"visibility":"visibility_off"})})]}),c.jsx("div",{className:h?"pt-12":"",children:c.jsx(Ae,{...be.props})})]})]},Ce)})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let M7,k7;function I7(){return{geminiUrl:M7,vertexUrl:k7}}function P7(t,e,n,r){var a,i;if(!(t!=null&&t.baseUrl)){const o=I7();return e?(a=o.vertexUrl)!==null&&a!==void 0?a:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eo{}function Pe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function S(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const u=o.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const p=f[d];S(p,e.slice(i+1),n[d])}else for(const d of f)S(d,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const u=o.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];S(f[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const a=e[r];if(a.endsWith("[]")){const i=a.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[a]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O7(t){const e={},n=v(t,["operationName"]);n!=null&&S(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&S(e,["_url","resourceName"],r),e}function R7(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response","generateVideoResponse"]);return o!=null&&S(e,["response"],L7(o)),e}function D7(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response"]);return o!=null&&S(e,["response"],q7(o)),e}function L7(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>U7(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function q7(t){const e={},n=v(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>B7(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function U7(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],F7(n)),e}function B7(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],z7(n)),e}function $7(t){const e={},n=v(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function V7(t){const e={},n=v(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function F7(t){const e={},n=v(t,["video","uri"]);n!=null&&S(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&S(e,["videoBytes"],UT(r));const a=v(t,["encoding"]);return a!=null&&S(e,["mimeType"],a),e}function z7(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],UT(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var TM;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(TM||(TM={}));var EM;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(EM||(EM={}));var jt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(jt||(jt={}));var NM;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(NM||(NM={}));var _M;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(_M||(_M={}));var CM;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(CM||(CM={}));var jM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jM||(jM={}));var MM;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(MM||(MM={}));var kM;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(kM||(kM={}));var IM;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(IM||(IM={}));var PM;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(PM||(PM={}));var OM;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(OM||(OM={}));var RM;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(RM||(RM={}));var DM;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(DM||(DM={}));var LM;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(LM||(LM={}));var Jm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Jm||(Jm={}));var qM;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qM||(qM={}));var xw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xw||(xw={}));var UM;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(UM||(UM={}));var BM;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(BM||(BM={}));var $M;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})($M||($M={}));var VM;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(VM||(VM={}));var FM;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(FM||(FM={}));var zM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(zM||(zM={}));var GM;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(GM||(GM={}));var HM;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(HM||(HM={}));var KM;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(KM||(KM={}));var YM;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(YM||(YM={}));var WM;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(WM||(WM={}));var XM;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(XM||(XM={}));var JM;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(JM||(JM={}));var QM;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(QM||(QM={}));var ZM;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ZM||(ZM={}));var ek;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ek||(ek={}));var tk;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(tk||(tk={}));var nk;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(nk||(nk={}));var rk;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(rk||(rk={}));var ak;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ak||(ak={}));var ik;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(ik||(ik={}));var sk;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sk||(sk={}));var ok;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(ok||(ok={}));var lk;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(lk||(lk={}));var uk;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(uk||(uk={}));var ck;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(ck||(ck={}));var dk;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dk||(dk={}));var fk;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(fk||(fk={}));var mk;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(mk||(mk={}));var pk;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pk||(pk={}));var il;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(il||(il={}));class bw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ec{get text(){var e,n,r,a,i,o,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const h=[];for(const y of(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[x,T]of Object.entries(y))x!=="text"&&x!=="thought"&&(T!==null||T!==void 0)&&h.push(x);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;p=!0,d+=y.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,a,i,o,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const h of(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[y,x]of Object.entries(h))y!=="inlineData"&&(x!==null||x!==void 0)&&p.push(y);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,a,i,o,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,a,i,o,u,f,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,a,i,o,u,f,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class hk{}class gk{}class G7{}class H7{}class K7{}class Y7{}class yk{}class vk{}class xk{}class W7{}class Qm{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Qm;let a;const i=e;return n?a=D7(i):a=R7(i),Object.assign(r,a),r}}class bk{}class Sk{}class wk{}class X7{}class J7{}class Q7{}class Ak{}class Z7{get text(){var e,n,r;let a="",i=!1;const o=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&o.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,a+=u.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var e,n,r;let a="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(o))u!=="inlineData"&&f!==null&&i.push(u);o.inlineData&&typeof o.inlineData.data=="string"&&(a+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class eK{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function m3(t,e){const n=pt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function p3(t){return Array.isArray(t)?t.map(e=>Zm(e)):[Zm(t)]}function Zm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function h3(t){const e=Zm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function g3(t){const e=Zm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Tk(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function y3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Tk(e)):[Tk(t)]}function Sw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Ek(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Nk(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function zn(t){if(t==null)throw new Error("ContentUnion is required");return Sw(t)?t:{role:"user",parts:y3(t)}}function BT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=zn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=zn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>zn(n)):[zn(e)]}function Gr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Ek(t)||Nk(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[zn(t)]}const e=[],n=[],r=Sw(t[0]);for(const a of t){const i=Sw(a);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(a);else{if(Ek(a)||Nk(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||e.push({role:"user",parts:y3(n)}),e}function tK(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(jt).includes(n[0].toUpperCase())?n[0].toUpperCase():jt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(jt).includes(r.toUpperCase())?r.toUpperCase():jt.TYPE_UNSPECIFIED})}}function fl(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&tK(t.type,e);for(const[o,u]of Object.entries(t))if(u!=null)if(o=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(jt).includes(u.toUpperCase())?u.toUpperCase():jt.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=fl(u);else if(r.includes(o)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(fl(d))}e[o]=f}else if(a.includes(o)){const f={};for(const[d,p]of Object.entries(u))f[d]=fl(p);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=u}return e}function $T(t){return fl(t)}function VT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function FT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Wl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=fl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=fl(e.response));return t}function Xl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function nK(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function ri(t,e){if(typeof e!="string")throw new Error("name must be a string");return nK(t,e,"cachedContents")}function v3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wi(t){return UT(t)}function rK(t){return t!=null&&typeof t=="object"&&"name"in t}function aK(t){return t!=null&&typeof t=="object"&&"video"in t}function iK(t){return t!=null&&typeof t=="object"&&"uri"in t}function x3(t){var e;let n;if(rK(t)&&(n=t.name),!(iK(t)&&(n=t.uri,n===void 0))&&!(aK(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function b3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function S3(t){for(const e of["models","tunedModels","publisherModels"])if(sK(t,e))return t[e];return[]}function sK(t,e){return t!==null&&typeof t=="object"&&e in t}function oK(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function lK(t,e={}){const n=[],r=new Set;for(const a of t){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=oK(a,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function w3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function uK(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function A3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let i=!1;for(const o of a){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Jl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function T3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cK(t){const e={},n=v(t,["responsesFile"]);n!=null&&S(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>UK(o))),S(e,["inlinedResponses"],i)}const a=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["inlinedEmbedContentResponses"],i)}return e}function dK(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&S(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&S(e,["gcsUri"],r);const a=v(t,["bigqueryDestination","outputUri"]);return a!=null&&S(e,["bigqueryUri"],a),e}function fK(t){const e={},n=v(t,["format"]);n!=null&&S(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&S(e,["gcsDestination","outputUriPrefix"],r);const a=v(t,["bigqueryUri"]);if(a!=null&&S(e,["bigqueryDestination","outputUri"],a),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function dc(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["metadata","state"]);a!=null&&S(e,["state"],T3(a));const i=v(t,["metadata","createTime"]);i!=null&&S(e,["createTime"],i);const o=v(t,["metadata","endTime"]);o!=null&&S(e,["endTime"],o);const u=v(t,["metadata","updateTime"]);u!=null&&S(e,["updateTime"],u);const f=v(t,["metadata","model"]);f!=null&&S(e,["model"],f);const d=v(t,["metadata","output"]);return d!=null&&S(e,["dest"],cK(A3(d))),e}function ww(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["state"]);a!=null&&S(e,["state"],T3(a));const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["createTime"]);o!=null&&S(e,["createTime"],o);const u=v(t,["startTime"]);u!=null&&S(e,["startTime"],u);const f=v(t,["endTime"]);f!=null&&S(e,["endTime"],f);const d=v(t,["updateTime"]);d!=null&&S(e,["updateTime"],d);const p=v(t,["model"]);p!=null&&S(e,["model"],p);const h=v(t,["inputConfig"]);h!=null&&S(e,["src"],mK(h));const y=v(t,["outputConfig"]);return y!=null&&S(e,["dest"],dK(A3(y))),e}function mK(t){const e={},n=v(t,["instancesFormat"]);n!=null&&S(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&S(e,["gcsUri"],r);const a=v(t,["bigquerySource","inputUri"]);return a!=null&&S(e,["bigqueryUri"],a),e}function pK(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&S(n,["fileName"],r);const a=v(e,["inlinedRequests"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>qK(t,o))),S(n,["requests","requests"],i)}return n}function hK(t){const e={},n=v(t,["format"]);n!=null&&S(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&S(e,["gcsSource","uris"],r);const a=v(t,["bigqueryUri"]);if(a!=null&&S(e,["bigquerySource","inputUri"],a),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gK(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function yK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Jl(t,r)),n}function vK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Jl(t,r)),n}function xK(t){const e={},n=v(t,["content"]);n!=null&&S(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],bK(r));const a=v(t,["tokenCount"]);a!=null&&S(e,["tokenCount"],a);const i=v(t,["finishReason"]);i!=null&&S(e,["finishReason"],i);const o=v(t,["urlContextMetadata"]);o!=null&&S(e,["urlContextMetadata"],o);const u=v(t,["avgLogprobs"]);u!=null&&S(e,["avgLogprobs"],u);const f=v(t,["groundingMetadata"]);f!=null&&S(e,["groundingMetadata"],f);const d=v(t,["index"]);d!=null&&S(e,["index"],d);const p=v(t,["logprobsResult"]);p!=null&&S(e,["logprobsResult"],p);const h=v(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),S(e,["safetyRatings"],y)}return e}function bK(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["citations"],r)}return e}function E3(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>HK(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function SK(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&S(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function wK(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const a=v(t,["dest"]);return e!==void 0&&a!=null&&S(e,["outputConfig"],fK(uK(a))),n}function _k(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["src"]);a!=null&&S(n,["batch","inputConfig"],pK(t,w3(t,a)));const i=v(e,["config"]);return i!=null&&SK(i,n),n}function AK(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["model"],pt(t,r));const a=v(e,["src"]);a!=null&&S(n,["inputConfig"],hK(w3(t,a)));const i=v(e,["config"]);return i!=null&&wK(i,n),n}function TK(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["batch","displayName"],r),n}function C0(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["src"]);a!=null&&S(n,["batch","inputConfig"],kK(t,a));const i=v(e,["config"]);return i!=null&&TK(i,n),n}function EK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Jl(t,r)),n}function NK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Jl(t,r)),n}function _K(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);return i!=null&&S(e,["error"],i),e}function CK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);return i!=null&&S(e,["error"],i),e}function jK(t,e){const n={},r=v(e,["contents"]);if(r!=null){let i=BT(t,r);Array.isArray(i)&&(i=i.map(o=>o)),S(n,["requests[]","request","content"],i)}const a=v(e,["config"]);return a!=null&&S(n,["_self"],MK(a,n)),n}function MK(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const a=v(t,["title"]);e!==void 0&&a!=null&&S(e,["requests[]","title"],a);const i=v(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&S(e,["requests[]","outputDimensionality"],i),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function kK(t,e){const n={},r=v(e,["fileName"]);r!=null&&S(n,["file_name"],r);const a=v(e,["inlinedRequests"]);return a!=null&&S(n,["requests"],jK(t,a)),n}function IK(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function PK(t,e,n){const r={},a=v(e,["systemInstruction"]);n!==void 0&&a!=null&&S(n,["systemInstruction"],E3(zn(a)));const i=v(e,["temperature"]);i!=null&&S(r,["temperature"],i);const o=v(e,["topP"]);o!=null&&S(r,["topP"],o);const u=v(e,["topK"]);u!=null&&S(r,["topK"],u);const f=v(e,["candidateCount"]);f!=null&&S(r,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&S(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&S(r,["logprobs"],y);const x=v(e,["presencePenalty"]);x!=null&&S(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&S(r,["frequencyPenalty"],T);const w=v(e,["seed"]);w!=null&&S(r,["seed"],w);const A=v(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],$T(C));const M=v(e,["responseJsonSchema"]);if(M!=null&&S(r,["responseJsonSchema"],M),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=v(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(B=>KK(B))),S(n,["safetySettings"],R)}const k=v(e,["tools"]);if(n!==void 0&&k!=null){let R=Xl(k);Array.isArray(R)&&(R=R.map(B=>YK(Wl(B)))),S(n,["tools"],R)}const N=v(e,["toolConfig"]);if(n!==void 0&&N!=null&&S(n,["toolConfig"],N),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=v(e,["cachedContent"]);n!==void 0&&I!=null&&S(n,["cachedContent"],ri(t,I));const P=v(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const L=v(e,["mediaResolution"]);L!=null&&S(r,["mediaResolution"],L);const D=v(e,["speechConfig"]);if(D!=null&&S(r,["speechConfig"],VT(D)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&S(r,["thinkingConfig"],q);const U=v(e,["imageConfig"]);return U!=null&&S(r,["imageConfig"],U),r}function OK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>xK(d))),S(e,["candidates"],f)}const a=v(t,["modelVersion"]);a!=null&&S(e,["modelVersion"],a);const i=v(t,["promptFeedback"]);i!=null&&S(e,["promptFeedback"],i);const o=v(t,["responseId"]);o!=null&&S(e,["responseId"],o);const u=v(t,["usageMetadata"]);return u!=null&&S(e,["usageMetadata"],u),e}function RK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Jl(t,r)),n}function DK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Jl(t,r)),n}function LK(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function qK(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["request","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>E3(u))),S(n,["request","contents"],o)}const i=v(e,["config"]);return i!=null&&S(n,["request","generationConfig"],PK(t,i,v(n,["request"],{}))),n}function UK(t){const e={},n=v(t,["response"]);n!=null&&S(e,["response"],OK(n));const r=v(t,["error"]);return r!=null&&S(e,["error"],r),e}function BK(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);if(e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function $K(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const i=v(t,["filter"]);return e!==void 0&&i!=null&&S(e,["_query","filter"],i),n}function VK(t){const e={},n=v(t,["config"]);return n!=null&&BK(n,e),e}function FK(t){const e={},n=v(t,["config"]);return n!=null&&$K(n,e),e}function zK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["operations"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>dc(o))),S(e,["batchJobs"],i)}return e}function GK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["batchPredictionJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>ww(o))),S(e,["batchJobs"],i)}return e}function HK(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],gK(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],IK(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function KK(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&S(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function YK(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],LK(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Fs||(Fs={}));class kd{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(a=o.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WK extends eo{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{var r,a;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const u=this.createInlinedEmbedContentRequest(n),f=u.path,d=u.body,p=C0(this.apiClient,n)._query||{};return this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()).then(y=>dc(y))},this.list=async(n={})=>new kd(Fs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=_k(this.apiClient,e),r=n._url,a=Pe("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const p of f){const h=Object.assign({},p);if(h.systemInstruction){const y=h.systemInstruction;delete h.systemInstruction;const x=h.request;x.systemInstruction=y,h.request=x}d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:a,body:n}}createInlinedEmbedContentRequest(e){const n=C0(this.apiClient,e),r=n._url,a=Pe("{model}:asyncBatchEmbedContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];delete u.config;for(const p of f){const h=Object.assign({},p),y=h.request;for(const x in h)x!=="request"&&(y[x]=h[x],delete h[x]);d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${a}`;else if(o)r.dest=`${o}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=AK(this.apiClient,e);return u=Pe("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>ww(p))}else{const d=_k(this.apiClient,e);return u=Pe("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>dc(p))}}async createEmbeddingsInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=C0(this.apiClient,e);return i=Pe("{model}:asyncBatchEmbedContent",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>dc(f))}}async get(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=DK(this.apiClient,e);return u=Pe("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>ww(p))}else{const d=RK(this.apiClient,e);return u=Pe("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>dc(p))}}async cancel(e){var n,r,a,i;let o="",u={};if(this.apiClient.isVertexAI()){const f=vK(this.apiClient,e);o=Pe("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=yK(this.apiClient,e);o=Pe("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=FK(e);return u=Pe("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=GK(p),y=new Ak;return Object.assign(y,h),y})}else{const d=VK(e);return u=Pe("batches",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=zK(p),y=new Ak;return Object.assign(y,h),y})}}async delete(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=NK(this.apiClient,e);return u=Pe("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>CK(p))}else{const d=EK(this.apiClient,e);return u=Pe("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>_K(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XK(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function Ck(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>gY(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function JK(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);e!==void 0&&a!=null&&S(e,["expireTime"],a);const i=v(t,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let p=Gr(o);Array.isArray(p)&&(p=p.map(h=>Ck(h))),S(e,["contents"],p)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&S(e,["systemInstruction"],Ck(zn(u)));const f=v(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>yY(h))),S(e,["tools"],p)}const d=v(t,["toolConfig"]);if(e!==void 0&&d!=null&&S(e,["toolConfig"],d),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function QK(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);e!==void 0&&a!=null&&S(e,["expireTime"],a);const i=v(t,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let h=Gr(o);Array.isArray(h)&&(h=h.map(y=>y)),S(e,["contents"],h)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&S(e,["systemInstruction"],zn(u));const f=v(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>vY(y))),S(e,["tools"],h)}const d=v(t,["toolConfig"]);e!==void 0&&d!=null&&S(e,["toolConfig"],d);const p=v(t,["kmsKeyName"]);return e!==void 0&&p!=null&&S(e,["encryption_spec","kmsKeyName"],p),n}function ZK(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["model"],m3(t,r));const a=v(e,["config"]);return a!=null&&JK(a,n),n}function eY(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["model"],m3(t,r));const a=v(e,["config"]);return a!=null&&QK(a,n),n}function tY(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ri(t,r)),n}function nY(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ri(t,r)),n}function rY(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function aY(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function iY(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function sY(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&S(e,["description"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["parameters"]);a!=null&&S(e,["parameters"],a);const i=v(t,["parametersJsonSchema"]);i!=null&&S(e,["parametersJsonSchema"],i);const o=v(t,["response"]);o!=null&&S(e,["response"],o);const u=v(t,["responseJsonSchema"]);return u!=null&&S(e,["responseJsonSchema"],u),e}function oY(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ri(t,r)),n}function lY(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ri(t,r)),n}function uY(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function cY(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);return e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),n}function dY(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);return e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),n}function fY(t){const e={},n=v(t,["config"]);return n!=null&&cY(n,e),e}function mY(t){const e={},n=v(t,["config"]);return n!=null&&dY(n,e),e}function pY(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["cachedContents"],i)}return e}function hY(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["cachedContents"],i)}return e}function gY(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],XK(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],iY(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function yY(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],uY(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}function vY(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>sY(y))),S(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const a=v(t,["googleSearch"]);a!=null&&S(e,["googleSearch"],a);const i=v(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=v(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const f=v(t,["urlContext"]);f!=null&&S(e,["urlContext"],f);const d=v(t,["computerUse"]);d!=null&&S(e,["computerUse"],d);const p=v(t,["codeExecution"]);return p!=null&&S(e,["codeExecution"],p),e}function xY(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);return e!==void 0&&a!=null&&S(e,["expireTime"],a),n}function bY(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);return e!==void 0&&a!=null&&S(e,["expireTime"],a),n}function SY(t,e){const n={},r=v(e,["name"]);r!=null&&S(n,["_url","name"],ri(t,r));const a=v(e,["config"]);return a!=null&&xY(a,n),n}function wY(t,e){const n={},r=v(e,["name"]);r!=null&&S(n,["_url","name"],ri(t,r));const a=v(e,["config"]);return a!=null&&bY(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AY extends eo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new kd(Fs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=eY(this.apiClient,e);return u=Pe("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=ZK(this.apiClient,e);return u=Pe("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=lY(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=oY(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=nY(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=aY(p),y=new Sk;return Object.assign(y,h),y})}else{const d=tY(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=rY(p),y=new Sk;return Object.assign(y,h),y})}}async update(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=wY(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=SY(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=mY(e);return u=Pe("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=hY(p),y=new wk;return Object.assign(y,h),y})}else{const d=fY(e);return u=Pe("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=pY(p),y=new wk;return Object.assign(y,h),y})}}}function jk(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lt(t){return this instanceof Lt?(this.v=t,this):new Lt(t)}function ml(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(x){return function(T){return Promise.resolve(T).then(x,h)}}function u(x,T){r[x]&&(a[x]=function(w){return new Promise(function(A,C){i.push([x,w,A,C])>1||f(x,w)})},T&&(a[x]=T(a[x])))}function f(x,T){try{d(r[x](T))}catch(w){y(i[0][3],w)}}function d(x){x.value instanceof Lt?Promise.resolve(x.value.v).then(p,h):y(i[0][2],x)}function p(x){f("next",x)}function h(x){f("throw",x)}function y(x,T){x(T),i.shift(),i.length&&f(i[0][0],i[0][1])}}function bc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jk=="function"?jk(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(u,f){o=t[i](o),a(u,f,o.done,o.value)})}}function a(i,o,u,f){Promise.resolve(f).then(function(d){i({value:d,done:u})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TY(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:N3(n)}function N3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function EY(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Mk(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let i=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),i&&!N3(t[r])&&(i=!1),r++;i?e.push(...a):e.pop()}return e}class NY{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new _Y(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class _Y{constructor(e,n,r,a={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),EY(i)}async sendMessage(e){var n;await this.sendPromise;const r=zn(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,u;const f=await a,d=(o=(i=f.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,p=f.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let y=[];p!=null&&(y=(u=p.slice(h))!==null&&u!==void 0?u:[]);const x=d?[d]:[];this.recordHistory(r,x,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=zn(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?Mk(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return ml(this,arguments,function*(){var o,u,f,d;const p=[];try{for(var h=!0,y=bc(e),x;x=yield Lt(y.next()),o=x.done,!o;h=!0){d=x.value,h=!1;const T=d;if(TY(T)){const w=(a=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;w!==void 0&&p.push(w)}yield yield Lt(T)}}catch(T){u={error:T}}finally{try{!h&&!o&&(f=y.return)&&(yield Lt(f.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Mk(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,sh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CY(t){const e={},n=v(t,["file"]);return n!=null&&S(e,["file"],n),e}function jY(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function MY(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","file"],x3(n)),e}function kY(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function IY(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","file"],x3(n)),e}function PY(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);return e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),n}function OY(t){const e={},n=v(t,["config"]);return n!=null&&PY(n,e),e}function RY(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DY extends eo{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new kd(Fs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=OY(e);return i=Pe("files",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=RY(f),p=new X7;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CY(e);return i=Pe("upload/v1beta/files",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const d=jY(f),p=new J7;return Object.assign(p,d),p})}}async get(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IY(e);return i=Pe("files/{file}",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=MY(e);return i=Pe("files/{file}",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=kY(f),p=new Q7;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vm(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function LY(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>JY(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function qY(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function UY(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&S(e,["description"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["parameters"]);a!=null&&S(e,["parameters"],a);const i=v(t,["parametersJsonSchema"]);i!=null&&S(e,["parametersJsonSchema"],i);const o=v(t,["response"]);o!=null&&S(e,["response"],o);const u=v(t,["responseJsonSchema"]);return u!=null&&S(e,["responseJsonSchema"],u),e}function BY(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=v(t,["audioTimestamp"]);r!=null&&S(e,["audioTimestamp"],r);const a=v(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const i=v(t,["enableAffectiveDialog"]);i!=null&&S(e,["enableAffectiveDialog"],i);const o=v(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=v(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const f=v(t,["maxOutputTokens"]);f!=null&&S(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&S(e,["mediaResolution"],d);const p=v(t,["presencePenalty"]);p!=null&&S(e,["presencePenalty"],p);const h=v(t,["responseJsonSchema"]);h!=null&&S(e,["responseJsonSchema"],h);const y=v(t,["responseLogprobs"]);y!=null&&S(e,["responseLogprobs"],y);const x=v(t,["responseMimeType"]);x!=null&&S(e,["responseMimeType"],x);const T=v(t,["responseModalities"]);T!=null&&S(e,["responseModalities"],T);const w=v(t,["responseSchema"]);w!=null&&S(e,["responseSchema"],w);const A=v(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const C=v(t,["seed"]);C!=null&&S(e,["seed"],C);const M=v(t,["speechConfig"]);M!=null&&S(e,["speechConfig"],_3(M));const _=v(t,["stopSequences"]);_!=null&&S(e,["stopSequences"],_);const k=v(t,["temperature"]);k!=null&&S(e,["temperature"],k);const N=v(t,["thinkingConfig"]);N!=null&&S(e,["thinkingConfig"],N);const I=v(t,["topK"]);I!=null&&S(e,["topK"],I);const P=v(t,["topP"]);return P!=null&&S(e,["topP"],P),e}function $Y(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function VY(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const a=v(t,["responseModalities"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","responseModalities"],a);const i=v(t,["temperature"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","temperature"],i);const o=v(t,["topP"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topP"],o);const u=v(t,["topK"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&S(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],FT(h));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","thinkingConfig"],y);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&S(e,["setup","systemInstruction"],LY(zn(T)));const w=v(t,["tools"]);if(e!==void 0&&w!=null){let I=Xl(w);Array.isArray(I)&&(I=I.map(P=>ZY(Wl(P)))),S(e,["setup","tools"],I)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],QY(A));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const M=v(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&S(e,["setup","outputAudioTranscription"],M);const _=v(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&S(e,["setup","realtimeInputConfig"],_);const k=v(t,["contextWindowCompression"]);e!==void 0&&k!=null&&S(e,["setup","contextWindowCompression"],k);const N=v(t,["proactivity"]);return e!==void 0&&N!=null&&S(e,["setup","proactivity"],N),n}function FY(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],BY(r));const a=v(t,["responseModalities"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","responseModalities"],a);const i=v(t,["temperature"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","temperature"],i);const o=v(t,["topP"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topP"],o);const u=v(t,["topK"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&S(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],_3(FT(h)));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","thinkingConfig"],y);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&S(e,["setup","systemInstruction"],zn(T));const w=v(t,["tools"]);if(e!==void 0&&w!=null){let I=Xl(w);Array.isArray(I)&&(I=I.map(P=>eW(Wl(P)))),S(e,["setup","tools"],I)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],A);const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const M=v(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&S(e,["setup","outputAudioTranscription"],M);const _=v(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&S(e,["setup","realtimeInputConfig"],_);const k=v(t,["contextWindowCompression"]);e!==void 0&&k!=null&&S(e,["setup","contextWindowCompression"],k);const N=v(t,["proactivity"]);return e!==void 0&&N!=null&&S(e,["setup","proactivity"],N),n}function zY(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["setup","model"],pt(t,r));const a=v(e,["config"]);return a!=null&&S(n,["config"],VY(a,n)),n}function GY(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["setup","model"],pt(t,r));const a=v(e,["config"]);return a!=null&&S(n,["config"],FY(a,n)),n}function HY(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&S(e,["musicGenerationConfig"],n),e}function KY(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["weightedPrompts"],r)}return e}function YY(t){const e={},n=v(t,["media"]);if(n!=null){let d=p3(n);Array.isArray(d)&&(d=d.map(p=>Vm(p))),S(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&S(e,["audio"],Vm(g3(r)));const a=v(t,["audioStreamEnd"]);a!=null&&S(e,["audioStreamEnd"],a);const i=v(t,["video"]);i!=null&&S(e,["video"],Vm(h3(i)));const o=v(t,["text"]);o!=null&&S(e,["text"],o);const u=v(t,["activityStart"]);u!=null&&S(e,["activityStart"],u);const f=v(t,["activityEnd"]);return f!=null&&S(e,["activityEnd"],f),e}function WY(t){const e={},n=v(t,["media"]);if(n!=null){let d=p3(n);Array.isArray(d)&&(d=d.map(p=>p)),S(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&S(e,["audio"],g3(r));const a=v(t,["audioStreamEnd"]);a!=null&&S(e,["audioStreamEnd"],a);const i=v(t,["video"]);i!=null&&S(e,["video"],h3(i));const o=v(t,["text"]);o!=null&&S(e,["text"],o);const u=v(t,["activityStart"]);u!=null&&S(e,["activityStart"],u);const f=v(t,["activityEnd"]);return f!=null&&S(e,["activityEnd"],f),e}function XY(t){const e={},n=v(t,["setupComplete"]);n!=null&&S(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&S(e,["serverContent"],r);const a=v(t,["toolCall"]);a!=null&&S(e,["toolCall"],a);const i=v(t,["toolCallCancellation"]);i!=null&&S(e,["toolCallCancellation"],i);const o=v(t,["usageMetadata"]);o!=null&&S(e,["usageMetadata"],tW(o));const u=v(t,["goAway"]);u!=null&&S(e,["goAway"],u);const f=v(t,["sessionResumptionUpdate"]);return f!=null&&S(e,["sessionResumptionUpdate"],f),e}function JY(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],Vm(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],qY(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function QY(t){const e={},n=v(t,["handle"]);if(n!=null&&S(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _3(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&S(e,["voiceConfig"],n),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&S(e,["languageCode"],r),e}function ZY(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],$Y(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}function eW(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>UY(y))),S(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const a=v(t,["googleSearch"]);a!=null&&S(e,["googleSearch"],a);const i=v(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=v(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const f=v(t,["urlContext"]);f!=null&&S(e,["urlContext"],f);const d=v(t,["computerUse"]);d!=null&&S(e,["computerUse"],d);const p=v(t,["codeExecution"]);return p!=null&&S(e,["codeExecution"],p),e}function tW(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&S(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&S(e,["cachedContentTokenCount"],r);const a=v(t,["candidatesTokenCount"]);a!=null&&S(e,["responseTokenCount"],a);const i=v(t,["toolUsePromptTokenCount"]);i!=null&&S(e,["toolUsePromptTokenCount"],i);const o=v(t,["thoughtsTokenCount"]);o!=null&&S(e,["thoughtsTokenCount"],o);const u=v(t,["totalTokenCount"]);u!=null&&S(e,["totalTokenCount"],u);const f=v(t,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["promptTokensDetails"],x)}const d=v(t,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["cacheTokensDetails"],x)}const p=v(t,["candidatesTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["responseTokensDetails"],x)}const h=v(t,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["toolUsePromptTokensDetails"],x)}const y=v(t,["trafficType"]);return y!=null&&S(e,["trafficType"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nW(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function rW(t){const e={},n=v(t,["content"]);n!=null&&S(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],aW(r));const a=v(t,["tokenCount"]);a!=null&&S(e,["tokenCount"],a);const i=v(t,["finishReason"]);i!=null&&S(e,["finishReason"],i);const o=v(t,["urlContextMetadata"]);o!=null&&S(e,["urlContextMetadata"],o);const u=v(t,["avgLogprobs"]);u!=null&&S(e,["avgLogprobs"],u);const f=v(t,["groundingMetadata"]);f!=null&&S(e,["groundingMetadata"],f);const d=v(t,["index"]);d!=null&&S(e,["index"],d);const p=v(t,["logprobsResult"]);p!=null&&S(e,["logprobsResult"],p);const h=v(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),S(e,["safetyRatings"],y)}return e}function aW(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["citations"],r)}return e}function iW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let i=Gr(a);Array.isArray(i)&&(i=i.map(o=>o)),S(n,["contents"],i)}return n}function sW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>i)),S(e,["tokensInfo"],a)}return e}function oW(t){const e={},n=v(t,["values"]);n!=null&&S(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&S(e,["statistics"],lW(r)),e}function lW(t){const e={},n=v(t,["truncated"]);n!=null&&S(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&S(e,["tokenCount"],r),e}function oh(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>fX(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function uW(t){const e={},n=v(t,["controlType"]);n!=null&&S(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&S(e,["computeControl"],r),e}function cW(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function dW(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&S(e,["systemInstruction"],zn(r));const a=v(t,["tools"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>I3(u))),S(e,["tools"],o)}const i=v(t,["generationConfig"]);return e!==void 0&&i!=null&&S(e,["generationConfig"],eX(i)),n}function fW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>oh(u))),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&cW(i),n}function mW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&dW(i,n),n}function pW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&S(e,["totalTokens"],r);const a=v(t,["cachedContentTokenCount"]);return a!=null&&S(e,["cachedContentTokenCount"],a),e}function hW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&S(e,["totalTokens"],r),e}function gW(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],pt(t,r)),n}function yW(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],pt(t,r)),n}function vW(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function xW(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function bW(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const a=v(t,["negativePrompt"]);e!==void 0&&a!=null&&S(e,["parameters","negativePrompt"],a);const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&S(e,["parameters","sampleCount"],i);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&S(e,["parameters","aspectRatio"],o);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&S(e,["parameters","guidanceScale"],u);const f=v(t,["seed"]);e!==void 0&&f!=null&&S(e,["parameters","seed"],f);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&S(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&S(e,["parameters","personGeneration"],p);const h=v(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const y=v(t,["includeRaiReason"]);e!==void 0&&y!=null&&S(e,["parameters","includeRaiReason"],y);const x=v(t,["language"]);e!==void 0&&x!=null&&S(e,["parameters","language"],x);const T=v(t,["outputMimeType"]);e!==void 0&&T!=null&&S(e,["parameters","outputOptions","mimeType"],T);const w=v(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","compressionQuality"],w);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const C=v(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const M=v(t,["editMode"]);e!==void 0&&M!=null&&S(e,["parameters","editMode"],M);const _=v(t,["baseSteps"]);return e!==void 0&&_!=null&&S(e,["parameters","editConfig","baseSteps"],_),n}function SW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>vX(f))),S(n,["instances[0]","referenceImages"],u)}const o=v(e,["config"]);return o!=null&&bW(o,n),n}function wW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>lh(i))),S(e,["generatedImages"],a)}return e}function AW(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const a=v(t,["title"]);e!==void 0&&a!=null&&S(e,["requests[]","title"],a);const i=v(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&S(e,["requests[]","outputDimensionality"],i),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function TW(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&S(e,["instances[]","task_type"],r);const a=v(t,["title"]);e!==void 0&&a!=null&&S(e,["instances[]","title"],a);const i=v(t,["outputDimensionality"]);e!==void 0&&i!=null&&S(e,["parameters","outputDimensionality"],i);const o=v(t,["mimeType"]);e!==void 0&&o!=null&&S(e,["instances[]","mimeType"],o);const u=v(t,["autoTruncate"]);return e!==void 0&&u!=null&&S(e,["parameters","autoTruncate"],u),n}function EW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let u=BT(t,a);Array.isArray(u)&&(u=u.map(f=>f)),S(n,["requests[]","content"],u)}const i=v(e,["config"]);i!=null&&AW(i,n);const o=v(e,["model"]);return o!==void 0&&S(n,["requests[]","model"],pt(t,o)),n}function NW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let o=BT(t,a);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["instances[]","content"],o)}const i=v(e,["config"]);return i!=null&&TW(i,n),n}function _W(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["embeddings"],i)}const a=v(t,["metadata"]);return a!=null&&S(e,["metadata"],a),e}function CW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>oW(o))),S(e,["embeddings"],i)}const a=v(t,["metadata"]);return a!=null&&S(e,["metadata"],a),e}function jW(t){const e={},n=v(t,["endpoint"]);n!=null&&S(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&S(e,["deployedModelId"],r),e}function MW(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function kW(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&S(e,["description"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["parameters"]);a!=null&&S(e,["parameters"],a);const i=v(t,["parametersJsonSchema"]);i!=null&&S(e,["parametersJsonSchema"],i);const o=v(t,["response"]);o!=null&&S(e,["response"],o);const u=v(t,["responseJsonSchema"]);return u!=null&&S(e,["responseJsonSchema"],u),e}function IW(t,e,n){const r={},a=v(e,["systemInstruction"]);n!==void 0&&a!=null&&S(n,["systemInstruction"],oh(zn(a)));const i=v(e,["temperature"]);i!=null&&S(r,["temperature"],i);const o=v(e,["topP"]);o!=null&&S(r,["topP"],o);const u=v(e,["topK"]);u!=null&&S(r,["topK"],u);const f=v(e,["candidateCount"]);f!=null&&S(r,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&S(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&S(r,["logprobs"],y);const x=v(e,["presencePenalty"]);x!=null&&S(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&S(r,["frequencyPenalty"],T);const w=v(e,["seed"]);w!=null&&S(r,["seed"],w);const A=v(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],$T(C));const M=v(e,["responseJsonSchema"]);if(M!=null&&S(r,["responseJsonSchema"],M),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=v(e,["safetySettings"]);if(n!==void 0&&_!=null){let R=_;Array.isArray(R)&&(R=R.map(B=>xX(B))),S(n,["safetySettings"],R)}const k=v(e,["tools"]);if(n!==void 0&&k!=null){let R=Xl(k);Array.isArray(R)&&(R=R.map(B=>EX(Wl(B)))),S(n,["tools"],R)}const N=v(e,["toolConfig"]);if(n!==void 0&&N!=null&&S(n,["toolConfig"],N),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=v(e,["cachedContent"]);n!==void 0&&I!=null&&S(n,["cachedContent"],ri(t,I));const P=v(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const L=v(e,["mediaResolution"]);L!=null&&S(r,["mediaResolution"],L);const D=v(e,["speechConfig"]);if(D!=null&&S(r,["speechConfig"],VT(D)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=v(e,["thinkingConfig"]);q!=null&&S(r,["thinkingConfig"],q);const U=v(e,["imageConfig"]);return U!=null&&S(r,["imageConfig"],U),r}function PW(t,e,n){const r={},a=v(e,["systemInstruction"]);n!==void 0&&a!=null&&S(n,["systemInstruction"],zn(a));const i=v(e,["temperature"]);i!=null&&S(r,["temperature"],i);const o=v(e,["topP"]);o!=null&&S(r,["topP"],o);const u=v(e,["topK"]);u!=null&&S(r,["topK"],u);const f=v(e,["candidateCount"]);f!=null&&S(r,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&S(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&S(r,["logprobs"],y);const x=v(e,["presencePenalty"]);x!=null&&S(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&S(r,["frequencyPenalty"],T);const w=v(e,["seed"]);w!=null&&S(r,["seed"],w);const A=v(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],$T(C));const M=v(e,["responseJsonSchema"]);M!=null&&S(r,["responseJsonSchema"],M);const _=v(e,["routingConfig"]);_!=null&&S(r,["routingConfig"],_);const k=v(e,["modelSelectionConfig"]);k!=null&&S(r,["modelConfig"],k);const N=v(e,["safetySettings"]);if(n!==void 0&&N!=null){let V=N;Array.isArray(V)&&(V=V.map(K=>K)),S(n,["safetySettings"],V)}const I=v(e,["tools"]);if(n!==void 0&&I!=null){let V=Xl(I);Array.isArray(V)&&(V=V.map(K=>I3(Wl(K)))),S(n,["tools"],V)}const P=v(e,["toolConfig"]);n!==void 0&&P!=null&&S(n,["toolConfig"],P);const L=v(e,["labels"]);n!==void 0&&L!=null&&S(n,["labels"],L);const D=v(e,["cachedContent"]);n!==void 0&&D!=null&&S(n,["cachedContent"],ri(t,D));const q=v(e,["responseModalities"]);q!=null&&S(r,["responseModalities"],q);const U=v(e,["mediaResolution"]);U!=null&&S(r,["mediaResolution"],U);const R=v(e,["speechConfig"]);R!=null&&S(r,["speechConfig"],k3(VT(R)));const B=v(e,["audioTimestamp"]);B!=null&&S(r,["audioTimestamp"],B);const G=v(e,["thinkingConfig"]);G!=null&&S(r,["thinkingConfig"],G);const W=v(e,["imageConfig"]);return W!=null&&S(r,["imageConfig"],W),r}function kk(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>oh(u))),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&S(n,["generationConfig"],IW(t,i,n)),n}function Ik(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&S(n,["generationConfig"],PW(t,i,n)),n}function Pk(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>rW(d))),S(e,["candidates"],f)}const a=v(t,["modelVersion"]);a!=null&&S(e,["modelVersion"],a);const i=v(t,["promptFeedback"]);i!=null&&S(e,["promptFeedback"],i);const o=v(t,["responseId"]);o!=null&&S(e,["responseId"],o);const u=v(t,["usageMetadata"]);return u!=null&&S(e,["usageMetadata"],u),e}function Ok(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),S(e,["candidates"],d)}const a=v(t,["createTime"]);a!=null&&S(e,["createTime"],a);const i=v(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&S(e,["promptFeedback"],o);const u=v(t,["responseId"]);u!=null&&S(e,["responseId"],u);const f=v(t,["usageMetadata"]);return f!=null&&S(e,["usageMetadata"],f),e}function OW(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&S(e,["parameters","aspectRatio"],a);const i=v(t,["guidanceScale"]);if(e!==void 0&&i!=null&&S(e,["parameters","guidanceScale"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&S(e,["parameters","safetySetting"],o);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&S(e,["parameters","personGeneration"],u);const f=v(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&S(e,["parameters","includeSafetyAttributes"],f);const d=v(t,["includeRaiReason"]);e!==void 0&&d!=null&&S(e,["parameters","includeRaiReason"],d);const p=v(t,["language"]);e!==void 0&&p!=null&&S(e,["parameters","language"],p);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","mimeType"],h);const y=v(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&S(e,["parameters","outputOptions","compressionQuality"],y),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=v(t,["imageSize"]);if(e!==void 0&&x!=null&&S(e,["parameters","sampleImageSize"],x),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function RW(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const a=v(t,["negativePrompt"]);e!==void 0&&a!=null&&S(e,["parameters","negativePrompt"],a);const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&S(e,["parameters","sampleCount"],i);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&S(e,["parameters","aspectRatio"],o);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&S(e,["parameters","guidanceScale"],u);const f=v(t,["seed"]);e!==void 0&&f!=null&&S(e,["parameters","seed"],f);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&S(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&S(e,["parameters","personGeneration"],p);const h=v(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const y=v(t,["includeRaiReason"]);e!==void 0&&y!=null&&S(e,["parameters","includeRaiReason"],y);const x=v(t,["language"]);e!==void 0&&x!=null&&S(e,["parameters","language"],x);const T=v(t,["outputMimeType"]);e!==void 0&&T!=null&&S(e,["parameters","outputOptions","mimeType"],T);const w=v(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","compressionQuality"],w);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const C=v(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const M=v(t,["imageSize"]);e!==void 0&&M!=null&&S(e,["parameters","sampleImageSize"],M);const _=v(t,["enhancePrompt"]);return e!==void 0&&_!=null&&S(e,["parameters","enhancePrompt"],_),n}function DW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["config"]);return i!=null&&OW(i,n),n}function LW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["config"]);return i!=null&&RW(i,n),n}function qW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>XW(o))),S(e,["generatedImages"],i)}const a=v(t,["positivePromptSafetyAttributes"]);return a!=null&&S(e,["positivePromptSafetyAttributes"],j3(a)),e}function UW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>lh(o))),S(e,["generatedImages"],i)}const a=v(t,["positivePromptSafetyAttributes"]);return a!=null&&S(e,["positivePromptSafetyAttributes"],M3(a)),e}function BW(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=v(t,["durationSeconds"]);if(e!==void 0&&a!=null&&S(e,["parameters","durationSeconds"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&S(e,["parameters","aspectRatio"],i);const o=v(t,["resolution"]);e!==void 0&&o!=null&&S(e,["parameters","resolution"],o);const u=v(t,["personGeneration"]);if(e!==void 0&&u!=null&&S(e,["parameters","personGeneration"],u),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=v(t,["negativePrompt"]);e!==void 0&&f!=null&&S(e,["parameters","negativePrompt"],f);const d=v(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&S(e,["parameters","enhancePrompt"],d),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=v(t,["lastFrame"]);e!==void 0&&p!=null&&S(e,["instances[0]","lastFrame"],uh(p));const h=v(t,["referenceImages"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>qX(x))),S(e,["instances[0]","referenceImages"],y)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function $W(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&S(e,["parameters","storageUri"],a);const i=v(t,["fps"]);e!==void 0&&i!=null&&S(e,["parameters","fps"],i);const o=v(t,["durationSeconds"]);e!==void 0&&o!=null&&S(e,["parameters","durationSeconds"],o);const u=v(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const f=v(t,["aspectRatio"]);e!==void 0&&f!=null&&S(e,["parameters","aspectRatio"],f);const d=v(t,["resolution"]);e!==void 0&&d!=null&&S(e,["parameters","resolution"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&S(e,["parameters","personGeneration"],p);const h=v(t,["pubsubTopic"]);e!==void 0&&h!=null&&S(e,["parameters","pubsubTopic"],h);const y=v(t,["negativePrompt"]);e!==void 0&&y!=null&&S(e,["parameters","negativePrompt"],y);const x=v(t,["enhancePrompt"]);e!==void 0&&x!=null&&S(e,["parameters","enhancePrompt"],x);const T=v(t,["generateAudio"]);e!==void 0&&T!=null&&S(e,["parameters","generateAudio"],T);const w=v(t,["lastFrame"]);e!==void 0&&w!=null&&S(e,["instances[0]","lastFrame"],aa(w));const A=v(t,["referenceImages"]);if(e!==void 0&&A!=null){let _=A;Array.isArray(_)&&(_=_.map(k=>UX(k))),S(e,["instances[0]","referenceImages"],_)}const C=v(t,["mask"]);e!==void 0&&C!=null&&S(e,["instances[0]","mask"],LX(C));const M=v(t,["compressionQuality"]);return e!==void 0&&M!=null&&S(e,["parameters","compressionQuality"],M),n}function VW(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response","generateVideoResponse"]);return o!=null&&S(e,["response"],HW(o)),e}function FW(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response"]);return o!=null&&S(e,["response"],KW(o)),e}function zW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["image"]);i!=null&&S(n,["instances[0]","image"],uh(i));const o=v(e,["video"]);o!=null&&S(n,["instances[0]","video"],P3(o));const u=v(e,["source"]);u!=null&&YW(u,n);const f=v(e,["config"]);return f!=null&&BW(f,n),n}function GW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["image"]);i!=null&&S(n,["instances[0]","image"],aa(i));const o=v(e,["video"]);o!=null&&S(n,["instances[0]","video"],O3(o));const u=v(e,["source"]);u!=null&&WW(u,n);const f=v(e,["config"]);return f!=null&&$W(f,n),n}function HW(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>QW(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function KW(t){const e={},n=v(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>ZW(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function YW(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["image"]);e!==void 0&&a!=null&&S(e,["instances[0]","image"],uh(a));const i=v(t,["video"]);return e!==void 0&&i!=null&&S(e,["instances[0]","video"],P3(i)),n}function WW(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["image"]);e!==void 0&&a!=null&&S(e,["instances[0]","image"],aa(a));const i=v(t,["video"]);return e!==void 0&&i!=null&&S(e,["instances[0]","video"],O3(i)),n}function XW(t){const e={},n=v(t,["_self"]);n!=null&&S(e,["image"],aX(n));const r=v(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const a=v(t,["_self"]);return a!=null&&S(e,["safetyAttributes"],j3(a)),e}function lh(t){const e={},n=v(t,["_self"]);n!=null&&S(e,["image"],C3(n));const r=v(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const a=v(t,["_self"]);a!=null&&S(e,["safetyAttributes"],M3(a));const i=v(t,["prompt"]);return i!=null&&S(e,["enhancedPrompt"],i),e}function JW(t){const e={},n=v(t,["_self"]);n!=null&&S(e,["mask"],C3(n));const r=v(t,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>i)),S(e,["labels"],a)}return e}function QW(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],RX(n)),e}function ZW(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],DX(n)),e}function eX(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=v(t,["audioTimestamp"]);r!=null&&S(e,["audioTimestamp"],r);const a=v(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const i=v(t,["enableAffectiveDialog"]);i!=null&&S(e,["enableAffectiveDialog"],i);const o=v(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=v(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const f=v(t,["maxOutputTokens"]);f!=null&&S(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&S(e,["mediaResolution"],d);const p=v(t,["presencePenalty"]);p!=null&&S(e,["presencePenalty"],p);const h=v(t,["responseJsonSchema"]);h!=null&&S(e,["responseJsonSchema"],h);const y=v(t,["responseLogprobs"]);y!=null&&S(e,["responseLogprobs"],y);const x=v(t,["responseMimeType"]);x!=null&&S(e,["responseMimeType"],x);const T=v(t,["responseModalities"]);T!=null&&S(e,["responseModalities"],T);const w=v(t,["responseSchema"]);w!=null&&S(e,["responseSchema"],w);const A=v(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const C=v(t,["seed"]);C!=null&&S(e,["seed"],C);const M=v(t,["speechConfig"]);M!=null&&S(e,["speechConfig"],k3(M));const _=v(t,["stopSequences"]);_!=null&&S(e,["stopSequences"],_);const k=v(t,["temperature"]);k!=null&&S(e,["temperature"],k);const N=v(t,["thinkingConfig"]);N!=null&&S(e,["thinkingConfig"],N);const I=v(t,["topK"]);I!=null&&S(e,["topK"],I);const P=v(t,["topP"]);return P!=null&&S(e,["topP"],P),e}function tX(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],pt(t,r)),n}function nX(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],pt(t,r)),n}function rX(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function aX(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&S(e,["imageBytes"],Wi(n));const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function C3(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&S(e,["imageBytes"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}function uh(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&S(e,["bytesBase64Encoded"],Wi(n));const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function aa(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}function iX(t,e,n){const r={},a=v(e,["pageSize"]);n!==void 0&&a!=null&&S(n,["_query","pageSize"],a);const i=v(e,["pageToken"]);n!==void 0&&i!=null&&S(n,["_query","pageToken"],i);const o=v(e,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&S(n,["_url","models_url"],b3(t,u)),r}function sX(t,e,n){const r={},a=v(e,["pageSize"]);n!==void 0&&a!=null&&S(n,["_query","pageSize"],a);const i=v(e,["pageToken"]);n!==void 0&&i!=null&&S(n,["_query","pageToken"],i);const o=v(e,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&S(n,["_url","models_url"],b3(t,u)),r}function oX(t,e){const n={},r=v(e,["config"]);return r!=null&&iX(t,r,n),n}function lX(t,e){const n={},r=v(e,["config"]);return r!=null&&sX(t,r,n),n}function uX(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["_self"]);if(a!=null){let i=S3(a);Array.isArray(i)&&(i=i.map(o=>Aw(o))),S(e,["models"],i)}return e}function cX(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["_self"]);if(a!=null){let i=S3(a);Array.isArray(i)&&(i=i.map(o=>Tw(o))),S(e,["models"],i)}return e}function dX(t){const e={},n=v(t,["maskMode"]);n!=null&&S(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&S(e,["maskClasses"],r);const a=v(t,["maskDilation"]);return a!=null&&S(e,["dilation"],a),e}function Aw(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);a!=null&&S(e,["description"],a);const i=v(t,["version"]);i!=null&&S(e,["version"],i);const o=v(t,["_self"]);o!=null&&S(e,["tunedModelInfo"],NX(o));const u=v(t,["inputTokenLimit"]);u!=null&&S(e,["inputTokenLimit"],u);const f=v(t,["outputTokenLimit"]);f!=null&&S(e,["outputTokenLimit"],f);const d=v(t,["supportedGenerationMethods"]);return d!=null&&S(e,["supportedActions"],d),e}function Tw(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);a!=null&&S(e,["description"],a);const i=v(t,["versionId"]);i!=null&&S(e,["version"],i);const o=v(t,["deployedModels"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>jW(y))),S(e,["endpoints"],h)}const u=v(t,["labels"]);u!=null&&S(e,["labels"],u);const f=v(t,["_self"]);f!=null&&S(e,["tunedModelInfo"],_X(f));const d=v(t,["defaultCheckpointId"]);d!=null&&S(e,["defaultCheckpointId"],d);const p=v(t,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(y=>y)),S(e,["checkpoints"],h)}return e}function fX(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],nW(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],MW(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function mX(t){const e={},n=v(t,["productImage"]);return n!=null&&S(e,["image"],aa(n)),e}function pX(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const a=v(t,["baseSteps"]);e!==void 0&&a!=null&&S(e,["parameters","editConfig","baseSteps"],a);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&S(e,["parameters","storageUri"],i);const o=v(t,["seed"]);e!==void 0&&o!=null&&S(e,["parameters","seed"],o);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&S(e,["parameters","safetySetting"],u);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const d=v(t,["addWatermark"]);e!==void 0&&d!=null&&S(e,["parameters","addWatermark"],d);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&S(e,["parameters","outputOptions","mimeType"],p);const h=v(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","compressionQuality"],h);const y=v(t,["enhancePrompt"]);e!==void 0&&y!=null&&S(e,["parameters","enhancePrompt"],y);const x=v(t,["labels"]);return e!==void 0&&x!=null&&S(e,["labels"],x),n}function hX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["source"]);a!=null&&yX(a,n);const i=v(e,["config"]);return i!=null&&pX(i,n),n}function gX(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>lh(a))),S(e,["generatedImages"],r)}return e}function yX(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["personImage"]);e!==void 0&&a!=null&&S(e,["instances[0]","personImage","image"],aa(a));const i=v(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>mX(u))),S(e,["instances[0]","productImages"],o)}return n}function vX(t){const e={},n=v(t,["referenceImage"]);n!=null&&S(e,["referenceImage"],aa(n));const r=v(t,["referenceId"]);r!=null&&S(e,["referenceId"],r);const a=v(t,["referenceType"]);a!=null&&S(e,["referenceType"],a);const i=v(t,["maskImageConfig"]);i!=null&&S(e,["maskImageConfig"],dX(i));const o=v(t,["controlImageConfig"]);o!=null&&S(e,["controlImageConfig"],uW(o));const u=v(t,["styleImageConfig"]);u!=null&&S(e,["styleImageConfig"],u);const f=v(t,["subjectImageConfig"]);return f!=null&&S(e,["subjectImageConfig"],f),e}function j3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const a=v(t,["contentType"]);return a!=null&&S(e,["contentType"],a),e}function M3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const a=v(t,["contentType"]);return a!=null&&S(e,["contentType"],a),e}function xX(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&S(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function bX(t){const e={},n=v(t,["image"]);return n!=null&&S(e,["image"],aa(n)),e}function SX(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&S(e,["parameters","mode"],r);const a=v(t,["maxPredictions"]);e!==void 0&&a!=null&&S(e,["parameters","maxPredictions"],a);const i=v(t,["confidenceThreshold"]);e!==void 0&&i!=null&&S(e,["parameters","confidenceThreshold"],i);const o=v(t,["maskDilation"]);e!==void 0&&o!=null&&S(e,["parameters","maskDilation"],o);const u=v(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&S(e,["parameters","binaryColorThreshold"],u);const f=v(t,["labels"]);return e!==void 0&&f!=null&&S(e,["labels"],f),n}function wX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["source"]);a!=null&&TX(a,n);const i=v(e,["config"]);return i!=null&&SX(i,n),n}function AX(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>JW(a))),S(e,["generatedMasks"],r)}return e}function TX(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["image"]);e!==void 0&&a!=null&&S(e,["instances[0]","image"],aa(a));const i=v(t,["scribbleImage"]);return e!==void 0&&i!=null&&S(e,["instances[0]","scribble"],bX(i)),n}function k3(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&S(e,["voiceConfig"],n),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&S(e,["languageCode"],r),e}function EX(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],rX(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}function I3(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>kW(y))),S(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const a=v(t,["googleSearch"]);a!=null&&S(e,["googleSearch"],a);const i=v(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=v(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const f=v(t,["urlContext"]);f!=null&&S(e,["urlContext"],f);const d=v(t,["computerUse"]);d!=null&&S(e,["computerUse"],d);const p=v(t,["codeExecution"]);return p!=null&&S(e,["codeExecution"],p),e}function NX(t){const e={},n=v(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&S(e,["createTime"],r);const a=v(t,["updateTime"]);return a!=null&&S(e,["updateTime"],a),e}function _X(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&S(e,["createTime"],r);const a=v(t,["updateTime"]);return a!=null&&S(e,["updateTime"],a),e}function CX(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);e!==void 0&&a!=null&&S(e,["description"],a);const i=v(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&S(e,["defaultCheckpointId"],i),n}function jX(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);e!==void 0&&a!=null&&S(e,["description"],a);const i=v(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&S(e,["defaultCheckpointId"],i),n}function MX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","name"],pt(t,r));const a=v(e,["config"]);return a!=null&&CX(a,n),n}function kX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["config"]);return a!=null&&jX(a,n),n}function IX(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const a=v(t,["includeRaiReason"]);e!==void 0&&a!=null&&S(e,["parameters","includeRaiReason"],a);const i=v(t,["outputMimeType"]);e!==void 0&&i!=null&&S(e,["parameters","outputOptions","mimeType"],i);const o=v(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&S(e,["parameters","outputOptions","compressionQuality"],o);const u=v(t,["enhanceInputImage"]);e!==void 0&&u!=null&&S(e,["parameters","upscaleConfig","enhanceInputImage"],u);const f=v(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&S(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const d=v(t,["labels"]);e!==void 0&&d!=null&&S(e,["labels"],d);const p=v(t,["numberOfImages"]);e!==void 0&&p!=null&&S(e,["parameters","sampleCount"],p);const h=v(t,["mode"]);return e!==void 0&&h!=null&&S(e,["parameters","mode"],h),n}function PX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],pt(t,r));const a=v(e,["image"]);a!=null&&S(n,["instances[0]","image"],aa(a));const i=v(e,["upscaleFactor"]);i!=null&&S(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=v(e,["config"]);return o!=null&&IX(o,n),n}function OX(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>lh(i))),S(e,["generatedImages"],a)}return e}function RX(t){const e={},n=v(t,["video","uri"]);n!=null&&S(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&S(e,["videoBytes"],Wi(r));const a=v(t,["encoding"]);return a!=null&&S(e,["mimeType"],a),e}function DX(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}function LX(t){const e={},n=v(t,["image"]);n!=null&&S(e,["_self"],aa(n));const r=v(t,["maskMode"]);return r!=null&&S(e,["maskMode"],r),e}function qX(t){const e={},n=v(t,["image"]);n!=null&&S(e,["image"],uh(n));const r=v(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function UX(t){const e={},n=v(t,["image"]);n!=null&&S(e,["image"],aa(n));const r=v(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function P3(t){const e={},n=v(t,["uri"]);n!=null&&S(e,["video","uri"],n);const r=v(t,["videoBytes"]);r!=null&&S(e,["video","encodedVideo"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["encoding"],a),e}function O3(t){const e={},n=v(t,["uri"]);n!=null&&S(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const BX="Content-Type",$X="X-Server-Timeout",VX="User-Agent",Ew="x-goog-api-client",FX="1.23.0",zX=`google-genai-sdk/${FX}`,GX="v1beta1",HX="v1beta",Rk=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class KX{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:GX,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:HX,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,u]of Object.entries(e.queryParams))a.searchParams.append(o,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,i=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>a.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=i}return n&&n.extraBody!==null&&YX(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await Dk(a),new bw(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await Dk(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return ml(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let o="";for(;;){const{done:u,value:f}=yield Lt(a.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=i.decode(f,{stream:!0});try{const h=JSON.parse(d);if("error"in h){const y=JSON.parse(JSON.stringify(h.error)),x=y.status,T=y.code,w=`got status: ${x}. ${JSON.stringify(h)}`;if(T>=400&&T<600)throw new sh({message:w,status:T})}}catch(h){if(h.name==="ApiError")throw h}o+=d;let p=o.match(Rk);for(;p;){const h=p[1];try{const y=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Lt(new bw(y)),o=o.slice(p[0].length),p=o.match(Rk)}catch(y){throw new Error(`exception parsing stream chunk ${h}. ${y}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=zX+" "+this.clientOptions.userAgentExtra;return e[VX]=n,e[Ew]=n,e[BX]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append($X,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);a.sizeBytes=String(o.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const f=await this.fetchUploadUrl(a,n);return i.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},o=await this.request({path:Pe("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:a});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Dk(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new sh({message:a,status:n}):new Error(a)}}function YX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const u=Object.assign({},i);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=o[f],p=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?u[f]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const a=r(n,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WX="mcp_used/unknown";let XX=!1;function R3(t){for(const e of t)if(JX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return XX}function D3(t){var e;const n=(e=t[Ew])!==null&&e!==void 0?e:"";t[Ew]=(n+` ${WX}`).trimStart()}function JX(t){return t!==null&&typeof t=="object"&&t instanceof zT}function QX(t,e=100){return ml(this,arguments,function*(){let r,a=0;for(;a<e;){const i=yield Lt(t.listTools({cursor:r}));for(const o of i.tools)yield yield Lt(o),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class zT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new zT(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const i={},o=[];for(const p of this.mcpClients)try{for(var u=!0,f=(n=void 0,bc(QX(p))),d;d=await f.next(),e=d.done,!e;u=!0){a=d.value,u=!1;const h=a;o.push(h);const y=h.name;if(i[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);i[y]=p}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),lK(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ZX(t,e,n){const r=new eK;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(r,a),e(r)}class eJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=rJ(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const p=new Promise(_=>{d=_}),h=e.callbacks,y=function(){d({})},x=this.apiClient,T={onopen:y,onmessage:_=>{ZX(x,h.onmessage,_)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(_){}},w=this.webSocketFactory.create(f,nJ(o),T);w.connect(),await p;const M={setup:{model:pt(this.apiClient,e.model)}};return w.send(JSON.stringify(M)),new tJ(w,this.apiClient)}}class tJ{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=KY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=HY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(il.PLAY)}pause(){this.sendPlaybackControl(il.PAUSE)}stop(){this.sendPlaybackControl(il.STOP)}resetContext(){this.sendPlaybackControl(il.RESET_CONTEXT)}close(){this.conn.close()}}function nJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function rJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aJ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function iJ(t,e,n){const r=new Z7;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const i=JSON.parse(a);if(t.isVertexAI()){const o=XY(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class sJ{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new eJ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,i,o,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&R3(e.config.tools)&&D3(h);const y=cJ(h);if(this.apiClient.isVertexAI())p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const D=this.apiClient.getApiKey();let q="BidiGenerateContent",U="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",U="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${q}?${U}=${D}`}let x=()=>{};const T=new Promise(D=>{x=D}),w=e.callbacks,A=function(){var D;(D=w==null?void 0:w.onopen)===null||D===void 0||D.call(w),x({})},C=this.apiClient,M={onopen:A,onmessage:D=>{iJ(C,w.onmessage,D)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(D){}},_=this.webSocketFactory.create(p,uJ(y),M);_.connect(),await T;let k=pt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&k.startsWith("publishers/")){const D=this.apiClient.getProject(),q=this.apiClient.getLocation();k=`projects/${D}/locations/${q}/`+k}let N={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Jm.AUDIO]}:e.config.responseModalities=[Jm.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[],P=[];for(const D of I)if(this.isCallableTool(D)){const q=D;P.push(await q.tool())}else P.push(D);P.length>0&&(e.config.tools=P);const L={model:k,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=GY(this.apiClient,L):N=zY(this.apiClient,L),delete N.config,_.send(JSON.stringify(N)),new lJ(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const oJ={turnComplete:!0};class lJ{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Gr(n.turns),e.isVertexAI()||(r=r.map(a=>oh(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(aJ)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},oJ),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:WY(e)}:n={realtimeInput:YY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function uJ(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function cJ(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lk=10;function qk(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(pl(o)){a=!0;break}if(!a)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function pl(t){return"callTool"in t&&typeof t.callTool=="function"}function dJ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>pl(a)))!==null&&r!==void 0?r:!1}function fJ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!pl(a)))!==null&&r!==void 0?r:!1}function Uk(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mJ extends eo{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,i,o,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!dJ(n)||qk(n.config))return await this.generateContentInternal(f);if(fJ(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,p;const h=Gr(f.contents),y=(i=(a=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:Lk;let x=0;for(;x<y&&(d=await this.generateContentInternal(f),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,w=[];for(const A of(u=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[])if(pl(A)){const M=await A.callTool(d.functionCalls);w.push(...M)}x++,p={role:"user",parts:w},f.contents=Gr(f.contents),f.contents.push(T),f.contents.push(p),Uk(f.config)&&(h.push(T),h.push(p))}return Uk(f.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),qk(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const o=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((a=f==null?void 0:f.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=f==null?void 0:f.safetyAttributes:o.push(f);let u;return i?u={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new kd(Fs.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,a;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async f=>pl(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(u.config.tools=o,e.config&&e.config.tools&&R3(e.config.tools)){const f=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),D3(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,a;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(pl(o)){const u=o,f=await u.tool();for(const d of(a=f.functionDeclarations)!==null&&a!==void 0?a:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,r,a;const i=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:Lk;let o=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,p,h){var y,x;return ml(this,arguments,function*(){for(var T,w,A,C;u<i;){o&&(u++,o=!1);const N=yield Lt(d.processParamsMaybeAddMcpUsage(h)),I=yield Lt(d.generateContentStreamInternal(N)),P=[],L=[];try{for(var M=!0,_=(w=void 0,bc(I)),k;k=yield Lt(_.next()),T=k.done,!T;M=!0){C=k.value,M=!1;const D=C;if(yield yield Lt(D),D.candidates&&(!((y=D.candidates[0])===null||y===void 0)&&y.content)){L.push(D.candidates[0].content);for(const q of(x=D.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<i&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(q.functionCall.name)){const U=yield Lt(p.get(q.functionCall.name).callTool([q.functionCall]));P.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(D){w={error:D}}finally{try{!M&&!T&&(A=_.return)&&(yield Lt(A.call(_)))}finally{if(w)throw w.error}}if(P.length>0){o=!0;const D=new ec;D.candidates=[{content:{role:"user",parts:P}}],yield yield Lt(D);const q=[];q.push(...L),q.push({role:"user",parts:P});const U=Gr(h.contents).concat(q);h.contents=U}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=Ik(this.apiClient,e);return u=Pe("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=Ok(p),y=new ec;return Object.assign(y,h),y})}else{const d=kk(this.apiClient,e);return u=Pe("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=Pk(p),y=new ec;return Object.assign(y,h),y})}}async generateContentStreamInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=Ik(this.apiClient,e);return u=Pe("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(h){return ml(this,arguments,function*(){var y,x,T,w;try{for(var A=!0,C=bc(h),M;M=yield Lt(C.next()),y=M.done,!y;A=!0){w=M.value,A=!1;const _=w,k=Ok(yield Lt(_.json()));k.sdkHttpResponse={headers:_.headers};const N=new ec;Object.assign(N,k),yield yield Lt(N)}}catch(_){x={error:_}}finally{try{!A&&!y&&(T=C.return)&&(yield Lt(T.call(C)))}finally{if(x)throw x.error}}})})}else{const d=kk(this.apiClient,e);return u=Pe("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(h){return ml(this,arguments,function*(){var y,x,T,w;try{for(var A=!0,C=bc(h),M;M=yield Lt(C.next()),y=M.done,!y;A=!0){w=M.value,A=!1;const _=w,k=Pk(yield Lt(_.json()));k.sdkHttpResponse={headers:_.headers};const N=new ec;Object.assign(N,k),yield yield Lt(N)}}catch(_){x={error:_}}finally{try{!A&&!y&&(T=C.return)&&(yield Lt(T.call(C)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=NW(this.apiClient,e);return u=Pe("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=CW(p),y=new hk;return Object.assign(y,h),y})}else{const d=EW(this.apiClient,e);return u=Pe("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=_W(p),y=new hk;return Object.assign(y,h),y})}}async generateImagesInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=LW(this.apiClient,e);return u=Pe("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=UW(p),y=new gk;return Object.assign(y,h),y})}else{const d=DW(this.apiClient,e);return u=Pe("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=qW(p),y=new gk;return Object.assign(y,h),y})}}async editImageInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=SW(this.apiClient,e);return i=Pe("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=wW(f),p=new G7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=PX(this.apiClient,e);return i=Pe("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=OX(f),p=new H7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=hX(this.apiClient,e);return i=Pe("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const d=gX(f),p=new K7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=wX(this.apiClient,e);return i=Pe("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const d=AX(f),p=new Y7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=nX(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>Tw(p))}else{const d=tX(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Aw(p))}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=lX(this.apiClient,e);return u=Pe("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=cX(p),y=new yk;return Object.assign(y,h),y})}else{const d=oX(this.apiClient,e);return u=Pe("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=uX(p),y=new yk;return Object.assign(y,h),y})}}async update(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=kX(this.apiClient,e);return u=Pe("{model}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>Tw(p))}else{const d=MX(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>Aw(p))}}async delete(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=yW(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=xW(p),y=new vk;return Object.assign(y,h),y})}else{const d=gW(this.apiClient,e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=vW(p),y=new vk;return Object.assign(y,h),y})}}async countTokens(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=mW(this.apiClient,e);return u=Pe("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=hW(p),y=new xk;return Object.assign(y,h),y})}else{const d=fW(this.apiClient,e);return u=Pe("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=pW(p),y=new xk;return Object.assign(y,h),y})}}async computeTokens(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=iW(this.apiClient,e);return i=Pe("{model}:computeTokens",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=sW(f),p=new W7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=GW(this.apiClient,e);return u=Pe("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const h=FW(p),y=new Qm;return Object.assign(y,h),y})}else{const d=zW(this.apiClient,e);return u=Pe("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const h=VW(p),y=new Qm;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pJ extends eo{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=V7(e);return u=Pe("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o}else{const d=$7(e);return u=Pe("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=O7(e);return i=Pe("{resourceName}:fetchPredictOperation",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hJ(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function gJ(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>AJ(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function yJ(t,e,n){const r={},a=v(e,["expireTime"]);n!==void 0&&a!=null&&S(n,["expireTime"],a);const i=v(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&S(n,["newSessionExpireTime"],i);const o=v(e,["uses"]);n!==void 0&&o!=null&&S(n,["uses"],o);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&S(n,["bidiGenerateContentSetup"],wJ(t,u));const f=v(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&S(n,["fieldMask"],f),r}function vJ(t,e){const n={},r=v(e,["config"]);return r!=null&&S(n,["config"],yJ(t,r,n)),n}function xJ(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function bJ(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function SJ(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const a=v(t,["responseModalities"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","responseModalities"],a);const i=v(t,["temperature"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","temperature"],i);const o=v(t,["topP"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topP"],o);const u=v(t,["topK"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&S(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],FT(h));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","thinkingConfig"],y);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&S(e,["setup","systemInstruction"],gJ(zn(T)));const w=v(t,["tools"]);if(e!==void 0&&w!=null){let I=Xl(w);Array.isArray(I)&&(I=I.map(P=>EJ(Wl(P)))),S(e,["setup","tools"],I)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],TJ(A));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const M=v(t,["outputAudioTranscription"]);e!==void 0&&M!=null&&S(e,["setup","outputAudioTranscription"],M);const _=v(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&S(e,["setup","realtimeInputConfig"],_);const k=v(t,["contextWindowCompression"]);e!==void 0&&k!=null&&S(e,["setup","contextWindowCompression"],k);const N=v(t,["proactivity"]);return e!==void 0&&N!=null&&S(e,["setup","proactivity"],N),n}function wJ(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["setup","model"],pt(t,r));const a=v(e,["config"]);return a!=null&&S(n,["config"],SJ(a,n)),n}function AJ(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],hJ(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],xJ(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function TJ(t){const e={},n=v(t,["handle"]);if(n!=null&&S(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function EJ(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],bJ(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NJ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);e.push(...a)}else e.push(n)}return e.join(",")}function _J(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const i=NJ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(d=>o.includes(d)?`generationConfig.${d}`:d));const f=[];i&&f.push(i),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class CJ extends eo{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=vJ(this.apiClient,e);i=Pe("auth_tokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query;const f=_J(u,e.config);return a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function MJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function kJ(t,e){const n={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=v(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&S(e,["displayName"],r),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&S(e,["tuningTask","hyperparameters","epochCount"],a);const i=v(t,["learningRateMultiplier"]);if(i!=null&&S(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=v(t,["batchSize"]);e!==void 0&&o!=null&&S(e,["tuningTask","hyperparameters","batchSize"],o);const u=v(t,["learningRate"]);if(e!==void 0&&u!=null&&S(e,["tuningTask","hyperparameters","learningRate"],u),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function IJ(t,e){const n={},r=v(t,["validationDataset"]);e!==void 0&&r!=null&&S(e,["supervisedTuningSpec"],KJ(r,n));const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&S(e,["tunedModelDisplayName"],a);const i=v(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const o=v(t,["epochCount"]);e!==void 0&&o!=null&&S(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const u=v(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&S(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=v(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&S(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=v(t,["adapterSize"]);if(e!==void 0&&d!=null&&S(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);return e!==void 0&&p!=null&&S(e,["labels"],p),n}function PJ(t){const e={},n=v(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["preTunedModel"]);r!=null&&S(e,["preTunedModel"],r);const a=v(t,["trainingDataset"]);a!=null&&S(e,["tuningTask","trainingData"],zJ(a));const i=v(t,["config"]);return i!=null&&kJ(i,e),e}function OJ(t){const e={},n=v(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["preTunedModel"]);r!=null&&S(e,["preTunedModel"],r);const a=v(t,["trainingDataset"]);a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],GJ(a,e));const i=v(t,["config"]);return i!=null&&IJ(i,e),e}function RJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function DJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function LJ(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const i=v(t,["filter"]);return e!==void 0&&i!=null&&S(e,["_query","filter"],i),n}function qJ(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const i=v(t,["filter"]);return e!==void 0&&i!=null&&S(e,["_query","filter"],i),n}function UJ(t){const e={},n=v(t,["config"]);return n!=null&&LJ(n,e),e}function BJ(t){const e={},n=v(t,["config"]);return n!=null&&qJ(n,e),e}function $J(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>L3(o))),S(e,["tuningJobs"],i)}return e}function VJ(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>Nw(o))),S(e,["tuningJobs"],i)}return e}function FJ(t){const e={},n=v(t,["name"]);n!=null&&S(e,["model"],n);const r=v(t,["name"]);return r!=null&&S(e,["endpoint"],r),e}function zJ(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=v(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["examples","examples"],r)}return e}function GJ(t,e){const n={},r=v(t,["gcsUri"]);e!==void 0&&r!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],r);const a=v(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],a),v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function L3(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["state"]);a!=null&&S(e,["state"],v3(a));const i=v(t,["createTime"]);i!=null&&S(e,["createTime"],i);const o=v(t,["tuningTask","startTime"]);o!=null&&S(e,["startTime"],o);const u=v(t,["tuningTask","completeTime"]);u!=null&&S(e,["endTime"],u);const f=v(t,["updateTime"]);f!=null&&S(e,["updateTime"],f);const d=v(t,["description"]);d!=null&&S(e,["description"],d);const p=v(t,["baseModel"]);p!=null&&S(e,["baseModel"],p);const h=v(t,["_self"]);h!=null&&S(e,["tunedModel"],FJ(h));const y=v(t,["customBaseModel"]);y!=null&&S(e,["customBaseModel"],y);const x=v(t,["experiment"]);x!=null&&S(e,["experiment"],x);const T=v(t,["labels"]);T!=null&&S(e,["labels"],T);const w=v(t,["outputUri"]);w!=null&&S(e,["outputUri"],w);const A=v(t,["pipelineJob"]);A!=null&&S(e,["pipelineJob"],A);const C=v(t,["serviceAccount"]);C!=null&&S(e,["serviceAccount"],C);const M=v(t,["tunedModelDisplayName"]);M!=null&&S(e,["tunedModelDisplayName"],M);const _=v(t,["veoTuningSpec"]);return _!=null&&S(e,["veoTuningSpec"],_),e}function Nw(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["state"]);a!=null&&S(e,["state"],v3(a));const i=v(t,["createTime"]);i!=null&&S(e,["createTime"],i);const o=v(t,["startTime"]);o!=null&&S(e,["startTime"],o);const u=v(t,["endTime"]);u!=null&&S(e,["endTime"],u);const f=v(t,["updateTime"]);f!=null&&S(e,["updateTime"],f);const d=v(t,["error"]);d!=null&&S(e,["error"],d);const p=v(t,["description"]);p!=null&&S(e,["description"],p);const h=v(t,["baseModel"]);h!=null&&S(e,["baseModel"],h);const y=v(t,["tunedModel"]);y!=null&&S(e,["tunedModel"],y);const x=v(t,["preTunedModel"]);x!=null&&S(e,["preTunedModel"],x);const T=v(t,["supervisedTuningSpec"]);T!=null&&S(e,["supervisedTuningSpec"],T);const w=v(t,["tuningDataStats"]);w!=null&&S(e,["tuningDataStats"],w);const A=v(t,["encryptionSpec"]);A!=null&&S(e,["encryptionSpec"],A);const C=v(t,["partnerModelTuningSpec"]);C!=null&&S(e,["partnerModelTuningSpec"],C);const M=v(t,["customBaseModel"]);M!=null&&S(e,["customBaseModel"],M);const _=v(t,["experiment"]);_!=null&&S(e,["experiment"],_);const k=v(t,["labels"]);k!=null&&S(e,["labels"],k);const N=v(t,["outputUri"]);N!=null&&S(e,["outputUri"],N);const I=v(t,["pipelineJob"]);I!=null&&S(e,["pipelineJob"],I);const P=v(t,["serviceAccount"]);P!=null&&S(e,["serviceAccount"],P);const L=v(t,["tunedModelDisplayName"]);L!=null&&S(e,["tunedModelDisplayName"],L);const D=v(t,["veoTuningSpec"]);return D!=null&&S(e,["veoTuningSpec"],D),e}function HJ(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["metadata"]);a!=null&&S(e,["metadata"],a);const i=v(t,["done"]);i!=null&&S(e,["done"],i);const o=v(t,["error"]);return o!=null&&S(e,["error"],o),e}function KJ(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&S(n,["validationDatasetUri"],r);const a=v(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YJ extends eo{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new kd(Fs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:a});return i.baseModel=void 0,await this.tuneInternal(i)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),i=await this.tuneMldevInternal(a);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:xw.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=DJ(e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>Nw(p))}else{const d=RJ(e);return u=Pe("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>L3(p))}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=BJ(e);return u=Pe("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=VJ(p),y=new bk;return Object.assign(y,h),y})}else{const d=UJ(e);return u=Pe("tunedModels",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=$J(p),y=new bk;return Object.assign(y,h),y})}}async cancel(e){var n,r,a,i;let o="",u={};if(this.apiClient.isVertexAI()){const f=MJ(e);o=Pe("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=jJ(e);o=Pe("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=OJ(e);return i=Pe("tuningJobs",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>Nw(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PJ(e);return i=Pe("tunedModels",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>HJ(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const XJ=1024*1024*8,JJ=3,QJ=1e3,ZJ=2,j0="x-goog-upload-status";async function eQ(t,e,n){var r,a,i;let o=0,u=0,f=new bw(new Response),d="upload";for(o=t.size;u<o;){const h=Math.min(XJ,o-u),y=t.slice(u,u+h);u+h>=o&&(d+=", finalize");let x=0,T=QJ;for(;x<JJ&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[j0]));)x++,await nQ(T),T=T*ZJ;if(u+=h,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[j0])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(f==null?void 0:f.json());if(((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[j0])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function tQ(t){return{size:t.size,type:t.type}}function nQ(t){return new Promise(e=>setTimeout(e,t))}class rQ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eQ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tQ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aQ{create(e,n,r){return new iQ(e,n,r)}}class iQ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bk="x-goog-api-key";class sQ{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Bk)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Bk,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oQ="gl-node/";class Id{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=P7(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new sQ(this.apiKey);this.apiClient=new KX({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:oQ+"web",uploader:new rQ,downloader:new WJ}),this.models=new mJ(this.apiClient),this.live=new sJ(this.apiClient,a,new aQ),this.batches=new WK(this.apiClient),this.chats=new NY(this.models,this.apiClient),this.caches=new AY(this.apiClient),this.files=new DY(this.apiClient),this.operations=new pJ(this.apiClient),this.authTokens=new CJ(this.apiClient),this.tunings=new YJ(this.apiClient)}}function lQ(t,e=300){const[n,r]=j.useState(t);return j.useEffect(()=>{const a=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(a)}},[t,e]),n}const _s={LENGTH:6,MAX_ATTEMPTS:3,LOCKOUT_DURATION_MS:300*1e3,VALIDATION_DELAY_MS:500},ep=new Map,Rc=new Map,M0=t=>{const e=Rc.get(t);return e?Date.now()<e.lockedUntil?!0:(Rc.delete(t),ep.delete(t),!1):!1},k0=t=>{const e=Rc.get(t);if(!e)return 0;const n=Date.now(),r=Math.max(0,e.lockedUntil-n);return Math.ceil(r/1e3)},uQ=(t,e)=>{const n=ep.get(t)||[],r=Date.now();n.push({userId:t,timestamp:r,success:e});const a=n.filter(i=>r-i.timestamp<3600*1e3);ep.set(t,a),e||cQ(t,a)},cQ=(t,e)=>{const n=Date.now(),r=e.filter(a=>!a.success&&n-a.timestamp<300*1e3).length;r>=_s.MAX_ATTEMPTS&&Rc.set(t,{userId:t,lockedUntil:n+_s.LOCKOUT_DURATION_MS,attempts:r})},$k=t=>{ep.delete(t),Rc.delete(t)},I0=t=>{if(t<60)return`${t} seconde${t>1?"s":""}`;const e=Math.floor(t/60),n=t%60;return n===0?`${e} minute${e>1?"s":""}`:`${e}m ${n}s`},q3=({onValidated:t,correctPin:e,userName:n,userId:r="default",autoFocus:a=!0,onLockout:i})=>{const[o,u]=j.useState("idle"),[f,d]=j.useState(Array(_s.LENGTH).fill("")),[p,h]=j.useState(null),[y,x]=j.useState(0),[T,w]=j.useState(0),A=j.useRef([]),[C,M]=j.useState(null),_=j.useRef(null),k=R=>{requestAnimationFrame(()=>{const B=A.current[R];B&&B.focus()})};j.useEffect(()=>{if(M0(r)){const R=k0(r);u("locked"),x(R),N(R),i==null||i(R)}else a&&(k(0),M(0))},[a,r,i]),j.useEffect(()=>()=>{_.current&&clearInterval(_.current)},[]);const N=j.useCallback(R=>{x(R),_.current&&clearInterval(_.current),_.current=setInterval(()=>{x(B=>{const G=B-1;return G<=0?(_.current&&clearInterval(_.current),u("idle"),$k(r),w(0),k(0),0):G})},1e3)},[r]),I=(R,B)=>{const{value:G}=R.target;if(/^[0-9]$/.test(G)||G===""){const W=[...f];W[B]=G,d(W),G!==""&&B<5&&(k(B+1),M(B+1)),W.join("").length===6&&L(W.join("")),h(null),u("idle"),G===""&&M(B)}},P=(R,B)=>{R.key==="Backspace"&&(f[B]===""&&B>0?(k(B-1),M(B-1)):M(B))},L=R=>{if(M0(r)){const B=k0(r);u("locked"),h(`Trop de tentatives échouées. Réessayez dans ${I0(B)}.`),N(B),i==null||i(B);return}if(!e){h("Aucun code PIN n'est configuré pour cet utilisateur."),u("error");return}u("validating"),h(null),t(!1),setTimeout(()=>{const B=R===e;if(uQ(r,B),B)u("success"),t(!0),M(null),$k(r),w(0);else{const G=T+1;if(w(G),M0(r)){const W=k0(r);u("locked"),h(`Trop de tentatives échouées. Compte verrouillé pour ${I0(W)}.`),N(W),i==null||i(W)}else{u("error");const W=_s.MAX_ATTEMPTS-G;h(W>0?`Code PIN incorrect. ${W} tentative${W>1?"s":""} restante${W>1?"s":""}.`:"Code PIN incorrect.")}d(Array(_s.LENGTH).fill("")),typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate([100,50,100]),o!=="locked"&&(k(0),M(0))}},_s.VALIDATION_DELAY_MS)},D=()=>{switch(o){case"success":return"border-green-500 bg-green-50 dark:bg-green-900/20";case"error":return"border-red-500 bg-red-50 dark:bg-red-900/20 animate-shake";case"locked":return"border-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"validating":return"border-primary-500 bg-primary-50 dark:bg-primary-900/20";default:return"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 focus-within:border-primary-500"}},q=R=>`w-full aspect-square min-w-[2.5rem] text-center text-2xl sm:text-3xl font-bold rounded-lg transition-all duration-200 ${o==="success"?"border-2 border-green-500 text-green-700 dark:text-green-400":o==="error"?"border-2 border-red-500 text-red-700 dark:text-red-400":"border-2 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100"} focus:ring-2 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100 dark:disabled:bg-gray-700 disabled:cursor-not-allowed`,U=(R,B)=>R?C===B?R:"•":"";return c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"Validation par PIN"}),o==="locked"&&c.jsxs("span",{className:"flex items-center gap-1 text-sm text-yellow-600 dark:text-yellow-400",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"lock"}),I0(y)]})]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:[n?`${n.split(" ")[0]}, veuillez`:"Veuillez"," saisir votre code PIN à ",_s.LENGTH," chiffres pour confirmer."]}),c.jsx("div",{className:`mb-4 p-4 border-2 rounded-xl transition-all duration-300 ${D()}`,children:c.jsx("div",{className:"mx-auto grid grid-cols-6 gap-2 sm:gap-3 max-w-md",children:f.map((R,B)=>c.jsx("input",{ref:G=>{A.current[B]=G},type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:U(R,B),onChange:G=>I(G,B),onKeyDown:G=>P(G,B),onFocus:()=>M(B),onBlur:()=>M(G=>G===B?null:G),maxLength:1,className:q(),disabled:o==="validating"||o==="success"||o==="locked","aria-label":`PIN digit ${B+1}`},B))})}),o==="validating"&&c.jsxs("div",{className:"flex items-center justify-center gap-2 text-primary-600 dark:text-primary-400 text-sm mt-2",children:[c.jsx("span",{className:"material-symbols-outlined animate-spin text-base",children:"progress_activity"}),c.jsx("span",{children:"Vérification en cours..."})]}),o==="success"&&c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 dark:text-green-400 text-sm mt-2 font-semibold",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"check_circle"}),c.jsx("span",{children:"Validé avec succès !"})]}),o==="error"&&p&&c.jsxs("div",{className:"flex items-center justify-center gap-2 text-red-600 dark:text-red-400 text-sm mt-2",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"error"}),c.jsx("span",{children:p})]}),o==="locked"&&p&&c.jsxs("div",{className:"flex items-center justify-center gap-2 text-yellow-700 dark:text-yellow-400 text-sm mt-2",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"lock"}),c.jsx("span",{children:p})]}),!e&&c.jsx("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:c.jsxs("p",{className:"text-yellow-800 dark:text-yellow-300 text-sm text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-base align-middle mr-1",children:"warning"}),"Cet utilisateur n'a pas de code PIN configuré. Un administrateur peut en créer un sur la page de détails de l'utilisateur."]})})]})},ks=({className:t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-7 h-7 ${t||""}`.trim(),role:"img","aria-hidden":"true",children:[c.jsx("path",{d:"M17.81 4.94C16.1 3.23 14.05 2 12 2c-2.06 0-4.1 1.23-5.81 2.94-3.3 3.3-3.53 8.96-.54 12.53.36.44 1 .49 1.42.1.37-.35.39-.94.07-1.32-2.39-2.83-2.29-7.11.39-9.79 2.73-2.73 7.17-2.73 9.9 0 2.68 2.68 2.78 6.97.39 9.79-.32.38-.3.96.07 1.32.42.39 1.06.34 1.42-.1 2.99-3.57 2.76-9.23-.54-12.53z"}),c.jsx("path",{d:"M12 6c-1.24 0-2.34.48-3.18 1.32-1.74 1.74-1.92 4.6-.46 6.6.29.4.85.47 1.24.18.37-.28.46-.81.2-1.2-.92-1.26-.79-3.03.32-4.14.94-.94 2.35-1.09 3.48-.45.45.25 1.02.09 1.27-.36.25-.45.09-1.02-.36-1.27-.79-.45-1.64-.68-2.51-.68z"}),c.jsx("path",{d:"M12.26 10.22c-.41-.41-1.1-.39-1.51.02-.41.41-.45 1.09-.09 1.56.2.26.31.58.31.91v5.54c0 .55.45 1 1 1s1-.45 1-1v-5.54c0-.91-.32-1.78-.91-2.49z"})]});function dQ(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4,r=e+"=".repeat(n),a=window.atob(r),i=new ArrayBuffer(a.length),o=new Uint8Array(i);for(let u=0;u<a.length;u++)o[u]=a.charCodeAt(u);return i}const U3=({onValidated:t,userCredentialId:e})=>{const[n,r]=j.useState("idle"),[a,i]=j.useState(null);j.useEffect(()=>{(async()=>{if(t(!1),!window.isSecureContext){r("unsupported"),i("WebAuthn nécessite une connexion sécurisée (HTTPS ou localhost).");return}if(!("PublicKeyCredential"in window)){r("unsupported"),i("WebAuthn n'est pas pris en charge par ce navigateur.");return}try{if(!await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()){r("unsupported"),i("Aucun capteur d'empreintes digitales disponible sur cet appareil.");return}}catch(p){console.error("Fingerprint availability check failed:",p),r("unsupported"),i("Impossible de vérifier la disponibilité de WebAuthn sur cet appareil.");return}r("idle"),i(null),e&&setTimeout(()=>{o()},300)})()},[t,e]);const o=async()=>{if(!(n!=="idle"||!e)){if(!navigator.credentials||!navigator.credentials.get){i("WebAuthn n'est pas pris en charge par ce navigateur."),r("unsupported");return}r("scanning"),i(null),t(!1);try{const d=new Uint8Array(32);window.crypto.getRandomValues(d);const p={challenge:d,allowCredentials:[{type:"public-key",id:dQ(e)}],timeout:6e4,userVerification:"required"};if(await navigator.credentials.get({publicKey:p}))r("success"),t(!0);else throw new Error("Assertion failed")}catch(d){console.error("Fingerprint validation error:",d),d.name==="NotAllowedError"?i("Validation annulée."):i("La validation a échoué. Veuillez réessayer."),r("idle"),t(!1)}}},u=()=>{if(!e)return c.jsxs(c.Fragment,{children:[c.jsx(ks,{className:"text-gray-400"}),c.jsx("span",{className:"ml-2 text-gray-500",children:"Empreinte non enregistrée pour cet utilisateur."})]});switch(n){case"unsupported":return c.jsxs(c.Fragment,{children:[c.jsx(ks,{className:"text-gray-400"}),c.jsx("span",{className:"ml-2 text-left",children:a||"Le navigateur ne permet pas cette validation."})]});case"scanning":return c.jsxs(c.Fragment,{children:[c.jsx(ks,{className:"animate-pulse"}),c.jsx("span",{className:"ml-2",children:"Scan en cours..."})]});case"success":return c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),c.jsx("span",{className:"ml-2",children:"Validé"})]});case"error":return c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-symbols-outlined",children:"error"}),c.jsx("span",{className:"ml-2",children:a||"Erreur"})]});case"idle":default:return c.jsxs(c.Fragment,{children:[c.jsx(ks,{}),c.jsx("span",{className:"ml-2",children:"Valider avec l'empreinte digitale"})]})}},f=()=>{let d="w-full font-bold py-3 px-4 rounded-lg flex items-center justify-center shadow-sm transition-colors";if(!e)return`${d} bg-gray-100 text-gray-400 cursor-not-allowed`;switch(n){case"scanning":return`${d} bg-yellow-500 text-white cursor-wait`;case"success":return`${d} bg-green-600 text-white`;case"error":return`${d} bg-red-600 text-white`;case"unsupported":return`${d} bg-gray-100 text-gray-500 cursor-not-allowed`;case"idle":default:return`${d} bg-gray-200 hover:bg-gray-300 text-gray-800`}};return c.jsxs("div",{className:"mt-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100",children:"ID par empreinte digitale"}),n==="scanning"&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-primary-600 dark:text-primary-400",children:[c.jsx("div",{className:"animate-pulse h-2 w-2 rounded-full bg-primary-600"}),c.jsx("span",{children:"En cours..."})]})]}),c.jsx("button",{onClick:o,disabled:!e||n==="unsupported"||n==="scanning"||n==="success",className:f(),"aria-live":"polite",children:u()}),a&&n!=="success"&&n!=="scanning"&&c.jsxs("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[c.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:a}),c.jsx("button",{onClick:o,className:"mt-2 w-full text-sm text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 font-medium",children:"Réessayer"})]}),n==="success"&&c.jsx("div",{className:"mt-3 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:c.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm text-center font-medium",children:"✓ Empreinte validée avec succès"})})]})},fQ={primary:"bg-gradient-to-r from-primary-500 via-primary-500/95 to-primary-600 text-gray-900 hover:brightness-105 disabled:bg-gray-300 disabled:text-gray-500 dark:disabled:bg-gray-700",secondary:"bg-secondary-100 text-secondary-800 hover:bg-secondary-200 dark:bg-secondary-800 dark:text-secondary-100 dark:hover:bg-secondary-700",danger:"bg-status-danger-600 text-white hover:bg-status-danger-500 focus-visible:outline-status-danger-400 disabled:bg-gray-300 dark:disabled:bg-gray-700",ghost:"bg-transparent text-secondary-700 dark:text-secondary-200 hover:bg-secondary-100/60 dark:hover:bg-secondary-800/60"},mQ={sm:"h-9 px-3 text-sm",md:"h-12 px-4 text-base",lg:"h-14 px-6 text-base"},Re=({children:t,variant:e="primary",size:n="md",block:r,loading:a,icon:i,iconPosition:o="left",className:u="",disabled:f,...d})=>{const h=["inline-flex items-center justify-center rounded-[var(--radius-button)] font-semibold transition-all duration-200 ease-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-500 shadow-[var(--shadow-elev-1)] hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5 active:translate-y-0 disabled:hover:translate-y-0 disabled:shadow-none",fQ[e],mQ[n],r?"w-full":"",a?"opacity-80":"",f?"cursor-not-allowed":"",u].filter(Boolean).join(" "),y=i?c.jsx("span",{className:`material-symbols-outlined ${n==="sm"?"!text-base":"!text-xl"} ${t?o==="left"?"mr-2":"ml-2":""}`,children:a?"autorenew":i}):null;return c.jsxs("button",{className:h,disabled:f||a,...d,children:[i&&o==="left"&&y,c.jsx("span",{className:"truncate",children:t}),i&&o==="right"&&y]})},_w=({label:t,className:e="",children:n,...r})=>c.jsxs("label",{className:"block",children:[t&&c.jsx("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),c.jsxs("div",{className:"relative inline-flex",children:[c.jsx("select",{className:["shrink-0 appearance-none rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 py-2 pl-4 pr-10 text-sm font-medium text-gray-700 dark:text-gray-300 focus:border-primary-500 focus:ring-primary-500 cursor-pointer",e].join(" "),...r,children:n}),c.jsx("span",{className:"material-symbols-outlined pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 dark:text-gray-400 !text-base leading-none",children:"expand_more"})]})]});function Vi(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Vk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function B3(...t){return e=>{let n=!1;const r=t.map(a=>{const i=Vk(a,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():Vk(t[a],null)}}}}function to(...t){return j.useCallback(B3(...t),t)}function pQ(t,e){const n=j.createContext(e),r=i=>{const{children:o,...u}=i,f=j.useMemo(()=>u,Object.values(u));return c.jsx(n.Provider,{value:f,children:o})};r.displayName=t+"Provider";function a(i){const o=j.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,a]}function hQ(t,e=[]){let n=[];function r(i,o){const u=j.createContext(o),f=n.length;n=[...n,o];const d=h=>{var C;const{scope:y,children:x,...T}=h,w=((C=y==null?void 0:y[t])==null?void 0:C[f])||u,A=j.useMemo(()=>T,Object.values(T));return c.jsx(w.Provider,{value:A,children:x})};d.displayName=i+"Provider";function p(h,y){var w;const x=((w=y==null?void 0:y[t])==null?void 0:w[f])||u,T=j.useContext(x);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,p]}const a=()=>{const i=n.map(o=>j.createContext(o));return function(u){const f=(u==null?void 0:u[t])||i;return j.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return a.scopeName=t,[r,gQ(a,...e)]}function gQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((u,{useScope:f,scopeName:d})=>{const h=f(i)[`__scope${d}`];return{...u,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Dc=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},yQ=nT[" useId ".trim().toString()]||(()=>{}),vQ=0;function P0(t){const[e,n]=j.useState(yQ());return Dc(()=>{n(r=>r??String(vQ++))},[t]),t||(e?`radix-${e}`:"")}var xQ=nT[" useInsertionEffect ".trim().toString()]||Dc;function bQ({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[a,i,o]=SQ({defaultProp:e,onChange:n}),u=t!==void 0,f=u?t:a;{const p=j.useRef(t!==void 0);j.useEffect(()=>{const h=p.current;h!==u&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const d=j.useCallback(p=>{var h;if(u){const y=wQ(p)?p(t):p;y!==t&&((h=o.current)==null||h.call(o,y))}else i(p)},[u,t,i,o]);return[f,d]}function SQ({defaultProp:t,onChange:e}){const[n,r]=j.useState(t),a=j.useRef(n),i=j.useRef(e);return xQ(()=>{i.current=e},[e]),j.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function wQ(t){return typeof t=="function"}function $3(t){const e=AQ(t),n=j.forwardRef((r,a)=>{const{children:i,...o}=r,u=j.Children.toArray(i),f=u.find(EQ);if(f){const d=f.props.children,p=u.map(h=>h===f?j.Children.count(d)>1?j.Children.only(null):j.isValidElement(d)?d.props.children:null:h);return c.jsx(e,{...o,ref:a,children:j.isValidElement(d)?j.cloneElement(d,void 0,p):null})}return c.jsx(e,{...o,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function AQ(t){const e=j.forwardRef((n,r)=>{const{children:a,...i}=n;if(j.isValidElement(a)){const o=_Q(a),u=NQ(i,a.props);return a.type!==j.Fragment&&(u.ref=r?B3(r,o):o),j.cloneElement(a,u)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var TQ=Symbol("radix.slottable");function EQ(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===TQ}function NQ(t,e){const n={...e};for(const r in e){const a=t[r],i=e[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...u)=>{const f=i(...u);return a(...u),f}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function _Q(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ai=CQ.reduce((t,e)=>{const n=$3(`Primitive.${e}`),r=j.forwardRef((a,i)=>{const{asChild:o,...u}=a,f=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(f,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function jQ(t,e){t&&pq.flushSync(()=>t.dispatchEvent(e))}function Lc(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function MQ(t,e=globalThis==null?void 0:globalThis.document){const n=Lc(t);j.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var kQ="DismissableLayer",Cw="dismissableLayer.update",IQ="dismissableLayer.pointerDownOutside",PQ="dismissableLayer.focusOutside",Fk,V3=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),F3=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...f}=t,d=j.useContext(V3),[p,h]=j.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=j.useState({}),T=to(e,P=>h(P)),w=Array.from(d.layers),[A]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),C=w.indexOf(A),M=p?w.indexOf(p):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,k=M>=C,N=DQ(P=>{const L=P.target,D=[...d.branches].some(q=>q.contains(L));!k||D||(a==null||a(P),o==null||o(P),P.defaultPrevented||u==null||u())},y),I=LQ(P=>{const L=P.target;[...d.branches].some(q=>q.contains(L))||(i==null||i(P),o==null||o(P),P.defaultPrevented||u==null||u())},y);return MQ(P=>{M===d.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},y),j.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Fk=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),zk(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=Fk)}},[p,y,n,d]),j.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),zk())},[p,d]),j.useEffect(()=>{const P=()=>x({});return document.addEventListener(Cw,P),()=>document.removeEventListener(Cw,P)},[]),c.jsx(ai.div,{...f,ref:T,style:{pointerEvents:_?k?"auto":"none":void 0,...t.style},onFocusCapture:Vi(t.onFocusCapture,I.onFocusCapture),onBlurCapture:Vi(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:Vi(t.onPointerDownCapture,N.onPointerDownCapture)})});F3.displayName=kQ;var OQ="DismissableLayerBranch",RQ=j.forwardRef((t,e)=>{const n=j.useContext(V3),r=j.useRef(null),a=to(e,r);return j.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ai.div,{...t,ref:a})});RQ.displayName=OQ;function DQ(t,e=globalThis==null?void 0:globalThis.document){const n=Lc(t),r=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let f=function(){z3(IQ,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function LQ(t,e=globalThis==null?void 0:globalThis.document){const n=Lc(t),r=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!r.current&&z3(PQ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zk(){const t=new CustomEvent(Cw);document.dispatchEvent(t)}function z3(t,e,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),r?jQ(a,i):a.dispatchEvent(i)}var O0="focusScope.autoFocusOnMount",R0="focusScope.autoFocusOnUnmount",Gk={bubbles:!1,cancelable:!0},qQ="FocusScope",G3=j.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[u,f]=j.useState(null),d=Lc(a),p=Lc(i),h=j.useRef(null),y=to(e,w=>f(w)),x=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let w=function(_){if(x.paused||!u)return;const k=_.target;u.contains(k)?h.current=k:Li(h.current,{select:!0})},A=function(_){if(x.paused||!u)return;const k=_.relatedTarget;k!==null&&(u.contains(k)||Li(h.current,{select:!0}))},C=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Li(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",A);const M=new MutationObserver(C);return u&&M.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",A),M.disconnect()}}},[r,u,x.paused]),j.useEffect(()=>{if(u){Kk.add(x);const w=document.activeElement;if(!u.contains(w)){const C=new CustomEvent(O0,Gk);u.addEventListener(O0,d),u.dispatchEvent(C),C.defaultPrevented||(UQ(zQ(H3(u)),{select:!0}),document.activeElement===w&&Li(u))}return()=>{u.removeEventListener(O0,d),setTimeout(()=>{const C=new CustomEvent(R0,Gk);u.addEventListener(R0,p),u.dispatchEvent(C),C.defaultPrevented||Li(w??document.body,{select:!0}),u.removeEventListener(R0,p),Kk.remove(x)},0)}}},[u,d,p,x]);const T=j.useCallback(w=>{if(!n&&!r||x.paused)return;const A=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,C=document.activeElement;if(A&&C){const M=w.currentTarget,[_,k]=BQ(M);_&&k?!w.shiftKey&&C===k?(w.preventDefault(),n&&Li(_,{select:!0})):w.shiftKey&&C===_&&(w.preventDefault(),n&&Li(k,{select:!0})):C===M&&w.preventDefault()}},[n,r,x.paused]);return c.jsx(ai.div,{tabIndex:-1,...o,ref:y,onKeyDown:T})});G3.displayName=qQ;function UQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Li(r,{select:e}),document.activeElement!==n)return}function BQ(t){const e=H3(t),n=Hk(e,t),r=Hk(e.reverse(),t);return[n,r]}function H3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hk(t,e){for(const n of t)if(!$Q(n,{upTo:e}))return n}function $Q(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function VQ(t){return t instanceof HTMLInputElement&&"select"in t}function Li(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&VQ(t)&&e&&t.select()}}var Kk=FQ();function FQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Yk(t,e),t.unshift(e)},remove(e){var n;t=Yk(t,e),(n=t[0])==null||n.resume()}}}function Yk(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zQ(t){return t.filter(e=>e.tagName!=="A")}var GQ="Portal",K3=j.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[a,i]=j.useState(!1);Dc(()=>i(!0),[]);const o=n||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return o?vF.createPortal(c.jsx(ai.div,{...r,ref:e}),o):null});K3.displayName=GQ;function HQ(t,e){return j.useReducer((n,r)=>e[n][r]??n,t)}var ch=t=>{const{present:e,children:n}=t,r=KQ(e),a=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),i=to(r.ref,YQ(a));return typeof n=="function"||r.isPresent?j.cloneElement(a,{ref:i}):null};ch.displayName="Presence";function KQ(t){const[e,n]=j.useState(),r=j.useRef(null),a=j.useRef(t),i=j.useRef("none"),o=t?"mounted":"unmounted",[u,f]=HQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const d=mm(r.current);i.current=u==="mounted"?d:"none"},[u]),Dc(()=>{const d=r.current,p=a.current;if(p!==t){const y=i.current,x=mm(d);t?f("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(p&&y!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,f]),Dc(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,h=x=>{const w=mm(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(f("ANIMATION_END"),!a.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},y=x=>{x.target===e&&(i.current=mm(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function mm(t){return(t==null?void 0:t.animationName)||"none"}function YQ(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var D0=0;function WQ(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Wk()),document.body.insertAdjacentElement("beforeend",t[1]??Wk()),D0++,()=>{D0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),D0--}},[])}function Wk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var da=function(){return da=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},da.apply(this,arguments)};function Y3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function XQ(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Fm="right-scroll-bar-position",zm="width-before-scroll-bar",JQ="with-scroll-bars-hidden",QQ="--removed-body-scroll-bar-size";function L0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZQ(t,e){var n=j.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=e,n.facade}var eZ=typeof window<"u"?j.useLayoutEffect:j.useEffect,Xk=new WeakMap;function tZ(t,e){var n=ZQ(null,function(r){return t.forEach(function(a){return L0(a,r)})});return eZ(function(){var r=Xk.get(n);if(r){var a=new Set(r),i=new Set(t),o=n.current;a.forEach(function(u){i.has(u)||L0(u,null)}),i.forEach(function(u){a.has(u)||L0(u,o)})}Xk.set(n,t)},[t]),n}function nZ(t){return t}function rZ(t,e){e===void 0&&(e=nZ);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var f=function(){var p=o;o=[],p.forEach(i)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(p){o.push(p),d()},filter:function(p){return o=o.filter(p),n}}}};return a}function aZ(t){t===void 0&&(t={});var e=rZ(null);return e.options=da({async:!0,ssr:!1},t),e}var W3=function(t){var e=t.sideCar,n=Y3(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,da({},n))};W3.isSideCarExport=!0;function iZ(t,e){return t.useMedium(e),W3}var X3=aZ(),q0=function(){},dh=j.forwardRef(function(t,e){var n=j.useRef(null),r=j.useState({onScrollCapture:q0,onWheelCapture:q0,onTouchMoveCapture:q0}),a=r[0],i=r[1],o=t.forwardProps,u=t.children,f=t.className,d=t.removeScrollBar,p=t.enabled,h=t.shards,y=t.sideCar,x=t.noRelative,T=t.noIsolation,w=t.inert,A=t.allowPinchZoom,C=t.as,M=C===void 0?"div":C,_=t.gapMode,k=Y3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=y,I=tZ([n,e]),P=da(da({},k),a);return j.createElement(j.Fragment,null,p&&j.createElement(N,{sideCar:X3,removeScrollBar:d,shards:h,noRelative:x,noIsolation:T,inert:w,setCallbacks:i,allowPinchZoom:!!A,lockRef:n,gapMode:_}),o?j.cloneElement(j.Children.only(u),da(da({},P),{ref:I})):j.createElement(M,da({},P,{className:f,ref:I}),u))});dh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dh.classNames={fullWidth:zm,zeroRight:Fm};var sZ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function oZ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sZ();return e&&t.setAttribute("nonce",e),t}function lZ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function uZ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cZ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=oZ())&&(lZ(e,n),uZ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dZ=function(){var t=cZ();return function(e,n){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},J3=function(){var t=dZ(),e=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return e},fZ={left:0,top:0,right:0,gap:0},U0=function(t){return parseInt(t||"",10)||0},mZ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[U0(n),U0(r),U0(a)]},pZ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fZ;var e=mZ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hZ=J3(),hl="data-scroll-locked",gZ=function(t,e,n,r){var a=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(JQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(hl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fm,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(zm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Fm," .").concat(Fm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zm," .").concat(zm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(hl,`] {
    `).concat(QQ,": ").concat(u,`px;
  }
`)},Jk=function(){var t=parseInt(document.body.getAttribute(hl)||"0",10);return isFinite(t)?t:0},yZ=function(){j.useEffect(function(){return document.body.setAttribute(hl,(Jk()+1).toString()),function(){var t=Jk()-1;t<=0?document.body.removeAttribute(hl):document.body.setAttribute(hl,t.toString())}},[])},vZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;yZ();var i=j.useMemo(function(){return pZ(a)},[a]);return j.createElement(hZ,{styles:gZ(i,!e,a,n?"":"!important")})},jw=!1;if(typeof window<"u")try{var pm=Object.defineProperty({},"passive",{get:function(){return jw=!0,!0}});window.addEventListener("test",pm,pm),window.removeEventListener("test",pm,pm)}catch{jw=!1}var Ko=jw?{passive:!1}:!1,xZ=function(t){return t.tagName==="TEXTAREA"},Q3=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!xZ(t)&&n[e]==="visible")},bZ=function(t){return Q3(t,"overflowY")},SZ=function(t){return Q3(t,"overflowX")},Qk=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Z3(t,r);if(a){var i=e5(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},AZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Z3=function(t,e){return t==="v"?bZ(e):SZ(e)},e5=function(t,e){return t==="v"?wZ(e):AZ(e)},TZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},EZ=function(t,e,n,r,a){var i=TZ(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,f=e.contains(u),d=!1,p=o>0,h=0,y=0;do{if(!u)break;var x=e5(t,u),T=x[0],w=x[1],A=x[2],C=w-A-i*T;(T||C)&&Z3(t,u)&&(h+=C,y+=T);var M=u.parentNode;u=M&&M.nodeType===Node.DOCUMENT_FRAGMENT_NODE?M.host:M}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(p&&Math.abs(h)<1||!p&&Math.abs(y)<1)&&(d=!0),d},hm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Zk=function(t){return[t.deltaX,t.deltaY]},eI=function(t){return t&&"current"in t?t.current:t},NZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},_Z=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},CZ=0,Yo=[];function jZ(t){var e=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),a=j.useState(CZ++)[0],i=j.useState(J3)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var w=XQ([t.lockRef.current],(t.shards||[]).map(eI),!0).filter(Boolean);return w.forEach(function(A){return A.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var u=j.useCallback(function(w,A){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var C=hm(w),M=n.current,_="deltaX"in w?w.deltaX:M[0]-C[0],k="deltaY"in w?w.deltaY:M[1]-C[1],N,I=w.target,P=Math.abs(_)>Math.abs(k)?"h":"v";if("touches"in w&&P==="h"&&I.type==="range")return!1;var L=Qk(P,I);if(!L)return!0;if(L?N=P:(N=P==="v"?"h":"v",L=Qk(P,I)),!L)return!1;if(!r.current&&"changedTouches"in w&&(_||k)&&(r.current=N),!N)return!0;var D=r.current||N;return EZ(D,A,w,D==="h"?_:k)},[]),f=j.useCallback(function(w){var A=w;if(!(!Yo.length||Yo[Yo.length-1]!==i)){var C="deltaY"in A?Zk(A):hm(A),M=e.current.filter(function(N){return N.name===A.type&&(N.target===A.target||A.target===N.shadowParent)&&NZ(N.delta,C)})[0];if(M&&M.should){A.cancelable&&A.preventDefault();return}if(!M){var _=(o.current.shards||[]).map(eI).filter(Boolean).filter(function(N){return N.contains(A.target)}),k=_.length>0?u(A,_[0]):!o.current.noIsolation;k&&A.cancelable&&A.preventDefault()}}},[]),d=j.useCallback(function(w,A,C,M){var _={name:w,delta:A,target:C,should:M,shadowParent:MZ(C)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(k){return k!==_})},1)},[]),p=j.useCallback(function(w){n.current=hm(w),r.current=void 0},[]),h=j.useCallback(function(w){d(w.type,Zk(w),w.target,u(w,t.lockRef.current))},[]),y=j.useCallback(function(w){d(w.type,hm(w),w.target,u(w,t.lockRef.current))},[]);j.useEffect(function(){return Yo.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Ko),document.addEventListener("touchmove",f,Ko),document.addEventListener("touchstart",p,Ko),function(){Yo=Yo.filter(function(w){return w!==i}),document.removeEventListener("wheel",f,Ko),document.removeEventListener("touchmove",f,Ko),document.removeEventListener("touchstart",p,Ko)}},[]);var x=t.removeScrollBar,T=t.inert;return j.createElement(j.Fragment,null,T?j.createElement(i,{styles:_Z(a)}):null,x?j.createElement(vZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kZ=iZ(X3,jZ);var t5=j.forwardRef(function(t,e){return j.createElement(dh,da({},t,{ref:e,sideCar:kZ}))});t5.classNames=dh.classNames;var IZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wo=new WeakMap,gm=new WeakMap,ym={},B0=0,n5=function(t){return t&&(t.host||n5(t.parentNode))},PZ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=n5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},OZ=function(t,e,n,r){var a=PZ(e,Array.isArray(t)?t:[t]);ym[n]||(ym[n]=new WeakMap);var i=ym[n],o=[],u=new Set,f=new Set(a),d=function(h){!h||u.has(h)||(u.add(h),d(h.parentNode))};a.forEach(d);var p=function(h){!h||f.has(h)||Array.prototype.forEach.call(h.children,function(y){if(u.has(y))p(y);else try{var x=y.getAttribute(r),T=x!==null&&x!=="false",w=(Wo.get(y)||0)+1,A=(i.get(y)||0)+1;Wo.set(y,w),i.set(y,A),o.push(y),w===1&&T&&gm.set(y,!0),A===1&&y.setAttribute(n,"true"),T||y.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return p(e),u.clear(),B0++,function(){o.forEach(function(h){var y=Wo.get(h)-1,x=i.get(h)-1;Wo.set(h,y),i.set(h,x),y||(gm.has(h)||h.removeAttribute(r),gm.delete(h)),x||h.removeAttribute(n)}),B0--,B0||(Wo=new WeakMap,Wo=new WeakMap,gm=new WeakMap,ym={})}},RZ=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=IZ(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),OZ(r,a,n,"aria-hidden")):function(){return null}},fh="Dialog",[r5]=hQ(fh),[DZ,ia]=r5(fh),a5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,u=j.useRef(null),f=j.useRef(null),[d,p]=bQ({prop:r,defaultProp:a??!1,onChange:i,caller:fh});return c.jsx(DZ,{scope:e,triggerRef:u,contentRef:f,contentId:P0(),titleId:P0(),descriptionId:P0(),open:d,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(h=>!h),[p]),modal:o,children:n})};a5.displayName=fh;var i5="DialogTrigger",LZ=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(i5,n),i=to(e,a.triggerRef);return c.jsx(ai.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":KT(a.open),...r,ref:i,onClick:Vi(t.onClick,a.onOpenToggle)})});LZ.displayName=i5;var GT="DialogPortal",[qZ,s5]=r5(GT,{forceMount:void 0}),o5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:a}=t,i=ia(GT,e);return c.jsx(qZ,{scope:e,forceMount:n,children:j.Children.map(r,o=>c.jsx(ch,{present:n||i.open,children:c.jsx(K3,{asChild:!0,container:a,children:o})}))})};o5.displayName=GT;var tp="DialogOverlay",l5=j.forwardRef((t,e)=>{const n=s5(tp,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=ia(tp,t.__scopeDialog);return i.modal?c.jsx(ch,{present:r||i.open,children:c.jsx(BZ,{...a,ref:e})}):null});l5.displayName=tp;var UZ=$3("DialogOverlay.RemoveScroll"),BZ=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(tp,n);return c.jsx(t5,{as:UZ,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(ai.div,{"data-state":KT(a.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),zs="DialogContent",u5=j.forwardRef((t,e)=>{const n=s5(zs,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=ia(zs,t.__scopeDialog);return c.jsx(ch,{present:r||i.open,children:i.modal?c.jsx($Z,{...a,ref:e}):c.jsx(VZ,{...a,ref:e})})});u5.displayName=zs;var $Z=j.forwardRef((t,e)=>{const n=ia(zs,t.__scopeDialog),r=j.useRef(null),a=to(e,n.contentRef,r);return j.useEffect(()=>{const i=r.current;if(i)return RZ(i)},[]),c.jsx(c5,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vi(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Vi(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&i.preventDefault()}),onFocusOutside:Vi(t.onFocusOutside,i=>i.preventDefault())})}),VZ=j.forwardRef((t,e)=>{const n=ia(zs,t.__scopeDialog),r=j.useRef(!1),a=j.useRef(!1);return c.jsx(c5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,u;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var f,d;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),c5=j.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,u=ia(zs,n),f=j.useRef(null),d=to(e,f);return WQ(),c.jsxs(c.Fragment,{children:[c.jsx(G3,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(F3,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":KT(u.open),...o,ref:d,onDismiss:()=>u.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(zZ,{titleId:u.titleId}),c.jsx(HZ,{contentRef:f,descriptionId:u.descriptionId})]})]})}),HT="DialogTitle",d5=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(HT,n);return c.jsx(ai.h2,{id:a.titleId,...r,ref:e})});d5.displayName=HT;var f5="DialogDescription",m5=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(f5,n);return c.jsx(ai.p,{id:a.descriptionId,...r,ref:e})});m5.displayName=f5;var p5="DialogClose",FZ=j.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(p5,n);return c.jsx(ai.button,{type:"button",...r,ref:e,onClick:Vi(t.onClick,()=>a.onOpenChange(!1))})});FZ.displayName=p5;function KT(t){return t?"open":"closed"}var h5="DialogTitleWarning",[ave,g5]=pQ(h5,{contentName:zs,titleName:HT,docsSlug:"dialog"}),zZ=({titleId:t})=>{const e=g5(h5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},GZ="DialogDescriptionWarning",HZ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${g5(GZ).contentName}}.`;return j.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},KZ=a5,YZ=o5,WZ=l5,XZ=u5,JZ=d5,QZ=m5;const ZZ={sm:"md:max-w-sm",md:"md:max-w-md",lg:"md:max-w-lg"},Xi=({isOpen:t,onClose:e,title:n,children:r,size:a="md",footer:i})=>c.jsx(KZ,{open:t,onOpenChange:o=>{o||e()},children:c.jsxs(YZ,{children:[c.jsx(WZ,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"}),c.jsxs(XZ,{className:`fixed inset-x-0 bottom-0 z-50 mx-auto w-full surface-card surface-card-gradient shadow-2xl border-t-2 md:border-t-0 md:border-2 border-white/60 dark:border-white/10 rounded-t-3xl md:bottom-auto md:top-1/2 md:-translate-y-1/2 md:rounded-3xl ${ZZ[a]} md:animate-fade-in animate-slide-up focus:outline-none`,onEscapeKeyDown:o=>{o.preventDefault(),e()},onPointerDownOutside:o=>{o.preventDefault(),e()},onFocusOutside:o=>o.preventDefault(),children:[c.jsx("div",{className:"flex justify-center py-4 md:hidden",children:c.jsx("div",{className:"h-1.5 w-12 rounded-full bg-gradient-to-r from-primary-300 via-primary-400 to-primary-300 dark:from-primary-700 dark:via-primary-600 dark:to-primary-700 shadow-sm"})}),(n||n==="")&&c.jsx(JZ,{className:"px-6 pt-2 md:pt-4 text-center text-xl font-bold text-white tracking-tight md:text-left heading-glass",children:n}),c.jsx(QZ,{asChild:!0,children:c.jsx("div",{className:"px-6 py-5 text-white",children:r})}),i&&c.jsx("div",{className:"px-6 pt-3 pb-5 border-t border-white/40 dark:border-white/5",children:i})]})]})}),Mw=({label:t,iconLeft:e,className:n="",...r})=>c.jsxs("label",{className:"block",children:[t&&c.jsx("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),c.jsxs("div",{className:"relative",children:[e&&c.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 !text-base",children:e}),c.jsx("input",{className:["w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 shadow-sm focus:border-primary-500 focus:ring-primary-500",e?"pl-9 pr-3 py-2":"px-3 py-2",n].join(" "),...r})]})]});function eee(t){const e=new Uint8Array(t);let n="";for(const a of e)n+=String.fromCharCode(a);return window.btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const tee=({isOpen:t,onClose:e,onSave:n,userId:r,userName:a,existingCredentialId:i})=>{const[o,u]=j.useState("idle"),[f,d]=j.useState(null),[p,h]=j.useState(null),[y,x]=j.useState(!0),[T,w]=j.useState(0),[A]=j.useState(3);j.useEffect(()=>{if(t){if(u("idle"),d(null),h(null),x(!0),w(0),!window.isSecureContext){h("WebAuthn nécessite une connexion sécurisée (HTTPS ou localhost)."),x(!1);return}if(!("PublicKeyCredential"in window)){h("WebAuthn n'est pas pris en charge par ce navigateur."),x(!1);return}PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(N=>{N||(h("Aucun capteur biométrique compatible WebAuthn n'a été détecté sur cet appareil."),x(!1))}).catch(N=>{console.error("Fingerprint availability check failed:",N),h("Impossible de vérifier la disponibilité de WebAuthn sur cet appareil."),x(!1)})}},[t]);const C=async()=>{if(y){if(!navigator.credentials||!navigator.credentials.create){d("WebAuthn n'est pas pris en charge par ce navigateur."),u("error");return}u("prompting"),d(null);try{const N=new Uint8Array(32);window.crypto.getRandomValues(N);const I={challenge:N,rp:{name:"Neemba Tracker",id:window.location.hostname},user:{id:new Uint8Array(Array.from(r).map(L=>L.charCodeAt(0))),name:a,displayName:a},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required",requireResidentKey:!0,residentKey:"required"},timeout:12e4,attestation:"none",extensions:{credProps:!0}};u("multi-scan"),w(1);const P=await navigator.credentials.create({publicKey:I});if(P&&P.rawId){await new Promise(D=>setTimeout(D,500)),w(D=>{const q=D+1;return q<A&&u("multi-scan"),q});const L=eee(P.rawId);u("success"),n(L)}else throw new Error("La création des informations d'identification a échoué.")}catch(N){console.error("Erreur d'enregistrement d'empreinte digitale:",N),N.name==="NotAllowedError"?d("L'enregistrement a été annulé."):d("L'enregistrement a échoué. Veuillez réessayer."),u("error")}}},M=()=>{n("")},_=()=>{switch(o){case"prompting":return c.jsx("p",{children:"Veuillez suivre les instructions de votre navigateur pour continuer."});case"registering":return c.jsx("p",{children:"Veuillez toucher le capteur d'empreintes digitales..."});case"multi-scan":return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{className:"font-semibold text-primary-600",children:["Scan ",T," / ",A]}),c.jsx("p",{className:"text-sm text-gray-600",children:"Repositionnez votre doigt pour couvrir plus de surface..."}),c.jsx("div",{className:"flex gap-2 justify-center mt-3",children:Array.from({length:A}).map((N,I)=>c.jsx("div",{className:`h-2 w-12 rounded-full transition-colors ${I<T?"bg-primary-500":"bg-gray-300"}`},I))})]});case"success":return c.jsx("p",{className:"text-green-600 font-semibold",children:"Enregistrement réussi !"});case"error":return c.jsx("p",{className:"text-red-600",children:f});case"idle":default:return c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-gray-600",children:i?"Une empreinte est déjà enregistrée. Vous pouvez l'enregistrer à nouveau ou la supprimer.":"Cliquez sur 'Démarrer' pour enregistrer une empreinte digitale pour cet utilisateur."}),p&&c.jsx("p",{className:"mt-3 text-sm text-red-600",children:p})]})}},k=i?c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"danger",onClick:M,children:"Supprimer"}),c.jsx(Re,{onClick:C,disabled:o==="registering"||o==="prompting"||!y,children:"Ré-enregistrer"})]}):c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{onClick:C,disabled:o==="registering"||o==="prompting"||!y,children:"Démarrer"})]});return c.jsx(Xi,{isOpen:t,onClose:e,title:`${i?"Gérer":"Enregistrer"} l'empreinte digitale`,size:"md",footer:k,children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"p-3 bg-primary-100 rounded-full mb-4",children:c.jsx(ks,{className:"text-primary-600 !w-8 !h-8"})}),c.jsxs("p",{className:"mt-2 text-base text-gray-600 dark:text-gray-300",children:["pour ",a]}),c.jsx("div",{className:"mt-4 h-12 flex items-center justify-center",children:_()})]})})},ii=({isOpen:t,onClose:e,onConfirm:n,title:r,children:a,confirmButtonText:i="Confirmer",confirmButtonVariant:o="danger",icon:u="delete",iconBgColor:f="bg-red-100",iconColor:d="text-red-500"})=>{const p=o==="danger"?"danger":"primary";return c.jsx(Xi,{isOpen:t,onClose:e,title:r,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{variant:p,onClick:n,children:i})]}),children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-white !text-5xl mb-3",children:u}),c.jsx("div",{className:"mt-1 px-2 text-base leading-relaxed text-white/90 font-medium",children:a})]})})},kw=({isOpen:t,onClose:e,title:n,children:r,primaryButtonText:a,onPrimaryClick:i,secondaryButtonText:o,onSecondaryClick:u,icon:f,iconBgColor:d,iconColor:p})=>c.jsx(Xi,{isOpen:t,onClose:e,title:n,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:o?u:e,children:o||"Annuler"}),c.jsx(Re,{onClick:i,children:a})]}),children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-white !text-5xl mb-3",children:f}),c.jsx("div",{className:"mt-1 text-base text-white/90 font-medium leading-relaxed",children:r})]})}),y5=({isOpen:t,onClose:e,onConfirm:n,title:r="Rejeter la demande",message:a="Veuillez fournir une raison pour le rejet. Ceci sera enregistré dans l'historique."})=>{const[i,o]=j.useState(""),u=()=>{i.trim()&&(n(i),o(""))},f=()=>{o(""),e()};return c.jsxs(Xi,{isOpen:t,onClose:f,title:r,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:f,children:"Annuler"}),c.jsx(Re,{variant:"danger",onClick:u,disabled:!i.trim(),children:"Rejeter"})]}),children:[c.jsx("p",{className:"text-base text-gray-600 dark:text-gray-300 mb-4",children:a}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",htmlFor:"rejection-reason",children:"Raison du rejet"}),c.jsx("textarea",{id:"rejection-reason",value:i,onChange:d=>o(d.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 shadow-sm focus:border-primary-500 focus:ring-primary-500",rows:3,placeholder:"Entrez la raison ici..."})]})]})},v5=({isOpen:t,onClose:e,onConfirm:n,assignment:r,equipment:a,userToValidate:i,actorLabel:o,instructions:u})=>{var M,_,k;const[f,d]=j.useState(null),[p,h]=j.useState(!1),[y,x]=j.useState(!1);j.useEffect(()=>{t||(d(null),h(!1))},[t]),j.useEffect(()=>{(async()=>{if(t){if(!i.webauthnCredentialId){x(!1);return}if(!window.isSecureContext||!("PublicKeyCredential"in window)){x(!1);return}try{const I=await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();x(I)}catch(I){console.error("Fingerprint availability check failed:",I),x(!1)}}})()},[t,i.webauthnCredentialId]),j.useEffect(()=>{if(!t||f)return;const N=!!i.pin,I=typeof window<"u"?window.innerWidth<768:!1;N&&I&&d("pin")},[t,f,i.pin]);const T=r.action===Ge.ASSIGN,w=o?`Valider en tant que ${o}`:T?"Confirmer l'attribution":"Confirmer le retour",A=o?`Valider en tant que ${o}`:T?"Confirmer et accepter":"Confirmer le retour",C=N=>{f!==N&&h(!1),d(N)};return c.jsx(Xi,{isOpen:t,onClose:e,title:w,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{onClick:n,disabled:!p,children:A})]}),children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex items-center justify-center bg-primary-100 rounded-full mb-4 size-14",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 !text-3xl",children:T?"task_alt":"undo"})}),c.jsx("div",{className:"mt-4 w-full text-left",children:c.jsxs("div",{className:"flex items-center gap-4 rounded-lg border border-gray-200 dark:border-gray-700 p-3",children:[c.jsx("img",{src:(M=a.model)==null?void 0:M.imageUrl,alt:((_=a.model)==null?void 0:_.name)||"",className:"size-16 rounded-md object-contain bg-gray-100 dark:bg-gray-800"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:(k=a.model)==null?void 0:k.name}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.assetTag})]})]})}),c.jsxs("div",{className:"mt-4 text-base text-gray-600 dark:text-gray-300 w-full",children:[c.jsx("p",{className:"text-sm text-center mb-4",children:u||"Veuillez valider votre identité pour continuer."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{type:"button",onClick:()=>C("pin"),className:`w-full flex items-center gap-4 rounded-xl border-2 p-3 text-left transition-colors ${f==="pin"?"border-primary-500 bg-primary-50 dark:bg-primary-500/10":"border-gray-300 bg-white hover:border-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-gray-500"}`,children:[c.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400 shrink-0 size-10",children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pin"})}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-semibold leading-normal flex-1 truncate",children:"Valider par PIN"})]}),c.jsxs("button",{type:"button",onClick:()=>C("fingerprint"),disabled:!y,className:`w-full flex items-center gap-4 rounded-xl border-2 p-3 text-left transition-colors ${y?f==="fingerprint"?"border-primary-500 bg-primary-50 dark:bg-primary-500/10":"border-gray-300 bg-white hover:border-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-gray-500":"border-gray-200 bg-gray-50 cursor-not-allowed opacity-50 dark:border-gray-700 dark:bg-gray-900"}`,children:[c.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400 shrink-0 size-10",children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"fingerprint"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-semibold leading-normal truncate",children:"Valider par Empreinte"}),!y&&c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:i.webauthnCredentialId?"Non disponible":"Non enregistrée"})]})]})]})]}),f==="pin"&&c.jsx("div",{className:"pt-4 animate-fade-in w-full",children:c.jsx(q3,{onValidated:h,correctPin:i.pin,userName:i.name,autoFocus:!0})}),f==="fingerprint"&&c.jsx("div",{className:"pt-4 animate-fade-in w-full",children:c.jsx(U3,{onValidated:h,userCredentialId:i.webauthnCredentialId})})]})})},yr=6,nee=({isOpen:t,onClose:e,onSave:n,userName:r,existingPin:a})=>{const[i,o]=j.useState(Array(yr).fill("")),[u,f]=j.useState(Array(yr).fill("")),[d,p]=j.useState(""),[h,y]=j.useState(!1),x=j.useRef([]),T=j.useRef([]),[w,A]=j.useState(null);j.useEffect(()=>{t?setTimeout(()=>{var Y;(Y=x.current[0])==null||Y.focus()},120):(o(Array(yr).fill("")),f(Array(yr).fill("")),y(!1),p(""),A(null))},[t]);const C=i.join(""),M=u.join(""),_=C.length===yr,k=M.length===yr,N=C===M&&_&&k,I=h&&k&&_&&!N,P=(Y,te,re)=>{const $=re.replace(/\D/g,"").slice(-1),z=Y==="new"?o:f,H=Y==="new"?x:T;if(z(Q=>{const se=[...Q];return se[te]=$,se}),p(""),Y==="confirm"&&y(!0),$){const Q=te+1;Q<yr?requestAnimationFrame(()=>{var se;return(se=H.current[Q])==null?void 0:se.focus()}):Y==="new"&&requestAnimationFrame(()=>{var se;return(se=T.current[0])==null?void 0:se.focus()})}},L=(Y,te,re)=>{var Q,se;const $=Y==="new"?x:T,z=Y==="new"?i:u,H=Y==="new"?o:f;if(Y==="confirm"&&y(!0),re.key==="Backspace"){re.preventDefault(),z[te]?H(we=>{const Te=[...we];return Te[te]="",Te}):te>0&&(H(we=>{const Te=[...we];return Te[te-1]="",Te}),requestAnimationFrame(()=>{var we;return(we=$.current[te-1])==null?void 0:we.focus()}));return}if(re.key==="ArrowLeft"&&te>0){re.preventDefault(),(Q=$.current[te-1])==null||Q.focus();return}re.key==="ArrowRight"&&te<yr-1&&(re.preventDefault(),(se=$.current[te+1])==null||se.focus())},D=(Y,te,re)=>{const $=re.clipboardData.getData("text").replace(/\D/g,"");if(!$)return;re.preventDefault();const z=$.slice(0,yr-te).split(""),H=Y==="new"?o:f,Q=Y==="new"?x:T;H(we=>{const Te=[...we];return z.forEach((je,me)=>{Te[te+me]=je}),Te}),Y==="confirm"&&y(!0);const se=te+z.length;requestAnimationFrame(()=>{var we,Te,je;if(Y==="new")se<yr?(we=Q.current[se])==null||we.focus():(Te=T.current[0])==null||Te.focus();else{const me=Math.min(se,yr-1);(je=Q.current[me])==null||je.focus()}})},q=(Y,te,re)=>re?(w==null?void 0:w.type)===Y&&w.index===te?re:"•":"",U=()=>{if(p(""),!_||!k){p("Le code PIN doit contenir 6 chiffres.");return}if(!N){p("Les codes PIN ne correspondent pas.");return}n(C),o(Array(yr).fill("")),f(Array(yr).fill("")),y(!1),A(null)},R=!!a,B=!!d||I,G=N&&!d,W=d||(I?"Les codes PIN ne correspondent pas.":""),V=`mb-4 p-4 bg-white dark:bg-gray-800 border-2 dark:border-gray-600 rounded-lg transition-colors focus-within:border-primary-500 ${_?"border-primary-400":"border-gray-300 dark:border-gray-600"}`,K=`mb-2 p-4 bg-white dark:bg-gray-800 border-2 dark:border-gray-600 rounded-lg transition-colors focus-within:border-primary-500 ${B?"border-red-500":G?"border-green-500":"border-gray-300 dark:border-gray-600"}`;return c.jsx(Xi,{isOpen:t,onClose:e,title:`${R?"Modifier":"Créer"} le code PIN`,size:"sm",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{onClick:U,disabled:!N,children:"Enregistrer"})]}),children:c.jsxs("div",{className:"pt-0",children:[c.jsxs("p",{className:"text-white text-glass-enhanced text-sm mb-4",children:["Définissez un code PIN à 6 chiffres pour ",r,"."]}),c.jsxs("div",{className:V,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"text-sm font-semibold text-white text-glass-enhanced",htmlFor:"new-pin-0",children:"Nouveau PIN"}),_&&!B&&!G&&c.jsx("span",{className:"text-xs text-primary-600 font-semibold",children:"Complet"})]}),c.jsx("div",{className:"grid grid-cols-6 gap-2 sm:gap-3 w-full",children:i.map((Y,te)=>c.jsx("input",{id:`new-pin-${te}`,ref:re=>{x.current[te]=re},type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"off",value:q("new",te,Y),onChange:re=>P("new",te,re.target.value),onKeyDown:re=>L("new",te,re),onPaste:re=>D("new",te,re),onFocus:()=>A({type:"new",index:te}),onBlur:()=>{A(re=>re&&re.type==="new"&&re.index===te?null:re)},maxLength:1,className:"w-full aspect-square min-w-[2.5rem] rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-center text-2xl font-bold text-gray-900 dark:text-gray-100 focus:border-primary-500 focus:ring-primary-500","aria-label":`Chiffre ${te+1} du nouveau PIN`},te))})]}),c.jsxs("div",{className:K,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"text-sm font-semibold text-white text-glass-enhanced",htmlFor:"confirm-pin-0",children:"Confirmer le PIN"}),G&&c.jsxs("span",{className:"text-xs text-green-600 font-semibold flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"verified"}),"PIN confirmé"]})]}),c.jsx("div",{className:"grid grid-cols-6 gap-2 sm:gap-3 w-full",children:u.map((Y,te)=>c.jsx("input",{id:`confirm-pin-${te}`,ref:re=>{T.current[te]=re},type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"off",value:q("confirm",te,Y),onChange:re=>P("confirm",te,re.target.value),onKeyDown:re=>L("confirm",te,re),onPaste:re=>D("confirm",te,re),onFocus:()=>{y(!0),A({type:"confirm",index:te})},onBlur:()=>{A(re=>re&&re.type==="confirm"&&re.index===te?null:re)},maxLength:1,className:`w-full aspect-square min-w-[2.5rem] rounded-md border ${B?"border-red-500 focus:border-red-500 focus:ring-red-400/60":"border-gray-300 dark:border-gray-600 focus:border-primary-500 focus:ring-primary-500"} bg-white dark:bg-gray-800 text-center text-2xl font-bold text-gray-900 dark:text-gray-100`,"aria-label":`Chiffre ${te+1} de confirmation du PIN`},te))})]}),B&&c.jsx("p",{className:"text-red-300 text-glass-enhanced text-sm mt-2 text-center",children:W}),!B&&!G&&c.jsx("p",{className:"text-xs text-white/80 text-center mt-2 text-glass-subtle font-medium",children:"Utilisez uniquement des chiffres. Évitez les suites trop évidentes comme 123456."}),G&&c.jsx("p",{className:"text-green-300 text-glass-enhanced text-sm mt-2 text-center font-semibold",children:"Les deux codes PIN correspondent."})]})})},ree=({info:t,countries:e,sites:n,onClose:r,onSave:a})=>{const{entityType:i,entity:o,parentId:u}=t,[f,d]=j.useState((o==null?void 0:o.name)||""),[p,h]=j.useState(!1),[y,x]=j.useState(()=>{if(u)return u;if(o){if(i==="site")return o.countryId;if(i==="department")return o.siteId}return i==="site"&&e.length>0?e[0].id:i==="department"&&n.length>0?n[0].id:""}),T=()=>{const C=o?"Modifier":"Ajouter";switch(i){case"country":return`${C} un pays`;case"site":return`${C} un site`;case"department":return`${C} un service`}},w=async C=>{if(C.preventDefault(),!p){h(!0);try{await a(i,{id:o==null?void 0:o.id,name:f,parentId:y}),r()}catch{h(!1)}}},A=!!o;return c.jsx(Xi,{isOpen:!!t,onClose:r,title:T(),size:"sm",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:r,children:"Annuler"}),c.jsx(Re,{type:"submit",form:"location-edit-form",disabled:!f.trim()||p,children:p?"Enregistrement...":"Enregistrer"})]}),children:c.jsxs("form",{id:"location-edit-form",onSubmit:w,className:"space-y-4",children:[i==="site"&&c.jsx("div",{children:c.jsx(_w,{label:"Pays",value:y,onChange:C=>x(C.target.value),disabled:A,children:e.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))})}),i==="department"&&c.jsx("div",{children:c.jsx(_w,{label:"Site",value:y,onChange:C=>x(C.target.value),disabled:A,children:n.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))})}),c.jsx("div",{children:c.jsx(Mw,{label:"Nom",id:"location-name",type:"text",value:f,onChange:C=>d(C.target.value),required:!0})})]})})},aee=({isOpen:t,onClose:e,onSave:n,userName:r,existingPassword:a})=>{const[i,o]=j.useState(""),[u,f]=j.useState(""),[d,p]=j.useState(""),[h,y]=j.useState(!1),[x,T]=j.useState(!1),w=j.useRef(null);j.useEffect(()=>{t?setTimeout(()=>{var _;(_=w.current)==null||_.focus()},120):(o(""),f(""),p(""),y(!1),T(!1))},[t]);const A=_=>{if(_.preventDefault(),i.length<6){p("Le mot de passe doit contenir au moins 6 caractères.");return}if(i!==u){p("Les mots de passe ne correspondent pas.");return}n(i),e()},C=i===u&&i.length>=6&&u.length>=6,M=u.length>=6&&i.length>=6&&!C;return c.jsx(Xi,{isOpen:t,onClose:e,title:a?"Modifier le mot de passe":"Créer un mot de passe",size:"sm",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{type:"submit",form:"password-form",disabled:!C,children:"Enregistrer"})]}),children:c.jsxs("form",{id:"password-form",onSubmit:A,className:"space-y-5",children:[c.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 text-sm border border-blue-200 dark:border-blue-800",children:[c.jsx("p",{className:"text-blue-900 dark:text-blue-100 font-semibold mb-1 text-glass-enhanced",children:a?`Modifier le mot de passe pour ${r}`:`Définir un mot de passe pour ${r}`}),c.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-xs text-glass-subtle",children:"Le mot de passe est utilisé pour l'authentification lors de la connexion."})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"new-password",className:"block text-sm font-semibold text-white text-glass-enhanced mb-2",children:"Nouveau mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{ref:w,id:"new-password",type:h?"text":"password",value:i,onChange:_=>{o(_.target.value),p("")},className:"w-full h-11 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-4 pr-12 text-gray-900 dark:text-gray-100 focus:border-primary-500 focus:ring-1 focus:ring-primary-500",placeholder:"Entrez le mot de passe",minLength:6,required:!0}),c.jsx("button",{type:"button",onClick:()=>y(!h),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":h?"Masquer le mot de passe":"Afficher le mot de passe",children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:h?"visibility_off":"visibility"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-semibold text-white text-glass-enhanced mb-2",children:"Confirmer le mot de passe"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"confirm-password",type:x?"text":"password",value:u,onChange:_=>{f(_.target.value),p("")},className:`w-full h-11 rounded-lg border ${M?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-800 px-4 pr-12 text-gray-900 dark:text-gray-100 focus:border-primary-500 focus:ring-1 focus:ring-primary-500`,placeholder:"Confirmez le mot de passe",minLength:6,required:!0}),c.jsx("button",{type:"button",onClick:()=>T(!x),className:"absolute inset-y-0 right-3 flex items-center text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":x?"Masquer le mot de passe":"Afficher le mot de passe",children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:x?"visibility_off":"visibility"})})]}),M&&c.jsx("p",{className:"mt-1.5 text-sm text-red-300 text-glass-enhanced",children:"Les mots de passe ne correspondent pas."})]}),d&&c.jsx("p",{className:"text-red-300 text-glass-enhanced text-sm mt-2",children:d}),c.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-3 text-xs text-yellow-800 dark:text-yellow-300",children:[c.jsx("p",{className:"font-medium mb-1",children:"Recommandations :"}),c.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[c.jsx("li",{children:"Minimum 6 caractères"}),c.jsx("li",{children:"Utilisez une combinaison de lettres, chiffres et symboles"}),c.jsx("li",{children:"Ne réutilisez pas un mot de passe existant"})]})]})]})})},x5=({onScanSuccess:t,onClose:e})=>{const n=j.useRef(null),[r,a]=j.useState(null),i=Z.useRef(null);return Qs(i,!0),j.useEffect(()=>{const o=new Html5Qrcode("qr-reader");n.current=o;const u=(y,x)=>{var T;(T=n.current)!=null&&T.isScanning&&n.current.stop().then(()=>{t(y)}).catch(w=>{console.error("Failed to stop scanner",w),t(y)})},f=y=>{},p={fps:10,qrbox:(y,x)=>{const T=Math.min(y,x),w=Math.floor(T*.75);return{width:w,height:w}},aspectRatio:1};return(async()=>{try{const y=await Html5Qrcode.getCameras();if(y&&y.length){let x=null;const T=y.filter(w=>{const A=w.label.toLowerCase();return A.includes("back")||A.includes("arrière")});if(T.length>0){const w=T.find(A=>{const C=A.label.toLowerCase();return!C.includes("ultra")&&!C.includes("telephoto")&&!C.includes("téléobjectif")&&!C.includes("zoom")});x=w?w.id:T[0].id}else y.length>0&&(x=y[0].id);x?await o.start(x,p,u,f):await o.start({facingMode:"environment"},p,u,f)}else await o.start({facingMode:"environment"},p,u,f)}catch(y){console.error("Unable to start scanning.",y),a("Impossible de démarrer la caméra. Veuillez accorder la permission et rafraîchir.")}})(),()=>{n.current&&n.current.isScanning&&n.current.stop().catch(y=>{console.log("Scanner stop error (ignorable on cleanup):",y)})}},[t]),c.jsxs("div",{ref:i,className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"qr-scanner-title",children:[c.jsx("div",{id:"qr-reader",className:"w-full max-w-md aspect-square relative overflow-hidden rounded-2xl"}),c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[c.jsx("div",{className:"w-[75vw] h-[75vw] max-w-[320px] max-h-[320px] border-4 border-dashed border-white/50 rounded-2xl"}),c.jsx("div",{id:"qr-scanner-title",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[220px] text-white text-lg font-semibold bg-black/30 px-4 py-2 rounded-md",children:"Aligner le QR code dans le cadre"})]}),r&&c.jsx("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-100 text-red-700 p-4 rounded-lg",children:r}),c.jsx("button",{onClick:e,className:"absolute top-4 right-4 flex items-center justify-center rounded-full size-12 bg-white/20 text-white hover:bg-white/30 transition-colors","aria-label":"Fermer le scanner",children:c.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"close"})})]})},tI={[qe.AVAILABLE]:"bg-status-success-100 text-status-success-800 dark:bg-status-success-900/50 dark:text-status-success-300",[qe.IN_STORAGE]:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",[qe.ASSIGNED]:"bg-status-info-100 text-status-info-800 dark:bg-status-info-900/50 dark:text-status-info-300",[qe.PENDING_VALIDATION]:"bg-status-warning-100 text-status-warning-800 dark:bg-status-warning-900/50 dark:text-status-warning-300",[qe.IN_REPAIR]:"bg-status-action-100 text-status-action-800 dark:bg-status-action-900/50 dark:text-status-action-300",[qe.DECOMMISSIONED]:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},nI={[_e.ADMIN]:"bg-status-info-100 text-status-info-800 dark:bg-status-info-900/50 dark:text-status-info-300",[_e.MANAGER]:"bg-status-success-100 text-status-success-800 dark:bg-status-success-900/50 dark:text-status-success-300",[_e.EMPLOYEE]:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"},b5=t=>tI[t]||tI[qe.DECOMMISSIONED],S5=t=>nI[t]||nI[_e.EMPLOYEE],w5=({status:t,label:e,className:n})=>c.jsx("span",{className:["inline-flex items-center px-2 py-0.5 text-xs font-medium max-w-full","leading-5 whitespace-nowrap rounded-[var(--radius-badge)]",b5(t),n||""].join(" "),title:t,children:c.jsx("span",{className:"truncate",children:e??t})}),A5=({isOpen:t,onClose:e,title:n="",actions:r})=>{const a=j.useRef(null);return Qs(a,t),j.useEffect(()=>{if(!t)return;const i=o=>{o.key==="Escape"&&e()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t,e]),c.jsx(Js,{children:t&&c.jsx(He.div,{className:"fixed inset-0 z-50 flex flex-col justify-end bg-black/40 backdrop-blur-sm md:hidden",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"dropdown-menu-title",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs(He.div,{ref:a,className:"bg-white dark:bg-gray-900 rounded-t-[var(--radius-modal)] w-full shadow-[var(--shadow-elev-2)]",onClick:i=>i.stopPropagation(),initial:{y:40,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{y:40,opacity:0,transition:{duration:.2}},children:[c.jsx("div",{className:"flex justify-center py-3",children:c.jsx("div",{className:"h-1.5 w-10 rounded-full bg-gray-300 dark:bg-gray-600"})}),n&&c.jsx("div",{className:"px-4 pb-2",children:c.jsx("h2",{id:"dropdown-menu-title",className:"text-sm font-semibold text-gray-500 dark:text-gray-400 text-center truncate",children:n})}),c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"bg-white/95 dark:bg-gray-800/90 rounded-[var(--radius-card)] overflow-hidden shadow-[var(--shadow-elev-1)]",children:r.map((i,o)=>{const u=`w-full text-left flex items-center gap-4 px-4 py-3 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i.isDestructive?"text-status-danger-700 dark:text-status-danger-400":"text-gray-800 dark:text-gray-200"}`,f=c.jsxs(He.button,{onClick:()=>{i.disabled||(i.onClick(),e())},disabled:i.disabled,className:u,whileTap:{scale:i.disabled?1:.97},whileHover:{scale:i.disabled?1:1.02},transition:{type:"spring",stiffness:320,damping:24},children:[c.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:i.icon}),c.jsx("span",{className:"font-medium",children:i.label})]}),d=`w-full ${o>0?"border-t border-gray-200 dark:border-gray-700":""}`;return i.disabled&&i.disabledTooltip?c.jsx("div",{className:d,children:c.jsx(ni,{content:i.disabledTooltip,align:"top",children:c.jsx("div",{className:"cursor-not-allowed",children:f})})},i.label):c.jsx("div",{className:d,children:f},i.label)})})}),c.jsx("div",{className:"p-2",children:c.jsx(Re,{variant:"secondary",block:!0,onClick:e,children:"Annuler"})})]})})})},qc=({value:t,onChange:e,onSubmit:n,placeholder:r,isSearching:a,showAiButton:i=!0,formClassName:o})=>c.jsx("form",{onSubmit:n,className:o||"flex-1",children:c.jsxs("label",{className:"relative flex h-12 w-full items-center",children:[c.jsx("span",{className:"material-symbols-outlined absolute left-4 text-gray-500 dark:text-gray-400",children:"search"}),c.jsx("input",{className:"form-input w-full rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 py-3 pl-12 pr-12 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:r,type:"search",value:t,onChange:e}),i&&c.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:c.jsx(ni,{content:"Posez une question en langage naturel.",align:"right",children:c.jsx("button",{type:"submit",className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-500/20 text-primary-800 dark:text-primary-300 transition-colors hover:bg-primary-200 dark:hover:bg-primary-500/30","aria-label":"Lancer la recherche intelligente avec Gemini",children:a?c.jsx("span",{className:"material-symbols-outlined text-lg animate-spin",children:"autorenew"}):c.jsx("span",{className:"material-symbols-outlined text-lg",children:"auto_awesome"})})})})]})}),iee=t=>{try{const e=localStorage.getItem(t);if(!e)return[];const n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}},see=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},T5=({filters:t,definitions:e,onFiltersChange:n,savedViewsKey:r,onClearAll:a,className:i=""})=>{const[o,u]=j.useState(()=>iee(r)),[f,d]=j.useState(!1),[p,h]=j.useState("");j.useEffect(()=>{see(r,o)},[o,r]);const y=j.useMemo(()=>e.map(_=>{var N,I;const k=t[_.id];if(_.type==="select"){if(!k||k==="all")return null;const P=((I=(N=_.options)==null?void 0:N.find(L=>L.value===k))==null?void 0:I.label)||String(k);return{id:_.id,label:`${_.label}: ${P}`}}else{if(_.type==="text")return!k||String(k).trim()===""?null:{id:_.id,label:`${_.label}: ${k}`};if(_.type==="boolean")return k?{id:_.id,label:_.label}:null}return null}).filter(Boolean),[e,t]),x=(_,k)=>{n({...t,[_]:k})},T=_=>{const k=e.find(N=>N.id===_);k&&(k.type==="select"?x(_,"all"):k.type==="text"?x(_,""):k.type==="boolean"&&x(_,!1))},w=()=>{const _={...t};e.forEach(k=>{k.type==="select"?_[k.id]="all":k.type==="text"?_[k.id]="":k.type==="boolean"&&(_[k.id]=!1)}),n(_),a==null||a()},A=()=>{const _=p.trim();if(!_)return;const N=o.find(I=>I.name.toLowerCase()===_.toLowerCase())?o.map(I=>I.name.toLowerCase()===_.toLowerCase()?{name:_,filters:t}:I):[...o,{name:_,filters:t}];u(N),h("")},C=_=>{n({...t,..._.filters}),d(!1)},M=_=>{u(o.filter(k=>k.name!==_))};return c.jsxs("div",{className:`flex flex-col gap-4 rounded-[var(--radius-card)] bg-white dark:bg-gray-800 shadow-[var(--shadow-elev-1)] p-3 md:p-4 ${i}`,children:[c.jsxs("div",{className:"flex gap-3 items-end flex-wrap",children:[e.map(_=>{var k;return _.type==="select"?c.jsx("div",{className:"min-w-[220px]",children:c.jsxs(_w,{label:_.label,value:t[_.id]??"all",onChange:N=>x(_.id,N.target.value),children:[c.jsx("option",{value:"all",children:"Tous"}),(k=_.options)==null?void 0:k.map(N=>c.jsx("option",{value:N.value,children:N.label},N.value))]})},_.id):_.type==="text"?c.jsx("div",{className:"min-w-[240px]",children:c.jsx(Mw,{label:_.label,placeholder:_.placeholder||"",value:t[_.id]??"",onChange:N=>x(_.id,N.target.value),iconLeft:"search"})},_.id):c.jsxs("label",{className:"flex items-center gap-2 select-none mb-1",children:[c.jsx("input",{type:"checkbox",checked:!!t[_.id],onChange:N=>x(_.id,N.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:_.label})]},_.id)}),c.jsxs("div",{className:"ml-auto flex items-end gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Re,{variant:"secondary",size:"sm",onClick:()=>d(_=>!_),icon:"bookmark",iconPosition:"left",children:"Vues"}),c.jsx(Js,{children:f&&c.jsxs(He.div,{initial:{opacity:0,y:-6,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{opacity:0,y:-6,scale:.97,transition:{duration:.15}},className:"absolute right-0 z-20 mt-2 w-80 rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black/5 dark:ring-white/10 p-3",children:[c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx(Mw,{placeholder:"Nom de la vue",value:p,onChange:_=>h(_.target.value),className:"flex-1"}),c.jsx(Re,{size:"sm",onClick:A,icon:"save",children:"Enregistrer"})]}),c.jsx("div",{className:"max-h-60 overflow-auto",children:o.length===0?c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Aucune vue enregistrée."}):c.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map(_=>c.jsxs("li",{className:"py-2 flex items-center justify-between",children:[c.jsx(He.button,{className:"text-sm font-medium text-gray-700 dark:text-gray-200 hover:underline",onClick:()=>C(_),whileTap:{scale:.97},whileHover:{scale:1.02},transition:{type:"spring",stiffness:320,damping:24},children:_.name}),c.jsx(He.button,{className:"text-sm text-status-danger-600 hover:underline",onClick:()=>M(_.name),whileTap:{scale:.97},whileHover:{scale:1.02},transition:{type:"spring",stiffness:320,damping:24},children:"Supprimer"})]},_.name))})})]},"saved-views")})]}),c.jsx(Re,{variant:"secondary",size:"sm",onClick:w,icon:"close",children:"Tout effacer"})]})]}),y.length>0&&c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mr-1",children:"Filtres:"}),y.map(_=>c.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-primary-100 dark:bg-primary-500/20 px-2.5 py-1 text-xs font-medium text-primary-900 dark:text-primary-300",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"filter_alt"}),c.jsx("span",{className:"truncate max-w-[220px]",children:_.label}),c.jsx("button",{className:"ml-1 rounded-full hover:bg-primary-200/60 dark:hover:bg-primary-500/30",onClick:()=>T(_.id),"aria-label":"Supprimer le filtre",children:c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"close"})})]},_.id))]})]})},oee=({text:t,highlight:e})=>{if(!e||!e.trim())return c.jsx("span",{children:t});const n=new RegExp(`(${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),r=t.split(n);return c.jsx(c.Fragment,{children:r.map((a,i)=>n.test(a)?c.jsx("mark",{className:"bg-primary-200/70 dark:bg-primary-500/30 rounded-sm px-0.5",children:a},i):c.jsx("span",{children:a},i))})},lee=({equipment:t,models:e,categories:n,assignments:r,users:a,onAdd:i,onImport:o,canAdd:u,onEdit:f,onDelete:d,selectedIds:p,onSelectedIdsChange:h,onBulkDelete:y,onBulkUpdateStatus:x,onBulkUpdateLocation:T,isLoading:w,currentUser:A})=>{var ns;const[C,M]=j.useState(""),_=lQ(C,300),[k,N]=j.useState("all"),[I,P]=j.useState("all"),[L,D]=j.useState("all"),[q,U]=j.useState("all"),[R,B]=j.useState(!1),[G,W]=j.useState(null),[V,K]=j.useState("bottom"),Y=j.useRef(null),[te,re]=j.useState(!1),[$,z]=j.useState(null),[H,Q]=j.useState(!1),[se,we]=j.useState(!1),{addToast:Te}=Wn(),[je,me]=j.useState(!1),[Ne,de]=j.useState(null),[ie,Oe]=j.useState(null),X=j.useRef(null),[ve,pe]=j.useState(0),[Le,Qe]=j.useState(0),lt=88,ut=5,Bt=$?"Filtres intelligents actifs. Tapez pour une nouvelle recherche.":"Filtrer ou demander à Gemini...",Ht=p.size>0;Qs(Y,!!G),j.useEffect(()=>{const Se=Ye=>{Ye.key==="Escape"&&W(null)};return G&&document.addEventListener("keydown",Se),()=>{document.removeEventListener("keydown",Se)}},[G]),j.useEffect(()=>{const Se=()=>{const Ye=window.location.hash,[vt,At]=Ye.split("?");if(vt==="#/inventory"){const ct=new URLSearchParams(At||"").get("category");ct&&n.some(Xt=>Xt.id===ct)?P(ct):At||P("all")}};return Se(),window.addEventListener("hashchange",Se),()=>{window.removeEventListener("hashchange",Se)}},[n]),j.useEffect(()=>{const Se=Ye=>{Y.current&&!Y.current.contains(Ye.target)&&W(null)};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[Y]),j.useLayoutEffect(()=>{const Se=()=>{X.current&&Qe(X.current.offsetHeight)};return Se(),window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[]);const Mn=(Se,Ye)=>{if(Se.stopPropagation(),G===Ye){W(null);return}const At=Se.currentTarget.getBoundingClientRect(),Wt=100,ct=X.current,Xt=ct?ct.getBoundingClientRect():{top:0,bottom:window.innerHeight},lr=Xt.bottom-At.bottom,Aa=At.top-Xt.top;lr<Wt&&Aa>Wt?K("top"):K("bottom"),W(Ye)},ee=(Se,Ye)=>{Se.stopPropagation();const vt=fe.find(At=>At.id===Ye);vt&&de(vt)},be=Se=>{pe(Se.currentTarget.scrollTop)},Ae=j.useMemo(()=>t.map(Se=>{const Ye=e.find(At=>At.id===Se.modelId),vt=Ye?n.find(At=>At.id===Ye.categoryId):null;return{...Se,model:Ye,category:vt}}),[t,e,n]),Ce=j.useMemo(()=>{const Se=new Map,Ye=new Map(a.map(vt=>[vt.id,vt.name]));if(r){const vt=new Map;for(const At of r){const Wt=vt.get(At.equipmentId);(!Wt||new Date(At.date)>new Date(Wt.date))&&vt.set(At.equipmentId,At)}for(const At of t)if(At.status===qe.ASSIGNED){const Wt=vt.get(At.id);if(Wt&&Wt.action===Ge.ASSIGN){const ct=Ye.get(Wt.userId);ct&&Se.set(At.id,ct)}}}return Se},[r,t,a]),fe=j.useMemo(()=>Ae.filter(Se=>{var ou;const Ye=k==="all"||Se.status===k,vt=I==="all"||((ou=Se.category)==null?void 0:ou.id)===I,At=L==="all"||Se.location===L,Wt=_.toLowerCase(),ct=_===""||Se.model&&Se.model.name.toLowerCase().includes(Wt)||Se.assetTag.toLowerCase().includes(Wt)||Se.name&&Se.name.toLowerCase().includes(Wt),Xt=Ce.get(Se.id),lr=Xt?a.find(Yd=>Yd.name===Xt):null,Aa=!q||q==="all"||q.trim()==="",ur=(q||"").toLowerCase(),Kd=Aa||lr&&(lr.name.toLowerCase().includes(ur)||lr.department&&lr.department.toLowerCase().includes(ur)),iu=new Date().getFullYear(),su=!R||Se.warrantyEndDate&&new Date(Se.warrantyEndDate).getFullYear()===iu;return Ye&&vt&&At&&ct&&Kd&&su}),[Ae,_,k,I,L,q,R,Ce,a]),{startIndex:Me,visibleItems:$t}=j.useMemo(()=>{const Se=Math.max(0,Math.floor(ve/lt)-ut),Ye=Le>0?Math.ceil(Le/lt)+2*ut:20,vt=Math.min(fe.length,Se+Ye);return{startIndex:Se,visibleItems:fe.slice(Se,vt)}},[ve,Le,fe]),nn=j.useMemo(()=>Array.from(new Set(t.map(Se=>Se.location).filter(Boolean))),[t]),Vt=j.useMemo(()=>I!=="all"||k!=="all"||L!=="all"||q!=="all"&&q.trim()!==""||R,[I,k,L,q,R]),tt=Se=>{const Ye=new Set(p);Ye.has(Se)?Ye.delete(Se):Ye.add(Se),h(Ye)},Kt=()=>{z(null),M(""),N("all"),P("all"),U("all"),B(!1)},gn=()=>{$&&!H&&(Q(!0),setTimeout(()=>{z(null),Q(!1)},500))},on=()=>{gn()},Yh=async Se=>{if(Se.preventDefault(),!!C.trim()){re(!0),Te("Gemini analyse votre recherche...","info");try{const Ye=new Id({apiKey:"PLACEHOLDER_API_KEY"}),vt={type:jt.OBJECT,properties:{status:{type:jt.STRING,description:"Filter by equipment status."},category:{type:jt.STRING,description:"Filter by equipment category name."},location:{type:jt.STRING,description:"Filter by physical location/site."},assignedTo:{type:jt.STRING,description:"Filter by the name of the assigned user or a department/team name."},warrantyExpiresThisYear:{type:jt.BOOLEAN,description:"Set to true if filtering for warranties expiring this year."},searchTerm:{type:jt.STRING,description:"General keywords, model names, or asset tags from the query."}}},At=`You are an expert search query parser for an IT asset management application. Your task is to translate the user's natural language query into a structured JSON object of filters. Infer as much information as possible. For example, if the query is "all macbooks", you should infer that the category is "Laptop" and the searchTerm could be "macbook".

            Here are the available filter options:
            - Statuses: ${Object.values(qe).join(", ")}
            - Categories: ${n.map(Xt=>Xt.name).join(", ")}
            - Locations: ${nn.join(", ")}
            - Users or Departments: ${a.map(Xt=>Xt.name).join(", ")}, Marketing, Engineering, etc.

            Analyze the user's query: "${C}"

            Based on the query, populate the JSON schema. If a field is not mentioned and cannot be inferred, omit it. For 'warrantyExpiresThisYear', set it to true only if the user explicitly asks for warranties expiring in the current year. For 'assignedTo', extract a user's name or a department/team name. For 'searchTerm', include any remaining specific keywords, model names, or asset tags.`,Wt=await Ye.models.generateContent({model:"gemini-2.5-flash",contents:At,config:{responseMimeType:"application/json",responseSchema:vt}}),ct=JSON.parse(Wt.text.trim());if(M(""),N("all"),P("all"),D("all"),U("all"),B(!1),z(ct),ct.searchTerm&&M(ct.searchTerm),ct.status&&Object.values(qe).includes(ct.status)&&N(ct.status),ct.category){const Xt=n.find(lr=>lr.name.toLowerCase()===ct.category.toLowerCase());Xt&&P(Xt.id)}ct.location&&nn.includes(ct.location)&&D(ct.location),ct.assignedTo&&U(ct.assignedTo),ct.warrantyExpiresThisYear&&B(!0),Te("Filtres intelligents appliqués !","success")}catch(Ye){console.error("Error with Gemini search:",Ye),Te("Désolé, je n'ai pas pu traiter cette recherche.","error")}finally{re(!1)}}},Wh=Se=>{M(Se.target.value),gn()},Xh=Se=>{me(!1);const Ye=t.find(vt=>vt.assetTag===Se);Ye?window.location.hash=`#/equipment/${Ye.id}`:Te("Équipement non trouvé","error")},ts=[{label:"Ajouter manuellement",icon:"edit_note",onClick:()=>i()},{label:"Scanner un équipement",icon:"qr_code_scanner",onClick:()=>me(!0)},{label:"Importer un CSV",icon:"upload",onClick:()=>o()},...u?[{label:"Sélectionner",icon:"check_circle",onClick:()=>{fe.length>0&&tt(fe[0].id)}}]:[]],oo=j.useMemo(()=>{if(!Ne)return[];const Se=Ne.status!==qe.ASSIGNED&&Ne.status!==qe.PENDING_VALIDATION;return[{label:"Modifier",icon:"edit",onClick:()=>f(Ne.id)},{label:"Supprimer",icon:"delete",onClick:()=>{Ne&&Oe({ids:[Ne.id],isBulk:!1})},isDestructive:!0,disabled:!Se,disabledTooltip:"L'équipement attribué ou en attente ne peut être supprimé."}]},[Ne,f,d]);return c.jsxs("div",{className:"relative flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[Ht?c.jsx(d3,{count:p.size,onCancel:()=>h(new Set),onDelete:()=>{u&&Oe({ids:Array.from(p),isBulk:!0})}}):c.jsx(It,{title:"Équipement",children:c.jsx(ba,{actions:ts})}),c.jsx("div",{className:"p-4 flex-shrink-0",children:c.jsx(qc,{value:C,onChange:Wh,onSubmit:Yh,placeholder:Bt,isSearching:te})}),$&&c.jsxs("div",{className:`px-4 pb-4 flex flex-wrap gap-2 items-center flex-shrink-0 ${H?"animate-shake-and-fade-out":"animate-fade-in"}`,children:[c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mr-2",children:"Filtres intelligents:"}),Object.entries($).map(([Se,Ye])=>Ye&&c.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-primary-100 dark:bg-primary-500/20 px-2.5 py-1 text-xs font-medium text-primary-900 dark:text-primary-300",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"auto_awesome"}),c.jsx("span",{children:`${Se}: ${Ye}`})]},Se)),c.jsxs("button",{onClick:Kt,className:"flex items-center gap-1 rounded-full bg-gray-200 dark:bg-gray-700 px-2.5 py-1 text-xs font-semibold text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Effacer les filtres intelligents et la recherche",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"close"}),c.jsx("span",{children:"Tout effacer"})]})]}),c.jsxs("div",{className:"px-4 pb-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3 lg:hidden",children:[Vt&&c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-primary-600 dark:text-primary-300",children:"Filtres actifs"}),c.jsx(Re,{variant:"secondary",size:"sm",icon:se?"close":"tune",iconPosition:"left",onClick:()=>we(Se=>!Se),"aria-expanded":se,"aria-controls":"inventory-filters-panel",children:se?"Masquer":"Filtres"})]}),c.jsx("div",{id:"inventory-filters-panel",className:`${se?"block":"hidden"} space-y-3 lg:block`,children:c.jsx(T5,{filters:{typeFilter:I,statusFilter:k,locationFilter:L,assignedToFilter:q==="all"?"":q,warrantyFilter:R},definitions:[{id:"typeFilter",label:"Type",type:"select",options:n.map(Se=>({label:Se.name,value:Se.id}))},{id:"statusFilter",label:"Statut",type:"select",options:Object.values(qe).map(Se=>({label:Se,value:Se}))},{id:"locationFilter",label:"Emplacement",type:"select",options:nn.map(Se=>({label:Se,value:Se}))},{id:"assignedToFilter",label:"Attribué à",type:"text",placeholder:"Utilisateur ou département"},{id:"warrantyFilter",label:"Garantie (cette année)",type:"boolean"}],onFiltersChange:Se=>{P(Se.typeFilter??"all"),N(Se.statusFilter??"all"),D(Se.locationFilter??"all"),U((Se.assignedToFilter??"").trim()===""?"all":Se.assignedToFilter),B(!!Se.warrantyFilter),on()},savedViewsKey:"inventory-views",onClearAll:on})})]}),c.jsx("div",{ref:X,onScroll:be,className:"overflow-y-auto flex-grow px-4 pb-24 md:pb-4",children:w?c.jsx(x7,{}):c.jsx("div",{className:"relative",style:{height:`${fe.length*lt}px`},children:fe.length>0?$t.map((Se,Ye)=>{var lr,Aa;const vt=Me+Ye,At=[{label:"Modifier",icon:"edit",onClick:ur=>{ur.stopPropagation(),f(Se.id)},isDestructive:!1},{label:"Supprimer",icon:"delete",onClick:ur=>{ur.stopPropagation(),Oe({ids:[Se.id],isBulk:!1})},isDestructive:!0,disabled:Se.status===qe.ASSIGNED||Se.status===qe.PENDING_VALIDATION,disabledTooltip:"L'équipement attribué ou en attente ne peut être supprimé."}],Wt=[{icon:"tag",text:Se.assetTag}];Se.status===qe.ASSIGNED&&Ce.get(Se.id)&&Wt.push({icon:"person",text:Ce.get(Se.id)});const ct=Se.status===qe.PENDING_VALIDATION?"En attente":Se.status,Xt=c.jsx(Us,{id:Se.id,imageUrl:(lr=Se.model)==null?void 0:lr.imageUrl,title:c.jsx(oee,{text:Se.name||((Aa=Se.model)==null?void 0:Aa.name)||"Modèle inconnu",highlight:C}),details:Wt,statusBadge:c.jsx(w5,{status:Se.status,label:ct,className:"max-w-[140px] overflow-hidden"}),selectionModeActive:Ht,isSelected:p.has(Se.id),onCardClick:ur=>window.location.hash=`#/equipment/${ur}`,onLongPress:u?tt:void 0,onSelectToggle:u?()=>tt(Se.id):void 0,actions:u?At:void 0,isPopoverOpen:G===Se.id,onActionsClick:Mn,onMobileActionsClick:ur=>ee(ur,Se.id),popoverRef:Y,popoverPosition:V,fullHeight:!0});return c.jsx("div",{className:"absolute w-full",style:{height:`${lt}px`,transform:`translateY(${vt*lt}px)`,paddingTop:"4px",paddingBottom:"4px",zIndex:G===Se.id?10:"auto"},children:c.jsx("div",{className:"h-full",children:Xt})},Se.id)}):c.jsxs("div",{className:"text-center py-10",children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun équipement trouvé."}),c.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Essayez d'ajuster votre recherche ou vos filtres."})]})})}),je&&c.jsx(x5,{onScanSuccess:Xh,onClose:()=>me(!1)}),c.jsx(A5,{isOpen:!!Ne,onClose:()=>de(null),title:(Ne==null?void 0:Ne.name)||((ns=Ne==null?void 0:Ne.model)==null?void 0:ns.name)||(Ne==null?void 0:Ne.assetTag)||"",actions:oo}),!Ht&&u&&c.jsx(ih,{actions:ts,id:"fab-inventory",mainIcon:"add",className:"lg:hidden"}),c.jsx(ii,{isOpen:!!ie,onClose:()=>Oe(null),onConfirm:()=>{ie&&(ie.isBulk?(y(ie.ids),h(new Set)):d(ie.ids[0]),Oe(null))},title:ie!=null&&ie.isBulk?"Supprimer les équipements":"Supprimer l'équipement",confirmButtonText:"Supprimer",children:c.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",ie!=null&&ie.isBulk?`ces ${ie.ids.length} équipements`:"cet équipement","? Cette action est irréversible."]})})]})},E5=({role:t,label:e,className:n})=>c.jsx("span",{className:["inline-flex items-center px-2 py-0.5 text-xs font-medium max-w-full","leading-5 whitespace-nowrap rounded-[var(--radius-badge)]",S5(t),n||""].join(" "),title:t,children:c.jsx("span",{className:"truncate",children:e??t})}),uee=({text:t,highlight:e})=>{if(!e.trim())return c.jsx("span",{children:t});const n=new RegExp(`(${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),r=t.split(n);return c.jsx("span",{children:r.map((a,i)=>n.test(a)?c.jsx("mark",{className:"bg-primary-200/70 dark:bg-primary-500/30 rounded-sm px-0.5",children:a},i):c.jsx("span",{children:a},i))})},cee=({users:t,onAdd:e,isLoading:n,canAdd:r,onEdit:a,onDelete:i,currentUser:o,selectedIds:u,onSelectedIdsChange:f,onBulkDelete:d})=>{const[p,h]=j.useState(""),[y,x]=j.useState("all"),[T,w]=j.useState("all"),[A,C]=j.useState(!1),[M,_]=j.useState(null),[k,N]=j.useState(!1),[I,P]=j.useState(!1),{addToast:L}=Wn(),[D,q]=j.useState(null),[U,R]=j.useState("bottom"),B=j.useRef(null),[G,W]=j.useState(null),[V,K]=j.useState(null),Y=j.useRef(null),[te,re]=j.useState(0),[$,z]=j.useState(0),H=88,Q=5,se=u.size>0;Qs(B,!!D),j.useEffect(()=>{const fe=Me=>{Me.key==="Escape"&&q(null)};return D&&document.addEventListener("keydown",fe),()=>{document.removeEventListener("keydown",fe)}},[D]),j.useEffect(()=>{const fe=Me=>{B.current&&!B.current.contains(Me.target)&&q(null)};return document.addEventListener("mousedown",fe),()=>{document.removeEventListener("mousedown",fe)}},[B]),j.useLayoutEffect(()=>{const fe=()=>{Y.current&&z(Y.current.offsetHeight)};return fe(),window.addEventListener("resize",fe),()=>window.removeEventListener("resize",fe)},[]);const we=fe=>{re(fe.currentTarget.scrollTop)},Te=(fe,Me)=>{if(fe.stopPropagation(),D===Me){q(null);return}const nn=fe.currentTarget.getBoundingClientRect(),Vt=100;window.innerHeight-nn.bottom<Vt&&nn.top>Vt?R("top"):R("bottom"),q(Me)},je=(fe,Me)=>{fe.stopPropagation();const $t=pe.find(nn=>nn.id===Me);$t&&W($t)},me=j.useMemo(()=>Array.from(new Set(t.map(fe=>fe.department).filter(fe=>!!fe))).sort(),[t]),Ne=Object.values(_e),de=j.useMemo(()=>[{id:"departmentFilter",label:"Département",type:"select",options:me.map(fe=>({label:fe,value:fe}))},{id:"roleFilter",label:"Rôle",type:"select",options:Ne.map(fe=>({label:fe,value:fe}))}],[me,Ne]),ie=j.useMemo(()=>({departmentFilter:y,roleFilter:T}),[y,T]),Oe=j.useMemo(()=>y!=="all"||T!=="all",[y,T]),X=fe=>{x(fe.departmentFilter??"all"),w(fe.roleFilter??"all"),Ht()},ve=j.useMemo(()=>[...t].sort((fe,Me)=>fe.name.localeCompare(Me.name)),[t]),pe=j.useMemo(()=>ve.filter(fe=>{var tt;const Me=p.toLowerCase(),$t=p===""||fe.name.toLowerCase().includes(Me)||((tt=fe.department)==null?void 0:tt.toLowerCase().includes(Me)),nn=y==="all"||fe.department===y,Vt=T==="all"||fe.role===T;return $t&&nn&&Vt}),[ve,p,y,T]),{startIndex:Le,visibleItems:Qe}=j.useMemo(()=>{const fe=Math.max(0,Math.floor(te/H)-Q),Me=$>0?Math.ceil($/H)+2*Q:20,$t=Math.min(pe.length,fe+Me);return{startIndex:fe,visibleItems:pe.slice(fe,$t)}},[te,$,pe]),lt=fe=>{const Me=new Set(u);Me.has(fe)?Me.delete(fe):Me.add(fe),f(Me)},ut=()=>{_(null),h(""),x("all"),w("all")},Bt=()=>{M&&!k&&(N(!0),setTimeout(()=>{_(null),N(!1)},500))},Ht=()=>{Bt()},Mn=fe=>{h(fe.target.value),Bt()},ee=async fe=>{if(fe.preventDefault(),!!p.trim()){C(!0),L("Gemini analyse votre recherche...","info");try{const Me=new Id({apiKey:"PLACEHOLDER_API_KEY"}),$t={type:jt.OBJECT,properties:{department:{type:jt.STRING,description:"Filter by user's department."},role:{type:jt.STRING,description:"Filter by user's role."},searchTerm:{type:jt.STRING,description:"General keywords for the user's name."}}},nn=`You are an expert search query parser for an IT asset management application. Your task is to translate the user's natural language query into a structured JSON object of filters for a list of users. Infer information when possible. For example, if the query is "all managers", you should infer the role is "${_e.MANAGER}".

            Here are the available filter options:
            - Departments: ${me.join(", ")}
            - Roles: ${Ne.join(", ")}

            Analyze the user's query: "${p}"

            Based on the query, populate the JSON schema. If a field is not mentioned and cannot be inferred, omit it. For 'searchTerm', include any keywords that look like a person's name.`,Vt=await Me.models.generateContent({model:"gemini-2.5-flash",contents:nn,config:{responseMimeType:"application/json",responseSchema:$t}}),tt=JSON.parse(Vt.text.trim());ut(),_(tt),tt.searchTerm&&h(tt.searchTerm),tt.department&&me.includes(tt.department)&&x(tt.department),tt.role&&Ne.includes(tt.role)&&w(tt.role),L("Filtres intelligents appliqués !","success")}catch(Me){console.error("Error with Gemini user search:",Me),L("Désolé, je n'ai pas pu traiter cette recherche.","error")}finally{C(!1)}}},be=r?[{label:"Ajouter un utilisateur",icon:"person_add",onClick:()=>e()},{label:"Importer un CSV",icon:"upload",onClick:()=>window.location.hash="#/users/import"},{label:"Sélectionner",icon:"check_circle",onClick:()=>{pe.length>0&&lt(pe[0].id)}}]:[],Ae=M?"Filtres intelligents actifs. Tapez pour une nouvelle recherche.":"Chercher par nom ou demander à Gemini...",Ce=j.useMemo(()=>{if(!G||!r)return[];const fe=G.id===o.id;return[{label:"Modifier",icon:"edit",onClick:()=>a(G.id)},{label:"Supprimer",icon:"delete",onClick:()=>{G&&K({ids:[G.id],isBulk:!1})},isDestructive:!0,disabled:fe,disabledTooltip:"Vous ne pouvez pas vous supprimer."}]},[G,o.id,r,a,i]);return c.jsxs("div",{className:"relative flex flex-col h-full bg-gray-100 dark:bg-gray-900","aria-busy":n,children:[se?c.jsx(d3,{count:u.size,onCancel:()=>f(new Set),onDelete:()=>{r&&K({ids:Array.from(u),isBulk:!0})}}):c.jsx(It,{title:"Utilisateurs",children:c.jsx(ba,{actions:be})}),c.jsx("div",{className:"p-4 flex-shrink-0",children:c.jsx(qc,{value:p,onChange:Mn,onSubmit:ee,placeholder:Ae,isSearching:A})}),M&&c.jsxs("div",{className:`px-4 pb-4 flex flex-wrap gap-2 items-center flex-shrink-0 ${k?"animate-shake-and-fade-out":"animate-fade-in"}`,children:[c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mr-2",children:"Filtres intelligents:"}),Object.entries(M).map(([fe,Me])=>Me&&c.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-primary-100 dark:bg-primary-500/20 px-2.5 py-1 text-xs font-medium text-primary-900 dark:text-primary-300",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"auto_awesome"}),c.jsx("span",{children:`${fe}: ${Me}`})]},fe)),c.jsxs("button",{onClick:ut,className:"flex items-center gap-1 rounded-full bg-gray-200 dark:bg-gray-700 px-2.5 py-1 text-xs font-semibold text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Effacer les filtres intelligents et la recherche",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"close"}),c.jsx("span",{children:"Tout effacer"})]})]}),c.jsxs("div",{className:"px-4 pb-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3 lg:hidden",children:[Oe&&c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-primary-600 dark:text-primary-300",children:"Filtres actifs"}),c.jsx(Re,{variant:"secondary",size:"sm",icon:I?"close":"tune",iconPosition:"left",onClick:()=>P(fe=>!fe),"aria-expanded":I,"aria-controls":"users-filters-panel",children:I?"Masquer":"Filtres"})]}),c.jsx("div",{id:"users-filters-panel",className:`${I?"block":"hidden"} space-y-3 lg:block`,children:c.jsx(T5,{filters:ie,definitions:de,onFiltersChange:X,savedViewsKey:"users-views",onClearAll:Ht})})]}),c.jsx("div",{ref:Y,onScroll:we,className:"overflow-y-auto flex-grow px-4 pb-24 lg:pb-4",children:n?c.jsx(b7,{}):c.jsx("div",{className:"relative",style:{height:`${pe.length*H}px`},children:pe.length>0?Qe.map((fe,Me)=>{const $t=Le+Me,nn=r?[{label:"Modifier",icon:"edit",onClick:tt=>{tt.stopPropagation(),a(fe.id)},isDestructive:!1},{label:"Supprimer",icon:"delete",onClick:tt=>{tt.stopPropagation(),K({ids:[fe.id],isBulk:!1})},isDestructive:!0,disabled:fe.id===o.id,disabledTooltip:"Vous ne pouvez pas vous supprimer."}]:[],Vt=c.jsx(Us,{id:fe.id,imageUrl:fe.avatarUrl,imageShape:"round",title:c.jsx(uee,{text:fe.name,highlight:p}),details:[{icon:"work",text:fe.department||"N/A"}],statusBadge:c.jsx(E5,{role:fe.role,className:"max-w-[140px] overflow-hidden"}),selectionModeActive:se,isSelected:u.has(fe.id),onCardClick:tt=>window.location.hash=`#/users/${tt}`,onLongPress:r?lt:void 0,onSelectToggle:r?()=>lt(fe.id):void 0,actions:nn,isPopoverOpen:D===fe.id,onActionsClick:Te,onMobileActionsClick:tt=>je(tt,fe.id),popoverRef:B,popoverPosition:U,fullHeight:!0});return c.jsx("div",{className:"absolute w-full",style:{height:`${H}px`,transform:`translateY(${$t*H}px)`,paddingTop:"4px",paddingBottom:"4px",zIndex:D===fe.id?10:"auto"},children:c.jsx("div",{className:"h-full",children:Vt})},fe.id)}):c.jsx("div",{className:"text-center py-10",children:c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun utilisateur trouvé."})})})}),c.jsx(A5,{isOpen:!!G,onClose:()=>W(null),title:(G==null?void 0:G.name)||"",actions:Ce}),!se&&r&&c.jsx(ih,{actions:be,id:"fab-users",mainIcon:"add",className:"lg:hidden"}),c.jsx(ii,{isOpen:!!V,onClose:()=>K(null),onConfirm:()=>{V&&(V.isBulk?d(V.ids):i(V.ids[0]),K(null))},title:V!=null&&V.isBulk?"Supprimer les utilisateurs":"Supprimer l'utilisateur",confirmButtonText:"Supprimer",children:c.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",V!=null&&V.isBulk?`ces ${V.ids.length} utilisateurs`:"cet utilisateur","? Cette action est irréversible."]})})]})},ar=({title:t,children:e})=>c.jsxs("fieldset",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("legend",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:t}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e})]}),mt=({label:t,htmlFor:e,children:n,className:r,help:a})=>c.jsxs("div",{className:r,children:[c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:t}),a]}),n]}),YT="w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:border-primary-500 focus:ring-1 focus:ring-primary-500 disabled:bg-gray-100 dark:disabled:bg-gray-800",$n=({className:t,...e})=>c.jsx("input",{...e,className:`${YT} ${t||""}`}),xr=({children:t,className:e,...n})=>c.jsxs("div",{className:"relative",children:[c.jsx("select",{...n,className:`w-full appearance-none pr-10 ${YT} ${e||""}`,children:t}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400 dark:text-gray-500",children:c.jsx("span",{className:"material-symbols-outlined",children:"expand_more"})})]}),mh=({className:t,...e})=>c.jsx("textarea",{...e,className:`${YT} ${t||""}`}),rI=({onSave:t,onBack:e,categories:n,models:r,countries:a,sites:i,departments:o,initialData:u})=>{const{addToast:f}=Wn(),[d,p]=j.useState({name:"",modelId:"",assetTag:"",purchaseDate:"",warrantyStartDate:"",warrantyEndDate:"",status:qe.AVAILABLE,siteId:"",departmentId:"",os:"",ram:"",storage:"",agentS1:"",agentM42:"Non",agentME:"Non",notes:"",operationalStatus:"Actif"}),[h,y]=j.useState(""),[x,T]=j.useState(""),[w,A]=j.useState(!1),[C,M]=j.useState(!1),_=!!(u!=null&&u.id);j.useEffect(()=>{const B=sessionStorage.getItem("new-equipment-from-scan");if(B)try{const G=JSON.parse(B);p(W=>({...W,assetTag:G.serialNumber,name:G.hostname||"",os:G.os||"",ram:G.ramTotalGB?`${G.ramTotalGB} Go`:""})),f("Pré-rempli à partir du scan QR.","info")}catch(G){console.error("Failed to parse new equipment data from scan",G)}finally{sessionStorage.removeItem("new-equipment-from-scan")}else if(u){const G=r.find(V=>V.id===u.modelId);G&&y(G.categoryId);const W=i.find(V=>V.id===u.siteId);W&&T(W.countryId),p({name:u.name||"",modelId:u.modelId||"",assetTag:u.assetTag||"",purchaseDate:u.purchaseDate||"",warrantyStartDate:u.warrantyStartDate||"",warrantyEndDate:u.warrantyEndDate||"",status:u.status||qe.AVAILABLE,siteId:u.siteId||"",departmentId:u.departmentId||"",os:u.os||"",ram:u.ram||"",storage:u.storage||"",agentS1:u.agentS1||"",agentM42:u.agentM42||"Non",agentME:u.agentME||"Non",notes:u.notes||"",operationalStatus:u.operationalStatus||"Actif"})}},[u,r,i,f]);const k=B=>{const{name:G,value:W}=B.target;p(V=>({...V,[G]:W}))},N=B=>{y(B.target.value),p(G=>({...G,modelId:""}))},I=B=>{T(B.target.value),p(G=>({...G,siteId:"",departmentId:""}))},P=B=>{p(G=>({...G,siteId:B.target.value,departmentId:""}))},L=async()=>{if(!d.assetTag.trim()){f("Veuillez entrer un numéro de série.","info");return}A(!0),f("Recherche des informations sur l'appareil...","info");try{const B=new Id({apiKey:"PLACEHOLDER_API_KEY"}),G=n.map(z=>z.name).join(", "),W=`Based on the device serial number "${d.assetTag}", perform a web search to find its specifications. Provide the information you find in a "Key: Value" format on separate lines. Focus on these keys: "Model Name", "Brand", "Warranty End Date", "OS", "RAM", "Storage". If you cannot find a specific piece of information, omit the key.`,K=(await B.models.generateContent({model:"gemini-2.5-flash",contents:W,config:{tools:[{googleSearch:{}}]}})).text,Y={},te=K.split(`
`);for(const z of te){const H=z.indexOf(":");if(H>0){const Q=z.substring(0,H).trim(),se=z.substring(H+1).trim();se&&se.toLowerCase()!=="n/a"&&(Y[Q]=se)}}let re=!1;const $={...d};if(Y["Model Name"]){const z=r.find(H=>H.name.toLowerCase()===Y["Model Name"].toLowerCase());z?($.modelId=z.id,y(z.categoryId),re=!0):f(`Modèle "${Y["Model Name"]}" non trouvé dans la base de données.`,"info")}Y["Warranty End Date"]&&(isNaN(new Date(Y["Warranty End Date"]).getTime())||($.warrantyEndDate=new Date(Y["Warranty End Date"]).toISOString().split("T")[0],re=!0)),Y.OS&&($.os=Y.OS,re=!0),Y.RAM&&($.ram=Y.RAM,re=!0),Y.Storage&&($.storage=Y.Storage,re=!0),p($),re?f("Détails de l'appareil pré-remplis !","success"):f("Impossible de trouver des détails supplémentaires.","info")}catch(B){console.error("Error fetching equipment details:",B),f("Erreur lors de la recherche des détails.","error")}finally{A(!1)}},D=async B=>{if(B.preventDefault(),!C&&d.modelId.trim()&&d.assetTag.trim()){M(!0);const G={...d};_&&(G.id=u==null?void 0:u.id);try{await t(G)}catch{f("La sauvegarde a échoué.","error"),M(!1)}}},q=j.useMemo(()=>h?r.filter(B=>B.categoryId===h):[],[r,h]),U=j.useMemo(()=>x?i.filter(B=>B.countryId===x):[],[i,x]),R=j.useMemo(()=>d.siteId?o.filter(B=>B.siteId===d.siteId):[],[o,d.siteId]);return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(It,{title:_?"Modifier l'équipement":"Ajouter un équipement",onBack:e}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("form",{className:"max-w-4xl mx-auto space-y-8",id:"add-equipment-form",onSubmit:D,children:[c.jsxs(ar,{title:"Informations générales",children:[c.jsx(mt,{label:"Catégorie",htmlFor:"category",children:c.jsxs(xr,{id:"category",name:"category",value:h,onChange:N,children:[c.jsx("option",{value:"",children:"Sélectionner une catégorie"}),n.map(B=>c.jsx("option",{value:B.id,children:B.name},B.id))]})}),c.jsx(mt,{label:"Modèle",htmlFor:"modelId",children:c.jsxs(xr,{id:"modelId",name:"modelId",value:d.modelId,onChange:k,disabled:!h,required:!0,children:[c.jsx("option",{value:"",children:"Sélectionner un modèle"}),q.map(B=>c.jsx("option",{value:B.id,children:B.name},B.id))]})}),c.jsx(mt,{label:"Numéro de série",htmlFor:"assetTag",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{type:"text",id:"assetTag",name:"assetTag",value:d.assetTag,onChange:k,required:!0,className:"pr-12",placeholder:"N° de série du fabricant"}),c.jsx("button",{type:"button",onClick:L,disabled:w||!d.assetTag.trim(),className:"absolute inset-y-0 right-0 flex items-center justify-center w-12 text-primary-600 hover:bg-primary-50 rounded-r-md disabled:text-gray-400 disabled:cursor-not-allowed",title:"Rechercher les détails avec Gemini","aria-label":"Rechercher les détails avec Gemini",children:w?c.jsx("span",{className:"material-symbols-outlined animate-spin",children:"autorenew"}):c.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"})})]})}),c.jsx(mt,{label:"Nom AD (Hostname)",htmlFor:"name",help:c.jsx(ni,{content:"Le nom réseau de l'appareil (ex: LFW-4CE202CKM5).",children:c.jsx("button",{type:"button",className:"cursor-help","aria-label":"Plus d'informations sur le nom AD (Hostname)",children:c.jsx("span",{className:"material-symbols-outlined text-gray-400 text-base",children:"info"})})}),children:c.jsx($n,{type:"text",id:"name",name:"name",value:d.name,onChange:k,placeholder:"Nom de l'appareil sur le réseau"})})]}),c.jsx(ar,{title:"Acquisition & Garantie",children:c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(mt,{label:"Date d'achat",htmlFor:"purchaseDate",children:c.jsx($n,{type:"date",id:"purchaseDate",name:"purchaseDate",value:d.purchaseDate,onChange:k})}),c.jsx(mt,{label:"Début garantie",htmlFor:"warrantyStartDate",children:c.jsx($n,{type:"date",id:"warrantyStartDate",name:"warrantyStartDate",value:d.warrantyStartDate,onChange:k})}),c.jsx(mt,{label:"Fin garantie",htmlFor:"warrantyEndDate",children:c.jsx($n,{type:"date",id:"warrantyEndDate",name:"warrantyEndDate",value:d.warrantyEndDate,onChange:k})})]})}),c.jsx(ar,{title:"Spécifications techniques",children:c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(mt,{label:"Système d'exploitation",htmlFor:"os",children:c.jsx($n,{type:"text",id:"os",name:"os",value:d.os,onChange:k,placeholder:"ex: Windows 11 Pro"})}),c.jsx(mt,{label:"RAM",htmlFor:"ram",children:c.jsx($n,{type:"text",id:"ram",name:"ram",value:d.ram,onChange:k,placeholder:"ex: 16 Go"})}),c.jsx(mt,{label:"Disque dur",htmlFor:"storage",children:c.jsx($n,{type:"text",id:"storage",name:"storage",value:d.storage,onChange:k,placeholder:"ex: 512 Go SSD"})})]})}),c.jsxs(ar,{title:"Localisation & Statut",children:[c.jsx(mt,{label:"Pays",htmlFor:"countryId",children:c.jsxs(xr,{id:"countryId",name:"countryId",value:x,onChange:I,children:[c.jsx("option",{value:"",children:"Sélectionner un pays"}),a.map(B=>c.jsx("option",{value:B.id,children:B.name},B.id))]})}),c.jsx(mt,{label:"Site",htmlFor:"siteId",children:c.jsxs(xr,{id:"siteId",name:"siteId",value:d.siteId,onChange:P,disabled:!x,children:[c.jsx("option",{value:"",children:"Sélectionner un site"}),U.map(B=>c.jsx("option",{value:B.id,children:B.name},B.id))]})}),c.jsx(mt,{label:"Service / Département",htmlFor:"departmentId",children:c.jsxs(xr,{id:"departmentId",name:"departmentId",value:d.departmentId,onChange:k,disabled:!d.siteId,children:[c.jsx("option",{value:"",children:"Sélectionner un service"}),R.map(B=>c.jsx("option",{value:B.id,children:B.name},B.id))]})}),c.jsx(mt,{label:"Statut d'affectation",htmlFor:"status",children:c.jsx(xr,{id:"status",name:"status",value:d.status,onChange:k,children:Object.values(qe).map(B=>c.jsx("option",{value:B,children:B},B))})}),c.jsx(mt,{label:"Statut Opérationnel",htmlFor:"operationalStatus",className:"md:col-span-2",children:c.jsxs(xr,{id:"operationalStatus",name:"operationalStatus",value:d.operationalStatus,onChange:k,children:[c.jsx("option",{value:"Actif",children:"Actif"}),c.jsx("option",{value:"Inactif",children:"Inactif"}),c.jsx("option",{value:"En réparation",children:"En réparation"}),c.jsx("option",{value:"En stock",children:"En stock"})]})})]}),c.jsxs(ar,{title:"Agents & Observations",children:[c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(mt,{label:"Agent SentinelOne",htmlFor:"agentS1",children:c.jsx($n,{type:"text",id:"agentS1",name:"agentS1",value:d.agentS1,onChange:k,placeholder:"Version de l'agent"})}),c.jsx(mt,{label:"Agent Matrix42",htmlFor:"agentM42",children:c.jsxs(xr,{id:"agentM42",name:"agentM42",value:d.agentM42,onChange:k,children:[c.jsx("option",{children:"Non"}),c.jsx("option",{children:"Oui"})]})}),c.jsx(mt,{label:"Agent ManageEngine",htmlFor:"agentME",children:c.jsxs(xr,{id:"agentME",name:"agentME",value:d.agentME,onChange:k,children:[c.jsx("option",{children:"Non"}),c.jsx("option",{children:"Oui"})]})})]}),c.jsx(mt,{label:"Observations",htmlFor:"notes",className:"md:col-span-2",children:c.jsx(mh,{id:"notes",name:"notes",value:d.notes,onChange:k,rows:4,placeholder:"Ajouter des notes ou des observations pertinentes..."})})]})]})}),c.jsxs(Md,{contentClassName:"max-w-4xl mx-auto",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{type:"submit",form:"add-equipment-form",loading:C,disabled:C,children:C?"Sauvegarde...":"Sauvegarder"})]})]})},dee=["Engineering","Human Resources","Marketing","Sales","Design","Product","Management","IT"],aI=({onSave:t,onBack:e,users:n,initialData:r})=>{const[a,i]=j.useState({name:"",employeeId:"",email:"",department:"",managerId:"",role:_e.EMPLOYEE}),[o,u]=j.useState(null),[f,d]=j.useState(null),[p,h]=j.useState(!1),{addToast:y}=Wn(),x=!!(r!=null&&r.id);j.useEffect(()=>{r&&(i({name:r.name||"",employeeId:r.employeeId||"",email:r.email||"",department:r.department||"",managerId:r.managerId||"",role:r.role||_e.EMPLOYEE}),r.avatarUrl&&d(r.avatarUrl))},[r]);const T=M=>{const{name:_,value:k}=M.target;i(N=>({...N,[_]:k}))},w=M=>{if(M.target.files&&M.target.files[0]){const _=M.target.files[0];u(_),d(URL.createObjectURL(_))}},A=async M=>{if(M.preventDefault(),!p&&a.name.trim()&&a.employeeId.trim()&&a.email.trim()){h(!0);try{await t({...a,avatarFile:o,id:r==null?void 0:r.id})}catch{y("La sauvegarde a échoué.","error"),h(!1)}}},C=n.filter(M=>M.role===_e.ADMIN||M.role===_e.MANAGER).sort((M,_)=>M.name.localeCompare(_.name));return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 dark:bg-gray-900",children:[c.jsx(It,{title:x?"Modifier l'utilisateur":"Ajouter un utilisateur",onBack:e}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("form",{className:"max-w-2xl mx-auto space-y-8",id:"add-user-form",onSubmit:A,children:[c.jsx("div",{className:"flex flex-col items-center space-y-4 pt-4",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden border-2 border-white dark:border-gray-600 shadow-md",children:f?c.jsx("img",{src:f,alt:"Avatar Preview",className:"w-full h-full object-cover"}):c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 text-5xl",children:"person"})}),c.jsxs("label",{htmlFor:"avatar-upload",className:"absolute -bottom-2 -right-2 bg-primary-500 text-white rounded-full p-2 cursor-pointer hover:bg-primary-600 shadow-sm transition-transform hover:scale-110",children:[c.jsx("span",{className:"material-symbols-outlined",children:"edit"}),c.jsx("input",{id:"avatar-upload",name:"avatar-upload",type:"file",className:"sr-only",accept:"image/*",onChange:w,"aria-label":"Changer l'avatar"})]})]})}),c.jsxs(ar,{title:"Informations de l'utilisateur",children:[c.jsx(mt,{label:"Nom complet",htmlFor:"name",className:"md:col-span-2",children:c.jsx($n,{type:"text",id:"name",name:"name",value:a.name,onChange:T,required:!0,placeholder:"Entrer le nom complet de l'utilisateur"})}),c.jsx(mt,{label:"Adresse e-mail",htmlFor:"email",children:c.jsx($n,{type:"email",id:"email",name:"email",value:a.email,onChange:T,required:!0,placeholder:"Entrer l'e-mail de l'utilisateur"})}),c.jsx(mt,{label:"ID de l'employé",htmlFor:"employeeId",help:c.jsx(ni,{content:"Le numéro d'identification officiel de l'employé, souvent utilisé pour la paie ou les systèmes internes.",children:c.jsx("button",{type:"button",className:"cursor-help","aria-label":"Plus d'informations sur l'ID de l'employé",children:c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 text-base",children:"info"})})}),children:c.jsx($n,{type:"text",id:"employeeId",name:"employeeId",value:a.employeeId,onChange:T,required:!0,placeholder:"Entrer l'ID de l'employé"})})]}),c.jsxs(ar,{title:"Organisation",children:[c.jsx(mt,{label:"Département",htmlFor:"department",children:c.jsxs(xr,{id:"department",name:"department",value:a.department,onChange:T,children:[c.jsx("option",{value:"",children:"Sélectionner le département"}),dee.map(M=>c.jsx("option",{value:M,children:M},M))]})}),c.jsx(mt,{label:"Rôle",htmlFor:"role",children:c.jsx(xr,{id:"role",name:"role",value:a.role,onChange:T,children:Object.values(_e).map(M=>c.jsx("option",{value:M,children:M},M))})}),c.jsx(mt,{label:"Responsable",htmlFor:"managerId",className:"md:col-span-2",children:c.jsxs(xr,{id:"managerId",name:"managerId",value:a.managerId,onChange:T,children:[c.jsx("option",{value:"",children:"Sélectionner le responsable"}),C.map(M=>c.jsx("option",{value:M.id,children:M.name},M.id))]})})]})]})}),c.jsxs(Md,{contentClassName:"max-w-2xl mx-auto",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{type:"submit",form:"add-user-form",loading:p,disabled:p,children:p?"Sauvegarde...":"Sauvegarder"})]})]})},fee=({iconName:t})=>c.jsx("span",{className:"material-symbols-outlined",children:t||"device_unknown"}),mee=({categories:t,onViewCategory:e})=>c.jsxs("div",{className:"px-4 pt-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 tracking-tight mb-4",children:"Catégories"}),c.jsx("div",{className:"space-y-3",children:t.map(n=>c.jsxs("button",{type:"button",onClick:()=>e(n.id),className:"w-full flex items-center gap-4 surface-card surface-card-gradient p-4 cursor-pointer transition-transform hover:-translate-y-0.5 focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-400",children:[c.jsx("div",{className:"flex items-center justify-center rounded-lg bg-secondary-100/90 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-200 shrink-0 size-12",children:c.jsx(fee,{iconName:n.icon})}),c.jsx("div",{className:"flex-1 text-left",children:c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-medium",children:n.name})}),c.jsx("div",{className:"flex items-center justify-center size-8 rounded-full text-secondary-500 dark:text-secondary-200 transition-transform group-hover:translate-x-1",children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:"chevron_right"})})]},n.id))})]}),pee=({equipment:t,models:e,categories:n,onSelectModel:r})=>{const[a,i]=j.useState(""),[o,u]=j.useState(!1),[f,d]=j.useState(null),[p,h]=j.useState(!1),[y,x]=j.useState("all"),[T,w]=j.useState("all"),{addToast:A}=Wn(),C=j.useMemo(()=>{const q=t.reduce((U,R)=>(U[R.modelId]=(U[R.modelId]||0)+1,U),{});return e.map(U=>({...U,category:n.find(R=>R.id===U.categoryId),count:q[U.id]||0})).filter(U=>U.count>0).sort((U,R)=>U.name.localeCompare(R.name))},[t,e,n]),M=()=>{d(null),i(""),x("all"),w("all")},_=()=>{f&&!p&&(h(!0),setTimeout(()=>{d(null),h(!1)},500))},k=()=>{_()},N=q=>{i(q.target.value),_()},I=async q=>{if(q.preventDefault(),!!a.trim()){u(!0),A("Gemini analyse votre recherche...","info");try{const U=new Id({apiKey:"PLACEHOLDER_API_KEY"}),R={type:jt.OBJECT,properties:{category:{type:jt.STRING,description:"Filter by equipment category name."},brand:{type:jt.STRING,description:"Filter by brand name."},searchTerm:{type:jt.STRING,description:"General keywords for the model name."}}},B=Array.from(new Set(e.map(K=>K.brand))).join(", "),G=`You are an expert search query parser for an IT asset management application. Your task is to translate the user's natural language query into a structured JSON object of filters for a list of equipment models.

            Here are the available filter options:
            - Categories: ${n.map(K=>K.name).join(", ")}
            - Brands: ${B}

            Analyze the user's query: "${a}"

            Based on the query, populate the JSON schema. If a field is not mentioned, omit it. For 'searchTerm', include any keywords that look like a model's name.`,W=await U.models.generateContent({model:"gemini-2.5-flash",contents:G,config:{responseMimeType:"application/json",responseSchema:R}}),V=JSON.parse(W.text.trim());if(M(),d(V),V.searchTerm&&i(V.searchTerm),V.brand&&w(V.brand),V.category){const K=n.find(Y=>Y.name.toLowerCase()===V.category.toLowerCase());K&&x(K.id)}A("Filtres intelligents appliqués !","success")}catch(U){console.error("Error with Gemini model search:",U),A("Désolé, je n'ai pas pu traiter cette recherche.","error")}finally{u(!1)}}},P=j.useMemo(()=>C.filter(q=>{const U=a.toLowerCase(),R=T.toLowerCase(),B=a===""||q.name.toLowerCase().includes(U)||q.category&&q.category.name.toLowerCase().includes(U),G=y==="all"||q.categoryId===y,W=T==="all"||q.brand.toLowerCase().includes(R);return B&&G&&W}),[C,a,y,T]),L=f?"Filtres intelligents actifs. Tapez pour une nouvelle recherche.":"Rechercher des modèles ou demander à Gemini...",D=j.useMemo(()=>Array.from(new Set(e.map(q=>q.brand))).sort(),[e]);return c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"mb-4",children:c.jsx(qc,{value:a,onChange:N,onSubmit:I,placeholder:L,isSearching:o})}),f&&c.jsxs("div",{className:`pb-4 flex flex-wrap gap-2 items-center ${p?"animate-shake-and-fade-out":"animate-fade-in"}`,children:[Object.entries(f).map(([q,U])=>U&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-primary-100 px-2 py-1 text-xs font-medium text-primary-900",children:c.jsx("span",{children:`${q}: ${U}`})},q)),c.jsx("button",{onClick:M,className:"text-xs text-gray-500 hover:underline",children:"Effacer"})]}),c.jsxs("div",{className:"flex gap-3 pb-4 overflow-x-auto",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:y,onChange:q=>{x(q.target.value),k()},className:"shrink-0 appearance-none rounded-md border border-secondary-200 dark:border-secondary-700 bg-white/90 dark:bg-secondary-900/60 py-2 pl-4 pr-10 text-sm font-medium text-secondary-700 dark:text-secondary-100 focus:border-primary-500 focus:ring-primary-500 cursor-pointer shadow-[var(--shadow-elev-1)]",children:[c.jsx("option",{value:"all",children:"Toutes les catégories"}),n.map(q=>c.jsx("option",{value:q.id,children:q.name},q.id))]}),c.jsx("span",{className:"material-symbols-outlined pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-secondary-500 dark:text-secondary-200 !text-base",children:"expand_more"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:T,onChange:q=>{w(q.target.value),k()},className:"shrink-0 appearance-none rounded-md border border-secondary-200 dark:border-secondary-700 bg-white/90 dark:bg-secondary-900/60 py-2 pl-4 pr-10 text-sm font-medium text-secondary-700 dark:text-secondary-100 focus:border-primary-500 focus:ring-primary-500 cursor-pointer shadow-[var(--shadow-elev-1)]",children:[c.jsx("option",{value:"all",children:"Toutes les marques"}),D.map(q=>c.jsx("option",{value:q,children:q},q))]}),c.jsx("span",{className:"material-symbols-outlined pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-secondary-500 dark:text-secondary-200 !text-base",children:"expand_more"})]})]}),c.jsx("div",{className:"space-y-3",children:P.length>0?P.map(q=>{var U;return c.jsxs("button",{type:"button",onClick:()=>r(q.id),className:"group w-full flex items-center gap-4 surface-card surface-card-gradient p-4 rounded-xl transition-transform hover:-translate-y-0.5 cursor-pointer focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-400",children:[c.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-lg size-16 shrink-0 ring-1 ring-secondary-200/60 dark:ring-secondary-800/60",style:{backgroundImage:`url('${q.imageUrl||"https://placehold.co/64x64/e2e8f0/a0aec0/png"}')`}}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-semibold",children:q.name}),c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm",children:(U=q.category)==null?void 0:U.name})]}),c.jsxs("div",{className:"text-center pr-2",children:[c.jsx("p",{className:"text-primary-600 dark:text-primary-300 text-xl font-semibold",children:q.count}),c.jsx("p",{className:"text-secondary-500 dark:text-secondary-200 text-xs uppercase tracking-wide",children:"Unités"})]}),c.jsx("span",{className:"material-symbols-outlined p-2 text-secondary-500 dark:text-secondary-200 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},q.id)}):c.jsxs("div",{className:"text-center py-10",children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun modèle trouvé."}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Essayez d'ajuster votre recherche."})]})})]})},hee=({categories:t,models:e,equipment:n,onAddCategory:r,onAddModel:a,onViewCategory:i,onSelectModel:o})=>{const[u,f]=j.useState("categories"),d=j.useMemo(()=>[{label:"Ajouter une catégorie",icon:"create_new_folder",onClick:()=>r()},{label:"Ajouter un modèle",icon:"add_box",onClick:()=>a()},{label:"Importer des modèles (CSV)",icon:"upload",onClick:()=>window.location.hash="#/models/import"}],[r,a]),p="flex-1 whitespace-nowrap border-b-2 py-3 text-center text-sm transition-colors",h="border-primary-500 text-primary-600 dark:text-primary-300 font-semibold",y="border-transparent text-secondary-500 dark:text-secondary-300 hover:border-secondary-300 dark:hover:border-secondary-600 hover:text-secondary-700 dark:hover:text-secondary-100 font-medium";return c.jsxs("div",{className:"flex flex-col h-screen bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(It,{title:"Gestion",children:c.jsx(ba,{actions:d})}),c.jsx("div",{className:"border-b border-secondary-200/70 dark:border-secondary-800 flex-shrink-0 backdrop-blur-sm bg-white/40 dark:bg-secondary-900/40",children:c.jsxs("div",{className:"flex gap-x-4 px-4",children:[c.jsx("button",{onClick:()=>f("categories"),className:`${p} ${u==="categories"?h:y}`,children:"Catégories"}),c.jsx("button",{onClick:()=>f("models"),className:`${p} ${u==="models"?h:y}`,children:"Modèles"})]})}),c.jsxs("main",{className:"flex-1 flex flex-col overflow-y-auto bg-secondary-50/80 dark:bg-[#0f1722] pb-24 lg:pb-6",children:[u==="categories"&&c.jsx("div",{className:"flex-grow",children:c.jsx(mee,{categories:t,onViewCategory:i})}),u==="models"&&c.jsx("div",{className:"flex-grow",children:c.jsx(pee,{equipment:n,models:e,categories:t,onSelectModel:o})})]}),c.jsx(ih,{actions:d,id:"fab-management",mainIcon:"add",className:"lg:hidden"})]})},gee=({countries:t,sites:e,departments:n,dispatch:r,logAuditEvent:a})=>{const[i,o]=j.useState(null),[u,f]=j.useState(null),[d,p]=j.useState(null),[h,y]=j.useState(null),[x,T]=j.useState(null),w=async(R,B)=>{await new Promise(re=>setTimeout(re,500));const{id:G,name:W,parentId:V}=B;let K="",Y={id:G,name:W},te="location";switch(R){case"country":K="SAVE_COUNTRY";break;case"site":K="SAVE_SITE",Y.countryId=V;break;case"department":K="SAVE_DEPARTMENT",Y.siteId=V;break}r({type:K,payload:Y}),a(G?"update":"create",te,W)},A=(R,B)=>{let G="",W=!1,V="";switch(R){case"country":G="DELETE_COUNTRY",W=e.some(K=>K.countryId===B.id),V="sites";break;case"site":G="DELETE_SITE",W=n.some(K=>K.siteId===B.id),V="services";break;case"department":G="DELETE_DEPARTMENT";break}if(W){f({title:"Suppression impossible",children:`Vous ne pouvez pas supprimer ce ${R} car il contient des ${V}.`,onConfirm:()=>f(null),onClose:()=>f(null),confirmButtonText:"OK",confirmButtonVariant:"primary",icon:"error",iconBgColor:"bg-yellow-100",iconColor:"text-yellow-600"});return}f({title:`Supprimer ${B.name}`,children:c.jsxs(c.Fragment,{children:["Êtes-vous sûr de vouloir supprimer ",c.jsx("strong",{children:B.name}),"? Cette action est irréversible."]}),onConfirm:()=>{r({type:G,payload:B.id}),a("delete","location",B.name),f(null)},onClose:()=>f(null)})},C=[{label:"Ajouter un pays",icon:"public",onClick:()=>o({entityType:"country"})},{label:"Importer des localisations",icon:"upload",onClick:()=>window.location.hash="#/locations/import"}],M=j.useMemo(()=>[...t].sort((R,B)=>R.name.localeCompare(B.name)),[t]),_=j.useMemo(()=>[...e].sort((R,B)=>R.name.localeCompare(B.name)),[e]),k=j.useMemo(()=>[...n].sort((R,B)=>R.name.localeCompare(B.name)),[n]),N=M.find(R=>R.id===d)||null,I=N?_.filter(R=>R.countryId===N.id):[],P=I.find(R=>R.id===h)||null,L=P?k.filter(R=>R.siteId===P.id):[],D=L.find(R=>R.id===x)||null;j.useEffect(()=>{!d&&M.length>0&&p(M[0].id)},[M,d]),j.useEffect(()=>{var R;N?(!P||!I.some(B=>B.id===P.id))&&y(((R=I[0])==null?void 0:R.id)??null):y(null)},[N,I,P]),j.useEffect(()=>{var R;P?(!D||!L.some(B=>B.id===D.id))&&T(((R=L[0])==null?void 0:R.id)??null):T(null)},[P,L,D]);const q=j.useMemo(()=>D?{title:D.name,type:"Service",metrics:[{label:"Site",value:(P==null?void 0:P.name)||"—"},{label:"Pays",value:(N==null?void 0:N.name)||"—"}],entityType:"department",entity:D}:P?{title:P.name,type:"Site",metrics:[{label:"Pays",value:(N==null?void 0:N.name)||"—"},{label:"Services",value:L.length.toString()}],entityType:"site",entity:P}:N?{title:N.name,type:"Pays",metrics:[{label:"Sites",value:I.length.toString()},{label:"Services",value:k.filter(R=>I.some(B=>B.id===R.siteId)).length.toString()}],entityType:"country",entity:N}:null,[N,P,D,I,L,k]),U=({title:R,icon:B,items:G,selectedId:W,onSelect:V,onAdd:K,onEdit:Y,onDelete:te,addLabel:re,disabledAdd:$})=>c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-4 flex flex-col min-h-[260px]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-200",children:B}),c.jsx("h2",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 tracking-tight uppercase",children:R})]}),K&&c.jsx(Re,{size:"sm",variant:"ghost",icon:"add",onClick:K,disabled:$,className:"border border-secondary-200 dark:border-secondary-800 hover:bg-secondary-100/60 dark:hover:bg-secondary-900/50",children:re})]}),c.jsxs("div",{className:"flex-1 space-y-2 overflow-y-auto pr-1",children:[G.length===0&&c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 italic",children:"Aucun élément"}),G.map(z=>{const H=z.id===W;return c.jsxs("div",{className:`group flex items-center justify-between gap-2 rounded-xl border px-3 py-2 cursor-pointer transition-colors ${H?"border-secondary-300/80 dark:border-secondary-700/70 bg-secondary-100/80 dark:bg-secondary-900/45 text-secondary-800 dark:text-secondary-100 shadow-[var(--shadow-elev-2)]":"border-transparent hover:bg-secondary-100/50 dark:hover:bg-secondary-900/40 text-gray-900 dark:text-gray-100"}`,onClick:()=>V(z.id),children:[c.jsx("span",{className:"text-sm font-medium truncate",children:z.name}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[Y&&c.jsx("button",{onClick:Q=>{Q.stopPropagation(),Y(z)},className:"size-9 flex items-center justify-center rounded-full text-secondary-500 hover:text-secondary-800 dark:text-secondary-200 dark:hover:text-secondary-100","aria-label":`Modifier ${z.name}`,children:c.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"})}),te&&c.jsx("button",{onClick:Q=>{Q.stopPropagation(),te(z)},className:"size-9 flex items-center justify-center rounded-full text-status-danger-500 hover:text-status-danger-400 dark:text-status-danger-300 hover:bg-status-danger-500/10","aria-label":`Supprimer ${z.name}`,children:c.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})})]})]},z.id)})]})]});return c.jsxs("div",{className:"flex flex-col h-screen bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(It,{title:"Emplacements",children:c.jsx(ba,{actions:C})}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-28 lg:pb-6",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(U,{title:"Pays",icon:"public",items:M,selectedId:d,onSelect:R=>{p(R),y(null),T(null)},onAdd:()=>o({entityType:"country"}),onEdit:R=>o({entityType:"country",entity:R}),onDelete:R=>A("country",R),addLabel:"Pays"}),c.jsx(U,{title:"Sites",icon:"domain",items:I,selectedId:h,onSelect:R=>{y(R),T(null)},onAdd:()=>N&&o({entityType:"site",parentId:N.id}),onEdit:R=>o({entityType:"site",entity:R}),onDelete:R=>A("site",R),addLabel:"Site",disabledAdd:!N}),c.jsx(U,{title:"Services",icon:"meeting_room",items:L,selectedId:x,onSelect:R=>T(R),onAdd:()=>P&&o({entityType:"department",parentId:P.id}),onEdit:R=>o({entityType:"department",entity:R}),onDelete:R=>A("department",R),addLabel:"Service",disabledAdd:!P})]}),c.jsx("aside",{className:"lg:w-80 xl:w-96 surface-card surface-card-gradient rounded-2xl p-5 h-full",children:q?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs uppercase tracking-wide text-secondary-500 dark:text-secondary-200",children:q.type}),c.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mt-1",children:q.title})]}),c.jsx("div",{className:"space-y-2",children:q.metrics.map(R=>c.jsxs("div",{className:"flex justify-between text-sm text-secondary-600 dark:text-secondary-200",children:[c.jsx("span",{children:R.label}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:R.value})]},R.label))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Re,{variant:"secondary",size:"sm",icon:"edit",onClick:()=>o({entityType:q.entityType,entity:q.entity}),className:"flex-1",children:"Modifier"}),c.jsx(Re,{variant:"ghost",size:"sm",icon:"delete",onClick:()=>A(q.entityType,q.entity),className:"flex-1 border border-secondary-200 dark:border-secondary-700",children:"Supprimer"})]})]}):c.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-200",children:"Sélectionnez un élément pour voir ses détails."})})]})}),i&&c.jsx(ree,{info:i,countries:t,sites:e,onClose:()=>o(null),onSave:w}),u&&c.jsx(ii,{isOpen:!0,...u}),c.jsx(ih,{actions:C,id:"fab-locations",mainIcon:"add",className:"lg:hidden"})]})},$0=["laptop_chromebook","desktop_windows","keyboard","mouse","dock","headphones","desktop_mac","print","devices_other","router","camera_alt","smartphone","tablet_mac","scanner","speaker","memory"],iI=({onSave:t,onBack:e,initialData:n})=>{const[r,a]=j.useState(""),[i,o]=j.useState(""),[u,f]=j.useState($0[0]),[d,p]=j.useState(!1),{addToast:h}=Wn(),y=!!n;j.useEffect(()=>{n&&(a(n.name),o(n.description||""),f(n.icon||$0[0]))},[n]);const x=async T=>{if(T.preventDefault(),!d&&r.trim()){p(!0);try{await t({name:r,description:i,icon:u,id:n==null?void 0:n.id})}catch{h("La sauvegarde a échoué.","error"),p(!1)}}};return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(It,{title:y?"Modifier la catégorie":"Nouvelle catégorie",onBack:e}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("form",{id:"add-category-form",onSubmit:x,className:"space-y-6",children:[c.jsx(mt,{label:"Nom de la catégorie",htmlFor:"category-name",children:c.jsx($n,{id:"category-name",placeholder:"ex: Ordinateurs portables, Moniteurs",type:"text",value:r,onChange:T=>a(T.target.value),required:!0})}),c.jsx(mt,{label:"Description",htmlFor:"description",children:c.jsx(mh,{id:"description",placeholder:"Saisissez une brève description de la catégorie",rows:4,value:i,onChange:T=>o(T.target.value)})}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Icône"}),c.jsx("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2 rounded-lg border border-gray-300 bg-white p-2",children:$0.map(T=>c.jsx("button",{type:"button",onClick:()=>f(T),className:`flex items-center justify-center aspect-square rounded-md transition-colors ${u===T?"bg-primary-500 text-gray-900 ring-2 ring-offset-2 ring-primary-500":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Sélectionner l'icône ${T}`,title:T.replace(/_/g," "),children:c.jsx("span",{className:"material-symbols-outlined",children:T})},T))})]})]})})}),c.jsx(Md,{contentClassName:"max-w-2xl mx-auto",children:c.jsx(Re,{type:"submit",form:"add-category-form",disabled:!r.trim()||d,loading:d,children:d?"Enregistrement...":y?"Enregistrer":"Créer"})})]})},sI=({onSave:t,onBack:e,categories:n,initialData:r})=>{const[a,i]=j.useState(""),[o,u]=j.useState(""),[f,d]=j.useState(""),[p,h]=j.useState(""),[y,x]=j.useState(""),[T,w]=j.useState(null),[A,C]=j.useState(!1),[M,_]=j.useState(!1),{addToast:k}=Wn(),N=!!(r!=null&&r.id);j.useEffect(()=>{r&&(i(r.name||""),d(r.brand||""),h(r.categoryId||""),x(r.specifications||""),u(r.modelNumber||""))},[r]);const I=async()=>{if(!a.trim()){k("Veuillez entrer un nom de modèle.","info");return}C(!0),k("Recherche des spécifications...","info");try{const D=new Id({apiKey:"PLACEHOLDER_API_KEY"}),q={type:jt.OBJECT,properties:{brand:{type:jt.STRING,description:"La marque de l'appareil (par exemple, Dell, Apple)."},category:{type:jt.STRING,description:"La catégorie générale de l'appareil (par exemple, Laptop, Monitor, Keyboard)."},specifications:{type:jt.STRING,description:"Un bref résumé des spécifications techniques clés (par exemple, 14 pouces, Intel Core i7, 16 Go de RAM, 512 Go SSD)."}},required:["brand","category","specifications"]},R=(await D.models.generateContent({model:"gemini-2.5-flash",contents:`À partir du nom de modèle "${a}", fournissez la marque, la catégorie et un résumé de ses spécifications clés.`,config:{responseMimeType:"application/json",responseSchema:q}})).text.trim(),B=JSON.parse(R);d(B.brand||""),x(B.specifications||"");const G=(B.category||"").toLowerCase(),W=n.find(V=>V.name.toLowerCase()===G);W?h(W.id):k(`Catégorie "${B.category}" non trouvée. Veuillez la sélectionner manuellement.`,"info"),k("Spécifications pré-remplies !","success")}catch(D){console.error("Error fetching model specs:",D),k("Erreur lors de la récupération des spécifications.","error")}finally{C(!1)}},P=async D=>{if(D.preventDefault(),!M&&a.trim()&&f.trim()&&p){_(!0);try{await t({modelName:a,modelNumber:o,brand:f,type:p,specifications:y,image:T,id:r==null?void 0:r.id,imageUrl:r==null?void 0:r.imageUrl})}catch{k("La sauvegarde a échoué.","error"),_(!1)}}},L=a.trim()&&f.trim()&&p;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 font-sans",children:[c.jsxs("div",{className:"flex-grow flex flex-col",children:[c.jsx(It,{title:N?"Modifier le modèle":"Nouveau modèle",onBack:e}),c.jsx("main",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:c.jsxs("form",{id:"add-model-form",onSubmit:P,className:"space-y-4 max-w-2xl mx-auto",children:[c.jsx(mt,{label:"Nom du modèle",htmlFor:"model-name",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{id:"model-name",placeholder:"ex: Dell Latitude 7420",type:"text",value:a,onChange:D=>i(D.target.value)}),c.jsx("button",{type:"button",onClick:I,disabled:A||!a.trim(),className:"absolute inset-y-0 right-0 flex items-center justify-center w-12 text-primary-600 hover:bg-primary-50 rounded-r-md disabled:text-gray-400 disabled:cursor-not-allowed",title:"Remplir automatiquement les spécifications","aria-label":"Remplir automatiquement les spécifications",children:A?c.jsx("span",{className:"material-symbols-outlined animate-spin",children:"autorenew"}):c.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"})})]})}),c.jsx(mt,{label:"Numéro de modèle",htmlFor:"model-number",children:c.jsx($n,{id:"model-number",placeholder:"ex: 20XLS11C002",type:"text",value:o,onChange:D=>u(D.target.value)})}),c.jsx(mt,{label:"Marque",htmlFor:"brand",children:c.jsx($n,{id:"brand",placeholder:"ex: Apple",type:"text",value:f,onChange:D=>d(D.target.value)})}),c.jsx(mt,{label:"Catégorie",htmlFor:"type",children:c.jsxs(xr,{id:"type",value:p,onChange:D=>h(D.target.value),children:[c.jsx("option",{value:"",disabled:!0,children:"Sélectionner une catégorie"}),n.map(D=>c.jsx("option",{value:D.id,children:D.name},D.id))]})}),c.jsx(mt,{label:"Spécifications",htmlFor:"specifications",children:c.jsx(mh,{id:"specifications",placeholder:"ex: 16 pouces, M2 Pro, 16Go RAM, 512Go SSD",rows:4,value:y,onChange:D=>x(D.target.value)})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),c.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md bg-white",children:c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-400",children:" cloud_upload "}),c.jsxs("div",{className:"flex text-sm text-gray-600",children:[c.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-700 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",htmlFor:"file-upload",children:[c.jsx("span",{children:"Télécharger un fichier"}),c.jsx("input",{className:"sr-only",id:"file-upload",name:"file-upload",type:"file",onChange:D=>w(D.target.files?D.target.files[0]:null)})]}),c.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF jusqu'à 10MB"})]})})]})]})})]}),c.jsx(Md,{contentClassName:"max-w-2xl mx-auto",children:c.jsx(Re,{type:"submit",form:"add-model-form",disabled:!L||M,loading:M,children:M?"Enregistrement...":N?"Enregistrer":"Créer"})})]})},{jsPDF:yee}=jspdf,vm=(t,e)=>{const n=o=>o.map(u=>{const f=String(u??"");return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f}).join(","),r="data:text/csv;charset=utf-8,"+e.map(n).join(`
`),a=encodeURI(r),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",`${t}.csv`),document.body.appendChild(i),i.click(),document.body.removeChild(i)},xm=(t,e,n)=>{const r=new yee;r.text(t,14,15),r.autoTable({startY:20,head:e,body:n,theme:"striped",styles:{fontSize:8},headStyles:{fillColor:[255,202,24]}}),r.save(`${t.toLowerCase().replace(/\s/g,"_")}.pdf`)},bm=({icon:t,title:e,description:n,onCsv:r,onPdf:a})=>c.jsxs("div",{className:"flex flex-col justify-between surface-card surface-card-gradient p-5 rounded-2xl gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-secondary-100/90 dark:bg-secondary-900/50 text-secondary-700 dark:text-secondary-200 mb-3 shadow-[var(--shadow-elev-1)]",children:c.jsx("span",{className:"material-symbols-outlined text-3xl",children:t})}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 tracking-tight mb-2",children:e}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-200/90 leading-relaxed",children:n})]}),c.jsxs("div",{className:"mt-auto grid gap-2 sm:flex sm:flex-row",children:[r&&c.jsx(Re,{variant:"secondary",size:"lg",onClick:r,className:"w-full sm:flex-1 bg-white/90 dark:bg-secondary-900/60 text-secondary-800 dark:text-secondary-100 hover:bg-secondary-100 dark:hover:bg-secondary-800",children:"Exporter en CSV"}),a&&c.jsx(Re,{variant:"ghost",size:"lg",onClick:a,className:"w-full sm:flex-1 border border-secondary-200 dark:border-secondary-700 bg-white/40 dark:bg-secondary-900/30 text-secondary-700 dark:text-secondary-100 hover:bg-secondary-100/80 dark:hover:bg-secondary-800/60",children:"Exporter en PDF"})]})]}),vee=({equipment:t,assignments:e,users:n,models:r,categories:a,currentUser:i})=>{const[o,u]=j.useState(!1),[f,d]=j.useState(""),[p,h]=j.useState(null),y=j.useMemo(()=>new Map(r.map(N=>[N.id,N])),[r]),x=j.useMemo(()=>new Map(a.map(N=>[N.id,N])),[a]),T=j.useMemo(()=>new Map(n.map(N=>[N.id,N.name])),[n]),w=j.useMemo(()=>{const N=new Map,I=new Map;for(const P of e){const L=I.get(P.equipmentId);(!L||new Date(P.date)>new Date(L.date))&&I.set(P.equipmentId,P)}for(const P of t)if(P.status===qe.ASSIGNED){const L=I.get(P.id);L&&L.action===Ge.ASSIGN&&N.set(P.id,T.get(L.userId)||"Utilisateur inconnu")}return N},[e,t,T]),A=()=>{const N=["Catégorie","Modèle","N° d'inventaire","Nom","Statut","Utilisateur attribué","Date d'achat","Fin de garantie"],I=t.map(P=>{const L=y.get(P.modelId),D=L?x.get(L.categoryId):null;return[D==null?void 0:D.name,L==null?void 0:L.name,P.assetTag,P.name,P.status,w.get(P.id),P.purchaseDate?new Date(P.purchaseDate).toLocaleDateString():null,P.warrantyEndDate?new Date(P.warrantyEndDate).toLocaleDateString():null]});return{headers:[N],data:I}},C=()=>{const N=new Date;N.setFullYear(N.getFullYear()-3);const I=t.filter(D=>D.purchaseDate&&new Date(D.purchaseDate)<N),P=["Modèle","N° d'inventaire","Statut","Date d'achat","Âge (ans)"],L=I.map(D=>{const q=y.get(D.modelId),U=D.purchaseDate?((new Date().getTime()-new Date(D.purchaseDate).getTime())/(1e3*60*60*24*365.25)).toFixed(1):null;return[q==null?void 0:q.name,D.assetTag,D.status,new Date(D.purchaseDate).toLocaleDateString(),U]});return{headers:[P],data:L}},M=()=>{const N=new Date,I=new Date;I.setDate(N.getDate()+90);const P=t.filter(q=>q.warrantyEndDate&&new Date(q.warrantyEndDate)>N&&new Date(q.warrantyEndDate)<=I),L=["Modèle","N° d'inventaire","Fin de garantie","Jours restants"],D=P.map(q=>{const U=y.get(q.modelId),R=Math.ceil((new Date(q.warrantyEndDate).getTime()-N.getTime())/(1e3*3600*24));return[U==null?void 0:U.name,q.assetTag,new Date(q.warrantyEndDate).toLocaleDateString(),R]});return{headers:[L],data:D}},_=N=>{const I=n.find(q=>q.id===N);if(!I)return{title:"",headers:[],data:[]};const P=e.filter(q=>q.userId===I.id).sort((q,U)=>new Date(U.date).getTime()-new Date(q.date).getTime()),L=["Date","Action","Modèle","N° d'inventaire"],D=P.map(q=>{const U=t.find(B=>B.id===q.equipmentId),R=U?y.get(U.modelId):null;return[new Date(q.date).toLocaleDateString(),q.action,R==null?void 0:R.name,U==null?void 0:U.assetTag]});return{title:`Historique pour ${I.name}`,headers:[L],data:D}},k=()=>{var L;if(!f||!p)return;const{title:N,headers:I,data:P}=_(f);p==="csv"?vm(`historique_${(L=n.find(D=>D.id===f))==null?void 0:L.name.replace(" ","_")}`,[I[0],...P]):xm(N,I,P),u(!1),d(""),h(null)};return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(It,{title:"Rapports"}),c.jsx("main",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-24 md:p-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsx(bm,{icon:"inventory_2",title:"Inventaire Complet",description:"Exporter la liste complète de tous les équipements et leurs détails.",onCsv:()=>{const{headers:N,data:I}=A();vm("inventaire_complet",[N[0],...I])},onPdf:()=>{const{headers:N,data:I}=A();xm("Inventaire Complet",N,I)}}),c.jsx(bm,{icon:"person_search",title:"Historique par Utilisateur",description:"Générer un rapport de toutes les attributions et retours pour un utilisateur spécifique.",onCsv:()=>{h("csv"),u(!0)},onPdf:()=>{h("pdf"),u(!0)}}),c.jsx(bm,{icon:"update",title:"Équipement Vieillissant",description:"Lister tous les équipements de plus de 3 ans pour la planification de l'amortissement.",onCsv:()=>{const{headers:N,data:I}=C();vm("equipement_vieillissant",[N[0],...I])},onPdf:()=>{const{headers:N,data:I}=C();xm("Équipement Vieillissant (> 3 ans)",N,I)}}),c.jsx(bm,{icon:"shield",title:"Expiration des Garanties",description:"Voir les équipements dont la garantie expire dans les 90 prochains jours.",onCsv:()=>{const{headers:N,data:I}=M();vm("expiration_garanties",[N[0],...I])},onPdf:()=>{const{headers:N,data:I}=M();xm("Expiration des Garanties (< 90 jours)",N,I)}})]})}),o&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:()=>u(!1),children:c.jsxs("div",{className:"surface-card surface-card-gradient w-full max-w-sm p-6 rounded-2xl animate-slide-up",onClick:N=>N.stopPropagation(),children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight mb-4",children:"Sélectionner un utilisateur"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-200 mb-2",htmlFor:"user-select",children:"Utilisateur"}),c.jsxs("select",{id:"user-select",value:f,onChange:N=>d(N.target.value),className:"w-full rounded-md border border-secondary-200 dark:border-secondary-700 bg-white/90 dark:bg-secondary-900/60 text-secondary-800 dark:text-secondary-100 shadow-[var(--shadow-elev-1)] focus:border-primary-500 focus:ring-primary-500",children:[c.jsx("option",{value:"",disabled:!0,children:"Sélectionner un utilisateur..."}),n.map(N=>c.jsx("option",{value:N.id,children:N.name},N.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[c.jsx(Re,{variant:"ghost",onClick:()=>u(!1),className:"border border-secondary-200 dark:border-secondary-700 bg-transparent text-secondary-700 dark:text-secondary-200 hover:bg-secondary-100/60 dark:hover:bg-secondary-900/50",children:"Annuler"}),c.jsx(Re,{onClick:k,disabled:!f,children:"Générer"})]})]})})]})},oI=({value:t})=>c.jsx("div",{className:"w-full h-2 rounded-full bg-secondary-200/70 dark:bg-secondary-900/40",children:c.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600 transition-[width] duration-300 ease-in-out",style:{width:`${Math.min(t,100)}%`}})}),xee=t=>{if(!t)return null;const e="inline-flex items-center gap-1 whitespace-nowrap text-xs font-semibold px-2 py-0.5 rounded-full";switch(t){case"in-progress":return c.jsx("span",{className:`bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 ${e}`,children:"En cours"});case"paused":return c.jsx("span",{className:`bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300 ${e}`,children:"En pause"});case"completed":return c.jsx("span",{className:`bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 ${e}`,children:"Terminé"});default:return null}},bee=({equipment:t,currentUser:e,sites:n,departments:r,countries:a,auditSessions:i,dispatch:o})=>{const[u,f]=j.useState(null),[d,p]=j.useState(null),[h,y]=j.useState(null);j.useEffect(()=>{if(h){const U=i.find(R=>R.departmentId===h&&R.status==="in-progress");U&&(window.location.hash=`#/audit/session/${U.id}`,y(null))}},[i,h]);const x=j.useMemo(()=>[...a].sort((U,R)=>U.name.localeCompare(R.name)),[a]),T=j.useMemo(()=>{const U=new Map;return n.forEach(R=>{const B=U.get(R.countryId)??[];B.push(R),U.set(R.countryId,B)}),U.forEach(R=>R.sort((B,G)=>B.name.localeCompare(G.name))),U},[n]),w=j.useMemo(()=>{const U=new Map;return r.forEach(R=>{const B=U.get(R.siteId)??[];B.push(R),U.set(R.siteId,B)}),U.forEach(R=>R.sort((B,G)=>B.name.localeCompare(G.name))),U},[r]);j.useEffect(()=>{if(x.length===0){u!==null&&f(null),d!==null&&p(null);return}if(!u||!x.some(R=>R.id===u)){f(x[0].id);return}const U=T.get(u)??[];if(U.length===0){d!==null&&p(null);return}(!d||!U.some(R=>R.id===d))&&p(U[0].id)},[x,T,u,d]);const A=j.useMemo(()=>{const U=new Map;return i.filter(R=>R.status!=="cancelled").sort((R,B)=>new Date(B.updatedAt).getTime()-new Date(R.updatedAt).getTime()).forEach(R=>{U.has(R.departmentId)||U.set(R.departmentId,R)}),U},[i]),C=j.useMemo(()=>{const U={};r.forEach(G=>{const W=A.get(G.id),V=t.filter(Y=>Y.departmentId===G.id).length;if(V===0){const Y=W?W.scannedItemIds.length:0;U[G.id]={progress:(W==null?void 0:W.status)==="completed"?100:0,session:W,scannedCount:Y,totalItems:V};return}if((W==null?void 0:W.status)==="completed"){U[G.id]={progress:100,session:W,scannedCount:V,totalItems:V};return}const K=W?W.scannedItemIds.length:0;U[G.id]={progress:K/V*100,session:W,scannedCount:K,totalItems:V}});const R={};n.forEach(G=>{const W=r.filter(Y=>Y.siteId===G.id),V=t.filter(Y=>Y.siteId===G.id).length,K=W.reduce((Y,te)=>{const re=A.get(te.id);return Y+(re?re.scannedItemIds.length:0)},0);R[G.id]={progress:V>0?K/V*100:0,itemCount:V,totalScanned:K}});const B={};return a.forEach(G=>{const W=n.filter(Y=>Y.countryId===G.id),V=W.reduce((Y,te)=>{var re;return Y+(((re=R[te.id])==null?void 0:re.itemCount)||0)},0),K=W.reduce((Y,te)=>{const re=r.filter($=>$.siteId===te.id);return Y+re.reduce(($,z)=>{const H=A.get(z.id);return $+(H?H.scannedItemIds.length:0)},0)},0);B[G.id]={progress:V>0?K/V*100:0,itemCount:V,totalScanned:K}}),{deptProgress:U,siteProgress:R,countryProgress:B}},[A,t,n,r,a]),M=j.useMemo(()=>{const R=Object.values(C.deptProgress).reduce((K,Y)=>K+Math.min(Y.scannedCount,Y.totalItems),0),B=t.length,G=B>0?R/B*100:0,W=i.filter(K=>K.status==="in-progress"||K.status==="paused").length,V=i.filter(K=>K.status==="completed").length;return{totalEquipment:B,scannedEquipment:R,completionRate:G,activeSessionsCount:W,completedSessionsCount:V}},[C,t,i]),_=u?T.get(u)??[]:[],N=(d?_.find(U=>U.id===d)??null:null)??_[0]??null,I=N?w.get(N.id)??[]:[],P=N?C.siteProgress[N.id]:void 0,L=u?C.countryProgress[u]:void 0,D=U=>{const R=A.get(U);R&&(R.status==="in-progress"||R.status==="paused")?(o({type:"START_AUDIT_SESSION",payload:{departmentId:U,userId:e.id}}),window.location.hash=`#/audit/session/${R.id}`):R&&R.status==="completed"?window.location.hash=`#/audit/report/${R.id}`:(o({type:"START_AUDIT_SESSION",payload:{departmentId:U,userId:e.id}}),y(U))},q=U=>U==="in-progress"||U==="paused"?"Continuer":U==="completed"?"Rapport":"Commencer";return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(It,{title:"Lancer un audit"}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 pb-24 space-y-6",children:[c.jsxs(He.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-8 md:p-10 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:[c.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex items-start gap-5",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-primary-600 dark:text-primary-400",children:"event_available"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-primary-600 dark:text-primary-400 mb-2",children:"Préparer vos audits"}),c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-50 tracking-tight leading-tight",children:"Suivez la progression des campagnes d'audit"}),c.jsx("p",{className:"mt-3 text-sm leading-relaxed text-secondary-700 dark:text-secondary-300 max-w-2xl",children:"Explorez vos pays, sites et services pour lancer rapidement un audit, reprendre une session en cours ou consulter les rapports finalisés."})]})]}),c.jsxs("div",{className:"flex flex-col gap-3 sm:items-end sm:justify-end sm:w-72",children:[c.jsx(Re,{variant:"primary",icon:"play_arrow",className:"w-full sm:w-auto",onClick:()=>{if(N){const R=(w.get(N.id)??[])[0];R&&D(R.id)}},children:"Démarrer un audit"}),c.jsx(Re,{variant:"secondary",icon:"monitoring",className:"w-full sm:w-auto",onClick:()=>window.location.hash="#/audit/overview",children:"Aperçu"})]})]}),c.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-4",children:[c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Progression globale"}),c.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:[M.completionRate.toFixed(0),"%"]}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:"Taux de couverture"})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Équipements scannés"}),c.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:M.scannedEquipment}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:["sur ",M.totalEquipment]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Sessions actives"}),c.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:M.activeSessionsCount}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:"En cours ou en pause"})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Rapports finalisés"}),c.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:M.completedSessionsCount}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:"Derniers 30 jours"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-6 xl:flex-row",children:[c.jsxs("section",{className:"xl:w-[320px] flex-shrink-0 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-300 uppercase tracking-wide",children:"Pays"}),c.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:x.length})]}),c.jsxs("div",{className:"space-y-2",children:[x.length===0&&c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-300 italic",children:"Aucun pays disponible."}),x.map(U=>{var G;const R=C.countryProgress[U.id],B=U.id===u;return c.jsxs(He.button,{type:"button",onClick:()=>f(U.id),className:`surface-card surface-card-gradient w-full text-left rounded-2xl border px-4 py-4 transition-all ${B?"border-secondary-400/80 dark:border-secondary-600 bg-secondary-100/60 dark:bg-secondary-900/40 shadow-[var(--shadow-elev-2)]":"border-transparent hover:border-secondary-200/70 dark:hover:border-secondary-700/60"}`,whileHover:{y:-2},whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium uppercase text-secondary-500 dark:text-secondary-300",children:"Pays"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:U.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:"Sites"}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-200",children:((G=T.get(U.id))==null?void 0:G.length)??0})]})]}),c.jsxs("div",{className:"mt-3 space-y-2",children:[c.jsx(oI,{value:(R==null?void 0:R.progress)||0}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-500 dark:text-secondary-300",children:[c.jsxs("span",{children:[Math.round((R==null?void 0:R.progress)||0),"% complété"]}),c.jsxs("span",{children:[(R==null?void 0:R.totalScanned)||0,"/",(R==null?void 0:R.itemCount)||0]})]})]})]},U.id)})]})]}),c.jsx("section",{className:"flex-1 space-y-4",children:c.jsx(Js,{mode:"wait",children:u?c.jsxs(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},className:"space-y-5",children:[c.jsx("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:c.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold uppercase tracking-wide text-secondary-600 dark:text-secondary-400",children:"Sites"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-50 mt-1",children:N?N.name:"Sélectionnez un site"}),L&&c.jsxs("p",{className:"mt-1 text-sm text-secondary-600 dark:text-secondary-300",children:[Math.round(L.progress),"% de progression globale pour ce pays (",L.totalScanned,"/",L.itemCount," équipements)."]})]}),c.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1",children:[_.length===0&&c.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-300 italic",children:"Aucun site enregistré."}),_.map(U=>{const R=((N==null?void 0:N.id)??d)===U.id,B=C.siteProgress[U.id];return c.jsxs("button",{type:"button",onClick:()=>p(U.id),className:`whitespace-nowrap rounded-full border px-4 py-2 text-sm font-medium transition-colors ${R?"border-primary-400 text-primary-700 dark:text-primary-200 bg-primary-50/70 dark:bg-primary-900/30":"border-secondary-200 text-secondary-600 hover:border-secondary-400 hover:text-secondary-800 dark:border-secondary-700 dark:text-secondary-200 dark:hover:border-secondary-500"}`,children:[U.name," • ",Math.round((B==null?void 0:B.progress)||0),"%"]},U.id)})]})]})}),c.jsxs("div",{className:"grid gap-5 xl:grid-cols-[minmax(0,2fr)_minmax(0,1.1fr)]",children:[c.jsxs(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsx("h4",{className:"text-sm font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Services / Départements"}),c.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:I.length})]}),c.jsxs("div",{className:"space-y-3",children:[I.length===0&&c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-300 italic",children:"Aucun service pour ce site."}),I.map(U=>{var W;const R=C.deptProgress[U.id],B=(W=R==null?void 0:R.session)==null?void 0:W.status,G=q(B);return c.jsxs(He.div,{layout:!0,className:"flex items-center gap-4 rounded-2xl border border-transparent bg-white/70 dark:bg-secondary-900/40 px-4 py-3 shadow-[var(--shadow-elev-1)] transition hover:border-secondary-200/70 dark:hover:border-secondary-700/60",whileHover:{y:-1},children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:U.name}),c.jsxs("span",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:[Math.round((R==null?void 0:R.progress)||0),"%"]})]}),c.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[c.jsx("div",{className:"flex-1 min-w-[120px]",children:c.jsx(oI,{value:(R==null?void 0:R.progress)||0})}),xee(B)]}),c.jsxs("p",{className:"mt-1 text-xs text-secondary-500 dark:text-secondary-300",children:[(R==null?void 0:R.scannedCount)||0,"/",(R==null?void 0:R.totalItems)||0," équipements scannés"]})]}),c.jsx(Re,{size:"sm",variant:G==="Rapport"?"ghost":"secondary",className:G==="Rapport"?"border border-secondary-200 dark:border-secondary-700 bg-white/40 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-100 hover:bg-secondary-100/80 dark:hover:bg-secondary-800/60":"",onClick:()=>D(U.id),children:G})]},U.id)})]})]},(N==null?void 0:N.id)||"no-site"),c.jsxs(He.aside,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold uppercase tracking-wide text-secondary-600 dark:text-secondary-400",children:"Résumé du site"}),c.jsx("h4",{className:"mt-2 text-lg font-bold text-gray-900 dark:text-gray-50",children:N?N.name:"Sélectionnez un site"}),P&&c.jsxs("p",{className:"mt-1 text-sm text-secondary-600 dark:text-secondary-300",children:[Math.round(P.progress),"% complété • ",P.totalScanned,"/",P.itemCount," équipements."]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/30 px-4 py-4",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Services à auditer"}),c.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900 dark:text-gray-50",children:I.length})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/30 px-4 py-4",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Sessions actives"}),c.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900 dark:text-gray-50",children:I.filter(U=>{var B;const R=(B=C.deptProgress[U.id])==null?void 0:B.session;return R&&(R.status==="in-progress"||R.status==="paused")}).length})]})]}),c.jsx(Re,{block:!0,variant:"primary",icon:"bolt",onClick:()=>{const U=I.find(R=>{var G;const B=(G=C.deptProgress[R.id])==null?void 0:G.session;return!B||B.status!=="completed"})||I[0];U&&D(U.id)},disabled:!I.length,children:"Lancer l'action prioritaire"})]},`summary-${(N==null?void 0:N.id)||"empty"}`)]})]},u):c.jsx(He.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},className:"surface-card rounded-3xl p-6 text-center text-secondary-600 dark:text-secondary-300",children:"Sélectionnez un pays pour visualiser ses sites et services."},"empty")})})]})]})]})};function N5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=N5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=N5(t))&&(r&&(r+=" "),r+=e);return r}var V0,lI;function or(){if(lI)return V0;lI=1;var t=Array.isArray;return V0=t,V0}var F0,uI;function _5(){if(uI)return F0;uI=1;var t=typeof lm=="object"&&lm&&lm.Object===Object&&lm;return F0=t,F0}var z0,cI;function Sa(){if(cI)return z0;cI=1;var t=_5(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return z0=n,z0}var G0,dI;function Pd(){if(dI)return G0;dI=1;var t=Sa(),e=t.Symbol;return G0=e,G0}var H0,fI;function See(){if(fI)return H0;fI=1;var t=Pd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(o){var u=n.call(o,a),f=o[a];try{o[a]=void 0;var d=!0}catch{}var p=r.call(o);return d&&(u?o[a]=f:delete o[a]),p}return H0=i,H0}var K0,mI;function wee(){if(mI)return K0;mI=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return K0=n,K0}var Y0,pI;function si(){if(pI)return Y0;pI=1;var t=Pd(),e=See(),n=wee(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return Y0=o,Y0}var W0,hI;function oi(){if(hI)return W0;hI=1;function t(e){return e!=null&&typeof e=="object"}return W0=t,W0}var X0,gI;function Ql(){if(gI)return X0;gI=1;var t=si(),e=oi(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return X0=r,X0}var J0,yI;function WT(){if(yI)return J0;yI=1;var t=or(),e=Ql(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return J0=a,J0}var Q0,vI;function Ji(){if(vI)return Q0;vI=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Q0=t,Q0}var Z0,xI;function XT(){if(xI)return Z0;xI=1;var t=si(),e=Ji(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!e(u))return!1;var f=t(u);return f==r||f==a||f==n||f==i}return Z0=o,Z0}var ev,bI;function Aee(){if(bI)return ev;bI=1;var t=Sa(),e=t["__core-js_shared__"];return ev=e,ev}var tv,SI;function Tee(){if(SI)return tv;SI=1;var t=Aee(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return tv=n,tv}var nv,wI;function C5(){if(wI)return nv;wI=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return nv=n,nv}var rv,AI;function Eee(){if(AI)return rv;AI=1;var t=XT(),e=Tee(),n=Ji(),r=C5(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,f=o.toString,d=u.hasOwnProperty,p=RegExp("^"+f.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(y){if(!n(y)||e(y))return!1;var x=t(y)?p:i;return x.test(r(y))}return rv=h,rv}var av,TI;function Nee(){if(TI)return av;TI=1;function t(e,n){return e==null?void 0:e[n]}return av=t,av}var iv,EI;function no(){if(EI)return iv;EI=1;var t=Eee(),e=Nee();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return iv=n,iv}var sv,NI;function ph(){if(NI)return sv;NI=1;var t=no(),e=t(Object,"create");return sv=e,sv}var ov,_I;function _ee(){if(_I)return ov;_I=1;var t=ph();function e(){this.__data__=t?t(null):{},this.size=0}return ov=e,ov}var lv,CI;function Cee(){if(CI)return lv;CI=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return lv=t,lv}var uv,jI;function jee(){if(jI)return uv;jI=1;var t=ph(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var o=this.__data__;if(t){var u=o[i];return u===e?void 0:u}return r.call(o,i)?o[i]:void 0}return uv=a,uv}var cv,MI;function Mee(){if(MI)return cv;MI=1;var t=ph(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return cv=r,cv}var dv,kI;function kee(){if(kI)return dv;kI=1;var t=ph(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return dv=n,dv}var fv,II;function Iee(){if(II)return fv;II=1;var t=_ee(),e=Cee(),n=jee(),r=Mee(),a=kee();function i(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var d=o[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,fv=i,fv}var mv,PI;function Pee(){if(PI)return mv;PI=1;function t(){this.__data__=[],this.size=0}return mv=t,mv}var pv,OI;function JT(){if(OI)return pv;OI=1;function t(e,n){return e===n||e!==e&&n!==n}return pv=t,pv}var hv,RI;function hh(){if(RI)return hv;RI=1;var t=JT();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return hv=e,hv}var gv,DI;function Oee(){if(DI)return gv;DI=1;var t=hh(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():n.call(i,o,1),--this.size,!0}return gv=r,gv}var yv,LI;function Ree(){if(LI)return yv;LI=1;var t=hh();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return yv=e,yv}var vv,qI;function Dee(){if(qI)return vv;qI=1;var t=hh();function e(n){return t(this.__data__,n)>-1}return vv=e,vv}var xv,UI;function Lee(){if(UI)return xv;UI=1;var t=hh();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return xv=e,xv}var bv,BI;function gh(){if(BI)return bv;BI=1;var t=Pee(),e=Oee(),n=Ree(),r=Dee(),a=Lee();function i(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var d=o[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,bv=i,bv}var Sv,$I;function QT(){if($I)return Sv;$I=1;var t=no(),e=Sa(),n=t(e,"Map");return Sv=n,Sv}var wv,VI;function qee(){if(VI)return wv;VI=1;var t=Iee(),e=gh(),n=QT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return wv=r,wv}var Av,FI;function Uee(){if(FI)return Av;FI=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Av=t,Av}var Tv,zI;function yh(){if(zI)return Tv;zI=1;var t=Uee();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return Tv=e,Tv}var Ev,GI;function Bee(){if(GI)return Ev;GI=1;var t=yh();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Ev=e,Ev}var Nv,HI;function $ee(){if(HI)return Nv;HI=1;var t=yh();function e(n){return t(this,n).get(n)}return Nv=e,Nv}var _v,KI;function Vee(){if(KI)return _v;KI=1;var t=yh();function e(n){return t(this,n).has(n)}return _v=e,_v}var Cv,YI;function Fee(){if(YI)return Cv;YI=1;var t=yh();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return Cv=e,Cv}var jv,WI;function ZT(){if(WI)return jv;WI=1;var t=qee(),e=Bee(),n=$ee(),r=Vee(),a=Fee();function i(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var d=o[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,jv=i,jv}var Mv,XI;function j5(){if(XI)return Mv;XI=1;var t=ZT(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],f=i.cache;if(f.has(u))return f.get(u);var d=r.apply(this,o);return i.cache=f.set(u,d)||f,d};return i.cache=new(n.Cache||t),i}return n.Cache=t,Mv=n,Mv}var kv,JI;function zee(){if(JI)return kv;JI=1;var t=j5(),e=500;function n(r){var a=t(r,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return kv=n,kv}var Iv,QI;function Gee(){if(QI)return Iv;QI=1;var t=zee(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,u,f,d){i.push(f?d.replace(n,"$1"):u||o)}),i});return Iv=r,Iv}var Pv,ZI;function eE(){if(ZI)return Pv;ZI=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return Pv=t,Pv}var Ov,eP;function Hee(){if(eP)return Ov;eP=1;var t=Pd(),e=eE(),n=or(),r=Ql(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(n(u))return e(u,o)+"";if(r(u))return i?i.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return Ov=o,Ov}var Rv,tP;function M5(){if(tP)return Rv;tP=1;var t=Hee();function e(n){return n==null?"":t(n)}return Rv=e,Rv}var Dv,nP;function k5(){if(nP)return Dv;nP=1;var t=or(),e=WT(),n=Gee(),r=M5();function a(i,o){return t(i)?i:e(i,o)?[i]:n(r(i))}return Dv=a,Dv}var Lv,rP;function vh(){if(rP)return Lv;rP=1;var t=Ql();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Lv=e,Lv}var qv,aP;function tE(){if(aP)return qv;aP=1;var t=k5(),e=vh();function n(r,a){a=t(a,r);for(var i=0,o=a.length;r!=null&&i<o;)r=r[e(a[i++])];return i&&i==o?r:void 0}return qv=n,qv}var Uv,iP;function I5(){if(iP)return Uv;iP=1;var t=tE();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return Uv=e,Uv}var Kee=I5();const Ar=yt(Kee);var Bv,sP;function Yee(){if(sP)return Bv;sP=1;function t(e){return e==null}return Bv=t,Bv}var Wee=Yee();const et=yt(Wee);var $v,oP;function Xee(){if(oP)return $v;oP=1;var t=si(),e=or(),n=oi(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return $v=a,$v}var Jee=Xee();const Gs=yt(Jee);var Qee=XT();const ze=yt(Qee);var Zee=Ji();const Zl=yt(Zee);var Vv={exports:{}},xt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lP;function ete(){if(lP)return xt;lP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function w(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case t:switch(A=A.type,A){case n:case a:case r:case d:case p:return A;default:switch(A=A&&A.$$typeof,A){case u:case o:case f:case y:case h:case i:return A;default:return C}}case e:return C}}}return xt.ContextConsumer=o,xt.ContextProvider=i,xt.Element=t,xt.ForwardRef=f,xt.Fragment=n,xt.Lazy=y,xt.Memo=h,xt.Portal=e,xt.Profiler=a,xt.StrictMode=r,xt.Suspense=d,xt.SuspenseList=p,xt.isAsyncMode=function(){return!1},xt.isConcurrentMode=function(){return!1},xt.isContextConsumer=function(A){return w(A)===o},xt.isContextProvider=function(A){return w(A)===i},xt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},xt.isForwardRef=function(A){return w(A)===f},xt.isFragment=function(A){return w(A)===n},xt.isLazy=function(A){return w(A)===y},xt.isMemo=function(A){return w(A)===h},xt.isPortal=function(A){return w(A)===e},xt.isProfiler=function(A){return w(A)===a},xt.isStrictMode=function(A){return w(A)===r},xt.isSuspense=function(A){return w(A)===d},xt.isSuspenseList=function(A){return w(A)===p},xt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===r||A===d||A===p||A===x||typeof A=="object"&&A!==null&&(A.$$typeof===y||A.$$typeof===h||A.$$typeof===i||A.$$typeof===o||A.$$typeof===f||A.$$typeof===T||A.getModuleId!==void 0)},xt.typeOf=w,xt}var uP;function tte(){return uP||(uP=1,Vv.exports=ete()),Vv.exports}var nte=tte(),Fv,cP;function P5(){if(cP)return Fv;cP=1;var t=si(),e=oi(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return Fv=r,Fv}var zv,dP;function rte(){if(dP)return zv;dP=1;var t=P5();function e(n){return t(n)&&n!=+n}return zv=e,zv}var ate=rte();const Od=yt(ate);var ite=P5();const ste=yt(ite);var Cn=function(e){return e===0?0:e>0?1:-1},Is=function(e){return Gs(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return ste(e)&&!Od(e)},ote=function(e){return et(e)},Sn=function(e){return Ee(e)||Gs(e)},lte=0,Rd=function(e){var n=++lte;return"".concat(e||"").concat(n)},Kn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!Gs(e))return r;var i;if(Is(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return Od(i)&&(i=r),a&&i>n&&(i=n),i},Ui=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ute=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},ta=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Iw(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ar(r,e))===n})}var cte=function(e,n){return Ee(e)&&Ee(n)?e-n:Gs(e)&&Gs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function gl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Pw(t){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(t)}var dte=["viewBox","children"],fte=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],fP=["points","pathLength"],Gv={svg:dte,polygon:fP,polyline:fP},nE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],np=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Zl(r))return null;var a={};return Object.keys(r).forEach(function(i){nE.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},mte=function(e,n,r){return function(a){return e(n,r,a),null}},Qa=function(e,n,r){if(!Zl(e)||Pw(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];nE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=mte(o,n,r))}),a},pte=["children"],hte=["children"];function mP(t,e){if(t==null)return{};var n=gte(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ka=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},hP=null,Hv=null,rE=function t(e){if(e===hP&&Array.isArray(Hv))return Hv;var n=[];return j.Children.forEach(e,function(r){et(r)||(nte.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Hv=n,hP=e,n};function Tr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return Ka(a)}):r=[Ka(e)],rE(t).forEach(function(a){var i=Ar(a,"type.displayName")||Ar(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function br(t,e){var n=Tr(t,e);return n&&n[0]}var gP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!Ee(r)||r<=0||!Ee(a)||a<=0)},yte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],vte=function(e){return e&&e.type&&Gs(e.type)&&yte.indexOf(e.type)>=0},xte=function(e,n,r,a){var i,o=(i=Gv==null?void 0:Gv[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!ze(e)&&(a&&o.includes(n)||fte.includes(n))||r&&nE.includes(n)},Ve=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(j.isValidElement(e)&&(a=e.props),!Zl(a))return null;var i={};return Object.keys(a).forEach(function(o){var u;xte((u=a)===null||u===void 0?void 0:u[o],o,n,r)&&(i[o]=a[o])}),i},Ow=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return yP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!yP(i,o))return!1}return!0},yP=function(e,n){if(et(e)&&et(n))return!0;if(!et(e)&&!et(n)){var r=e.props||{},a=r.children,i=mP(r,pte),o=n.props||{},u=o.children,f=mP(o,hte);return a&&u?gl(i,f)&&Ow(a,u):!a&&!u?gl(i,f):!1}return!1},vP=function(e,n){var r=[],a={};return rE(e).forEach(function(i,o){if(vte(i))r.push(i);else if(i){var u=Ka(i.type),f=n[u]||{},d=f.handler,p=f.once;if(d&&(!p||!a[u])){var h=d(i,u,o);r.push(h),a[u]=!0}}}),r},bte=function(e){var n=e&&e.type;return n&&pP[n]?pP[n]:null},Ste=function(e,n){return rE(n).indexOf(e)},wte=["children","width","height","viewBox","className","style","title","desc"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(this,arguments)}function Ate(t,e){if(t==null)return{};var n=Tte(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dw(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,o=t.style,u=t.title,f=t.desc,d=Ate(t,wte),p=a||{width:n,height:r,x:0,y:0},h=Je("recharts-surface",i);return Z.createElement("svg",Rw({},Ve(d,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),Z.createElement("title",null,u),Z.createElement("desc",null,f),e)}var Ete=["children","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}function Nte(t,e){if(t==null)return{};var n=_te(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _te(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ot=Z.forwardRef(function(t,e){var n=t.children,r=t.className,a=Nte(t,Ete),i=Je("recharts-layer",r);return Z.createElement("g",Lw({className:i},Ve(a,!0),{ref:e}),n)}),ra=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},Kv,xP;function Cte(){if(xP)return Kv;xP=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+n];return o}return Kv=t,Kv}var Yv,bP;function jte(){if(bP)return Yv;bP=1;var t=Cte();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return Yv=e,Yv}var Wv,SP;function O5(){if(SP)return Wv;SP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+a+i+"]");function f(d){return u.test(d)}return Wv=f,Wv}var Xv,wP;function Mte(){if(wP)return Xv;wP=1;function t(e){return e.split("")}return Xv=t,Xv}var Jv,AP;function kte(){if(AP)return Jv;AP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="["+t+"]",u="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+f+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",T=d+"?",w="["+i+"]?",A="(?:"+x+"(?:"+[p,h,y].join("|")+")"+w+T+")*",C=w+T+A,M="(?:"+[p+u+"?",u,h,y,o].join("|")+")",_=RegExp(f+"(?="+f+")|"+M+C,"g");function k(N){return N.match(_)||[]}return Jv=k,Jv}var Qv,TP;function Ite(){if(TP)return Qv;TP=1;var t=Mte(),e=O5(),n=kte();function r(a){return e(a)?n(a):t(a)}return Qv=r,Qv}var Zv,EP;function Pte(){if(EP)return Zv;EP=1;var t=jte(),e=O5(),n=Ite(),r=M5();function a(i){return function(o){o=r(o);var u=e(o)?n(o):void 0,f=u?u[0]:o.charAt(0),d=u?t(u,1).join(""):o.slice(1);return f[i]()+d}}return Zv=a,Zv}var ex,NP;function Ote(){if(NP)return ex;NP=1;var t=Pte(),e=t("toUpperCase");return ex=e,ex}var Rte=Ote();const xh=yt(Rte);function Ot(t){return function(){return t}}const R5=Math.cos,rp=Math.sin,sa=Math.sqrt,ap=Math.PI,bh=2*ap,qw=Math.PI,Uw=2*qw,Es=1e-6,Dte=Uw-Es;function D5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Lte(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return D5;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class qte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?D5:Lte(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,f=r-e,d=a-n,p=o-e,h=u-n,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>Es)if(!(Math.abs(h*f-d*p)>Es)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,T=a-u,w=f*f+d*d,A=x*x+T*T,C=Math.sqrt(w),M=Math.sqrt(y),_=i*Math.tan((qw-Math.acos((w+y-A)/(2*C*M)))/2),k=_/M,N=_/C;Math.abs(k-1)>Es&&this._append`L${e+k*p},${n+k*h}`,this._append`A${i},${i},0,0,${+(h*x>p*T)},${this._x1=e+N*f},${this._y1=n+N*d}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),d=e+u,p=n+f,h=1^o,y=o?a-i:i-a;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Es||Math.abs(this._y1-p)>Es)&&this._append`L${d},${p}`,r&&(y<0&&(y=y%Uw+Uw),y>Dte?this._append`A${r},${r},0,1,${h},${e-u},${n-f}A${r},${r},0,1,${h},${this._x1=d},${this._y1=p}`:y>Es&&this._append`A${r},${r},0,${+(y>=qw)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function aE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qte(e)}function iE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L5(t){this._context=t}L5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sh(t){return new L5(t)}function q5(t){return t[0]}function U5(t){return t[1]}function B5(t,e){var n=Ot(!0),r=null,a=Sh,i=null,o=aE(u);t=typeof t=="function"?t:t===void 0?q5:Ot(t),e=typeof e=="function"?e:e===void 0?U5:Ot(e);function u(f){var d,p=(f=iE(f)).length,h,y=!1,x;for(r==null&&(i=a(x=o())),d=0;d<=p;++d)!(d<p&&n(h=f[d],d,f))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(h,d,f),+e(h,d,f));if(x)return i=null,x+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ot(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(i=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=i=null:i=a(r=f),u):r},u}function Sm(t,e,n){var r=null,a=Ot(!0),i=null,o=Sh,u=null,f=aE(d);t=typeof t=="function"?t:t===void 0?q5:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?U5:Ot(+n);function d(h){var y,x,T,w=(h=iE(h)).length,A,C=!1,M,_=new Array(w),k=new Array(w);for(i==null&&(u=o(M=f())),y=0;y<=w;++y){if(!(y<w&&a(A=h[y],y,h))===C)if(C=!C)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=y-1;T>=x;--T)u.point(_[T],k[T]);u.lineEnd(),u.areaEnd()}C&&(_[y]=+t(A,y,h),k[y]=+e(A,y,h),u.point(r?+r(A,y,h):_[y],n?+n(A,y,h):k[y]))}if(M)return u=null,M+""||null}function p(){return B5().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ot(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ot(+h),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Ot(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(u=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=u=null:u=o(i=h),d):i},d}class $5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ute(t){return new $5(t,!0)}function Bte(t){return new $5(t,!1)}const sE={draw(t,e){const n=sa(e/ap);t.moveTo(n,0),t.arc(0,0,n,0,bh)}},$te={draw(t,e){const n=sa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},V5=sa(1/3),Vte=V5*2,Fte={draw(t,e){const n=sa(e/Vte),r=n*V5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},zte={draw(t,e){const n=sa(e),r=-n/2;t.rect(r,r,n,n)}},Gte=.8908130915292852,F5=rp(ap/10)/rp(7*ap/10),Hte=rp(bh/10)*F5,Kte=-R5(bh/10)*F5,Yte={draw(t,e){const n=sa(e*Gte),r=Hte*n,a=Kte*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const o=bh*i/5,u=R5(o),f=rp(o);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*a,f*r+u*a)}t.closePath()}},tx=sa(3),Wte={draw(t,e){const n=-sa(e/(tx*3));t.moveTo(0,n*2),t.lineTo(-tx*n,-n),t.lineTo(tx*n,-n),t.closePath()}},Dr=-.5,Lr=sa(3)/2,Bw=1/sa(12),Xte=(Bw/2+1)*3,Jte={draw(t,e){const n=sa(e/Xte),r=n/2,a=n*Bw,i=r,o=n*Bw+n,u=-i,f=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(u,f),t.lineTo(Dr*r-Lr*a,Lr*r+Dr*a),t.lineTo(Dr*i-Lr*o,Lr*i+Dr*o),t.lineTo(Dr*u-Lr*f,Lr*u+Dr*f),t.lineTo(Dr*r+Lr*a,Dr*a-Lr*r),t.lineTo(Dr*i+Lr*o,Dr*o-Lr*i),t.lineTo(Dr*u+Lr*f,Dr*f-Lr*u),t.closePath()}};function Qte(t,e){let n=null,r=aE(a);t=typeof t=="function"?t:Ot(t||sE),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ot(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ot(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function ip(){}function sp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function z5(t){this._context=t}z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zte(t){return new z5(t)}function G5(t){this._context=t}G5.prototype={areaStart:ip,areaEnd:ip,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ene(t){return new G5(t)}function H5(t){this._context=t}H5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tne(t){return new H5(t)}function K5(t){this._context=t}K5.prototype={areaStart:ip,areaEnd:ip,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nne(t){return new K5(t)}function _P(t){return t<0?-1:1}function CP(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(_P(i)+_P(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function jP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function nx(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,o-u*n,i,o)}function op(t){this._context=t}op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nx(this,this._t0,jP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,nx(this,jP(this,n=CP(this,t,e)),n);break;default:nx(this,this._t0,n=CP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Y5(t){this._context=new W5(t)}(Y5.prototype=Object.create(op.prototype)).point=function(t,e){op.prototype.point.call(this,e,t)};function W5(t){this._context=t}W5.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function rne(t){return new op(t)}function ane(t){return new Y5(t)}function X5(t){this._context=t}X5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=MP(t),a=MP(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MP(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function ine(t){return new X5(t)}function wh(t,e){this._context=t,this._t=e}wh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function sne(t){return new wh(t,.5)}function one(t){return new wh(t,0)}function lne(t){return new wh(t,1)}function Sl(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,u=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function $w(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function une(t,e){return t[e]}function cne(t){const e=[];return e.key=t,e}function dne(){var t=Ot([]),e=$w,n=Sl,r=une;function a(i){var o=Array.from(t.apply(this,arguments),cne),u,f=o.length,d=-1,p;for(const h of i)for(u=0,++d;u<f;++u)(o[u][d]=[0,+r(h,o[u].key,d,i)]).data=h;for(u=0,p=iE(e(o));u<f;++u)o[p[u]].index=u;return n(o,p),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ot(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Ot(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?$w:typeof i=="function"?i:Ot(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??Sl,a):n},a}function fne(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<r;++n)t[n][a][1]/=o}Sl(t,e)}}function mne(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var o=0,u=0;o<a;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Sl(t,e)}}function pne(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var u=0,f=0,d=0;u<o;++u){for(var p=t[e[u]],h=p[r][1]||0,y=p[r-1][1]||0,x=(h-y)/2,T=0;T<u;++T){var w=t[e[T]],A=w[r][1]||0,C=w[r-1][1]||0;x+=A-C}f+=h,d+=x*h}a[r-1][1]+=a[r-1][0]=n,f&&(n-=d/f)}a[r-1][1]+=a[r-1][0]=n,Sl(t,e)}}function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}var hne=["type","size","sizeType"];function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(this,arguments)}function kP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kP(Object(n),!0).forEach(function(r){gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gne(t,e,n){return e=yne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yne(t){var e=vne(t,"string");return Uc(e)=="symbol"?e:e+""}function vne(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xne(t,e){if(t==null)return{};var n=bne(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var J5={symbolCircle:sE,symbolCross:$te,symbolDiamond:Fte,symbolSquare:zte,symbolStar:Yte,symbolTriangle:Wte,symbolWye:Jte},Sne=Math.PI/180,wne=function(e){var n="symbol".concat(xh(e));return J5[n]||sE},Ane=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*Sne;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Tne=function(e,n){J5["symbol".concat(xh(e))]=n},oE=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,o=e.sizeType,u=o===void 0?"area":o,f=xne(e,hne),d=IP(IP({},f),{},{type:r,size:i,sizeType:u}),p=function(){var A=wne(r),C=Qte().type(A).size(Ane(i,u,r));return C()},h=d.className,y=d.cx,x=d.cy,T=Ve(d,!0);return y===+y&&x===+x&&i===+i?Z.createElement("path",Vw({},T,{className:Je("recharts-symbols",h),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};oE.registerSymbol=Tne;function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function PP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ene(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(n),!0).forEach(function(r){Bc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z5(r.key),r)}}function Cne(t,e,n){return e&&_ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jne(t,e,n){return e=lp(e),Mne(t,Q5()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function Mne(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kne(t)}function kne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q5=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function Ine(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zw(t,e)}function zw(t,e){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zw(t,e)}function Bc(t,e,n){return e=Z5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z5(t){var e=Pne(t,"string");return wl(e)=="symbol"?e:e+""}function Pne(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qr=32,lE=(function(t){function e(){return Nne(this,e),jne(this,e,arguments)}return Ine(e,t),Cne(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=qr/2,o=qr/6,u=qr/3,f=r.inactive?a:r.color;if(r.type==="plainline")return Z.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:qr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return Z.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(qr,"M").concat(2*u,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return Z.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(Z.isValidElement(r.legendIcon)){var d=Ene({},r);return delete d.legendIcon,Z.cloneElement(r.legendIcon,d)}return Z.createElement(oE,{fill:f,cx:i,cy:i,size:qr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,u=a.layout,f=a.formatter,d=a.inactiveColor,p={x:0,y:0,width:qr,height:qr},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,T){var w=x.formatter||f,A=Je(Bc(Bc({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",x.inactive));if(x.type==="none")return null;var C=ze(x.value)?null:x.value;ra(!ze(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var M=x.inactive?d:x.color;return Z.createElement("li",Fw({className:A,style:h,key:"legend-item-".concat(T)},Qa(r.props,x,T)),Z.createElement(Dw,{width:o,height:o,viewBox:p,style:y},r.renderIcon(x)),Z.createElement("span",{className:"recharts-legend-item-text",style:{color:M}},w?w(C,x,T):C))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Z.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(j.PureComponent);Bc(lE,"displayName","Legend");Bc(lE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rx,OP;function One(){if(OP)return rx;OP=1;var t=gh();function e(){this.__data__=new t,this.size=0}return rx=e,rx}var ax,RP;function Rne(){if(RP)return ax;RP=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return ax=t,ax}var ix,DP;function Dne(){if(DP)return ix;DP=1;function t(e){return this.__data__.get(e)}return ix=t,ix}var sx,LP;function Lne(){if(LP)return sx;LP=1;function t(e){return this.__data__.has(e)}return sx=t,sx}var ox,qP;function qne(){if(qP)return ox;qP=1;var t=gh(),e=QT(),n=ZT(),r=200;function a(i,o){var u=this.__data__;if(u instanceof t){var f=u.__data__;if(!e||f.length<r-1)return f.push([i,o]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(i,o),this.size=u.size,this}return ox=a,ox}var lx,UP;function eU(){if(UP)return lx;UP=1;var t=gh(),e=One(),n=Rne(),r=Dne(),a=Lne(),i=qne();function o(u){var f=this.__data__=new t(u);this.size=f.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=i,lx=o,lx}var ux,BP;function Une(){if(BP)return ux;BP=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return ux=e,ux}var cx,$P;function Bne(){if($P)return cx;$P=1;function t(e){return this.__data__.has(e)}return cx=t,cx}var dx,VP;function tU(){if(VP)return dx;VP=1;var t=ZT(),e=Une(),n=Bne();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,dx=r,dx}var fx,FP;function nU(){if(FP)return fx;FP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return fx=t,fx}var mx,zP;function rU(){if(zP)return mx;zP=1;function t(e,n){return e.has(n)}return mx=t,mx}var px,GP;function aU(){if(GP)return px;GP=1;var t=tU(),e=nU(),n=rU(),r=1,a=2;function i(o,u,f,d,p,h){var y=f&r,x=o.length,T=u.length;if(x!=T&&!(y&&T>x))return!1;var w=h.get(o),A=h.get(u);if(w&&A)return w==u&&A==o;var C=-1,M=!0,_=f&a?new t:void 0;for(h.set(o,u),h.set(u,o);++C<x;){var k=o[C],N=u[C];if(d)var I=y?d(N,k,C,u,o,h):d(k,N,C,o,u,h);if(I!==void 0){if(I)continue;M=!1;break}if(_){if(!e(u,function(P,L){if(!n(_,L)&&(k===P||p(k,P,f,d,h)))return _.push(L)})){M=!1;break}}else if(!(k===N||p(k,N,f,d,h))){M=!1;break}}return h.delete(o),h.delete(u),M}return px=i,px}var hx,HP;function $ne(){if(HP)return hx;HP=1;var t=Sa(),e=t.Uint8Array;return hx=e,hx}var gx,KP;function Vne(){if(KP)return gx;KP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return gx=t,gx}var yx,YP;function uE(){if(YP)return yx;YP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return yx=t,yx}var vx,WP;function Fne(){if(WP)return vx;WP=1;var t=Pd(),e=$ne(),n=JT(),r=aU(),a=Vne(),i=uE(),o=1,u=2,f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",y="[object Number]",x="[object RegExp]",T="[object Set]",w="[object String]",A="[object Symbol]",C="[object ArrayBuffer]",M="[object DataView]",_=t?t.prototype:void 0,k=_?_.valueOf:void 0;function N(I,P,L,D,q,U,R){switch(L){case M:if(I.byteLength!=P.byteLength||I.byteOffset!=P.byteOffset)return!1;I=I.buffer,P=P.buffer;case C:return!(I.byteLength!=P.byteLength||!U(new e(I),new e(P)));case f:case d:case y:return n(+I,+P);case p:return I.name==P.name&&I.message==P.message;case x:case w:return I==P+"";case h:var B=a;case T:var G=D&o;if(B||(B=i),I.size!=P.size&&!G)return!1;var W=R.get(I);if(W)return W==P;D|=u,R.set(I,P);var V=r(B(I),B(P),D,q,U,R);return R.delete(I),V;case A:if(k)return k.call(I)==k.call(P)}return!1}return vx=N,vx}var xx,XP;function iU(){if(XP)return xx;XP=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return xx=t,xx}var bx,JP;function zne(){if(JP)return bx;JP=1;var t=iU(),e=or();function n(r,a,i){var o=a(r);return e(r)?o:t(o,i(r))}return bx=n,bx}var Sx,QP;function Gne(){if(QP)return Sx;QP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,o=[];++r<a;){var u=e[r];n(u,r,e)&&(o[i++]=u)}return o}return Sx=t,Sx}var wx,ZP;function Hne(){if(ZP)return wx;ZP=1;function t(){return[]}return wx=t,wx}var Ax,eO;function Kne(){if(eO)return Ax;eO=1;var t=Gne(),e=Hne(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(u){return r.call(o,u)}))}:e;return Ax=i,Ax}var Tx,tO;function Yne(){if(tO)return Tx;tO=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return Tx=t,Tx}var Ex,nO;function Wne(){if(nO)return Ex;nO=1;var t=si(),e=oi(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return Ex=r,Ex}var Nx,rO;function cE(){if(rO)return Nx;rO=1;var t=Wne(),e=oi(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return Nx=i,Nx}var fc={exports:{}},_x,aO;function Xne(){if(aO)return _x;aO=1;function t(){return!1}return _x=t,_x}fc.exports;var iO;function sU(){return iO||(iO=1,(function(t,e){var n=Sa(),r=Xne(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,u=o?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||r;t.exports=d})(fc,fc.exports)),fc.exports}var Cx,sO;function dE(){if(sO)return Cx;sO=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return Cx=n,Cx}var jx,oO;function fE(){if(oO)return jx;oO=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return jx=e,jx}var Mx,lO;function Jne(){if(lO)return Mx;lO=1;var t=si(),e=fE(),n=oi(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",y="[object RegExp]",x="[object Set]",T="[object String]",w="[object WeakMap]",A="[object ArrayBuffer]",C="[object DataView]",M="[object Float32Array]",_="[object Float64Array]",k="[object Int8Array]",N="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",L="[object Uint8ClampedArray]",D="[object Uint16Array]",q="[object Uint32Array]",U={};U[M]=U[_]=U[k]=U[N]=U[I]=U[P]=U[L]=U[D]=U[q]=!0,U[r]=U[a]=U[A]=U[i]=U[C]=U[o]=U[u]=U[f]=U[d]=U[p]=U[h]=U[y]=U[x]=U[T]=U[w]=!1;function R(B){return n(B)&&e(B.length)&&!!U[t(B)]}return Mx=R,Mx}var kx,uO;function oU(){if(uO)return kx;uO=1;function t(e){return function(n){return e(n)}}return kx=t,kx}var mc={exports:{}};mc.exports;var cO;function Qne(){return cO||(cO=1,(function(t,e){var n=_5(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,o=i&&n.process,u=(function(){try{var f=a&&a.require&&a.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(mc,mc.exports)),mc.exports}var Ix,dO;function lU(){if(dO)return Ix;dO=1;var t=Jne(),e=oU(),n=Qne(),r=n&&n.isTypedArray,a=r?e(r):t;return Ix=a,Ix}var Px,fO;function Zne(){if(fO)return Px;fO=1;var t=Yne(),e=cE(),n=or(),r=sU(),a=dE(),i=lU(),o=Object.prototype,u=o.hasOwnProperty;function f(d,p){var h=n(d),y=!h&&e(d),x=!h&&!y&&r(d),T=!h&&!y&&!x&&i(d),w=h||y||x||T,A=w?t(d.length,String):[],C=A.length;for(var M in d)(p||u.call(d,M))&&!(w&&(M=="length"||x&&(M=="offset"||M=="parent")||T&&(M=="buffer"||M=="byteLength"||M=="byteOffset")||a(M,C)))&&A.push(M);return A}return Px=f,Px}var Ox,mO;function ere(){if(mO)return Ox;mO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return Ox=e,Ox}var Rx,pO;function uU(){if(pO)return Rx;pO=1;function t(e,n){return function(r){return e(n(r))}}return Rx=t,Rx}var Dx,hO;function tre(){if(hO)return Dx;hO=1;var t=uU(),e=t(Object.keys,Object);return Dx=e,Dx}var Lx,gO;function nre(){if(gO)return Lx;gO=1;var t=ere(),e=tre(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&o.push(u);return o}return Lx=a,Lx}var qx,yO;function Dd(){if(yO)return qx;yO=1;var t=XT(),e=fE();function n(r){return r!=null&&e(r.length)&&!t(r)}return qx=n,qx}var Ux,vO;function Ah(){if(vO)return Ux;vO=1;var t=Zne(),e=nre(),n=Dd();function r(a){return n(a)?t(a):e(a)}return Ux=r,Ux}var Bx,xO;function rre(){if(xO)return Bx;xO=1;var t=zne(),e=Kne(),n=Ah();function r(a){return t(a,n,e)}return Bx=r,Bx}var $x,bO;function are(){if(bO)return $x;bO=1;var t=rre(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,o,u,f,d,p){var h=u&e,y=t(i),x=y.length,T=t(o),w=T.length;if(x!=w&&!h)return!1;for(var A=x;A--;){var C=y[A];if(!(h?C in o:r.call(o,C)))return!1}var M=p.get(i),_=p.get(o);if(M&&_)return M==o&&_==i;var k=!0;p.set(i,o),p.set(o,i);for(var N=h;++A<x;){C=y[A];var I=i[C],P=o[C];if(f)var L=h?f(P,I,C,o,i,p):f(I,P,C,i,o,p);if(!(L===void 0?I===P||d(I,P,u,f,p):L)){k=!1;break}N||(N=C=="constructor")}if(k&&!N){var D=i.constructor,q=o.constructor;D!=q&&"constructor"in i&&"constructor"in o&&!(typeof D=="function"&&D instanceof D&&typeof q=="function"&&q instanceof q)&&(k=!1)}return p.delete(i),p.delete(o),k}return $x=a,$x}var Vx,SO;function ire(){if(SO)return Vx;SO=1;var t=no(),e=Sa(),n=t(e,"DataView");return Vx=n,Vx}var Fx,wO;function sre(){if(wO)return Fx;wO=1;var t=no(),e=Sa(),n=t(e,"Promise");return Fx=n,Fx}var zx,AO;function cU(){if(AO)return zx;AO=1;var t=no(),e=Sa(),n=t(e,"Set");return zx=n,zx}var Gx,TO;function ore(){if(TO)return Gx;TO=1;var t=no(),e=Sa(),n=t(e,"WeakMap");return Gx=n,Gx}var Hx,EO;function lre(){if(EO)return Hx;EO=1;var t=ire(),e=QT(),n=sre(),r=cU(),a=ore(),i=si(),o=C5(),u="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",x=o(t),T=o(e),w=o(n),A=o(r),C=o(a),M=i;return(t&&M(new t(new ArrayBuffer(1)))!=y||e&&M(new e)!=u||n&&M(n.resolve())!=d||r&&M(new r)!=p||a&&M(new a)!=h)&&(M=function(_){var k=i(_),N=k==f?_.constructor:void 0,I=N?o(N):"";if(I)switch(I){case x:return y;case T:return u;case w:return d;case A:return p;case C:return h}return k}),Hx=M,Hx}var Kx,NO;function ure(){if(NO)return Kx;NO=1;var t=eU(),e=aU(),n=Fne(),r=are(),a=lre(),i=or(),o=sU(),u=lU(),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function T(w,A,C,M,_,k){var N=i(w),I=i(A),P=N?p:a(w),L=I?p:a(A);P=P==d?h:P,L=L==d?h:L;var D=P==h,q=L==h,U=P==L;if(U&&o(w)){if(!o(A))return!1;N=!0,D=!1}if(U&&!D)return k||(k=new t),N||u(w)?e(w,A,C,M,_,k):n(w,A,P,C,M,_,k);if(!(C&f)){var R=D&&x.call(w,"__wrapped__"),B=q&&x.call(A,"__wrapped__");if(R||B){var G=R?w.value():w,W=B?A.value():A;return k||(k=new t),_(G,W,C,M,k)}}return U?(k||(k=new t),r(w,A,C,M,_,k)):!1}return Kx=T,Kx}var Yx,_O;function mE(){if(_O)return Yx;_O=1;var t=ure(),e=oi();function n(r,a,i,o,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,o,n,u)}return Yx=n,Yx}var Wx,CO;function cre(){if(CO)return Wx;CO=1;var t=eU(),e=mE(),n=1,r=2;function a(i,o,u,f){var d=u.length,p=d,h=!f;if(i==null)return!p;for(i=Object(i);d--;){var y=u[d];if(h&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++d<p;){y=u[d];var x=y[0],T=i[x],w=y[1];if(h&&y[2]){if(T===void 0&&!(x in i))return!1}else{var A=new t;if(f)var C=f(T,w,x,i,o,A);if(!(C===void 0?e(w,T,n|r,f,A):C))return!1}}return!0}return Wx=a,Wx}var Xx,jO;function dU(){if(jO)return Xx;jO=1;var t=Ji();function e(n){return n===n&&!t(n)}return Xx=e,Xx}var Jx,MO;function dre(){if(MO)return Jx;MO=1;var t=dU(),e=Ah();function n(r){for(var a=e(r),i=a.length;i--;){var o=a[i],u=r[o];a[i]=[o,u,t(u)]}return a}return Jx=n,Jx}var Qx,kO;function fU(){if(kO)return Qx;kO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Qx=t,Qx}var Zx,IO;function fre(){if(IO)return Zx;IO=1;var t=cre(),e=dre(),n=fU();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return Zx=r,Zx}var eb,PO;function mre(){if(PO)return eb;PO=1;function t(e,n){return e!=null&&n in Object(e)}return eb=t,eb}var tb,OO;function pre(){if(OO)return tb;OO=1;var t=k5(),e=cE(),n=or(),r=dE(),a=fE(),i=vh();function o(u,f,d){f=t(f,u);for(var p=-1,h=f.length,y=!1;++p<h;){var x=i(f[p]);if(!(y=u!=null&&d(u,x)))break;u=u[x]}return y||++p!=h?y:(h=u==null?0:u.length,!!h&&a(h)&&r(x,h)&&(n(u)||e(u)))}return tb=o,tb}var nb,RO;function hre(){if(RO)return nb;RO=1;var t=mre(),e=pre();function n(r,a){return r!=null&&e(r,a,t)}return nb=n,nb}var rb,DO;function gre(){if(DO)return rb;DO=1;var t=mE(),e=I5(),n=hre(),r=WT(),a=dU(),i=fU(),o=vh(),u=1,f=2;function d(p,h){return r(p)&&a(h)?i(o(p),h):function(y){var x=e(y,p);return x===void 0&&x===h?n(y,p):t(h,x,u|f)}}return rb=d,rb}var ab,LO;function eu(){if(LO)return ab;LO=1;function t(e){return e}return ab=t,ab}var ib,qO;function yre(){if(qO)return ib;qO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return ib=t,ib}var sb,UO;function vre(){if(UO)return sb;UO=1;var t=tE();function e(n){return function(r){return t(r,n)}}return sb=e,sb}var ob,BO;function xre(){if(BO)return ob;BO=1;var t=yre(),e=vre(),n=WT(),r=vh();function a(i){return n(i)?t(r(i)):e(i)}return ob=a,ob}var lb,$O;function wa(){if($O)return lb;$O=1;var t=fre(),e=gre(),n=eu(),r=or(),a=xre();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):a(o)}return lb=i,lb}var ub,VO;function mU(){if(VO)return ub;VO=1;function t(e,n,r,a){for(var i=e.length,o=r+(a?1:-1);a?o--:++o<i;)if(n(e[o],o,e))return o;return-1}return ub=t,ub}var cb,FO;function bre(){if(FO)return cb;FO=1;function t(e){return e!==e}return cb=t,cb}var db,zO;function Sre(){if(zO)return db;zO=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return db=t,db}var fb,GO;function wre(){if(GO)return fb;GO=1;var t=mU(),e=bre(),n=Sre();function r(a,i,o){return i===i?n(a,i,o):t(a,e,o)}return fb=r,fb}var mb,HO;function Are(){if(HO)return mb;HO=1;var t=wre();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return mb=e,mb}var pb,KO;function Tre(){if(KO)return pb;KO=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return pb=t,pb}var hb,YO;function Ere(){if(YO)return hb;YO=1;function t(){}return hb=t,hb}var gb,WO;function Nre(){if(WO)return gb;WO=1;var t=cU(),e=Ere(),n=uE(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return gb=a,gb}var yb,XO;function _re(){if(XO)return yb;XO=1;var t=tU(),e=Are(),n=Tre(),r=rU(),a=Nre(),i=uE(),o=200;function u(f,d,p){var h=-1,y=e,x=f.length,T=!0,w=[],A=w;if(p)T=!1,y=n;else if(x>=o){var C=d?null:a(f);if(C)return i(C);T=!1,y=r,A=new t}else A=d?[]:w;e:for(;++h<x;){var M=f[h],_=d?d(M):M;if(M=p||M!==0?M:0,T&&_===_){for(var k=A.length;k--;)if(A[k]===_)continue e;d&&A.push(_),w.push(M)}else y(A,_,p)||(A!==w&&A.push(_),w.push(M))}return w}return yb=u,yb}var vb,JO;function Cre(){if(JO)return vb;JO=1;var t=wa(),e=_re();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return vb=n,vb}var jre=Cre();const QO=yt(jre);function pU(t,e,n){return e===!0?QO(t,n):ze(e)?QO(t,e):t}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}var Mre=["ref"];function ZO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(n),!0).forEach(function(r){Th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gU(r.key),r)}}function Ire(t,e,n){return e&&eR(t.prototype,e),n&&eR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pre(t,e,n){return e=up(e),Ore(t,hU()?Reflect.construct(e,n||[],up(t).constructor):e.apply(t,n))}function Ore(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rre(t)}function Rre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hU=function(){return!!t})()}function up(t){return up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},up(t)}function Dre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gw(t,e)}function Gw(t,e){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Gw(t,e)}function Th(t,e,n){return e=gU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gU(t){var e=Lre(t,"string");return Al(e)=="symbol"?e:e+""}function Lre(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qre(t,e){if(t==null)return{};var n=Ure(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ure(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Bre(t){return t.value}function $re(t,e){if(Z.isValidElement(t))return Z.cloneElement(t,e);if(typeof t=="function")return Z.createElement(t,e);e.ref;var n=qre(e,Mre);return Z.createElement(lE,n)}var tR=1,Fi=(function(t){function e(){var n;kre(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Pre(this,e,[].concat(a)),Th(n,"lastBoundingBox",{width:-1,height:-1}),n}return Dre(e,t),Ire(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>tR||Math.abs(a.height-this.lastBoundingBox.height)>tR)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Va({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,u=a.verticalAlign,f=a.margin,d=a.chartWidth,p=a.chartHeight,h,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();h={left:((d||0)-x.width)/2}}else h=o==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var T=this.getBBoxSnapshot();y={top:((p||0)-T.height)/2}}else y=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Va(Va({},h),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,u=a.height,f=a.wrapperStyle,d=a.payloadUniqBy,p=a.payload,h=Va(Va({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return Z.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(x){r.wrapperNode=x}},$re(i,Va(Va({},this.props),{},{payload:pU(p,d,Bre)})))}}],[{key:"getWithHeight",value:function(r,a){var i=Va(Va({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Ee(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])})(j.PureComponent);Th(Fi,"displayName","Legend");Th(Fi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var xb,nR;function Vre(){if(nR)return xb;nR=1;var t=Pd(),e=cE(),n=or(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return xb=a,xb}var bb,rR;function yU(){if(rR)return bb;rR=1;var t=iU(),e=Vre();function n(r,a,i,o,u){var f=-1,d=r.length;for(i||(i=e),u||(u=[]);++f<d;){var p=r[f];a>0&&i(p)?a>1?n(p,a-1,i,o,u):t(u,p):o||(u[u.length]=p)}return u}return bb=n,bb}var Sb,aR;function Fre(){if(aR)return Sb;aR=1;function t(e){return function(n,r,a){for(var i=-1,o=Object(n),u=a(n),f=u.length;f--;){var d=u[e?f:++i];if(r(o[d],d,o)===!1)break}return n}}return Sb=t,Sb}var wb,iR;function zre(){if(iR)return wb;iR=1;var t=Fre(),e=t();return wb=e,wb}var Ab,sR;function vU(){if(sR)return Ab;sR=1;var t=zre(),e=Ah();function n(r,a){return r&&t(r,a,e)}return Ab=n,Ab}var Tb,oR;function Gre(){if(oR)return Tb;oR=1;var t=Dd();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var o=a.length,u=r?o:-1,f=Object(a);(r?u--:++u<o)&&i(f[u],u,f)!==!1;);return a}}return Tb=e,Tb}var Eb,lR;function pE(){if(lR)return Eb;lR=1;var t=vU(),e=Gre(),n=e(t);return Eb=n,Eb}var Nb,uR;function xU(){if(uR)return Nb;uR=1;var t=pE(),e=Dd();function n(r,a){var i=-1,o=e(r)?Array(r.length):[];return t(r,function(u,f,d){o[++i]=a(u,f,d)}),o}return Nb=n,Nb}var _b,cR;function Hre(){if(cR)return _b;cR=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return _b=t,_b}var Cb,dR;function Kre(){if(dR)return Cb;dR=1;var t=Ql();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,o=n===n,u=t(n),f=r!==void 0,d=r===null,p=r===r,h=t(r);if(!d&&!h&&!u&&n>r||u&&f&&p&&!d&&!h||i&&f&&p||!a&&p||!o)return 1;if(!i&&!u&&!h&&n<r||h&&a&&o&&!i&&!u||d&&a&&o||!f&&o||!p)return-1}return 0}return Cb=e,Cb}var jb,fR;function Yre(){if(fR)return jb;fR=1;var t=Kre();function e(n,r,a){for(var i=-1,o=n.criteria,u=r.criteria,f=o.length,d=a.length;++i<f;){var p=t(o[i],u[i]);if(p){if(i>=d)return p;var h=a[i];return p*(h=="desc"?-1:1)}}return n.index-r.index}return jb=e,jb}var Mb,mR;function Wre(){if(mR)return Mb;mR=1;var t=eE(),e=tE(),n=wa(),r=xU(),a=Hre(),i=oU(),o=Yre(),u=eu(),f=or();function d(p,h,y){h.length?h=t(h,function(w){return f(w)?function(A){return e(A,w.length===1?w[0]:w)}:w}):h=[u];var x=-1;h=t(h,i(n));var T=r(p,function(w,A,C){var M=t(h,function(_){return _(w)});return{criteria:M,index:++x,value:w}});return a(T,function(w,A){return o(w,A,y)})}return Mb=d,Mb}var kb,pR;function Xre(){if(pR)return kb;pR=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return kb=t,kb}var Ib,hR;function Jre(){if(hR)return Ib;hR=1;var t=Xre(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var o=arguments,u=-1,f=e(o.length-a,0),d=Array(f);++u<f;)d[u]=o[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=o[u];return p[a]=i(d),t(r,this,p)}}return Ib=n,Ib}var Pb,gR;function Qre(){if(gR)return Pb;gR=1;function t(e){return function(){return e}}return Pb=t,Pb}var Ob,yR;function bU(){if(yR)return Ob;yR=1;var t=no(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Ob=e,Ob}var Rb,vR;function Zre(){if(vR)return Rb;vR=1;var t=Qre(),e=bU(),n=eu(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return Rb=r,Rb}var Db,xR;function eae(){if(xR)return Db;xR=1;var t=800,e=16,n=Date.now;function r(a){var i=0,o=0;return function(){var u=n(),f=e-(u-o);if(o=u,f>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Db=r,Db}var Lb,bR;function tae(){if(bR)return Lb;bR=1;var t=Zre(),e=eae(),n=e(t);return Lb=n,Lb}var qb,SR;function nae(){if(SR)return qb;SR=1;var t=eu(),e=Jre(),n=tae();function r(a,i){return n(e(a,i,t),a+"")}return qb=r,qb}var Ub,wR;function Eh(){if(wR)return Ub;wR=1;var t=JT(),e=Dd(),n=dE(),r=Ji();function a(i,o,u){if(!r(u))return!1;var f=typeof o;return(f=="number"?e(u)&&n(o,u.length):f=="string"&&o in u)?t(u[o],i):!1}return Ub=a,Ub}var Bb,AR;function rae(){if(AR)return Bb;AR=1;var t=yU(),e=Wre(),n=nae(),r=Eh(),a=n(function(i,o){if(i==null)return[];var u=o.length;return u>1&&r(i,o[0],o[1])?o=[]:u>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Bb=a,Bb}var aae=rae();const hE=yt(aae);function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Hw(){return Hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hw.apply(this,arguments)}function iae(t,e){return uae(t)||lae(t,e)||oae(t,e)||sae()}function sae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t,e){if(t){if(typeof t=="string")return TR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TR(t,e)}}function TR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function uae(t){if(Array.isArray(t))return t}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e,n){return e=dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=fae(t,"string");return $c(e)=="symbol"?e:e+""}function fae(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mae(t){return Array.isArray(t)&&Sn(t[0])&&Sn(t[1])?t.join(" ~ "):t}var pae=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,u=o===void 0?{}:o,f=e.labelStyle,d=f===void 0?{}:f,p=e.payload,h=e.formatter,y=e.itemSorter,x=e.wrapperClassName,T=e.labelClassName,w=e.label,A=e.labelFormatter,C=e.accessibilityLayer,M=C===void 0?!1:C,_=function(){if(p&&p.length){var R={padding:0,margin:0},B=(y?hE(p,y):p).map(function(G,W){if(G.type==="none")return null;var V=$b({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},u),K=G.formatter||h||mae,Y=G.value,te=G.name,re=Y,$=te;if(K&&re!=null&&$!=null){var z=K(Y,te,G,W,p);if(Array.isArray(z)){var H=iae(z,2);re=H[0],$=H[1]}else re=z}return Z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:V},Sn($)?Z.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Sn($)?Z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Z.createElement("span",{className:"recharts-tooltip-item-value"},re),Z.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Z.createElement("ul",{className:"recharts-tooltip-item-list",style:R},B)}return null},k=$b({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=$b({margin:0},d),I=!et(w),P=I?w:"",L=Je("recharts-default-tooltip",x),D=Je("recharts-tooltip-label",T);I&&A&&p!==void 0&&p!==null&&(P=A(w,p));var q=M?{role:"status","aria-live":"assertive"}:{};return Z.createElement("div",Hw({className:L,style:k},q),Z.createElement("p",{className:D,style:N},Z.isValidElement(P)?P:"".concat(P)),_())};function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function wm(t,e,n){return e=hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=gae(t,"string");return Vc(e)=="symbol"?e:e+""}function gae(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tc="recharts-tooltip-wrapper",yae={visibility:"hidden"};function vae(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Je(tc,wm(wm(wm(wm({},"".concat(tc,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(tc,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(tc,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(tc,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function NR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,u=t.tooltipDimension,f=t.viewBox,d=t.viewBoxDimension;if(i&&Ee(i[r]))return i[r];var p=n[r]-u-a,h=n[r]+a;if(e[r])return o[r]?p:h;if(o[r]){var y=p,x=f[r];return y<x?Math.max(h,f[r]):Math.max(p,f[r])}var T=h+u,w=f[r]+d;return T>w?Math.max(p,f[r]):Math.max(h,f[r])}function xae(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function bae(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,f=t.viewBox,d,p,h;return o.height>0&&o.width>0&&n?(p=NR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),h=NR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),d=xae({translateX:p,translateY:h,useTranslate3d:u})):d=yae,{cssProperties:d,cssClasses:vae({translateX:p,translateY:h,coordinate:n})}}function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){Yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wU(r.key),r)}}function Aae(t,e,n){return e&&wae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tae(t,e,n){return e=cp(e),Eae(t,SU()?Reflect.construct(e,n||[],cp(t).constructor):e.apply(t,n))}function Eae(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nae(t)}function Nae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SU=function(){return!!t})()}function cp(t){return cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cp(t)}function _ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kw(t,e)}function Kw(t,e){return Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Kw(t,e)}function Yw(t,e,n){return e=wU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wU(t){var e=Cae(t,"string");return Tl(e)=="symbol"?e:e+""}function Cae(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jR=1,jae=(function(t){function e(){var n;Sae(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Tae(this,e,[].concat(a)),Yw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Yw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var u,f,d,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(d=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),n}return _ae(e,t),Aae(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jR||Math.abs(r.height-this.state.lastBoundingBox.height)>jR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,d=a.children,p=a.coordinate,h=a.hasPayload,y=a.isAnimationActive,x=a.offset,T=a.position,w=a.reverseDirection,A=a.useTranslate3d,C=a.viewBox,M=a.wrapperStyle,_=bae({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:T,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:C}),k=_.cssClasses,N=_.cssProperties,I=CR(CR({transition:y&&i?"transform ".concat(u,"ms ").concat(f):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},M);return Z.createElement("div",{tabIndex:-1,className:k,style:I,ref:function(L){r.wrapperNode=L}},d)}}])})(j.PureComponent),Mae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ro={isSsr:Mae()};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){gE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TU(r.key),r)}}function Pae(t,e,n){return e&&Iae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oae(t,e,n){return e=dp(e),Rae(t,AU()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function Rae(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dae(t)}function Dae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AU=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dp(t)}function Lae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ww(t,e)}function Ww(t,e){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ww(t,e)}function gE(t,e,n){return e=TU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TU(t){var e=qae(t,"string");return El(e)=="symbol"?e:e+""}function qae(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Uae(t){return t.dataKey}function Bae(t,e){return Z.isValidElement(t)?Z.cloneElement(t,e):typeof t=="function"?Z.createElement(t,e):Z.createElement(pae,e)}var Sr=(function(t){function e(){return kae(this,e),Oae(this,e,arguments)}return Lae(e,t),Pae(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,d=a.content,p=a.coordinate,h=a.filterNull,y=a.isAnimationActive,x=a.offset,T=a.payload,w=a.payloadUniqBy,A=a.position,C=a.reverseDirection,M=a.useTranslate3d,_=a.viewBox,k=a.wrapperStyle,N=T??[];h&&N.length&&(N=pU(T.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),w,Uae));var I=N.length>0;return Z.createElement(jae,{allowEscapeViewBox:o,animationDuration:u,animationEasing:f,isAnimationActive:y,active:i,coordinate:p,hasPayload:I,offset:x,position:A,reverseDirection:C,useTranslate3d:M,viewBox:_,wrapperStyle:k},Bae(d,kR(kR({},this.props),{},{payload:N})))}}])})(j.PureComponent);gE(Sr,"displayName","Tooltip");gE(Sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ro.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Vb,IR;function $ae(){if(IR)return Vb;IR=1;var t=Sa(),e=function(){return t.Date.now()};return Vb=e,Vb}var Fb,PR;function Vae(){if(PR)return Fb;PR=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Fb=e,Fb}var zb,OR;function Fae(){if(OR)return zb;OR=1;var t=Vae(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return zb=n,zb}var Gb,RR;function EU(){if(RR)return Gb;RR=1;var t=Fae(),e=Ji(),n=Ql(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?u(d.slice(2),h?2:8):a.test(d)?r:+d}return Gb=f,Gb}var Hb,DR;function zae(){if(DR)return Hb;DR=1;var t=Ji(),e=$ae(),n=EU(),r="Expected a function",a=Math.max,i=Math.min;function o(u,f,d){var p,h,y,x,T,w,A=0,C=!1,M=!1,_=!0;if(typeof u!="function")throw new TypeError(r);f=n(f)||0,t(d)&&(C=!!d.leading,M="maxWait"in d,y=M?a(n(d.maxWait)||0,f):y,_="trailing"in d?!!d.trailing:_);function k(B){var G=p,W=h;return p=h=void 0,A=B,x=u.apply(W,G),x}function N(B){return A=B,T=setTimeout(L,f),C?k(B):x}function I(B){var G=B-w,W=B-A,V=f-G;return M?i(V,y-W):V}function P(B){var G=B-w,W=B-A;return w===void 0||G>=f||G<0||M&&W>=y}function L(){var B=e();if(P(B))return D(B);T=setTimeout(L,I(B))}function D(B){return T=void 0,_&&p?k(B):(p=h=void 0,x)}function q(){T!==void 0&&clearTimeout(T),A=0,p=w=h=T=void 0}function U(){return T===void 0?x:D(e())}function R(){var B=e(),G=P(B);if(p=arguments,h=this,w=B,G){if(T===void 0)return N(w);if(M)return clearTimeout(T),T=setTimeout(L,f),k(w)}return T===void 0&&(T=setTimeout(L,f)),x}return R.cancel=q,R.flush=U,R}return Hb=o,Hb}var Kb,LR;function Gae(){if(LR)return Kb;LR=1;var t=zae(),e=Ji(),n="Expected a function";function r(a,i,o){var u=!0,f=!0;if(typeof a!="function")throw new TypeError(n);return e(o)&&(u="leading"in o?!!o.leading:u,f="trailing"in o?!!o.trailing:f),t(a,i,{leading:u,maxWait:i,trailing:f})}return Kb=r,Kb}var Hae=Gae();const NU=yt(Hae);function Fc(t){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fc(t)}function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Am(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){Kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kae(t,e,n){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=Wae(t,"string");return Fc(e)=="symbol"?e:e+""}function Wae(t,e){if(Fc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xae(t,e){return eie(t)||Zae(t,e)||Qae(t,e)||Jae()}function Jae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qae(t,e){if(t){if(typeof t=="string")return UR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UR(t,e)}}function UR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function eie(t){if(Array.isArray(t))return t}var Tm=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,u=t.height,f=u===void 0?"100%":u,d=t.minWidth,p=d===void 0?0:d,h=t.minHeight,y=t.maxHeight,x=t.children,T=t.debounce,w=T===void 0?0:T,A=t.id,C=t.className,M=t.onResize,_=t.style,k=_===void 0?{}:_,N=j.useRef(null),I=j.useRef();I.current=M,j.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var P=j.useState({containerWidth:a.width,containerHeight:a.height}),L=Xae(P,2),D=L[0],q=L[1],U=j.useCallback(function(B,G){q(function(W){var V=Math.round(B),K=Math.round(G);return W.containerWidth===V&&W.containerHeight===K?W:{containerWidth:V,containerHeight:K}})},[]);j.useEffect(function(){var B=function(te){var re,$=te[0].contentRect,z=$.width,H=$.height;U(z,H),(re=I.current)===null||re===void 0||re.call(I,z,H)};w>0&&(B=NU(B,w,{trailing:!0,leading:!1}));var G=new ResizeObserver(B),W=N.current.getBoundingClientRect(),V=W.width,K=W.height;return U(V,K),G.observe(N.current),function(){G.disconnect()}},[U,w]);var R=j.useMemo(function(){var B=D.containerWidth,G=D.containerHeight;if(B<0||G<0)return null;ra(Is(o)||Is(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,f),ra(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Is(o)?B:o,V=Is(f)?G:f;n&&n>0&&(W?V=W/n:V&&(W=V*n),y&&V>y&&(V=y)),ra(W>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,V,o,f,p,h,n);var K=!Array.isArray(x)&&Ka(x.type).endsWith("Chart");return Z.Children.map(x,function(Y){return Z.isValidElement(Y)?j.cloneElement(Y,Am({width:W,height:V},K?{style:Am({height:"100%",width:"100%",maxHeight:V,maxWidth:W},Y.props.style)}:{})):Y})},[n,x,f,y,h,p,D,o]);return Z.createElement("div",{id:A?"".concat(A):void 0,className:Je("recharts-responsive-container",C),style:Am(Am({},k),{},{width:o,height:f,minWidth:p,minHeight:h,maxHeight:y}),ref:N},R)}),Ld=function(e){return null};Ld.displayName="Cell";function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function BR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return e=nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return zc(e)=="symbol"?e:e+""}function rie(t,e){if(zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xo={widthCache:{},cacheCount:0},aie=2e3,iie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$R="recharts_measurement_span";function sie(t){var e=Xw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Sc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ro.isSsr)return{width:0,height:0};var r=sie(n),a=JSON.stringify({text:e,copyStyle:r});if(Xo.widthCache[a])return Xo.widthCache[a];try{var i=document.getElementById($R);i||(i=document.createElement("span"),i.setAttribute("id",$R),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Xw(Xw({},iie),r);Object.assign(i.style,o),i.textContent="".concat(e);var u=i.getBoundingClientRect(),f={width:u.width,height:u.height};return Xo.widthCache[a]=f,++Xo.cacheCount>aie&&(Xo.cacheCount=0,Xo.widthCache={}),f}catch{return{width:0,height:0}}},oie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function fp(t,e){return die(t)||cie(t,e)||uie(t,e)||lie()}function lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uie(t,e){if(t){if(typeof t=="string")return VR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VR(t,e)}}function VR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function die(t){if(Array.isArray(t))return t}function fie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pie(r.key),r)}}function mie(t,e,n){return e&&FR(t.prototype,e),n&&FR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pie(t){var e=hie(t,"string");return Gc(e)=="symbol"?e:e+""}function hie(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_U={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vie=Object.keys(_U),sl="NaN";function xie(t,e){return t*_U[e]}var Em=(function(){function t(e,n){fie(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!gie.test(n)&&(this.num=NaN,this.unit=""),vie.includes(n)&&(this.num=xie(e,n),this.unit="px")}return mie(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=yie.exec(n))!==null&&r!==void 0?r:[],i=fp(a,3),o=i[1],u=i[2];return new t(parseFloat(o),u??"")}}])})();function CU(t){if(t.includes(sl))return sl;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=zR.exec(e))!==null&&n!==void 0?n:[],a=fp(r,4),i=a[1],o=a[2],u=a[3],f=Em.parse(i??""),d=Em.parse(u??""),p=o==="*"?f.multiply(d):f.divide(d);if(p.isNaN())return sl;e=e.replace(zR,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,y=(h=GR.exec(e))!==null&&h!==void 0?h:[],x=fp(y,4),T=x[1],w=x[2],A=x[3],C=Em.parse(T??""),M=Em.parse(A??""),_=w==="+"?C.add(M):C.subtract(M);if(_.isNaN())return sl;e=e.replace(GR,_.toString())}return e}var HR=/\(([^()]*)\)/;function bie(t){for(var e=t;e.includes("(");){var n=HR.exec(e),r=fp(n,2),a=r[1];e=e.replace(HR,CU(a))}return e}function Sie(t){var e=t.replace(/\s+/g,"");return e=bie(e),e=CU(e),e}function wie(t){try{return Sie(t)}catch{return sl}}function Yb(t){var e=wie(t.slice(5,-1));return e===sl?"":e}var Aie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Tie=["dx","dy","angle","className","breakAll"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(this,arguments)}function KR(t,e){if(t==null)return{};var n=Eie(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function YR(t,e){return jie(t)||Cie(t,e)||_ie(t,e)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ie(t,e){if(t){if(typeof t=="string")return WR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WR(t,e)}}function WR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function jie(t){if(Array.isArray(t))return t}var jU=/[ \f\n\r\t\v\u2028\u2029]+/,MU=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];et(n)||(r?i=n.toString().split(""):i=n.toString().split(jU));var o=i.map(function(f){return{word:f,width:Sc(f,a).width}}),u=r?0:Sc(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},Mie=function(e,n,r,a,i){var o=e.maxLines,u=e.children,f=e.style,d=e.breakAll,p=Ee(o),h=u,y=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(V,K){var Y=K.word,te=K.width,re=V[V.length-1];if(re&&(a==null||i||re.width+te+r<Number(a)))re.words.push(Y),re.width+=te+r;else{var $={words:[Y],width:te};V.push($)}return V},[])},x=y(n),T=function(W){return W.reduce(function(V,K){return V.width>K.width?V:K})};if(!p)return x;for(var w="…",A=function(W){var V=h.slice(0,W),K=MU({breakAll:d,style:f,children:V+w}).wordsWithComputedWidth,Y=y(K),te=Y.length>o||T(Y).width>Number(a);return[te,Y]},C=0,M=h.length-1,_=0,k;C<=M&&_<=h.length-1;){var N=Math.floor((C+M)/2),I=N-1,P=A(I),L=YR(P,2),D=L[0],q=L[1],U=A(N),R=YR(U,1),B=R[0];if(!D&&!B&&(C=N+1),D&&B&&(M=N-1),!D&&B){k=q;break}_++}return k||x},XR=function(e){var n=et(e)?[]:e.toString().split(jU);return[{words:n}]},kie=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,u=e.maxLines;if((n||r)&&!ro.isSsr){var f,d,p=MU({breakAll:o,children:a,style:i});if(p){var h=p.wordsWithComputedWidth,y=p.spaceWidth;f=h,d=y}else return XR(a);return Mie({breakAll:o,children:a,maxLines:u,style:i},f,d,n,r)}return XR(a)},JR="#808080",Hs=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.lineHeight,u=o===void 0?"1em":o,f=e.capHeight,d=f===void 0?"0.71em":f,p=e.scaleToFit,h=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,T=e.verticalAnchor,w=T===void 0?"end":T,A=e.fill,C=A===void 0?JR:A,M=KR(e,Aie),_=j.useMemo(function(){return kie({breakAll:M.breakAll,children:M.children,maxLines:M.maxLines,scaleToFit:h,style:M.style,width:M.width})},[M.breakAll,M.children,M.maxLines,h,M.style,M.width]),k=M.dx,N=M.dy,I=M.angle,P=M.className,L=M.breakAll,D=KR(M,Tie);if(!Sn(r)||!Sn(i))return null;var q=r+(Ee(k)?k:0),U=i+(Ee(N)?N:0),R;switch(w){case"start":R=Yb("calc(".concat(d,")"));break;case"middle":R=Yb("calc(".concat((_.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:R=Yb("calc(".concat(_.length-1," * -").concat(u,")"));break}var B=[];if(h){var G=_[0].width,W=M.width;B.push("scale(".concat((Ee(W)?W/G:1)/G,")"))}return I&&B.push("rotate(".concat(I,", ").concat(q,", ").concat(U,")")),B.length&&(D.transform=B.join(" ")),Z.createElement("text",Jw({},Ve(D,!0),{x:q,y:U,className:Je("recharts-text",P),textAnchor:x,fill:C.includes("url")?JR:C}),_.map(function(V,K){var Y=V.words.join(L?"":" ");return Z.createElement("tspan",{x:q,dy:K===0?R:u,key:"".concat(Y,"-").concat(K)},Y)}))};function zi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yE(t){let e,n,r;t.length!==2?(e=zi,n=(u,f)=>zi(t(u),f),r=(u,f)=>t(u)-f):(e=t===zi||t===Iie?t:Pie,n=t,r=t);function a(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const h=d+p>>>1;n(u[h],f)<0?d=h+1:p=h}while(d<p)}return d}function i(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const h=d+p>>>1;n(u[h],f)<=0?d=h+1:p=h}while(d<p)}return d}function o(u,f,d=0,p=u.length){const h=a(u,f,d,p-1);return h>d&&r(u[h-1],f)>-r(u[h],f)?h-1:h}return{left:a,center:o,right:i}}function Pie(){return 0}function kU(t){return t===null?NaN:+t}function*Oie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Rie=yE(zi),qd=Rie.right;yE(kU).center;class QR extends Map{constructor(e,n=qie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(ZR(this,e))}has(e){return super.has(ZR(this,e))}set(e,n){return super.set(Die(this,e),n)}delete(e){return super.delete(Lie(this,e))}}function ZR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Die({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Lie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Uie(t=zi){if(t===zi)return IU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function IU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Bie=Math.sqrt(50),$ie=Math.sqrt(10),Vie=Math.sqrt(2);function mp(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Bie?10:i>=$ie?5:i>=Vie?2:1;let u,f,d;return a<0?(d=Math.pow(10,-a)/o,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,a)*o,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?mp(t,e,n*2):[u,f,d]}function Qw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,o]=r?mp(e,t,n):mp(t,e,n);if(!(i>=a))return[];const u=i-a+1,f=new Array(u);if(r)if(o<0)for(let d=0;d<u;++d)f[d]=(i-d)/-o;else for(let d=0;d<u;++d)f[d]=(i-d)*o;else if(o<0)for(let d=0;d<u;++d)f[d]=(a+d)/-o;else for(let d=0;d<u;++d)f[d]=(a+d)*o;return f}function Zw(t,e,n){return e=+e,t=+t,n=+n,mp(t,e,n)[2]}function eA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Zw(e,t,n):Zw(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function e2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function t2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function PU(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?IU:Uie(a);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,p=Math.log(f),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(f-h)/f)*(d-f/2<0?-1:1),x=Math.max(n,Math.floor(e-d*h/f+y)),T=Math.min(r,Math.floor(e+(f-d)*h/f+y));PU(t,e,x,T,a)}const i=t[e];let o=n,u=r;for(nc(t,n,e),a(t[r],i)>0&&nc(t,n,r);o<u;){for(nc(t,o,u),++o,--u;a(t[o],i)<0;)++o;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?nc(t,n,u):(++u,nc(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function nc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Fie(t,e,n){if(t=Float64Array.from(Oie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return t2(t);if(e>=1)return e2(t);var r,a=(r-1)*e,i=Math.floor(a),o=e2(PU(t,i).subarray(0,i+1)),u=t2(t.subarray(i+1));return o+(u-o)*(a-i)}}function zie(t,e,n=kU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return o+(u-o)*(a-i)}}function Gie(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Kr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function li(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tA=Symbol("implicit");function vE(){var t=new QR,e=[],n=[],r=tA;function a(i){let o=t.get(i);if(o===void 0){if(r!==tA)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new QR;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return vE(e,n).unknown(r)},Kr.apply(a,arguments),a}function Hc(){var t=vE().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,u=!1,f=0,d=0,p=.5;delete t.unknown;function h(){var y=e().length,x=a<r,T=x?a:r,w=x?r:a;i=(w-T)/Math.max(1,y-f+d*2),u&&(i=Math.floor(i)),T+=(w-T-i*(y-f))*p,o=i*(1-f),u&&(T=Math.round(T),o=Math.round(o));var A=Gie(y).map(function(C){return T+i*C});return n(x?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),h()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,h()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,h()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),h()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),h()):f},t.paddingOuter=function(y){return arguments.length?(d=+y,h()):d},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},t.copy=function(){return Hc(e(),[r,a]).round(u).paddingInner(f).paddingOuter(d).align(p)},Kr.apply(h(),arguments)}function OU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return OU(e())},t}function wc(){return OU(Hc.apply(null,arguments).paddingInner(1))}function xE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function RU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ud(){}var Kc=.7,pp=1/Kc,yl="\\s*([+-]?\\d+)\\s*",Yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hie=/^#([0-9a-f]{3,8})$/,Kie=new RegExp(`^rgb\\(${yl},${yl},${yl}\\)$`),Yie=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),Wie=new RegExp(`^rgba\\(${yl},${yl},${yl},${Yc}\\)$`),Xie=new RegExp(`^rgba\\(${ga},${ga},${ga},${Yc}\\)$`),Jie=new RegExp(`^hsl\\(${Yc},${ga},${ga}\\)$`),Qie=new RegExp(`^hsla\\(${Yc},${ga},${ga},${Yc}\\)$`),n2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xE(Ud,Wc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:r2,formatHex:r2,formatHex8:Zie,formatHsl:ese,formatRgb:a2,toString:a2});function r2(){return this.rgb().formatHex()}function Zie(){return this.rgb().formatHex8()}function ese(){return DU(this).formatHsl()}function a2(){return this.rgb().formatRgb()}function Wc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Hie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?i2(e):n===3?new sr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Nm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Nm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kie.exec(t))?new sr(e[1],e[2],e[3],1):(e=Yie.exec(t))?new sr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wie.exec(t))?Nm(e[1],e[2],e[3],e[4]):(e=Xie.exec(t))?Nm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Jie.exec(t))?l2(e[1],e[2]/100,e[3]/100,1):(e=Qie.exec(t))?l2(e[1],e[2]/100,e[3]/100,e[4]):n2.hasOwnProperty(t)?i2(n2[t]):t==="transparent"?new sr(NaN,NaN,NaN,0):null}function i2(t){return new sr(t>>16&255,t>>8&255,t&255,1)}function Nm(t,e,n,r){return r<=0&&(t=e=n=NaN),new sr(t,e,n,r)}function tse(t){return t instanceof Ud||(t=Wc(t)),t?(t=t.rgb(),new sr(t.r,t.g,t.b,t.opacity)):new sr}function nA(t,e,n,r){return arguments.length===1?tse(t):new sr(t,e,n,r??1)}function sr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xE(sr,nA,RU(Ud,{brighter(t){return t=t==null?pp:Math.pow(pp,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kc:Math.pow(Kc,t),new sr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sr(Bs(this.r),Bs(this.g),Bs(this.b),hp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:s2,formatHex:s2,formatHex8:nse,formatRgb:o2,toString:o2}));function s2(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function nse(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function o2(){const t=hp(this.opacity);return`${t===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${t===1?")":`, ${t})`}`}function hp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ps(t){return t=Bs(t),(t<16?"0":"")+t.toString(16)}function l2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new na(t,e,n,r)}function DU(t){if(t instanceof na)return new na(t.h,t.s,t.l,t.opacity);if(t instanceof Ud||(t=Wc(t)),!t)return new na;if(t instanceof na)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,u=i-a,f=(i+a)/2;return u?(e===i?o=(n-r)/u+(n<r)*6:n===i?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?i+a:2-i-a,o*=60):u=f>0&&f<1?0:o,new na(o,u,f,t.opacity)}function rse(t,e,n,r){return arguments.length===1?DU(t):new na(t,e,n,r??1)}function na(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xE(na,rse,RU(Ud,{brighter(t){return t=t==null?pp:Math.pow(pp,t),new na(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kc:Math.pow(Kc,t),new na(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new sr(Wb(t>=240?t-240:t+120,a,r),Wb(t,a,r),Wb(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new na(u2(this.h),_m(this.s),_m(this.l),hp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=hp(this.opacity);return`${t===1?"hsl(":"hsla("}${u2(this.h)}, ${_m(this.s)*100}%, ${_m(this.l)*100}%${t===1?")":`, ${t})`}`}}));function u2(t){return t=(t||0)%360,t<0?t+360:t}function _m(t){return Math.max(0,Math.min(1,t||0))}function Wb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bE=t=>()=>t;function ase(t,e){return function(n){return t+n*e}}function ise(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sse(t){return(t=+t)==1?LU:function(e,n){return n-e?ise(e,n,t):bE(isNaN(e)?n:e)}}function LU(t,e){var n=e-t;return n?ase(t,n):bE(isNaN(t)?e:t)}const c2=(function t(e){var n=sse(e);function r(a,i){var o=n((a=nA(a)).r,(i=nA(i)).r),u=n(a.g,i.g),f=n(a.b,i.b),d=LU(a.opacity,i.opacity);return function(p){return a.r=o(p),a.g=u(p),a.b=f(p),a.opacity=d(p),a+""}}return r.gamma=t,r})(1);function ose(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function lse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function use(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=tu(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(u){for(o=0;o<r;++o)i[o]=a[o](u);return i}}function cse(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function gp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function dse(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=tu(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var rA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xb=new RegExp(rA.source,"g");function fse(t){return function(){return t}}function mse(t){return function(e){return t(e)+""}}function pse(t,e){var n=rA.lastIndex=Xb.lastIndex=0,r,a,i,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=rA.exec(t))&&(a=Xb.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(r=r[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,f.push({i:o,x:gp(r,a)})),n=Xb.lastIndex;return n<e.length&&(i=e.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?f[0]?mse(f[0].x):fse(e):(e=f.length,function(d){for(var p=0,h;p<e;++p)u[(h=f[p]).i]=h.x(d);return u.join("")})}function tu(t,e){var n=typeof e,r;return e==null||n==="boolean"?bE(e):(n==="number"?gp:n==="string"?(r=Wc(e))?(e=r,c2):pse:e instanceof Wc?c2:e instanceof Date?cse:lse(e)?ose:Array.isArray(e)?use:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?dse:gp)(t,e)}function SE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function hse(t,e){e===void 0&&(e=t,t=tu);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[u](o-u)}}function gse(t){return function(){return t}}function yp(t){return+t}var d2=[0,1];function Yn(t){return t}function aA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gse(isNaN(e)?NaN:.5)}function yse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function vse(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=aA(a,r),i=n(o,i)):(r=aA(r,a),i=n(i,o)),function(u){return i(r(u))}}function xse(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=aA(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(u){var f=qd(t,u,1,r)-1;return i[f](a[f](u))}}function Bd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Nh(){var t=d2,e=d2,n=tu,r,a,i,o=Yn,u,f,d;function p(){var y=Math.min(t.length,e.length);return o!==Yn&&(o=yse(t[0],t[y-1])),u=y>2?xse:vse,f=d=null,h}function h(y){return y==null||isNaN(y=+y)?i:(f||(f=u(t.map(r),e,n)))(r(o(y)))}return h.invert=function(y){return o(a((d||(d=u(e,t.map(r),gp)))(y)))},h.domain=function(y){return arguments.length?(t=Array.from(y,yp),p()):t.slice()},h.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},h.rangeRound=function(y){return e=Array.from(y),n=SE,p()},h.clamp=function(y){return arguments.length?(o=y?!0:Yn,p()):o!==Yn},h.interpolate=function(y){return arguments.length?(n=y,p()):n},h.unknown=function(y){return arguments.length?(i=y,h):i},function(y,x){return r=y,a=x,p()}}function wE(){return Nh()(Yn,Yn)}function bse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function vp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Nl(t){return t=vp(Math.abs(t)),t?t[1]:NaN}function Sse(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),i.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}function wse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ase=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xc(t){if(!(e=Ase.exec(t)))throw new Error("invalid format: "+t);var e;return new AE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xc.prototype=AE.prototype;function AE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tse(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var qU;function Ese(t,e){var n=vp(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(qU=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+vp(t,Math.max(0,e+i-1))[0]}function f2(t,e){var n=vp(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const m2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>f2(t*100,e),r:f2,s:Ese,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function p2(t){return t}var h2=Array.prototype.map,g2=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nse(t){var e=t.grouping===void 0||t.thousands===void 0?p2:Sse(h2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?p2:wse(h2.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(h){h=Xc(h);var y=h.fill,x=h.align,T=h.sign,w=h.symbol,A=h.zero,C=h.width,M=h.comma,_=h.precision,k=h.trim,N=h.type;N==="n"?(M=!0,N="g"):m2[N]||(_===void 0&&(_=12),k=!0,N="g"),(A||y==="0"&&x==="=")&&(A=!0,y="0",x="=");var I=w==="$"?n:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=w==="$"?r:/[%p]/.test(N)?o:"",L=m2[N],D=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function q(U){var R=I,B=P,G,W,V;if(N==="c")B=L(U)+B,U="";else{U=+U;var K=U<0||1/U<0;if(U=isNaN(U)?f:L(Math.abs(U),_),k&&(U=Tse(U)),K&&+U==0&&T!=="+"&&(K=!1),R=(K?T==="("?T:u:T==="-"||T==="("?"":T)+R,B=(N==="s"?g2[8+qU/3]:"")+B+(K&&T==="("?")":""),D){for(G=-1,W=U.length;++G<W;)if(V=U.charCodeAt(G),48>V||V>57){B=(V===46?a+U.slice(G+1):U.slice(G))+B,U=U.slice(0,G);break}}}M&&!A&&(U=e(U,1/0));var Y=R.length+U.length+B.length,te=Y<C?new Array(C-Y+1).join(y):"";switch(M&&A&&(U=e(te+U,te.length?C-B.length:1/0),te=""),x){case"<":U=R+U+B+te;break;case"=":U=R+te+U+B;break;case"^":U=te.slice(0,Y=te.length>>1)+R+U+B+te.slice(Y);break;default:U=te+R+U+B;break}return i(U)}return q.toString=function(){return h+""},q}function p(h,y){var x=d((h=Xc(h),h.type="f",h)),T=Math.max(-8,Math.min(8,Math.floor(Nl(y)/3)))*3,w=Math.pow(10,-T),A=g2[8+T/3];return function(C){return x(w*C)+A}}return{format:d,formatPrefix:p}}var Cm,TE,UU;_se({thousands:",",grouping:[3],currency:["$",""]});function _se(t){return Cm=Nse(t),TE=Cm.format,UU=Cm.formatPrefix,Cm}function Cse(t){return Math.max(0,-Nl(Math.abs(t)))}function jse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nl(e)/3)))*3-Nl(Math.abs(t)))}function Mse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Nl(e)-Nl(t))+1}function BU(t,e,n,r){var a=eA(t,e,n),i;switch(r=Xc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=jse(a,o))&&(r.precision=i),UU(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Mse(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Cse(a))&&(r.precision=i-(r.type==="%")*2);break}}return TE(r)}function Qi(t){var e=t.domain;return t.ticks=function(n){var r=e();return Qw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return BU(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],u=r[i],f,d,p=10;for(u<o&&(d=o,o=u,u=d,d=a,a=i,i=d);p-- >0;){if(d=Zw(o,u,n),d===f)return r[a]=o,r[i]=u,e(r);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function xp(){var t=wE();return t.copy=function(){return Bd(t,xp())},Kr.apply(t,arguments),Qi(t)}function $U(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,yp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return $U(t).unknown(e)},t=arguments.length?Array.from(t,yp):[0,1],Qi(n)}function VU(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function y2(t){return Math.log(t)}function v2(t){return Math.exp(t)}function kse(t){return-Math.log(-t)}function Ise(t){return-Math.exp(-t)}function Pse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ose(t){return t===10?Pse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Rse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function x2(t){return(e,n)=>-t(-e,n)}function EE(t){const e=t(y2,v2),n=e.domain;let r=10,a,i;function o(){return a=Rse(r),i=Ose(r),n()[0]<0?(a=x2(a),i=x2(i),t(kse,Ise)):t(y2,v2),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let d=f[0],p=f[f.length-1];const h=p<d;h&&([d,p]=[p,d]);let y=a(d),x=a(p),T,w;const A=u==null?10:+u;let C=[];if(!(r%1)&&x-y<A){if(y=Math.floor(y),x=Math.ceil(x),d>0){for(;y<=x;++y)for(T=1;T<r;++T)if(w=y<0?T/i(-y):T*i(y),!(w<d)){if(w>p)break;C.push(w)}}else for(;y<=x;++y)for(T=r-1;T>=1;--T)if(w=y>0?T/i(-y):T*i(y),!(w<d)){if(w>p)break;C.push(w)}C.length*2<A&&(C=Qw(d,p,A))}else C=Qw(y,x,Math.min(x-y,A)).map(i);return h?C.reverse():C},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Xc(f)).precision==null&&(f.trim=!0),f=TE(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return p=>{let h=p/i(Math.round(a(p)));return h*r<r-.5&&(h*=r),h<=d?f(p):""}},e.nice=()=>n(VU(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function FU(){const t=EE(Nh()).domain([1,10]);return t.copy=()=>Bd(t,FU()).base(t.base()),Kr.apply(t,arguments),t}function b2(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function S2(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NE(t){var e=1,n=t(b2(e),S2(e));return n.constant=function(r){return arguments.length?t(b2(e=+r),S2(e)):e},Qi(n)}function zU(){var t=NE(Nh());return t.copy=function(){return Bd(t,zU()).constant(t.constant())},Kr.apply(t,arguments)}function w2(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Dse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Lse(t){return t<0?-t*t:t*t}function _E(t){var e=t(Yn,Yn),n=1;function r(){return n===1?t(Yn,Yn):n===.5?t(Dse,Lse):t(w2(n),w2(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Qi(e)}function CE(){var t=_E(Nh());return t.copy=function(){return Bd(t,CE()).exponent(t.exponent())},Kr.apply(t,arguments),t}function qse(){return CE.apply(null,arguments).exponent(.5)}function A2(t){return Math.sign(t)*t*t}function Use(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function GU(){var t=wE(),e=[0,1],n=!1,r;function a(i){var o=Use(t(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return t.invert(A2(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,yp)).map(A2)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return GU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Kr.apply(a,arguments),Qi(a)}function HU(){var t=[],e=[],n=[],r;function a(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=zie(t,o/u);return i}function i(o){return o==null||isNaN(o=+o)?r:e[qd(n,o)]}return i.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(zi),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return HU().domain(t).range(e).unknown(r)},Kr.apply(i,arguments)}function KU(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function o(f){return f!=null&&f<=f?a[qd(r,f,0,n)]:i}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},o.invertExtent=function(f){var d=a.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(f){return arguments.length&&(i=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return KU().domain([t,e]).range(a).unknown(i)},Kr.apply(Qi(o),arguments)}function YU(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[qd(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return YU().domain(t).range(e).unknown(n)},Kr.apply(a,arguments)}const Jb=new Date,Qb=new Date;function wn(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const f=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return f;let d;do f.push(d=new Date(+i)),e(i,u),t(i);while(d<i&&i<o);return f},a.filter=i=>wn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!i(o););else for(;--u>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(Jb.setTime(+i),Qb.setTime(+o),t(Jb),t(Qb),Math.floor(n(Jb,Qb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const bp=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);bp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):bp);bp.range;const za=1e3,Fr=za*60,Ga=Fr*60,Za=Ga*24,jE=Za*7,T2=Za*30,Zb=Za*365,Os=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCSeconds());Os.range;const ME=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za)},(t,e)=>{t.setTime(+t+e*Fr)},(t,e)=>(e-t)/Fr,t=>t.getMinutes());ME.range;const kE=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fr)},(t,e)=>(e-t)/Fr,t=>t.getUTCMinutes());kE.range;const IE=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*za-t.getMinutes()*Fr)},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getHours());IE.range;const PE=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ga)},(t,e)=>(e-t)/Ga,t=>t.getUTCHours());PE.range;const $d=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fr)/Za,t=>t.getDate()-1);$d.range;const _h=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Za,t=>t.getUTCDate()-1);_h.range;const WU=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Za,t=>Math.floor(t/Za));WU.range;function ao(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fr)/jE)}const Ch=ao(0),Sp=ao(1),Bse=ao(2),$se=ao(3),_l=ao(4),Vse=ao(5),Fse=ao(6);Ch.range;Sp.range;Bse.range;$se.range;_l.range;Vse.range;Fse.range;function io(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/jE)}const jh=io(0),wp=io(1),zse=io(2),Gse=io(3),Cl=io(4),Hse=io(5),Kse=io(6);jh.range;wp.range;zse.range;Gse.range;Cl.range;Hse.range;Kse.range;const OE=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OE.range;const RE=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());RE.range;const ei=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ei.range;const ti=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ti.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ti.range;function XU(t,e,n,r,a,i){const o=[[Os,1,za],[Os,5,5*za],[Os,15,15*za],[Os,30,30*za],[i,1,Fr],[i,5,5*Fr],[i,15,15*Fr],[i,30,30*Fr],[a,1,Ga],[a,3,3*Ga],[a,6,6*Ga],[a,12,12*Ga],[r,1,Za],[r,2,2*Za],[n,1,jE],[e,1,T2],[e,3,3*T2],[t,1,Zb]];function u(d,p,h){const y=p<d;y&&([d,p]=[p,d]);const x=h&&typeof h.range=="function"?h:f(d,p,h),T=x?x.range(d,+p+1):[];return y?T.reverse():T}function f(d,p,h){const y=Math.abs(p-d)/h,x=yE(([,,A])=>A).right(o,y);if(x===o.length)return t.every(eA(d/Zb,p/Zb,h));if(x===0)return bp.every(Math.max(eA(d,p,h),1));const[T,w]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return T.every(w)}return[u,f]}const[Yse,Wse]=XU(ti,RE,jh,WU,PE,kE),[Xse,Jse]=XU(ei,OE,Ch,$d,IE,ME);function eS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function tS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Qse(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,d=ac(a),p=ic(a),h=ac(i),y=ic(i),x=ac(o),T=ic(o),w=ac(u),A=ic(u),C=ac(f),M=ic(f),_={a:K,A:Y,b:te,B:re,c:null,d:M2,e:M2,f:Soe,g:koe,G:Poe,H:voe,I:xoe,j:boe,L:JU,m:woe,M:Aoe,p:$,q:z,Q:P2,s:O2,S:Toe,u:Eoe,U:Noe,V:_oe,w:Coe,W:joe,x:null,X:null,y:Moe,Y:Ioe,Z:Ooe,"%":I2},k={a:H,A:Q,b:se,B:we,c:null,d:k2,e:k2,f:qoe,g:Yoe,G:Xoe,H:Roe,I:Doe,j:Loe,L:ZU,m:Uoe,M:Boe,p:Te,q:je,Q:P2,s:O2,S:$oe,u:Voe,U:Foe,V:zoe,w:Goe,W:Hoe,x:null,X:null,y:Koe,Y:Woe,Z:Joe,"%":I2},N={a:q,A:U,b:R,B,c:G,d:C2,e:C2,f:poe,g:_2,G:N2,H:j2,I:j2,j:coe,L:moe,m:uoe,M:doe,p:D,q:loe,Q:goe,s:yoe,S:foe,u:roe,U:aoe,V:ioe,w:noe,W:soe,x:W,X:V,y:_2,Y:N2,Z:ooe,"%":hoe};_.x=I(n,_),_.X=I(r,_),_.c=I(e,_),k.x=I(n,k),k.X=I(r,k),k.c=I(e,k);function I(me,Ne){return function(de){var ie=[],Oe=-1,X=0,ve=me.length,pe,Le,Qe;for(de instanceof Date||(de=new Date(+de));++Oe<ve;)me.charCodeAt(Oe)===37&&(ie.push(me.slice(X,Oe)),(Le=E2[pe=me.charAt(++Oe)])!=null?pe=me.charAt(++Oe):Le=pe==="e"?" ":"0",(Qe=Ne[pe])&&(pe=Qe(de,Le)),ie.push(pe),X=Oe+1);return ie.push(me.slice(X,Oe)),ie.join("")}}function P(me,Ne){return function(de){var ie=rc(1900,void 0,1),Oe=L(ie,me,de+="",0),X,ve;if(Oe!=de.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ne&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(X=tS(rc(ie.y,0,1)),ve=X.getUTCDay(),X=ve>4||ve===0?wp.ceil(X):wp(X),X=_h.offset(X,(ie.V-1)*7),ie.y=X.getUTCFullYear(),ie.m=X.getUTCMonth(),ie.d=X.getUTCDate()+(ie.w+6)%7):(X=eS(rc(ie.y,0,1)),ve=X.getDay(),X=ve>4||ve===0?Sp.ceil(X):Sp(X),X=$d.offset(X,(ie.V-1)*7),ie.y=X.getFullYear(),ie.m=X.getMonth(),ie.d=X.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),ve="Z"in ie?tS(rc(ie.y,0,1)).getUTCDay():eS(rc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(ve+5)%7:ie.w+ie.U*7-(ve+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,tS(ie)):eS(ie)}}function L(me,Ne,de,ie){for(var Oe=0,X=Ne.length,ve=de.length,pe,Le;Oe<X;){if(ie>=ve)return-1;if(pe=Ne.charCodeAt(Oe++),pe===37){if(pe=Ne.charAt(Oe++),Le=N[pe in E2?Ne.charAt(Oe++):pe],!Le||(ie=Le(me,de,ie))<0)return-1}else if(pe!=de.charCodeAt(ie++))return-1}return ie}function D(me,Ne,de){var ie=d.exec(Ne.slice(de));return ie?(me.p=p.get(ie[0].toLowerCase()),de+ie[0].length):-1}function q(me,Ne,de){var ie=x.exec(Ne.slice(de));return ie?(me.w=T.get(ie[0].toLowerCase()),de+ie[0].length):-1}function U(me,Ne,de){var ie=h.exec(Ne.slice(de));return ie?(me.w=y.get(ie[0].toLowerCase()),de+ie[0].length):-1}function R(me,Ne,de){var ie=C.exec(Ne.slice(de));return ie?(me.m=M.get(ie[0].toLowerCase()),de+ie[0].length):-1}function B(me,Ne,de){var ie=w.exec(Ne.slice(de));return ie?(me.m=A.get(ie[0].toLowerCase()),de+ie[0].length):-1}function G(me,Ne,de){return L(me,e,Ne,de)}function W(me,Ne,de){return L(me,n,Ne,de)}function V(me,Ne,de){return L(me,r,Ne,de)}function K(me){return o[me.getDay()]}function Y(me){return i[me.getDay()]}function te(me){return f[me.getMonth()]}function re(me){return u[me.getMonth()]}function $(me){return a[+(me.getHours()>=12)]}function z(me){return 1+~~(me.getMonth()/3)}function H(me){return o[me.getUTCDay()]}function Q(me){return i[me.getUTCDay()]}function se(me){return f[me.getUTCMonth()]}function we(me){return u[me.getUTCMonth()]}function Te(me){return a[+(me.getUTCHours()>=12)]}function je(me){return 1+~~(me.getUTCMonth()/3)}return{format:function(me){var Ne=I(me+="",_);return Ne.toString=function(){return me},Ne},parse:function(me){var Ne=P(me+="",!1);return Ne.toString=function(){return me},Ne},utcFormat:function(me){var Ne=I(me+="",k);return Ne.toString=function(){return me},Ne},utcParse:function(me){var Ne=P(me+="",!0);return Ne.toString=function(){return me},Ne}}}var E2={"-":"",_:" ",0:"0"},jn=/^\s*\d+/,Zse=/^%/,eoe=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function toe(t){return t.replace(eoe,"\\$&")}function ac(t){return new RegExp("^(?:"+t.map(toe).join("|")+")","i")}function ic(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function noe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function roe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function aoe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ioe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function soe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function N2(t,e,n){var r=jn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function _2(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ooe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function loe(t,e,n){var r=jn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function uoe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function C2(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function coe(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function j2(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function doe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function foe(t,e,n){var r=jn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function moe(t,e,n){var r=jn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function poe(t,e,n){var r=jn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hoe(t,e,n){var r=Zse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function goe(t,e,n){var r=jn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yoe(t,e,n){var r=jn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function M2(t,e){return ht(t.getDate(),e,2)}function voe(t,e){return ht(t.getHours(),e,2)}function xoe(t,e){return ht(t.getHours()%12||12,e,2)}function boe(t,e){return ht(1+$d.count(ei(t),t),e,3)}function JU(t,e){return ht(t.getMilliseconds(),e,3)}function Soe(t,e){return JU(t,e)+"000"}function woe(t,e){return ht(t.getMonth()+1,e,2)}function Aoe(t,e){return ht(t.getMinutes(),e,2)}function Toe(t,e){return ht(t.getSeconds(),e,2)}function Eoe(t){var e=t.getDay();return e===0?7:e}function Noe(t,e){return ht(Ch.count(ei(t)-1,t),e,2)}function QU(t){var e=t.getDay();return e>=4||e===0?_l(t):_l.ceil(t)}function _oe(t,e){return t=QU(t),ht(_l.count(ei(t),t)+(ei(t).getDay()===4),e,2)}function Coe(t){return t.getDay()}function joe(t,e){return ht(Sp.count(ei(t)-1,t),e,2)}function Moe(t,e){return ht(t.getFullYear()%100,e,2)}function koe(t,e){return t=QU(t),ht(t.getFullYear()%100,e,2)}function Ioe(t,e){return ht(t.getFullYear()%1e4,e,4)}function Poe(t,e){var n=t.getDay();return t=n>=4||n===0?_l(t):_l.ceil(t),ht(t.getFullYear()%1e4,e,4)}function Ooe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function k2(t,e){return ht(t.getUTCDate(),e,2)}function Roe(t,e){return ht(t.getUTCHours(),e,2)}function Doe(t,e){return ht(t.getUTCHours()%12||12,e,2)}function Loe(t,e){return ht(1+_h.count(ti(t),t),e,3)}function ZU(t,e){return ht(t.getUTCMilliseconds(),e,3)}function qoe(t,e){return ZU(t,e)+"000"}function Uoe(t,e){return ht(t.getUTCMonth()+1,e,2)}function Boe(t,e){return ht(t.getUTCMinutes(),e,2)}function $oe(t,e){return ht(t.getUTCSeconds(),e,2)}function Voe(t){var e=t.getUTCDay();return e===0?7:e}function Foe(t,e){return ht(jh.count(ti(t)-1,t),e,2)}function eB(t){var e=t.getUTCDay();return e>=4||e===0?Cl(t):Cl.ceil(t)}function zoe(t,e){return t=eB(t),ht(Cl.count(ti(t),t)+(ti(t).getUTCDay()===4),e,2)}function Goe(t){return t.getUTCDay()}function Hoe(t,e){return ht(wp.count(ti(t)-1,t),e,2)}function Koe(t,e){return ht(t.getUTCFullYear()%100,e,2)}function Yoe(t,e){return t=eB(t),ht(t.getUTCFullYear()%100,e,2)}function Woe(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function Xoe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Cl(t):Cl.ceil(t),ht(t.getUTCFullYear()%1e4,e,4)}function Joe(){return"+0000"}function I2(){return"%"}function P2(t){return+t}function O2(t){return Math.floor(+t/1e3)}var Jo,tB,nB;Qoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Qoe(t){return Jo=Qse(t),tB=Jo.format,Jo.parse,nB=Jo.utcFormat,Jo.utcParse,Jo}function Zoe(t){return new Date(t)}function ele(t){return t instanceof Date?+t:+new Date(+t)}function DE(t,e,n,r,a,i,o,u,f,d){var p=wE(),h=p.invert,y=p.domain,x=d(".%L"),T=d(":%S"),w=d("%I:%M"),A=d("%I %p"),C=d("%a %d"),M=d("%b %d"),_=d("%B"),k=d("%Y");function N(I){return(f(I)<I?x:u(I)<I?T:o(I)<I?w:i(I)<I?A:r(I)<I?a(I)<I?C:M:n(I)<I?_:k)(I)}return p.invert=function(I){return new Date(h(I))},p.domain=function(I){return arguments.length?y(Array.from(I,ele)):y().map(Zoe)},p.ticks=function(I){var P=y();return t(P[0],P[P.length-1],I??10)},p.tickFormat=function(I,P){return P==null?N:d(P)},p.nice=function(I){var P=y();return(!I||typeof I.range!="function")&&(I=e(P[0],P[P.length-1],I??10)),I?y(VU(P,I)):p},p.copy=function(){return Bd(p,DE(t,e,n,r,a,i,o,u,f,d))},p}function tle(){return Kr.apply(DE(Xse,Jse,ei,OE,Ch,$d,IE,ME,Os,tB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nle(){return Kr.apply(DE(Yse,Wse,ti,RE,jh,_h,PE,kE,Os,nB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mh(){var t=0,e=1,n,r,a,i,o=Yn,u=!1,f;function d(h){return h==null||isNaN(h=+h)?f:o(a===0?.5:(h=(i(h)-n)*a,u?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(u=!!h,d):u},d.interpolator=function(h){return arguments.length?(o=h,d):o};function p(h){return function(y){var x,T;return arguments.length?([x,T]=y,o=h(x,T),d):[o(0),o(1)]}}return d.range=p(tu),d.rangeRound=p(SE),d.unknown=function(h){return arguments.length?(f=h,d):f},function(h){return i=h,n=h(t),r=h(e),a=n===r?0:1/(r-n),d}}function Zi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function rB(){var t=Qi(Mh()(Yn));return t.copy=function(){return Zi(t,rB())},li.apply(t,arguments)}function aB(){var t=EE(Mh()).domain([1,10]);return t.copy=function(){return Zi(t,aB()).base(t.base())},li.apply(t,arguments)}function iB(){var t=NE(Mh());return t.copy=function(){return Zi(t,iB()).constant(t.constant())},li.apply(t,arguments)}function LE(){var t=_E(Mh());return t.copy=function(){return Zi(t,LE()).exponent(t.exponent())},li.apply(t,arguments)}function rle(){return LE.apply(null,arguments).exponent(.5)}function sB(){var t=[],e=Yn;function n(r){if(r!=null&&!isNaN(r=+r))return e((qd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(zi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>Fie(t,i/r))},n.copy=function(){return sB(e).domain(t)},li.apply(n,arguments)}function kh(){var t=0,e=.5,n=1,r=1,a,i,o,u,f,d=Yn,p,h=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-i)*(r*w<r*i?u:f),d(h?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,a=p(t=+t),i=p(e=+e),o=p(n=+n),u=a===i?0:.5/(i-a),f=i===o?0:.5/(o-i),r=i<a?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(h=!!w,x):h},x.interpolator=function(w){return arguments.length?(d=w,x):d};function T(w){return function(A){var C,M,_;return arguments.length?([C,M,_]=A,d=hse(w,[C,M,_]),x):[d(0),d(.5),d(1)]}}return x.range=T(tu),x.rangeRound=T(SE),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,a=w(t),i=w(e),o=w(n),u=a===i?0:.5/(i-a),f=i===o?0:.5/(o-i),r=i<a?-1:1,x}}function oB(){var t=Qi(kh()(Yn));return t.copy=function(){return Zi(t,oB())},li.apply(t,arguments)}function lB(){var t=EE(kh()).domain([.1,1,10]);return t.copy=function(){return Zi(t,lB()).base(t.base())},li.apply(t,arguments)}function uB(){var t=NE(kh());return t.copy=function(){return Zi(t,uB()).constant(t.constant())},li.apply(t,arguments)}function qE(){var t=_E(kh());return t.copy=function(){return Zi(t,qE()).exponent(t.exponent())},li.apply(t,arguments)}function ale(){return qE.apply(null,arguments).exponent(.5)}const R2=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hc,scaleDiverging:oB,scaleDivergingLog:lB,scaleDivergingPow:qE,scaleDivergingSqrt:ale,scaleDivergingSymlog:uB,scaleIdentity:$U,scaleImplicit:tA,scaleLinear:xp,scaleLog:FU,scaleOrdinal:vE,scalePoint:wc,scalePow:CE,scaleQuantile:HU,scaleQuantize:KU,scaleRadial:GU,scaleSequential:rB,scaleSequentialLog:aB,scaleSequentialPow:LE,scaleSequentialQuantile:sB,scaleSequentialSqrt:rle,scaleSequentialSymlog:iB,scaleSqrt:qse,scaleSymlog:zU,scaleThreshold:YU,scaleTime:tle,scaleUtc:nle,tickFormat:BU},Symbol.toStringTag,{value:"Module"}));var nS,D2;function Ih(){if(D2)return nS;D2=1;var t=Ql();function e(n,r,a){for(var i=-1,o=n.length;++i<o;){var u=n[i],f=r(u);if(f!=null&&(d===void 0?f===f&&!t(f):a(f,d)))var d=f,p=u}return p}return nS=e,nS}var rS,L2;function cB(){if(L2)return rS;L2=1;function t(e,n){return e>n}return rS=t,rS}var aS,q2;function ile(){if(q2)return aS;q2=1;var t=Ih(),e=cB(),n=eu();function r(a){return a&&a.length?t(a,n,e):void 0}return aS=r,aS}var sle=ile();const Ph=yt(sle);var iS,U2;function dB(){if(U2)return iS;U2=1;function t(e,n){return e<n}return iS=t,iS}var sS,B2;function ole(){if(B2)return sS;B2=1;var t=Ih(),e=dB(),n=eu();function r(a){return a&&a.length?t(a,n,e):void 0}return sS=r,sS}var lle=ole();const Oh=yt(lle);var oS,$2;function ule(){if($2)return oS;$2=1;var t=eE(),e=wa(),n=xU(),r=or();function a(i,o){var u=r(i)?t:n;return u(i,e(o,3))}return oS=a,oS}var lS,V2;function cle(){if(V2)return lS;V2=1;var t=yU(),e=ule();function n(r,a){return t(e(r,a),1)}return lS=n,lS}var dle=cle();const fle=yt(dle);var uS,F2;function mle(){if(F2)return uS;F2=1;var t=mE();function e(n,r){return t(n,r)}return uS=e,uS}var ple=mle();const Vd=yt(ple);var nu=1e9,hle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BE,Gt=!0,Hr="[DecimalError] ",$s=Hr+"Invalid argument: ",UE=Hr+"Exponent out of range: ",ru=Math.floor,Ns=Math.pow,gle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,Nn=1e7,qt=7,fB=9007199254740991,Ap=ru(fB/qt),ke={};ke.absoluteValue=ke.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ke.comparedTo=ke.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(t){return Ya(this,new this.constructor(t))};ke.dividedToIntegerBy=ke.idiv=function(t){var e=this,n=e.constructor;return Mt(Ya(e,new n(t),0,1),n.precision)};ke.equals=ke.eq=function(t){return!this.cmp(t)};ke.exponent=function(){return hn(this)};ke.greaterThan=ke.gt=function(t){return this.cmp(t)>0};ke.greaterThanOrEqualTo=ke.gte=function(t){return this.cmp(t)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(t){return this.cmp(t)<0};ke.lessThanOrEqualTo=ke.lte=function(t){return this.cmp(t)<1};ke.logarithm=ke.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wr))throw Error(Hr+"NaN");if(n.s<1)throw Error(Hr+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(Gt=!1,e=Ya(Jc(n,i),Jc(t,i),i),Gt=!0,Mt(e,a))};ke.minus=ke.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?hB(e,t):mB(e,(t.s=-t.s,t))};ke.modulo=ke.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Hr+"NaN");return n.s?(Gt=!1,e=Ya(n,t,0,1).times(t),Gt=!0,n.minus(e)):Mt(new r(n),a)};ke.naturalExponential=ke.exp=function(){return pB(this)};ke.naturalLogarithm=ke.ln=function(){return Jc(this)};ke.negated=ke.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ke.plus=ke.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mB(e,t):hB(e,(t.s=-t.s,t))};ke.precision=ke.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error($s+t);if(e=hn(a)+1,r=a.d.length-1,n=r*qt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ke.squareRoot=ke.sqrt=function(){var t,e,n,r,a,i,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Hr+"NaN")}for(t=hn(u),Gt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=fa(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=ru((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=o=n+3;;)if(i=r,r=i.plus(Ya(u,i,o+2)).times(.5),fa(i.d).slice(0,o)===(e=fa(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Mt(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;o+=4}return Gt=!0,Mt(r,n)};ke.times=ke.mul=function(t){var e,n,r,a,i,o,u,f,d,p=this,h=p.constructor,y=p.d,x=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,d=x.length,f<d&&(i=y,y=x,x=i,o=f,f=d,d=o),i=[],o=f+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(e=0,a=f+r;a>r;)u=i[a]+x[r]*y[a-r-1]+e,i[a--]=u%Nn|0,e=u/Nn|0;i[a]=(i[a]+e)%Nn|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,Gt?Mt(t,h.precision):t};ke.toDecimalPlaces=ke.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(va(t,0,nu),e===void 0?e=r.rounding:va(e,0,8),Mt(n,t+hn(n)+1,e))};ke.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=Ks(r,!0):(va(t,0,nu),e===void 0?e=a.rounding:va(e,0,8),r=Mt(new a(r),t+1,e),n=Ks(r,!0,t+1)),n};ke.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?Ks(a):(va(t,0,nu),e===void 0?e=i.rounding:va(e,0,8),r=Mt(new i(a),t+hn(a)+1,e),n=Ks(r.abs(),!1,t+hn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var t=this,e=t.constructor;return Mt(new e(t),hn(t)+1,e.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(t){var e,n,r,a,i,o,u=this,f=u.constructor,d=12,p=+(t=new f(t));if(!t.s)return new f(wr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Hr+"Infinity");return u}if(u.eq(wr))return u;if(r=f.precision,t.eq(wr))return Mt(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=u.s,o){if((n=p<0?-p:p)<=fB){for(a=new f(wr),e=Math.ceil(r/qt+4),Gt=!1;n%2&&(a=a.times(u),G2(a.d,e)),n=ru(n/2),n!==0;)u=u.times(u),G2(u.d,e);return Gt=!0,t.s<0?new f(wr).div(a):Mt(a,r)}}else if(i<0)throw Error(Hr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Gt=!1,a=t.times(Jc(u,r+d)),Gt=!0,a=pB(a),a.s=i,a};ke.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=hn(a),r=Ks(a,n<=i.toExpNeg||n>=i.toExpPos)):(va(t,1,nu),e===void 0?e=i.rounding:va(e,0,8),a=Mt(new i(a),t,e),n=hn(a),r=Ks(a,t<=n||n<=i.toExpNeg,t)),r};ke.toSignificantDigits=ke.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(va(t,1,nu),e===void 0?e=r.rounding:va(e,0,8)),Mt(new r(n),t,e)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=hn(t),n=t.constructor;return Ks(t,e<=n.toExpNeg||e>=n.toExpPos)};function mB(t,e){var n,r,a,i,o,u,f,d,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),Gt?Mt(e,h):e;if(f=t.d,d=e.d,o=t.e,a=e.e,f=f.slice(),i=o-a,i){for(i<0?(r=f,i=-i,u=d.length):(r=d,a=o,u=f.length),o=Math.ceil(h/qt),u=o>u?o+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=f.length,i=d.length,u-i<0&&(i=u,r=d,d=f,f=r),n=0;i;)n=(f[--i]=f[i]+d[i]+n)/Nn|0,f[i]%=Nn;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=a,Gt?Mt(e,h):e}function va(t,e,n){if(t!==~~t||t<e||t>n)throw Error($s+t)}function fa(t){var e,n,r,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)r=t[e]+"",n=qt-r.length,n&&(i+=qi(n)),i+=r;o=t[e],r=o+"",n=qt-r.length,n&&(i+=qi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ya=(function(){function t(r,a){var i,o=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+o,r[u]=i%Nn|0,o=i/Nn|0;return o&&r.unshift(o),r}function e(r,a,i,o){var u,f;if(i!=o)f=i>o?1:-1;else for(u=f=0;u<i;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Nn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var u,f,d,p,h,y,x,T,w,A,C,M,_,k,N,I,P,L,D=r.constructor,q=r.s==a.s?1:-1,U=r.d,R=a.d;if(!r.s)return new D(r);if(!a.s)throw Error(Hr+"Division by zero");for(f=r.e-a.e,P=R.length,N=U.length,x=new D(q),T=x.d=[],d=0;R[d]==(U[d]||0);)++d;if(R[d]>(U[d]||0)&&--f,i==null?M=i=D.precision:o?M=i+(hn(r)-hn(a))+1:M=i,M<0)return new D(0);if(M=M/qt+2|0,d=0,P==1)for(p=0,R=R[0],M++;(d<N||p)&&M--;d++)_=p*Nn+(U[d]||0),T[d]=_/R|0,p=_%R|0;else{for(p=Nn/(R[0]+1)|0,p>1&&(R=t(R,p),U=t(U,p),P=R.length,N=U.length),k=P,w=U.slice(0,P),A=w.length;A<P;)w[A++]=0;L=R.slice(),L.unshift(0),I=R[0],R[1]>=Nn/2&&++I;do p=0,u=e(R,w,P,A),u<0?(C=w[0],P!=A&&(C=C*Nn+(w[1]||0)),p=C/I|0,p>1?(p>=Nn&&(p=Nn-1),h=t(R,p),y=h.length,A=w.length,u=e(h,w,y,A),u==1&&(p--,n(h,P<y?L:R,y))):(p==0&&(u=p=1),h=R.slice()),y=h.length,y<A&&h.unshift(0),n(w,h,A),u==-1&&(A=w.length,u=e(R,w,P,A),u<1&&(p++,n(w,P<A?L:R,A))),A=w.length):u===0&&(p++,w=[0]),T[d++]=p,u&&w[0]?w[A++]=U[k]||0:(w=[U[k]],A=1);while((k++<N||w[0]!==void 0)&&M--)}return T[0]||T.shift(),x.e=f,Mt(x,o?i+hn(x)+1:i)}})();function pB(t,e){var n,r,a,i,o,u,f=0,d=0,p=t.constructor,h=p.precision;if(hn(t)>16)throw Error(UE+hn(t));if(!t.s)return new p(wr);for(Gt=!1,u=h,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Ns(2,d))/Math.LN10*2+5|0,u+=r,n=a=i=new p(wr),p.precision=u;;){if(a=Mt(a.times(t),u),n=n.times(++f),o=i.plus(Ya(a,n,u)),fa(o.d).slice(0,u)===fa(i.d).slice(0,u)){for(;d--;)i=Mt(i.times(i),u);return p.precision=h,e==null?(Gt=!0,Mt(i,h)):i}i=o}}function hn(t){for(var e=t.e*qt,n=t.d[0];n>=10;n/=10)e++;return e}function cS(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Hr+"LN10 precision limit exceeded");return Mt(new t(t.LN10),e)}function qi(t){for(var e="";t--;)e+="0";return e}function Jc(t,e){var n,r,a,i,o,u,f,d,p,h=1,y=10,x=t,T=x.d,w=x.constructor,A=w.precision;if(x.s<1)throw Error(Hr+(x.s?"NaN":"-Infinity"));if(x.eq(wr))return new w(0);if(e==null?(Gt=!1,d=A):d=e,x.eq(10))return e==null&&(Gt=!0),cS(w,d);if(d+=y,w.precision=d,n=fa(T),r=n.charAt(0),i=hn(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=fa(x.d),r=n.charAt(0),h++;i=hn(x),r>1?(x=new w("0."+n),i++):x=new w(r+"."+n.slice(1))}else return f=cS(w,d+2,A).times(i+""),x=Jc(new w(r+"."+n.slice(1)),d-y).plus(f),w.precision=A,e==null?(Gt=!0,Mt(x,A)):x;for(u=o=x=Ya(x.minus(wr),x.plus(wr),d),p=Mt(x.times(x),d),a=3;;){if(o=Mt(o.times(p),d),f=u.plus(Ya(o,new w(a),d)),fa(f.d).slice(0,d)===fa(u.d).slice(0,d))return u=u.times(2),i!==0&&(u=u.plus(cS(w,d+2,A).times(i+""))),u=Ya(u,new w(h),d),w.precision=A,e==null?(Gt=!0,Mt(u,A)):u;u=f,a+=2}}function z2(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=ru(n/qt),t.d=[],r=(n+1)%qt,n<0&&(r+=qt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=qt;r<a;)t.d.push(+e.slice(r,r+=qt));e=e.slice(r),r=qt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>Ap||t.e<-Ap))throw Error(UE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Mt(t,e,n){var r,a,i,o,u,f,d,p,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=qt,a=e,d=h[p=0];else{if(p=Math.ceil((r+1)/qt),i=h.length,p>=i)return t;for(d=i=h[p],o=1;i>=10;i/=10)o++;r%=qt,a=r-qt+o}if(n!==void 0&&(i=Ns(10,o-a-1),u=d/i%10|0,f=e<0||h[p+1]!==void 0||d%i,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?d/Ns(10,o-a):0:h[p-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return f?(i=hn(t),h.length=1,e=e-i-1,h[0]=Ns(10,(qt-e%qt)%qt),t.e=ru(-e/qt)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=p,i=1,p--):(h.length=p+1,i=Ns(10,qt-r),h[p]=a>0?(d/Ns(10,o-a)%Ns(10,a)|0)*i:0),f)for(;;)if(p==0){(h[0]+=i)==Nn&&(h[0]=1,++t.e);break}else{if(h[p]+=i,h[p]!=Nn)break;h[p--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(Gt&&(t.e>Ap||t.e<-Ap))throw Error(UE+hn(t));return t}function hB(t,e){var n,r,a,i,o,u,f,d,p,h,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),Gt?Mt(e,x):e;if(f=t.d,h=e.d,r=e.e,d=t.e,f=f.slice(),o=d-r,o){for(p=o<0,p?(n=f,o=-o,u=h.length):(n=h,r=d,u=f.length),a=Math.max(Math.ceil(x/qt),u)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=h.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(f[a]!=h[a]){p=f[a]<h[a];break}o=0}for(p&&(n=f,f=h,h=n,e.s=-e.s),u=f.length,a=h.length-u;a>0;--a)f[u++]=0;for(a=h.length;a>o;){if(f[--a]<h[a]){for(i=a;i&&f[--i]===0;)f[i]=Nn-1;--f[i],f[a]+=Nn}f[a]-=h[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,Gt?Mt(e,x):e):new y(0)}function Ks(t,e,n){var r,a=hn(t),i=fa(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+qi(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qi(-a-1)+i,n&&(r=n-o)>0&&(i+=qi(r))):a>=o?(i+=qi(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+qi(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=qi(r))),t.s<0?"-"+i:i}function G2(t,e){if(t.length>e)return t.length=e,!0}function gB(t){var e,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error($s+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return z2(o,i.toString())}else if(typeof i!="string")throw Error($s+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,gle.test(i))z2(o,i);else throw Error($s+i)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=gB,a.config=a.set=yle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function yle(t){if(!t||typeof t!="object")throw Error(Hr+"Object expected");var e,n,r,a=["precision",1,nu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(ru(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error($s+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error($s+n+": "+r);return this}var BE=gB(hle);wr=new BE(1);const _t=BE;function vle(t){return wle(t)||Sle(t)||ble(t)||xle()}function xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ble(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function Sle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wle(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ale=function(e){return e},yB={},vB=function(e){return e===yB},H2=function(e){return function n(){return arguments.length===0||arguments.length===1&&vB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Tle=function t(e,n){return e===1?n:H2(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(u){return u!==yB}).length;return o>=e?n.apply(void 0,a):t(e-o,H2(function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];var p=a.map(function(h){return vB(h)?f.shift():h});return n.apply(void 0,vle(p).concat(f))}))})},Rh=function(e){return Tle(e.length,e)},sA=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},Ele=Rh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Nle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Ale;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(u,f){return f(u)},i.apply(void 0,arguments))}},oA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},xB=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(u,f){return u===n[f]})||(n=i,r=e.apply(void 0,i)),r}};function _le(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function Cle(t,e,n){for(var r=new _t(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var jle=Rh(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),Mle=Rh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),kle=Rh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Dh={rangeStep:Cle,getDigitCount:_le,interpolateNumber:jle,uninterpolateNumber:Mle,uninterpolateTruncation:kle};function lA(t){return Ole(t)||Ple(t)||bB(t)||Ile()}function Ile(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ple(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ole(t){if(Array.isArray(t))return uA(t)}function Qc(t,e){return Lle(t)||Dle(t,e)||bB(t,e)||Rle()}function Rle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bB(t,e){if(t){if(typeof t=="string")return uA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uA(t,e)}}function uA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(f){a=!0,i=f}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Lle(t){if(Array.isArray(t))return t}function SB(t){var e=Qc(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function wB(t,e,n){if(t.lte(0))return new _t(0);var r=Dh.getDigitCount(t.toNumber()),a=new _t(10).pow(r),i=t.div(a),o=r!==1?.05:.1,u=new _t(Math.ceil(i.div(o).toNumber())).add(n).mul(o),f=u.mul(a);return e?f:new _t(Math.ceil(f))}function qle(t,e,n){var r=1,a=new _t(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new _t(10).pow(Dh.getDigitCount(t)-1),a=new _t(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new _t(Math.floor(t)))}else t===0?a=new _t(Math.floor((e-1)/2)):n||(a=new _t(Math.floor(t)));var o=Math.floor((e-1)/2),u=Nle(Ele(function(f){return a.add(new _t(f-o).mul(r)).toNumber()}),sA);return u(0,e)}function AB(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var i=wB(new _t(e).sub(t).div(n-1),r,a),o;t<=0&&e>=0?o=new _t(0):(o=new _t(t).add(e).div(2),o=o.sub(new _t(o).mod(i)));var u=Math.ceil(o.sub(t).div(i).toNumber()),f=Math.ceil(new _t(e).sub(o).div(i).toNumber()),d=u+f+1;return d>n?AB(t,e,n,r,a+1):(d<n&&(f=e>0?f+(n-d):f,u=e>0?u:u+(n-d)),{step:i,tickMin:o.sub(new _t(u).mul(i)),tickMax:o.add(new _t(f).mul(i))})}function Ule(t){var e=Qc(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),u=SB([n,r]),f=Qc(u,2),d=f[0],p=f[1];if(d===-1/0||p===1/0){var h=p===1/0?[d].concat(lA(sA(0,a-1).map(function(){return 1/0}))):[].concat(lA(sA(0,a-1).map(function(){return-1/0})),[p]);return n>r?oA(h):h}if(d===p)return qle(d,a,i);var y=AB(d,p,o,i),x=y.step,T=y.tickMin,w=y.tickMax,A=Dh.rangeStep(T,w.add(new _t(.1).mul(x)),x);return n>r?oA(A):A}function Ble(t,e){var n=Qc(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=SB([r,a]),u=Qc(o,2),f=u[0],d=u[1];if(f===-1/0||d===1/0)return[r,a];if(f===d)return[f];var p=Math.max(e,2),h=wB(new _t(d).sub(f).div(p-1),i,0),y=[].concat(lA(Dh.rangeStep(new _t(f),new _t(d).sub(new _t(.99).mul(h)),h)),[d]);return r>a?oA(y):y}var $le=xB(Ule),Vle=xB(Ble),Fle="Invariant failed";function Ys(t,e){throw new Error(Fle)}var zle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function Gle(t,e){return Wle(t)||Yle(t,e)||Kle(t,e)||Hle()}function Hle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kle(t,e){if(t){if(typeof t=="string")return K2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K2(t,e)}}function K2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Wle(t){if(Array.isArray(t))return t}function Xle(t,e){if(t==null)return{};var n=Jle(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Qle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NB(r.key),r)}}function eue(t,e,n){return e&&Zle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tue(t,e,n){return e=Ep(e),nue(t,TB()?Reflect.construct(e,n||[],Ep(t).constructor):e.apply(t,n))}function nue(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rue(t)}function rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!t})()}function Ep(t){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ep(t)}function aue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},cA(t,e)}function EB(t,e,n){return e=NB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NB(t){var e=iue(t,"string");return jl(e)=="symbol"?e:e+""}function iue(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lh=(function(t){function e(){return Qle(this,e),tue(this,e,arguments)}return aue(e,t),eue(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,u=r.dataKey,f=r.data,d=r.dataPointFormatter,p=r.xAxis,h=r.yAxis,y=Xle(r,zle),x=Ve(y,!1);this.props.direction==="x"&&p.type!=="number"&&Ys();var T=f.map(function(w){var A=d(w,u),C=A.x,M=A.y,_=A.value,k=A.errorVal;if(!k)return null;var N=[],I,P;if(Array.isArray(k)){var L=Gle(k,2);I=L[0],P=L[1]}else I=P=k;if(i==="vertical"){var D=p.scale,q=M+a,U=q+o,R=q-o,B=D(_-I),G=D(_+P);N.push({x1:G,y1:U,x2:G,y2:R}),N.push({x1:B,y1:q,x2:G,y2:q}),N.push({x1:B,y1:U,x2:B,y2:R})}else if(i==="horizontal"){var W=h.scale,V=C+a,K=V-o,Y=V+o,te=W(_-I),re=W(_+P);N.push({x1:K,y1:re,x2:Y,y2:re}),N.push({x1:V,y1:te,x2:V,y2:re}),N.push({x1:K,y1:te,x2:Y,y2:te})}return Z.createElement(ot,Tp({className:"recharts-errorBar",key:"bar-".concat(N.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},x),N.map(function($){return Z.createElement("line",Tp({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return Z.createElement(ot,{className:"recharts-errorBars"},T)}}])})(Z.Component);EB(Lh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EB(Lh,"displayName","ErrorBar");function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sue(t,e,n){return e=oue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oue(t){var e=lue(t,"string");return Zc(e)=="symbol"?e:e+""}function lue(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _B=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=br(n,Fi);if(!o)return null;var u=Fi.defaultProps,f=u!==void 0?Ss(Ss({},u),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(r||[]).reduce(function(p,h){var y=h.item,x=h.props,T=x.sectors||x.data||[];return p.concat(T.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(r||[]).map(function(p){var h=p.item,y=h.type.defaultProps,x=y!==void 0?Ss(Ss({},y),h.props):{},T=x.dataKey,w=x.name,A=x.legendType,C=x.hide;return{inactive:C,dataKey:T,type:f.iconType||A||"square",color:$E(h),value:w||T,payload:x}}),Ss(Ss(Ss({},f),Fi.getWithHeight(o,a)),{},{payload:d,item:o})};function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}function W2(t){return fue(t)||due(t)||cue(t)||uue()}function uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cue(t,e){if(t){if(typeof t=="string")return dA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(t,e)}}function due(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fue(t){if(Array.isArray(t))return dA(t)}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X2(Object(n),!0).forEach(function(r){vl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vl(t,e,n){return e=mue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mue(t){var e=pue(t,"string");return ed(e)=="symbol"?e:e+""}function pue(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e,n){return et(t)||et(e)?n:Sn(e)?Ar(t,e,n):ze(e)?e(t):n}function Ac(t,e,n,r){var a=fle(t,function(u){return qn(u,e)});if(n==="number"){var i=a.filter(function(u){return Ee(u)||parseFloat(u)});return i.length?[Oh(i),Ph(i)]:[1/0,-1/0]}var o=r?a.filter(function(u){return!et(u)}):a;return o.map(function(u){return Sn(u)||u instanceof Date?u:""})}var hue=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var f=i.range,d=0;d<u;d++){var p=d>0?a[d-1].coordinate:a[u-1].coordinate,h=a[d].coordinate,y=d>=u-1?a[0].coordinate:a[d+1].coordinate,x=void 0;if(Cn(h-p)!==Cn(y-h)){var T=[];if(Cn(y-h)===Cn(f[1]-f[0])){x=y;var w=h+f[1]-f[0];T[0]=Math.min(w,(w+p)/2),T[1]=Math.max(w,(w+p)/2)}else{x=p;var A=y+f[1]-f[0];T[0]=Math.min(h,(A+h)/2),T[1]=Math.max(h,(A+h)/2)}var C=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>C[0]&&e<=C[1]||e>=T[0]&&e<=T[1]){o=a[d].index;break}}else{var M=Math.min(p,y),_=Math.max(p,y);if(e>(M+h)/2&&e<=(_+h)/2){o=a[d].index;break}}}else for(var k=0;k<u;k++)if(k===0&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k>0&&k<u-1&&e>(r[k].coordinate+r[k-1].coordinate)/2&&e<=(r[k].coordinate+r[k+1].coordinate)/2||k===u-1&&e>(r[k].coordinate+r[k-1].coordinate)/2){o=r[k].index;break}return o},$E=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,o=i.stroke,u=i.fill,f;switch(a){case"Line":f=o;break;case"Area":case"Radar":f=o&&o!=="none"?o:u;break;default:f=u;break}return f},gue=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},u=Object.keys(i),f=0,d=u.length;f<d;f++)for(var p=i[u[f]].stackGroups,h=Object.keys(p),y=0,x=h.length;y<x;y++){var T=p[h[y]],w=T.items,A=T.cateAxisId,C=w.filter(function(P){return Ka(P.type).indexOf("Bar")>=0});if(C&&C.length){var M=C[0].type.defaultProps,_=M!==void 0?tn(tn({},M),C[0].props):C[0].props,k=_.barSize,N=_[A];o[N]||(o[N]=[]);var I=et(k)?n:k;o[N].push({item:C[0],stackList:C.slice(1),barSize:et(I)?void 0:Kn(I,r,0)})}}return o},yue=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,u=e.maxBarSize,f=o.length;if(f<1)return null;var d=Kn(n,a,0,!0),p,h=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=a/f,T=o.reduce(function(k,N){return k+N.barSize||0},0);T+=(f-1)*d,T>=a&&(T-=(f-1)*d,d=0),T>=a&&x>0&&(y=!0,x*=.9,T=f*x);var w=(a-T)/2>>0,A={offset:w-d,size:0};p=o.reduce(function(k,N){var I={item:N.item,position:{offset:A.offset+A.size+d,size:y?x:N.barSize}},P=[].concat(W2(k),[I]);return A=P[P.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(L){P.push({item:L,position:A})}),P},h)}else{var C=Kn(r,a,0,!0);a-2*C-(f-1)*d<=0&&(d=0);var M=(a-2*C-(f-1)*d)/f;M>1&&(M>>=0);var _=u===+u?Math.min(M,u):M;p=o.reduce(function(k,N,I){var P=[].concat(W2(k),[{item:N.item,position:{offset:C+(M+d)*I+(M-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(L){P.push({item:L,position:P[P.length-1].position})}),P},h)}return p},vue=function(e,n,r,a){var i=r.children,o=r.width,u=r.margin,f=o-(u.left||0)-(u.right||0),d=_B({children:i,legendWidth:f});if(d){var p=a||{},h=p.width,y=p.height,x=d.align,T=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&T==="middle")&&x!=="center"&&Ee(e[x]))return tn(tn({},e),{},vl({},x,e[x]+(h||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&T!=="middle"&&Ee(e[T]))return tn(tn({},e),{},vl({},T,e[T]+(y||0)))}return e},xue=function(e,n,r){return et(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},CB=function(e,n,r,a,i){var o=n.props.children,u=Tr(o,Lh).filter(function(d){return xue(a,i,d.props.direction)});if(u&&u.length){var f=u.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var h=qn(p,r);if(et(h))return d;var y=Array.isArray(h)?[Oh(h),Ph(h)]:[h,h],x=f.reduce(function(T,w){var A=qn(p,w,0),C=y[0]-Math.abs(Array.isArray(A)?A[0]:A),M=y[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(C,T[0]),Math.max(M,T[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},bue=function(e,n,r,a,i){var o=n.map(function(u){return CB(e,u,r,i,a)}).filter(function(u){return!et(u)});return o&&o.length?o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},jB=function(e,n,r,a,i){var o=n.map(function(f){var d=f.props.dataKey;return r==="number"&&d&&CB(e,f,d,a)||Ac(e,d,r,i)});if(r==="number")return o.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]);var u={};return o.reduce(function(f,d){for(var p=0,h=d.length;p<h;p++)u[d[p]]||(u[d[p]]=!0,f.push(d[p]));return f},[])},MB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},kB=function(e,n,r,a){if(a)return e.map(function(f){return f.coordinate});var i,o,u=e.map(function(f){return f.coordinate===n&&(i=!0),f.coordinate===r&&(o=!0),f.coordinate});return i||u.push(n),o||u.push(r),u},Ha=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,u=e.range,f=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/f:0;if(d=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Cn(u[0]-u[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var y=i?i.indexOf(h):h;return{coordinate:a(y)+d,value:h,offset:d}});return p.filter(function(h){return!Od(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,y){return{coordinate:a(h)+d,value:h,index:y,offset:d}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,y){return{coordinate:a(h)+d,value:i?i[h]:h,index:y,offset:d}})},dS=new WeakMap,jm=function(e,n){if(typeof n!="function")return e;dS.has(e)||dS.set(e,new WeakMap);var r=dS.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},IB=function(e,n,r){var a=e.scale,i=e.type,o=e.layout,u=e.axisType;if(a==="auto")return o==="radial"&&u==="radiusAxis"?{scale:Hc(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:xp(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:wc(),realScaleType:"point"}:i==="category"?{scale:Hc(),realScaleType:"band"}:{scale:xp(),realScaleType:"linear"};if(Gs(a)){var f="scale".concat(xh(a));return{scale:(R2[f]||wc)(),realScaleType:R2[f]?f:"point"}}return ze(a)?{scale:a}:{scale:wc(),realScaleType:"point"}},J2=1e-4,PB=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-J2,o=Math.max(a[0],a[1])+J2,u=e(n[0]),f=e(n[r-1]);(u<i||u>o||f<i||f>o)&&e.domain([n[0],n[r-1]])}},OB=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},RB=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(i[0]=r),(!Ee(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},Sue=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0,u=0;u<n;++u){var f=Od(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=i,e[u][r][1]=i+f,i=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+f,o=e[u][r][1])}},wue=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var u=Od(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=i,e[o][r][1]=i+u,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Aue={sign:Sue,expand:fne,none:Sl,silhouette:mne,wiggle:pne,positive:wue},Tue=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=Aue[r],o=dne().keys(a).value(function(u,f){return+qn(u,f,0)}).order($w).offset(i);return o(e)},Eue=function(e,n,r,a,i,o){if(!e)return null;var u=o?n.reverse():n,f={},d=u.reduce(function(h,y){var x,T=(x=y.type)!==null&&x!==void 0&&x.defaultProps?tn(tn({},y.type.defaultProps),y.props):y.props,w=T.stackId,A=T.hide;if(A)return h;var C=T[r],M=h[C]||{hasStack:!1,stackGroups:{}};if(Sn(w)){var _=M.stackGroups[w]||{numericAxisId:r,cateAxisId:a,items:[]};_.items.push(y),M.hasStack=!0,M.stackGroups[w]=_}else M.stackGroups[Rd("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return tn(tn({},h),{},vl({},C,M))},f),p={};return Object.keys(d).reduce(function(h,y){var x=d[y];if(x.hasStack){var T={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,A){var C=x.stackGroups[A];return tn(tn({},w),{},vl({},A,{numericAxisId:r,cateAxisId:a,items:C.items,stackedData:Tue(e,C.items,i)}))},T)}return tn(tn({},h),{},vl({},y,x))},p)},DB=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=$le(d,i,u);return e.domain([Oh(p),Ph(p)]),{niceTicks:p}}if(i&&a==="number"){var h=e.domain(),y=Vle(h,i,u);return{niceTicks:y}}return null},Np=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var f=qn(o,n.dataKey,n.domain[u]);return et(f)?null:n.scale(f)-i/2+a},LB=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},Nue=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Sn(i)){var o=n[i];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},_ue=function(e){return e.reduce(function(n,r){return[Oh(r.concat([n[0]]).filter(Ee)),Ph(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},qB=function(e,n,r){return Object.keys(e).reduce(function(a,i){var o=e[i],u=o.stackedData,f=u.reduce(function(d,p){var h=_ue(p.slice(n,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Q2=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z2=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fA=function(e,n,r){if(ze(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(Ee(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(Q2.test(e[0])){var i=+Q2.exec(e[0])[1];a[0]=n[0]-i}else ze(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(Ee(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(Z2.test(e[1])){var o=+Z2.exec(e[1])[1];a[1]=n[1]+o}else ze(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},_p=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=hE(n,function(h){return h.coordinate}),o=1/0,u=1,f=i.length;u<f;u++){var d=i[u],p=i[u-1];o=Math.min((d.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},eD=function(e,n,r){return!e||!e.length||Vd(e,Ar(r,"type.defaultProps.domain"))?n:e},VE=function(e,n){var r=e.type.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,o=r.unit,u=r.formatter,f=r.tooltipType,d=r.chartType,p=r.hide;return tn(tn({},Ve(e,!1)),{},{dataKey:a,unit:o,formatter:u,name:i||a,color:$E(e),value:qn(n,a),type:f,payload:n,chartType:d,hide:p})};function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){UB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UB(t,e,n){return e=Cue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cue(t){var e=jue(t,"string");return td(e)=="symbol"?e:e+""}function jue(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mue(t,e){return Oue(t)||Pue(t,e)||Iue(t,e)||kue()}function kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iue(t,e){if(t){if(typeof t=="string")return nD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nD(t,e)}}function nD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Oue(t){if(Array.isArray(t))return t}var Cp=Math.PI/180,Rue=function(e){return e*180/Math.PI},kt=function(e,n,r,a){return{x:e+Math.cos(-Cp*a)*r,y:n+Math.sin(-Cp*a)*r}},BB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},$B=function(e,n,r,a,i){var o=e.width,u=e.height,f=e.startAngle,d=e.endAngle,p=Kn(e.cx,o,o/2),h=Kn(e.cy,u,u/2),y=BB(o,u,r),x=Kn(e.innerRadius,y,0),T=Kn(e.outerRadius,y,y*.8),w=Object.keys(n);return w.reduce(function(A,C){var M=n[C],_=M.domain,k=M.reversed,N;if(et(M.range))a==="angleAxis"?N=[f,d]:a==="radiusAxis"&&(N=[x,T]),k&&(N=[N[1],N[0]]);else{N=M.range;var I=N,P=Mue(I,2);f=P[0],d=P[1]}var L=IB(M,i),D=L.realScaleType,q=L.scale;q.domain(_).range(N),PB(q);var U=DB(q,Fa(Fa({},M),{},{realScaleType:D})),R=Fa(Fa(Fa({},M),U),{},{range:N,radius:T,realScaleType:D,scale:q,cx:p,cy:h,innerRadius:x,outerRadius:T,startAngle:f,endAngle:d});return Fa(Fa({},A),{},UB({},C,R))},{})},Due=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},Lue=function(e,n){var r=e.x,a=e.y,i=n.cx,o=n.cy,u=Due({x:r,y:a},{x:i,y:o});if(u<=0)return{radius:u};var f=(r-i)/u,d=Math.acos(f);return a>o&&(d=2*Math.PI-d),{radius:u,angle:Rue(d),angleInRadian:d}},que=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},Uue=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),u=Math.min(i,o);return e+u*360},rD=function(e,n){var r=e.x,a=e.y,i=Lue({x:r,y:a},n),o=i.radius,u=i.angle,f=n.innerRadius,d=n.outerRadius;if(o<f||o>d)return!1;if(o===0)return!0;var p=que(n),h=p.startAngle,y=p.endAngle,x=u,T;if(h<=y){for(;x>y;)x-=360;for(;x<h;)x+=360;T=x>=h&&x<=y}else{for(;x>h;)x-=360;for(;x<y;)x+=360;T=x>=y&&x<=h}return T?Fa(Fa({},n),{},{radius:o,angle:Uue(x,n)}):null},VB=function(e){return!j.isValidElement(e)&&!ze(e)&&typeof e!="boolean"?e.className:""};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}var Bue=["offset"];function $ue(t){return Gue(t)||zue(t)||Fue(t)||Vue()}function Vue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fue(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function zue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gue(t){if(Array.isArray(t))return mA(t)}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hue(t,e){if(t==null)return{};var n=Kue(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aD(Object(n),!0).forEach(function(r){Yue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yue(t,e,n){return e=Wue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wue(t){var e=Xue(t,"string");return nd(e)=="symbol"?e:e+""}function Xue(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}var Jue=function(e){var n=e.value,r=e.formatter,a=et(e.children)?n:e.children;return ze(r)?r(a):a},Que=function(e,n){var r=Cn(n-e),a=Math.min(Math.abs(n-e),360);return r*a},Zue=function(e,n,r){var a=e.position,i=e.viewBox,o=e.offset,u=e.className,f=i,d=f.cx,p=f.cy,h=f.innerRadius,y=f.outerRadius,x=f.startAngle,T=f.endAngle,w=f.clockWise,A=(h+y)/2,C=Que(x,T),M=C>=0?1:-1,_,k;a==="insideStart"?(_=x+M*o,k=w):a==="insideEnd"?(_=T-M*o,k=!w):a==="end"&&(_=T+M*o,k=w),k=C<=0?k:!k;var N=kt(d,p,A,_),I=kt(d,p,A,_+(k?1:-1)*359),P="M".concat(N.x,",").concat(N.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(k?0:1,`,
    `).concat(I.x,",").concat(I.y),L=et(e.id)?Rd("recharts-radial-line-"):e.id;return Z.createElement("text",rd({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",u)}),Z.createElement("defs",null,Z.createElement("path",{id:L,d:P})),Z.createElement("textPath",{xlinkHref:"#".concat(L)},n))},ece=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,o=i.cx,u=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.startAngle,h=i.endAngle,y=(p+h)/2;if(a==="outside"){var x=kt(o,u,d+r,y),T=x.x,w=x.y;return{x:T,y:w,textAnchor:T>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var A=(f+d)/2,C=kt(o,u,A,y),M=C.x,_=C.y;return{x:M,y:_,textAnchor:"middle",verticalAnchor:"middle"}},tce=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,o=n,u=o.x,f=o.y,d=o.width,p=o.height,h=p>=0?1:-1,y=h*a,x=h>0?"end":"start",T=h>0?"start":"end",w=d>=0?1:-1,A=w*a,C=w>0?"end":"start",M=w>0?"start":"end";if(i==="top"){var _={x:u+d/2,y:f-h*a,textAnchor:"middle",verticalAnchor:x};return bn(bn({},_),r?{height:Math.max(f-r.y,0),width:d}:{})}if(i==="bottom"){var k={x:u+d/2,y:f+p+y,textAnchor:"middle",verticalAnchor:T};return bn(bn({},k),r?{height:Math.max(r.y+r.height-(f+p),0),width:d}:{})}if(i==="left"){var N={x:u-A,y:f+p/2,textAnchor:C,verticalAnchor:"middle"};return bn(bn({},N),r?{width:Math.max(N.x-r.x,0),height:p}:{})}if(i==="right"){var I={x:u+d+A,y:f+p/2,textAnchor:M,verticalAnchor:"middle"};return bn(bn({},I),r?{width:Math.max(r.x+r.width-I.x,0),height:p}:{})}var P=r?{width:d,height:p}:{};return i==="insideLeft"?bn({x:u+A,y:f+p/2,textAnchor:M,verticalAnchor:"middle"},P):i==="insideRight"?bn({x:u+d-A,y:f+p/2,textAnchor:C,verticalAnchor:"middle"},P):i==="insideTop"?bn({x:u+d/2,y:f+y,textAnchor:"middle",verticalAnchor:T},P):i==="insideBottom"?bn({x:u+d/2,y:f+p-y,textAnchor:"middle",verticalAnchor:x},P):i==="insideTopLeft"?bn({x:u+A,y:f+y,textAnchor:M,verticalAnchor:T},P):i==="insideTopRight"?bn({x:u+d-A,y:f+y,textAnchor:C,verticalAnchor:T},P):i==="insideBottomLeft"?bn({x:u+A,y:f+p-y,textAnchor:M,verticalAnchor:x},P):i==="insideBottomRight"?bn({x:u+d-A,y:f+p-y,textAnchor:C,verticalAnchor:x},P):Zl(i)&&(Ee(i.x)||Is(i.x))&&(Ee(i.y)||Is(i.y))?bn({x:u+Kn(i.x,d),y:f+Kn(i.y,p),textAnchor:"end",verticalAnchor:"end"},P):bn({x:u+d/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},nce=function(e){return"cx"in e&&Ee(e.cx)};function _n(t){var e=t.offset,n=e===void 0?5:e,r=Hue(t,Bue),a=bn({offset:n},r),i=a.viewBox,o=a.position,u=a.value,f=a.children,d=a.content,p=a.className,h=p===void 0?"":p,y=a.textBreakAll;if(!i||et(u)&&et(f)&&!j.isValidElement(d)&&!ze(d))return null;if(j.isValidElement(d))return j.cloneElement(d,a);var x;if(ze(d)){if(x=j.createElement(d,a),j.isValidElement(x))return x}else x=Jue(a);var T=nce(i),w=Ve(a,!0);if(T&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Zue(a,x,w);var A=T?ece(a):tce(a);return Z.createElement(Hs,rd({className:Je("recharts-label",h)},w,A,{breakAll:y}),x)}_n.displayName="Label";var FB=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,u=e.r,f=e.radius,d=e.innerRadius,p=e.outerRadius,h=e.x,y=e.y,x=e.top,T=e.left,w=e.width,A=e.height,C=e.clockWise,M=e.labelViewBox;if(M)return M;if(Ee(w)&&Ee(A)){if(Ee(h)&&Ee(y))return{x:h,y,width:w,height:A};if(Ee(x)&&Ee(T))return{x,y:T,width:w,height:A}}return Ee(h)&&Ee(y)?{x:h,y,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:p||f||u||0,clockWise:C}:e.viewBox?e.viewBox:{}},rce=function(e,n){return e?e===!0?Z.createElement(_n,{key:"label-implicit",viewBox:n}):Sn(e)?Z.createElement(_n,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===_n?j.cloneElement(e,{key:"label-implicit",viewBox:n}):Z.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):ze(e)?Z.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):Zl(e)?Z.createElement(_n,rd({viewBox:n},e,{key:"label-implicit"})):null:null},ace=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=FB(e),o=Tr(a,_n).map(function(f,d){return j.cloneElement(f,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return o;var u=rce(e.label,n||i);return[u].concat($ue(o))};_n.parseViewBox=FB;_n.renderCallByParent=ace;var fS,iD;function ice(){if(iD)return fS;iD=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return fS=t,fS}var sce=ice();const oce=yt(sce);function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}var lce=["valueAccessor"],uce=["data","dataKey","clockWise","id","textBreakAll"];function cce(t){return pce(t)||mce(t)||fce(t)||dce()}function dce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){if(t){if(typeof t=="string")return pA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pA(t,e)}}function mce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pce(t){if(Array.isArray(t))return pA(t)}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function oD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return e=gce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return ad(e)=="symbol"?e:e+""}function yce(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lD(t,e){if(t==null)return{};var n=vce(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var xce=function(e){return Array.isArray(e.value)?oce(e.value):e.value};function Wa(t){var e=t.valueAccessor,n=e===void 0?xce:e,r=lD(t,lce),a=r.data,i=r.dataKey,o=r.clockWise,u=r.id,f=r.textBreakAll,d=lD(r,uce);return!a||!a.length?null:Z.createElement(ot,{className:"recharts-label-list"},a.map(function(p,h){var y=et(i)?n(p,h):qn(p&&p.payload,i),x=et(u)?{}:{id:"".concat(u,"-").concat(h)};return Z.createElement(_n,jp({},Ve(p,!0),d,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:f,viewBox:_n.parseViewBox(et(o)?p:oD(oD({},p),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Wa.displayName="LabelList";function bce(t,e){return t?t===!0?Z.createElement(Wa,{key:"labelList-implicit",data:e}):Z.isValidElement(t)||ze(t)?Z.createElement(Wa,{key:"labelList-implicit",data:e,content:t}):Zl(t)?Z.createElement(Wa,jp({data:e},t,{key:"labelList-implicit"})):null:null}function Sce(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Tr(r,Wa).map(function(o,u){return j.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=bce(t.label,e);return[i].concat(cce(a))}Wa.renderCallByParent=Sce;function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function hA(){return hA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hA.apply(this,arguments)}function uD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uD(Object(n),!0).forEach(function(r){wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wce(t,e,n){return e=Ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Tce(t,"string");return id(e)=="symbol"?e:e+""}function Tce(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ece=function(e,n){var r=Cn(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},Mm=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,o=e.sign,u=e.isExternal,f=e.cornerRadius,d=e.cornerIsExternal,p=f*(u?1:-1)+a,h=Math.asin(f/p)/Cp,y=d?i:i+o*h,x=kt(n,r,p,y),T=kt(n,r,a,y),w=d?i-o*h:i,A=kt(n,r,p*Math.cos(h*Cp),w);return{center:x,circleTangency:T,lineTangency:A,theta:h}},zB=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,u=e.endAngle,f=Ece(o,u),d=o+f,p=kt(n,r,i,o),h=kt(n,r,i,d),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=kt(n,r,a,o),T=kt(n,r,a,d);y+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},Nce=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,f=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,h=Cn(p-d),y=Mm({cx:n,cy:r,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:f}),x=y.circleTangency,T=y.lineTangency,w=y.theta,A=Mm({cx:n,cy:r,radius:i,angle:p,sign:-h,cornerRadius:o,cornerIsExternal:f}),C=A.circleTangency,M=A.lineTangency,_=A.theta,k=f?Math.abs(d-p):Math.abs(d-p)-w-_;if(k<0)return u?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):zB({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:d,endAngle:p});var N="M ".concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
  `);if(a>0){var I=Mm({cx:n,cy:r,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),P=I.circleTangency,L=I.lineTangency,D=I.theta,q=Mm({cx:n,cy:r,radius:a,angle:p,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),U=q.circleTangency,R=q.lineTangency,B=q.theta,G=f?Math.abs(d-p):Math.abs(d-p)-D-B;if(G<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(L.x,",").concat(L.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},_ce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GB=function(e){var n=cD(cD({},_ce),e),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,d=n.cornerIsExternal,p=n.startAngle,h=n.endAngle,y=n.className;if(o<i||p===h)return null;var x=Je("recharts-sector",y),T=o-i,w=Kn(u,T,0,!0),A;return w>0&&Math.abs(p-h)<360?A=Nce({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,T/2),forceCornerRadius:f,cornerIsExternal:d,startAngle:p,endAngle:h}):A=zB({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:p,endAngle:h}),Z.createElement("path",hA({},Ve(n,!0),{className:x,d:A,role:"img"}))};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gA.apply(this,arguments)}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return e=jce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jce(t){var e=Mce(t,"string");return sd(e)=="symbol"?e:e+""}function Mce(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mD={curveBasisClosed:ene,curveBasisOpen:tne,curveBasis:Zte,curveBumpX:Ute,curveBumpY:Bte,curveLinearClosed:nne,curveLinear:Sh,curveMonotoneX:rne,curveMonotoneY:ane,curveNatural:ine,curveStep:sne,curveStepAfter:lne,curveStepBefore:one},km=function(e){return e.x===+e.x&&e.y===+e.y},sc=function(e){return e.x},oc=function(e){return e.y},kce=function(e,n){if(ze(e))return e;var r="curve".concat(xh(e));return(r==="curveMonotone"||r==="curveBump")&&n?mD["".concat(r).concat(n==="vertical"?"Y":"X")]:mD[r]||Sh},Ice=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,o=e.baseLine,u=e.layout,f=e.connectNulls,d=f===void 0?!1:f,p=kce(r,u),h=d?i.filter(function(w){return km(w)}):i,y;if(Array.isArray(o)){var x=d?o.filter(function(w){return km(w)}):o,T=h.map(function(w,A){return fD(fD({},w),{},{base:x[A]})});return u==="vertical"?y=Sm().y(oc).x1(sc).x0(function(w){return w.base.x}):y=Sm().x(sc).y1(oc).y0(function(w){return w.base.y}),y.defined(km).curve(p),y(T)}return u==="vertical"&&Ee(o)?y=Sm().y(oc).x1(sc).x0(o):Ee(o)?y=Sm().x(sc).y1(oc).y0(o):y=B5().x(sc).y(oc),y.defined(km).curve(p),y(h)},yA=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?Ice(e):a;return j.createElement("path",gA({},Ve(e,!1),np(e),{className:Je("recharts-curve",n),d:o,ref:i}))},mS={exports:{}},pS,pD;function Pce(){if(pD)return pS;pD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pS=t,pS}var hS,hD;function Oce(){if(hD)return hS;hD=1;var t=Pce();function e(){}function n(){}return n.resetWarningCache=e,hS=function(){function r(o,u,f,d,p,h){if(h!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},hS}var gD;function Rce(){return gD||(gD=1,mS.exports=Oce()()),mS.exports}var Dce=Rce();const bt=yt(Dce);var Lce=Object.getOwnPropertyNames,qce=Object.getOwnPropertySymbols,Uce=Object.prototype.hasOwnProperty;function yD(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function Im(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,o=i.get(n),u=i.get(r);if(o&&u)return o===r&&u===n;i.set(n,r),i.set(r,n);var f=t(n,r,a);return i.delete(n),i.delete(r),f}}function Bce(t){return t!=null?t[Symbol.toStringTag]:void 0}function vD(t){return Lce(t).concat(qce(t))}var $ce=Object.hasOwn||(function(t,e){return Uce.call(t,e)});function so(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Vce="__v",Fce="__o",zce="_owner",xD=Object.getOwnPropertyDescriptor,bD=Object.keys;function Gce(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Hce(t,e){return so(t.getTime(),e.getTime())}function Kce(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Yce(t,e){return t===e}function SD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),o,u,f=0;(o=i.next())&&!o.done;){for(var d=e.entries(),p=!1,h=0;(u=d.next())&&!u.done;){if(a[h]){h++;continue}var y=o.value,x=u.value;if(n.equals(y[0],x[0],f,h,t,e,n)&&n.equals(y[1],x[1],y[0],x[0],t,e,n)){p=a[h]=!0;break}h++}if(!p)return!1;f++}return!0}var Wce=so;function Xce(t,e,n){var r=bD(t),a=r.length;if(bD(e).length!==a)return!1;for(;a-- >0;)if(!HB(t,e,n,r[a]))return!1;return!0}function lc(t,e,n){var r=vD(t),a=r.length;if(vD(e).length!==a)return!1;for(var i,o,u;a-- >0;)if(i=r[a],!HB(t,e,n,i)||(o=xD(t,i),u=xD(e,i),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function Jce(t,e){return so(t.valueOf(),e.valueOf())}function Qce(t,e){return t.source===e.source&&t.flags===e.flags}function wD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),o,u;(o=i.next())&&!o.done;){for(var f=e.values(),d=!1,p=0;(u=f.next())&&!u.done;){if(!a[p]&&n.equals(o.value,u.value,o.value,u.value,t,e,n)){d=a[p]=!0;break}p++}if(!d)return!1}return!0}function Zce(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function ede(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function HB(t,e,n,r){return(r===zce||r===Fce||r===Vce)&&(t.$$typeof||e.$$typeof)?!0:$ce(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var tde="[object Arguments]",nde="[object Boolean]",rde="[object Date]",ade="[object Error]",ide="[object Map]",sde="[object Number]",ode="[object Object]",lde="[object RegExp]",ude="[object Set]",cde="[object String]",dde="[object URL]",fde=Array.isArray,AD=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,TD=Object.assign,mde=Object.prototype.toString.call.bind(Object.prototype.toString);function pde(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,p=t.areSetsEqual,h=t.areTypedArraysEqual,y=t.areUrlsEqual,x=t.unknownTagComparators;return function(w,A,C){if(w===A)return!0;if(w==null||A==null)return!1;var M=typeof w;if(M!==typeof A)return!1;if(M!=="object")return M==="number"?o(w,A,C):M==="function"?a(w,A,C):!1;var _=w.constructor;if(_!==A.constructor)return!1;if(_===Object)return u(w,A,C);if(fde(w))return e(w,A,C);if(AD!=null&&AD(w))return h(w,A,C);if(_===Date)return n(w,A,C);if(_===RegExp)return d(w,A,C);if(_===Map)return i(w,A,C);if(_===Set)return p(w,A,C);var k=mde(w);if(k===rde)return n(w,A,C);if(k===lde)return d(w,A,C);if(k===ide)return i(w,A,C);if(k===ude)return p(w,A,C);if(k===ode)return typeof w.then!="function"&&typeof A.then!="function"&&u(w,A,C);if(k===dde)return y(w,A,C);if(k===ade)return r(w,A,C);if(k===tde)return u(w,A,C);if(k===nde||k===sde||k===cde)return f(w,A,C);if(x){var N=x[k];if(!N){var I=Bce(w);I&&(N=x[I])}if(N)return N(w,A,C)}return!1}}function hde(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?lc:Gce,areDatesEqual:Hce,areErrorsEqual:Kce,areFunctionsEqual:Yce,areMapsEqual:r?yD(SD,lc):SD,areNumbersEqual:Wce,areObjectsEqual:r?lc:Xce,arePrimitiveWrappersEqual:Jce,areRegExpsEqual:Qce,areSetsEqual:r?yD(wD,lc):wD,areTypedArraysEqual:r?lc:Zce,areUrlsEqual:ede,unknownTagComparators:void 0};if(n&&(a=TD({},a,n(a))),e){var i=Im(a.areArraysEqual),o=Im(a.areMapsEqual),u=Im(a.areObjectsEqual),f=Im(a.areSetsEqual);a=TD({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:f})}return a}function gde(t){return function(e,n,r,a,i,o,u){return t(e,n,u)}}function yde(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(f,d){var p=r(),h=p.cache,y=h===void 0?e?new WeakMap:void 0:h,x=p.meta;return n(f,d,{cache:y,equals:a,meta:x,strict:i})};if(e)return function(f,d){return n(f,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(f,d){return n(f,d,o)}}var vde=es();es({strict:!0});es({circular:!0});es({circular:!0,strict:!0});es({createInternalComparator:function(){return so}});es({strict:!0,createInternalComparator:function(){return so}});es({circular:!0,createInternalComparator:function(){return so}});es({circular:!0,createInternalComparator:function(){return so},strict:!0});function es(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,u=hde(t),f=pde(u),d=r?r(f):gde(f);return yde({circular:n,comparator:f,createState:a,equals:d,strict:o})}function xde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function ED(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):xde(a)};requestAnimationFrame(r)}function vA(t){"@babel/helpers - typeof";return vA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vA(t)}function bde(t){return Tde(t)||Ade(t)||wde(t)||Sde()}function Sde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wde(t,e){if(t){if(typeof t=="string")return ND(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ND(t,e)}}function ND(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ade(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tde(t){if(Array.isArray(t))return t}function Ede(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,u=bde(o),f=u[0],d=u.slice(1);if(typeof f=="number"){ED(a.bind(null,d),f);return}a(f),ED(a.bind(null,d));return}vA(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function CD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){KB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KB(t,e,n){return e=Nde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nde(t){var e=_de(t,"string");return od(e)==="symbol"?e:String(e)}function _de(t,e){if(od(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},jde=function(e){return e},Mde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Tc=function(e,n){return Object.keys(n).reduce(function(r,a){return CD(CD({},r),{},KB({},a,e(a,n[a])))},{})},jD=function(e,n,r){return e.map(function(a){return"".concat(Mde(a)," ").concat(n,"ms ").concat(r)}).join(",")};function kde(t,e){return Ode(t)||Pde(t,e)||YB(t,e)||Ide()}function Ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Ode(t){if(Array.isArray(t))return t}function Rde(t){return qde(t)||Lde(t)||YB(t)||Dde()}function Dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(t,e){if(t){if(typeof t=="string")return xA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xA(t,e)}}function Lde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qde(t){if(Array.isArray(t))return xA(t)}function xA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mp=1e-4,WB=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},XB=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},MD=function(e,n){return function(r){var a=WB(e,n);return XB(a,r)}},Ude=function(e,n){return function(r){var a=WB(e,n),i=[].concat(Rde(a.map(function(o,u){return o*u}).slice(1)),[0]);return XB(i,r)}},kD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,u=1;break;case"ease":a=.25,i=.1,o=.25,u=1;break;case"ease-in":a=.42,i=0,o=1,u=1;break;case"ease-out":a=.42,i=0,o=.58,u=1;break;case"ease-in-out":a=0,i=0,o=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var d=f[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),p=kde(d,4);a=p[0],i=p[1],o=p[2],u=p[3]}}}var h=MD(a,o),y=MD(i,u),x=Ude(a,o),T=function(C){return C>1?1:C<0?0:C},w=function(C){for(var M=C>1?1:C,_=M,k=0;k<8;++k){var N=h(_)-M,I=x(_);if(Math.abs(N-M)<Mp||I<Mp)return y(_);_=T(_-N/I)}return y(_)};return w.isStepper=!1,w},Bde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,o=e.dt,u=o===void 0?17:o,f=function(p,h,y){var x=-(p-h)*r,T=y*i,w=y+(x-T)*u/1e3,A=y*u/1e3+p;return Math.abs(A-h)<Mp&&Math.abs(w)<Mp?[h,0]:[A,w]};return f.isStepper=!0,f.dt=u,f},$de=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kD(a);case"spring":return Bde();default:if(a.split("(")[0]==="cubic-bezier")return kD(a)}return typeof a=="function"?a:null};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function ID(t){return zde(t)||Fde(t)||JB(t)||Vde()}function Vde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zde(t){if(Array.isArray(t))return SA(t)}function PD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PD(Object(n),!0).forEach(function(r){bA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bA(t,e,n){return e=Gde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gde(t){var e=Hde(t,"string");return ld(e)==="symbol"?e:String(e)}function Hde(t,e){if(ld(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kde(t,e){return Xde(t)||Wde(t,e)||JB(t,e)||Yde()}function Yde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JB(t,e){if(t){if(typeof t=="string")return SA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SA(t,e)}}function SA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Xde(t){if(Array.isArray(t))return t}var kp=function(e,n,r){return e+(n-e)*r},wA=function(e){var n=e.from,r=e.to;return n!==r},Jde=function t(e,n,r){var a=Tc(function(i,o){if(wA(o)){var u=e(o.from,o.to,o.velocity),f=Kde(u,2),d=f[0],p=f[1];return Dn(Dn({},o),{},{from:d,velocity:p})}return o},n);return r<1?Tc(function(i,o){return wA(o)?Dn(Dn({},o),{},{velocity:kp(o.velocity,a[i].velocity,r),from:kp(o.from,a[i].from,r)}):o},n):t(e,a,r-1)};const Qde=(function(t,e,n,r,a){var i=Cde(t,e),o=i.reduce(function(A,C){return Dn(Dn({},A),{},bA({},C,[t[C],e[C]]))},{}),u=i.reduce(function(A,C){return Dn(Dn({},A),{},bA({},C,{from:t[C],velocity:0,to:e[C]}))},{}),f=-1,d,p,h=function(){return null},y=function(){return Tc(function(C,M){return M.from},u)},x=function(){return!Object.values(u).filter(wA).length},T=function(C){d||(d=C);var M=C-d,_=M/n.dt;u=Jde(n,u,_),a(Dn(Dn(Dn({},t),e),y())),d=C,x()||(f=requestAnimationFrame(h))},w=function(C){p||(p=C);var M=(C-p)/r,_=Tc(function(N,I){return kp.apply(void 0,ID(I).concat([n(M)]))},o);if(a(Dn(Dn(Dn({},t),e),_)),M<1)f=requestAnimationFrame(h);else{var k=Tc(function(N,I){return kp.apply(void 0,ID(I).concat([n(1)]))},o);a(Dn(Dn(Dn({},t),e),k))}};return h=n.isStepper?T:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}});function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var Zde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function efe(t,e){if(t==null)return{};var n=tfe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tfe(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function gS(t){return ife(t)||afe(t)||rfe(t)||nfe()}function nfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rfe(t,e){if(t){if(typeof t=="string")return AA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AA(t,e)}}function afe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ife(t){if(Array.isArray(t))return AA(t)}function AA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OD(Object(n),!0).forEach(function(r){pc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pc(t,e,n){return e=QB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ofe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QB(r.key),r)}}function lfe(t,e,n){return e&&ofe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QB(t){var e=ufe(t,"string");return Ml(e)==="symbol"?e:String(e)}function ufe(t,e){if(Ml(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TA(t,e)}function dfe(t){var e=ffe();return function(){var r=Ip(t),a;if(e){var i=Ip(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return EA(this,a)}}function EA(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NA(t)}function NA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ffe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}var xa=(function(t){cfe(n,t);var e=dfe(n);function n(r,a){var i;sfe(this,n),i=e.call(this,r,a);var o=i.props,u=o.isActive,f=o.attributeName,d=o.from,p=o.to,h=o.steps,y=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(NA(i)),i.changeStyle=i.changeStyle.bind(NA(i)),!u||x<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:p}),EA(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof y=="function")return i.state={style:d},EA(i);i.state={style:f?pc({},f,d):d}}else i.state={style:{}};return i}return lfe(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,u=i.canBegin,f=i.attributeName,d=i.shouldReAnimate,p=i.to,h=i.from,y=this.state.style;if(u){if(!o){var x={style:f?pc({},f,p):p};this.state&&y&&(f&&y[f]!==p||!f&&y!==p)&&this.setState(x);return}if(!(vde(a.to,p)&&a.canBegin&&a.isActive)){var T=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=T||d?h:a.to;if(this.state&&y){var A={style:f?pc({},f,w):w};(f&&y[f]!==w||!f&&y!==w)&&this.setState(A)}this.runAnimation(Qr(Qr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,u=a.to,f=a.duration,d=a.easing,p=a.begin,h=a.onAnimationEnd,y=a.onAnimationStart,x=Qde(o,u,$de(d),f,this.changeStyle),T=function(){i.stopJSAnimation=x()};this.manager.start([y,p,T,f,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,u=a.begin,f=a.onAnimationStart,d=o[0],p=d.style,h=d.duration,y=h===void 0?0:h,x=function(w,A,C){if(C===0)return w;var M=A.duration,_=A.easing,k=_===void 0?"ease":_,N=A.style,I=A.properties,P=A.onAnimationEnd,L=C>0?o[C-1]:A,D=I||Object.keys(N);if(typeof k=="function"||k==="spring")return[].concat(gS(w),[i.runJSAnimation.bind(i,{from:L.style,to:N,duration:M,easing:k}),M]);var q=jD(D,M,k),U=Qr(Qr(Qr({},L.style),N),{},{transition:q});return[].concat(gS(w),[U,M,P]).filter(jde)};return this.manager.start([f].concat(gS(o.reduce(x,[p,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Ede());var i=a.begin,o=a.duration,u=a.attributeName,f=a.to,d=a.easing,p=a.onAnimationStart,h=a.onAnimationEnd,y=a.steps,x=a.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var w=u?pc({},u,f):f,A=jD(Object.keys(w),o,d);T.start([p,i,Qr(Qr({},w),{},{transition:A}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var f=efe(a,Zde),d=j.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||d===0||o<=0)return i;var h=function(x){var T=x.props,w=T.style,A=w===void 0?{}:w,C=T.className,M=j.cloneElement(x,Qr(Qr({},f),{},{style:Qr(Qr({},A),p),className:C}));return M};return d===1?h(j.Children.only(i)):Z.createElement("div",null,j.Children.map(i,function(y){return h(y)}))}}]),n})(j.PureComponent);xa.displayName="Animate";xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xa.propTypes={from:bt.oneOfType([bt.object,bt.string]),to:bt.oneOfType([bt.object,bt.string]),attributeName:bt.string,duration:bt.number,begin:bt.number,easing:bt.oneOfType([bt.string,bt.func]),steps:bt.arrayOf(bt.shape({duration:bt.number.isRequired,style:bt.object.isRequired,easing:bt.oneOfType([bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),bt.func]),properties:bt.arrayOf("string"),onAnimationEnd:bt.func})),children:bt.oneOfType([bt.node,bt.func]),isActive:bt.bool,canBegin:bt.bool,onAnimationEnd:bt.func,shouldReAnimate:bt.bool,onAnimationStart:bt.func,onAnimationReStart:bt.func};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function mfe(t,e){return yfe(t)||gfe(t,e)||hfe(t,e)||pfe()}function pfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hfe(t,e){if(t){if(typeof t=="string")return RD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RD(t,e)}}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function yfe(t){if(Array.isArray(t))return t}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function LD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vfe(t,e,n){return e=xfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xfe(t){var e=bfe(t,"string");return ud(e)=="symbol"?e:e+""}function bfe(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qD=function(e,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,f=r>=0?1:-1,d=a>=0&&r>=0||a<0&&r<0?1:0,p;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],y=0,x=4;y<x;y++)h[y]=i[y]>o?o:i[y];p="M".concat(e,",").concat(n+u*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+f*h[0],",").concat(n)),p+="L ".concat(e+r-f*h[1],",").concat(n),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+u*h[1])),p+="L ".concat(e+r,",").concat(n+a-u*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-f*h[2],",").concat(n+a)),p+="L ".concat(e+f*h[3],",").concat(n+a),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+a-u*h[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var T=Math.min(o,i);p="M ".concat(e,",").concat(n+u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+f*T,",").concat(n,`
            L `).concat(e+r-f*T,",").concat(n,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+r,",").concat(n+u*T,`
            L `).concat(e+r,",").concat(n+a-u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+r-f*T,",").concat(n+a,`
            L `).concat(e+f*T,",").concat(n+a,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e,",").concat(n+a-u*T," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return p},Sfe=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,o=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var d=Math.min(i,i+u),p=Math.max(i,i+u),h=Math.min(o,o+f),y=Math.max(o,o+f);return r>=d&&r<=p&&a>=h&&a<=y}return!1},wfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FE=function(e){var n=LD(LD({},wfe),e),r=j.useRef(),a=j.useState(-1),i=mfe(a,2),o=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&u(k)}catch{}},[]);var f=n.x,d=n.y,p=n.width,h=n.height,y=n.radius,x=n.className,T=n.animationEasing,w=n.animationDuration,A=n.animationBegin,C=n.isAnimationActive,M=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||h!==+h||p===0||h===0)return null;var _=Je("recharts-rectangle",x);return M?Z.createElement(xa,{canBegin:o>0,from:{width:p,height:h,x:f,y:d},to:{width:p,height:h,x:f,y:d},duration:w,animationEasing:T,isActive:M},function(k){var N=k.width,I=k.height,P=k.x,L=k.y;return Z.createElement(xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:w,isActive:C,easing:T},Z.createElement("path",Pp({},Ve(n,!0),{className:_,d:qD(P,L,N,I,y),ref:r})))}):Z.createElement("path",Pp({},Ve(n,!0),{className:_,d:qD(f,d,p,h,y)}))},Afe=["points","className","baseLinePoints","connectNulls"];function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function Tfe(t,e){if(t==null)return{};var n=Efe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Efe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function UD(t){return jfe(t)||Cfe(t)||_fe(t)||Nfe()}function Nfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _fe(t,e){if(t){if(typeof t=="string")return _A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _A(t,e)}}function Cfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jfe(t){if(Array.isArray(t))return _A(t)}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var BD=function(e){return e&&e.x===+e.x&&e.y===+e.y},Mfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){BD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),BD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ec=function(e,n){var r=Mfe(e);n&&(r=[r.reduce(function(i,o){return[].concat(UD(i),UD(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,u,f){return"".concat(o).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},kfe=function(e,n,r){var a=Ec(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Ec(n.reverse(),r).slice(1))},Ife=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,o=Tfe(e,Afe);if(!n||!n.length)return null;var u=Je("recharts-polygon",r);if(a&&a.length){var f=o.stroke&&o.stroke!=="none",d=kfe(n,a,i);return Z.createElement("g",{className:u},Z.createElement("path",ol({},Ve(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),f?Z.createElement("path",ol({},Ve(o,!0),{fill:"none",d:Ec(n,i)})):null,f?Z.createElement("path",ol({},Ve(o,!0),{fill:"none",d:Ec(a,i)})):null)}var p=Ec(n,i);return Z.createElement("path",ol({},Ve(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:u,d:p}))};function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(this,arguments)}var zE=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,o=Je("recharts-dot",i);return n===+n&&r===+r&&a===+a?j.createElement("circle",CA({},Ve(e,!1),np(e),{className:o,cx:n,cy:r,r:a})):null};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}var Pfe=["x","y","top","left","width","height","className"];function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(this,arguments)}function $D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ofe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$D(Object(n),!0).forEach(function(r){Rfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rfe(t,e,n){return e=Dfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dfe(t){var e=Lfe(t,"string");return cd(e)=="symbol"?e:e+""}function Lfe(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qfe(t,e){if(t==null)return{};var n=Ufe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ufe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Bfe=function(e,n,r,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},$fe=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.top,u=o===void 0?0:o,f=e.left,d=f===void 0?0:f,p=e.width,h=p===void 0?0:p,y=e.height,x=y===void 0?0:y,T=e.className,w=qfe(e,Pfe),A=Ofe({x:r,y:i,top:u,left:d,width:h,height:x},w);return!Ee(r)||!Ee(i)||!Ee(h)||!Ee(x)||!Ee(u)||!Ee(d)?null:Z.createElement("path",jA({},Ve(A,!0),{className:Je("recharts-cross",T),d:Bfe(r,i,h,x,u,d)}))},yS,VD;function Vfe(){if(VD)return yS;VD=1;var t=Ih(),e=cB(),n=wa();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return yS=r,yS}var Ffe=Vfe();const zfe=yt(Ffe);var vS,FD;function Gfe(){if(FD)return vS;FD=1;var t=Ih(),e=wa(),n=dB();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return vS=r,vS}var Hfe=Gfe();const Kfe=yt(Hfe);var Yfe=["cx","cy","angle","ticks","axisLine"],Wfe=["ticks","tick","angle","tickFormatter","stroke"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(this,arguments)}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GD(t,e){if(t==null)return{};var n=Xfe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e$(r.key),r)}}function Qfe(t,e,n){return e&&HD(t.prototype,e),n&&HD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zfe(t,e,n){return e=Op(e),eme(t,ZB()?Reflect.construct(e,n||[],Op(t).constructor):e.apply(t,n))}function eme(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tme(t)}function tme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZB=function(){return!!t})()}function Op(t){return Op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Op(t)}function nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},MA(t,e)}function qh(t,e,n){return e=e$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$(t){var e=rme(t,"string");return kl(e)=="symbol"?e:e+""}function rme(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fd=(function(t){function e(){return Jfe(this,e),Zfe(this,e,arguments)}return nme(e,t),Qfe(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,u=i.cx,f=i.cy;return kt(u,f,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,u=r.ticks,f=zfe(u,function(p){return p.coordinate||0}),d=Kfe(u,function(p){return p.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,u=r.ticks,f=r.axisLine,d=GD(r,Yfe),p=u.reduce(function(T,w){return[Math.min(T[0],w.coordinate),Math.max(T[1],w.coordinate)]},[1/0,-1/0]),h=kt(a,i,p[0],o),y=kt(a,i,p[1],o),x=ws(ws(ws({},Ve(d,!1)),{},{fill:"none"},Ve(f,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return Z.createElement("line",Nc({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,u=a.angle,f=a.tickFormatter,d=a.stroke,p=GD(a,Wfe),h=this.getTickTextAnchor(),y=Ve(p,!1),x=Ve(o,!1),T=i.map(function(w,A){var C=r.getTickValueCoord(w),M=ws(ws(ws(ws({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(C.x,", ").concat(C.y,")")},y),{},{stroke:"none",fill:d},x),{},{index:A},C),{},{payload:w});return Z.createElement(ot,Nc({className:Je("recharts-polar-radius-axis-tick",VB(o)),key:"tick-".concat(w.coordinate)},Qa(r.props,w,A)),e.renderTickItem(o,M,f?f(w.value,A):w.value))});return Z.createElement(ot,{className:"recharts-polar-radius-axis-ticks"},T)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:Z.createElement(ot,{className:Je("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),_n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,a):ze(r)?o=r(a):o=Z.createElement(Hs,Nc({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(j.PureComponent);qh(Fd,"displayName","PolarRadiusAxis");qh(Fd,"axisType","radiusAxis");qh(Fd,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cs.apply(this,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function As(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){Uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ame(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function ime(t,e,n){return e&&YD(t.prototype,e),n&&YD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t,e,n){return e=Rp(e),ome(t,t$()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function ome(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lme(t)}function lme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function ume(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kA(t,e)}function Uh(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=cme(t,"string");return Il(e)=="symbol"?e:e+""}function cme(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dme=Math.PI/180,WD=1e-5,zd=(function(t){function e(){return ame(this,e),sme(this,e,arguments)}return ume(e,t),ime(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,u=a.radius,f=a.orientation,d=a.tickSize,p=d||8,h=kt(i,o,u,r.coordinate),y=kt(i,o,u+(f==="inner"?-1:1)*p,r.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*dme),o;return i>WD?o=a==="outer"?"start":"end":i<-WD?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,u=r.axisLine,f=r.axisLineType,d=As(As({},Ve(this.props,!1)),{},{fill:"none"},Ve(u,!1));if(f==="circle")return Z.createElement(zE,Cs({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var p=this.props.ticks,h=p.map(function(y){return kt(a,i,o,y.coordinate)});return Z.createElement(Ife,Cs({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,u=a.tickLine,f=a.tickFormatter,d=a.stroke,p=Ve(this.props,!1),h=Ve(o,!1),y=As(As({},p),{},{fill:"none"},Ve(u,!1)),x=i.map(function(T,w){var A=r.getTickLineCoord(T),C=r.getTickTextAnchor(T),M=As(As(As({textAnchor:C},p),{},{stroke:"none",fill:d},h),{},{index:w,payload:T,x:A.x2,y:A.y2});return Z.createElement(ot,Cs({className:Je("recharts-polar-angle-axis-tick",VB(o)),key:"tick-".concat(T.coordinate)},Qa(r.props,T,w)),u&&Z.createElement("line",Cs({className:"recharts-polar-angle-axis-tick-line"},y,A)),o&&e.renderTickItem(o,M,f?f(T.value,w):T.value))});return Z.createElement(ot,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:Z.createElement(ot,{className:Je("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return Z.isValidElement(r)?o=Z.cloneElement(r,a):ze(r)?o=r(a):o=Z.createElement(Hs,Cs({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(j.PureComponent);Uh(zd,"displayName","PolarAngleAxis");Uh(zd,"axisType","angleAxis");Uh(zd,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var xS,XD;function fme(){if(XD)return xS;XD=1;var t=uU(),e=t(Object.getPrototypeOf,Object);return xS=e,xS}var bS,JD;function mme(){if(JD)return bS;JD=1;var t=si(),e=fme(),n=oi(),r="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,f=o.call(Object);function d(p){if(!n(p)||t(p)!=r)return!1;var h=e(p);if(h===null)return!0;var y=u.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==f}return bS=d,bS}var pme=mme();const hme=yt(pme);var SS,QD;function gme(){if(QD)return SS;QD=1;var t=si(),e=oi(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return SS=r,SS}var yme=gme();const vme=yt(yme);function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}function xme(t,e){return Ame(t)||wme(t,e)||Sme(t,e)||bme()}function bme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sme(t,e){if(t){if(typeof t=="string")return ZD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZD(t,e)}}function ZD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Ame(t){if(Array.isArray(t))return t}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function tL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){Tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tme(t,e,n){return e=Eme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eme(t){var e=Nme(t,"string");return dd(e)=="symbol"?e:e+""}function Nme(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nL=function(e,n,r,a,i){var o=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-o/2,",").concat(n+i),u+="L ".concat(e+r-o/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},_me={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cme=function(e){var n=tL(tL({},_me),e),r=j.useRef(),a=j.useState(-1),i=xme(a,2),o=i[0],u=i[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&u(_)}catch{}},[]);var f=n.x,d=n.y,p=n.upperWidth,h=n.lowerWidth,y=n.height,x=n.className,T=n.animationEasing,w=n.animationDuration,A=n.animationBegin,C=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||h!==+h||y!==+y||p===0&&h===0||y===0)return null;var M=Je("recharts-trapezoid",x);return C?Z.createElement(xa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:f,y:d},to:{upperWidth:p,lowerWidth:h,height:y,x:f,y:d},duration:w,animationEasing:T,isActive:C},function(_){var k=_.upperWidth,N=_.lowerWidth,I=_.height,P=_.x,L=_.y;return Z.createElement(xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:w,easing:T},Z.createElement("path",Dp({},Ve(n,!0),{className:M,d:nL(P,L,k,N,I),ref:r})))}):Z.createElement("g",null,Z.createElement("path",Dp({},Ve(n,!0),{className:M,d:nL(f,d,p,h,y)})))},jme=["option","shapeType","propTransformer","activeClassName","isActive"];function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Mme(t,e){if(t==null)return{};var n=kme(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Lp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){Ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ime(t,e,n){return e=Pme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pme(t){var e=Ome(t,"string");return fd(e)=="symbol"?e:e+""}function Ome(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rme(t,e){return Lp(Lp({},e),t)}function Dme(t,e){return t==="symbols"}function aL(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Z.createElement(FE,n);case"trapezoid":return Z.createElement(Cme,n);case"sector":return Z.createElement(GB,n);case"symbols":if(Dme(e))return Z.createElement(oE,n);break;default:return null}}function Lme(t){return j.isValidElement(t)?t.props:t}function GE(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?Rme:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,u=t.isActive,f=Mme(t,jme),d;if(j.isValidElement(e))d=j.cloneElement(e,Lp(Lp({},f),Lme(e)));else if(ze(e))d=e(f);else if(hme(e)&&!vme(e)){var p=a(e,f);d=Z.createElement(aL,{shapeType:n,elementProps:p})}else{var h=f;d=Z.createElement(aL,{shapeType:n,elementProps:h})}return u?Z.createElement(ot,{className:o},d):d}function Bh(t,e){return e!=null&&"trapezoids"in t.props}function $h(t,e){return e!=null&&"sectors"in t.props}function md(t,e){return e!=null&&"points"in t.props}function qme(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function Ume(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Bme(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function $me(t,e){var n;return Bh(t,e)?n=qme:$h(t,e)?n=Ume:md(t,e)&&(n=Bme),n}function Vme(t,e){var n;return Bh(t,e)?n="trapezoids":$h(t,e)?n="sectors":md(t,e)&&(n="points"),n}function Fme(t,e){if(Bh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if($h(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return md(t,e)?e.payload:{}}function zme(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=Vme(n,e),i=Fme(n,e),o=r.filter(function(f,d){var p=Vd(i,f),h=n.props[a].filter(function(T){var w=$me(n,e);return w(T,e)}),y=n.props[a].indexOf(h[h.length-1]),x=d===y;return p&&x}),u=r.indexOf(o[o.length-1]);return u}var Gm;function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){Br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function Hme(t,e,n){return e&&sL(t.prototype,e),n&&sL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kme(t,e,n){return e=qp(e),Yme(t,r$()?Reflect.construct(e,n||[],qp(t).constructor):e.apply(t,n))}function Yme(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wme(t)}function Wme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r$=function(){return!!t})()}function qp(t){return qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qp(t)}function Xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},IA(t,e)}function Br(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=Jme(t,"string");return Pl(e)=="symbol"?e:e+""}function Jme(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ui=(function(t){function e(n){var r;return Gme(this,e),r=Kme(this,e,[n]),Br(r,"pieRef",null),Br(r,"sectorRefs",[]),Br(r,"id",Rd("recharts-pie-")),Br(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ze(a)&&a()}),Br(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ze(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Xme(e,t),Hme(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,u=i.labelLine,f=i.dataKey,d=i.valueKey,p=Ve(this.props,!1),h=Ve(o,!1),y=Ve(u,!1),x=o&&o.offsetRadius||20,T=r.map(function(w,A){var C=(w.startAngle+w.endAngle)/2,M=kt(w.cx,w.cy,w.outerRadius+x,C),_=Pt(Pt(Pt(Pt({},p),w),{},{stroke:"none"},h),{},{index:A,textAnchor:e.getTextAnchor(M.x,w.cx)},M),k=Pt(Pt(Pt(Pt({},p),w),{},{fill:"none",stroke:w.fill},y),{},{index:A,points:[kt(w.cx,w.cy,w.outerRadius,C),M]}),N=f;return et(f)&&et(d)?N="value":et(f)&&(N=d),Z.createElement(ot,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(A)},u&&e.renderLabelLineItem(u,k,"line"),e.renderLabelItem(o,_,qn(w,N)))});return Z.createElement(ot,{className:"recharts-pie-labels"},T)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,u=i.blendStroke,f=i.inactiveShape;return r.map(function(d,p){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var h=a.isActiveIndex(p),y=f&&a.hasActiveIndex()?f:null,x=h?o:y,T=Pt(Pt({},d),{},{stroke:u?d.fill:d.stroke,tabIndex:-1});return Z.createElement(ot,ll({ref:function(A){A&&!a.sectorRefs.includes(A)&&a.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},Qa(a.props,d,p),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(p)}),Z.createElement(GE,ll({option:x,isActive:h,shapeType:"sector"},T)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,h=this.state,y=h.prevSectors,x=h.prevIsAnimationActive;return Z.createElement(xa,{begin:u,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(T){var w=T.t,A=[],C=i&&i[0],M=C.startAngle;return i.forEach(function(_,k){var N=y&&y[k],I=k>0?Ar(_,"paddingAngle",0):0;if(N){var P=ta(N.endAngle-N.startAngle,_.endAngle-_.startAngle),L=Pt(Pt({},_),{},{startAngle:M+I,endAngle:M+P(w)+I});A.push(L),M=L.endAngle}else{var D=_.endAngle,q=_.startAngle,U=ta(0,D-q),R=U(w),B=Pt(Pt({},_),{},{startAngle:M+I,endAngle:M+R+I});A.push(B),M=B.endAngle}}),Z.createElement(ot,null,r.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Vd(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,u=a.className,f=a.label,d=a.cx,p=a.cy,h=a.innerRadius,y=a.outerRadius,x=a.isAnimationActive,T=this.state.isAnimationFinished;if(i||!o||!o.length||!Ee(d)||!Ee(p)||!Ee(h)||!Ee(y))return null;var w=Je("recharts-pie",u);return Z.createElement(ot,{tabIndex:this.props.rootTabIndex,className:w,ref:function(C){r.pieRef=C}},this.renderSectors(),f&&this.renderLabels(o),_n.renderCallByParent(this.props,null,!1),(!x||T)&&Wa.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);if(ze(r))return r(a);var o=Je("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Z.createElement(yA,ll({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(Z.isValidElement(r))return Z.cloneElement(r,a);var o=i;if(ze(r)&&(o=r(a),Z.isValidElement(o)))return o;var u=Je("recharts-pie-label-text",typeof r!="boolean"&&!ze(r)?r.className:"");return Z.createElement(Hs,ll({},a,{alignmentBaseline:"middle",className:u}),o)}}])})(j.PureComponent);Gm=ui;Br(ui,"displayName","Pie");Br(ui,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ro.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Br(ui,"parseDeltaAngle",function(t,e){var n=Cn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Br(ui,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ve(t,!1),a=Tr(n,Ld);return e&&e.length?e.map(function(i,o){return Pt(Pt(Pt({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Pt(Pt({},r),i.props)}):[]});Br(ui,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,o=BB(a,i),u=r+Kn(t.cx,a,a/2),f=n+Kn(t.cy,i,i/2),d=Kn(t.innerRadius,o,0),p=Kn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:f,innerRadius:d,outerRadius:p,maxRadius:h}});Br(ui,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Pt(Pt({},e.type.defaultProps),e.props):e.props,a=Gm.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,u=r.endAngle,f=r.paddingAngle,d=r.dataKey,p=r.nameKey,h=r.valueKey,y=r.tooltipType,x=Math.abs(r.minAngle),T=Gm.parseCoordinateOfPie(r,n),w=Gm.parseDeltaAngle(o,u),A=Math.abs(w),C=d;et(d)&&et(h)?(ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):et(d)&&(ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=h);var M=a.filter(function(L){return qn(L,C,0)!==0}).length,_=(A>=360?M:M-1)*f,k=A-M*x-_,N=a.reduce(function(L,D){var q=qn(D,C,0);return L+(Ee(q)?q:0)},0),I;if(N>0){var P;I=a.map(function(L,D){var q=qn(L,C,0),U=qn(L,p,D),R=(Ee(q)?q:0)/N,B;D?B=P.endAngle+Cn(w)*f*(q!==0?1:0):B=o;var G=B+Cn(w)*((q!==0?x:0)+R*k),W=(B+G)/2,V=(T.innerRadius+T.outerRadius)/2,K=[{name:U,value:q,payload:L,dataKey:C,type:y}],Y=kt(T.cx,T.cy,V,W);return P=Pt(Pt(Pt({percent:R,cornerRadius:i,name:U,tooltipPayload:K,midAngle:W,middleRadius:V,tooltipPosition:Y},L),T),{},{value:qn(L,C),startAngle:B,endAngle:G,payload:L,paddingAngle:Cn(w)*f}),P})}return Pt(Pt({},T),{},{sectors:I,data:a})});function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PA.apply(this,arguments)}function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function wS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){Qme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qme(t,e,n){return e=Zme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zme(t){var e=epe(t,"string");return pd(e)=="symbol"?e:e+""}function epe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lL(t){return typeof t=="string"?parseInt(t,10):t}function tpe(t,e){var n="".concat(e.cx||t.cx),r=Number(n),a="".concat(e.cy||t.cy),i=Number(a);return wS(wS(wS({},e),t),{},{cx:r,cy:i})}function uL(t){return Z.createElement(GE,PA({shapeType:"sector",propTransformer:tpe},t))}var npe=["shape","activeShape","activeIndex","cornerRadius"],rpe=["value","background"];function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){Vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dL(t,e){if(t==null)return{};var n=ape(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ape(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ipe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function spe(t,e,n){return e&&fL(t.prototype,e),n&&fL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ope(t,e,n){return e=Bp(e),lpe(t,i$()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function lpe(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(t)}function upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OA(t,e)}function OA(t,e){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},OA(t,e)}function Vs(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=dpe(t,"string");return Ol(e)=="symbol"?e:e+""}function dpe(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gd=(function(t){function e(){var n;ipe(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=ope(this,e,[].concat(a)),Vs(n,"state",{isAnimationFinished:!1}),Vs(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ze(o)&&o()}),Vs(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ze(o)&&o()}),n}return cpe(e,t),spe(e,[{key:"getDeltaAngle",value:function(){var r=this.props,a=r.startAngle,i=r.endAngle,o=Cn(i-a),u=Math.min(Math.abs(i-a),360);return o*u}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.shape,u=i.activeShape,f=i.activeIndex,d=i.cornerRadius,p=dL(i,npe),h=Ve(p,!1);return r.map(function(y,x){var T=x===f,w=En(En(En(En({},h),{},{cornerRadius:lL(d)},y),Qa(a.props,y,x)),{},{className:"recharts-radial-bar-sector ".concat(y.className),forceCornerRadius:p.forceCornerRadius,cornerIsExternal:p.cornerIsExternal,isActive:T,option:T?u:o});return Z.createElement(uL,Up({},w,{key:"sector-".concat(x)}))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,h=this.state.prevData;return Z.createElement(xa,{begin:u,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,T=i.map(function(w,A){var C=h&&h[A];if(C){var M=ta(C.startAngle,w.startAngle),_=ta(C.endAngle,w.endAngle);return En(En({},w),{},{startAngle:M(x),endAngle:_(x)})}var k=w.endAngle,N=w.startAngle,I=ta(N,k);return En(En({},w),{},{endAngle:I(x)})});return Z.createElement(ot,null,r.renderSectorsStatically(T))})}},{key:"renderSectors",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Vd(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"renderBackground",value:function(r){var a=this,i=this.props.cornerRadius,o=Ve(this.props.background,!1);return r.map(function(u,f){u.value;var d=u.background,p=dL(u,rpe);if(!d)return null;var h=En(En(En(En(En({cornerRadius:lL(i)},p),{},{fill:"#eee"},d),o),Qa(a.props,u,f)),{},{index:f,className:Je("recharts-radial-bar-background-sector",o==null?void 0:o.className),option:d,isActive:!1});return Z.createElement(uL,Up({},h,{key:"sector-".concat(f)}))})}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,u=r.background,f=r.isAnimationActive;if(a||!i||!i.length)return null;var d=this.state.isAnimationFinished,p=Je("recharts-area",o);return Z.createElement(ot,{className:p},u&&Z.createElement(ot,{className:"recharts-radial-bar-background"},this.renderBackground(i)),Z.createElement(ot,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!f||d)&&Wa.renderCallByParent(En({},this.props),i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(j.PureComponent);Vs(Gd,"displayName","RadialBar");Vs(Gd,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!ro.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});Vs(Gd,"getComposedData",function(t){var e=t.item,n=t.props,r=t.radiusAxis,a=t.radiusAxisTicks,i=t.angleAxis,o=t.angleAxisTicks,u=t.displayedData,f=t.dataKey,d=t.stackedData,p=t.barPosition,h=t.bandSize,y=t.dataStartIndex,x=OB(p,e);if(!x)return null;var T=i.cx,w=i.cy,A=n.layout,C=e.props,M=C.children,_=C.minPointSize,k=A==="radial"?i:r,N=d?k.scale.domain():null,I=LB({numericAxis:k}),P=Tr(M,Ld),L=u.map(function(D,q){var U,R,B,G,W,V;if(d?U=RB(d[y+q],N):(U=qn(D,f),Array.isArray(U)||(U=[I,U])),A==="radial"){R=Np({axis:r,ticks:a,bandSize:h,offset:x.offset,entry:D,index:q}),W=i.scale(U[1]),G=i.scale(U[0]),B=R+x.size;var K=W-G;if(Math.abs(_)>0&&Math.abs(K)<Math.abs(_)){var Y=Cn(K||_)*(Math.abs(_)-Math.abs(K));W+=Y}V={background:{cx:T,cy:w,innerRadius:R,outerRadius:B,startAngle:n.startAngle,endAngle:n.endAngle}}}else{R=r.scale(U[0]),B=r.scale(U[1]),G=Np({axis:i,ticks:o,bandSize:h,offset:x.offset,entry:D,index:q}),W=G+x.size;var te=B-R;if(Math.abs(_)>0&&Math.abs(te)<Math.abs(_)){var re=Cn(te||_)*(Math.abs(_)-Math.abs(te));B+=re}}return En(En(En(En({},D),V),{},{payload:D,value:d?U:U[1],cx:T,cy:w,innerRadius:R,outerRadius:B,startAngle:G,endAngle:W},P&&P[q]&&P[q].props),{},{tooltipPayload:[VE(e,D)],tooltipPosition:kt(T,w,(R+B)/2,(G+W)/2)})});return{data:L,layout:A}});var AS,mL;function fpe(){if(mL)return AS;mL=1;var t=Math.ceil,e=Math.max;function n(r,a,i,o){for(var u=-1,f=e(t((a-r)/(i||1)),0),d=Array(f);f--;)d[o?f:++u]=r,r+=i;return d}return AS=n,AS}var TS,pL;function o$(){if(pL)return TS;pL=1;var t=EU(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return TS=r,TS}var ES,hL;function mpe(){if(hL)return ES;hL=1;var t=fpe(),e=Eh(),n=o$();function r(a){return function(i,o,u){return u&&typeof u!="number"&&e(i,o,u)&&(o=u=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),u=u===void 0?i<o?1:-1:n(u),t(i,o,u,a)}}return ES=r,ES}var NS,gL;function ppe(){if(gL)return NS;gL=1;var t=mpe(),e=t();return NS=e,NS}var hpe=ppe();const $p=yt(hpe);function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){l$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l$(t,e,n){return e=gpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=ype(t,"string");return hd(e)=="symbol"?e:e+""}function ype(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vpe=["Webkit","Moz","O","ms"],xpe=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=vpe.reduce(function(i,o){return vL(vL({},i),{},l$({},o+r,n))},{});return a[e]=n,a};function Rl(t){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rl(t)}function Vp(){return Vp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vp.apply(this,arguments)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function _S(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c$(r.key),r)}}function Spe(t,e,n){return e&&bL(t.prototype,e),n&&bL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wpe(t,e,n){return e=Fp(e),Ape(t,u$()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function Ape(t,e){if(e&&(Rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tpe(t)}function Tpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function Epe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},RA(t,e)}function vr(t,e,n){return e=c$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t){var e=Npe(t,"string");return Rl(e)=="symbol"?e:e+""}function Npe(t,e){if(Rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _pe=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,o=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,d=wc().domain($p(0,f)).range([i,i+o-u]),p=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(a),scale:d,scaleValues:p}},SL=function(e){return e.changedTouches&&!!e.changedTouches.length},Dl=(function(t){function e(n){var r;return bpe(this,e),r=wpe(this,e,[n]),vr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),vr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,u=a.startIndex;o==null||o({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vr(r,"handleSlideDragStart",function(a){var i=SL(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Epe(e,t),Spe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,u=this.props,f=u.gap,d=u.data,p=d.length-1,h=Math.min(a,i),y=Math.max(a,i),x=e.getIndexInRange(o,h),T=e.getIndexInRange(o,y);return{startIndex:x-x%f,endIndex:T===p?p:T-T%f}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,u=a.dataKey,f=qn(i[r],u,r);return ze(o)?o(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,u=a.endX,f=this.props,d=f.x,p=f.width,h=f.travellerWidth,y=f.startIndex,x=f.endIndex,T=f.onChange,w=r.pageX-i;w>0?w=Math.min(w,d+p-h-u,d+p-h-o):w<0&&(w=Math.max(w,d-o,d-u));var A=this.getIndex({startX:o+w,endX:u+w});(A.startIndex!==y||A.endIndex!==x)&&T&&T(A),this.setState({startX:o+w,endX:u+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=SL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,u=a.endX,f=a.startX,d=this.state[o],p=this.props,h=p.x,y=p.width,x=p.travellerWidth,T=p.onChange,w=p.gap,A=p.data,C={startX:this.state.startX,endX:this.state.endX},M=r.pageX-i;M>0?M=Math.min(M,h+y-x-d):M<0&&(M=Math.max(M,h-d)),C[o]=d+M;var _=this.getIndex(C),k=_.startIndex,N=_.endIndex,I=function(){var L=A.length-1;return o==="startX"&&(u>f?k%w===0:N%w===0)||u<f&&N===L||o==="endX"&&(u>f?N%w===0:k%w===0)||u>f&&N===L};this.setState(vr(vr({},o,d+M),"brushMoveStartX",r.pageX),function(){T&&I()&&T(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,u=o.scaleValues,f=o.startX,d=o.endX,p=this.state[a],h=u.indexOf(p);if(h!==-1){var y=h+r;if(!(y===-1||y>=u.length)){var x=u[y];a==="startX"&&x>=d||a==="endX"&&x<=f||this.setState(vr({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,f=r.fill,d=r.stroke;return Z.createElement("rect",{stroke:d,fill:f,x:a,y:i,width:o,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,f=r.data,d=r.children,p=r.padding,h=j.Children.only(d);return h?Z.cloneElement(h,{x:a,y:i,width:o,height:u,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,u=this,f=this.props,d=f.y,p=f.travellerWidth,h=f.height,y=f.traveller,x=f.ariaLabel,T=f.data,w=f.startIndex,A=f.endIndex,C=Math.max(r,this.props.x),M=_S(_S({},Ve(this.props,!1)),{},{x:C,y:d,width:p,height:h}),_=x||"Min value: ".concat((i=T[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=T[A])===null||o===void 0?void 0:o.name);return Z.createElement(ot,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,M))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,u=i.height,f=i.stroke,d=i.travellerWidth,p=Math.min(r,a)+d,h=Math.max(Math.abs(a-r)-d,0);return Z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:o,width:h,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,u=r.height,f=r.travellerWidth,d=r.stroke,p=this.state,h=p.startX,y=p.endX,x=5,T={pointerEvents:"none",fill:d};return Z.createElement(ot,{className:"recharts-brush-texts"},Z.createElement(Hs,Vp({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,y)-x,y:o+u/2},T),this.getTextOfTick(a)),Z.createElement(Hs,Vp({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,y)+f+x,y:o+u/2},T),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,u=r.x,f=r.y,d=r.width,p=r.height,h=r.alwaysShowText,y=this.state,x=y.startX,T=y.endX,w=y.isTextActive,A=y.isSlideMoving,C=y.isTravellerMoving,M=y.isTravellerFocused;if(!a||!a.length||!Ee(u)||!Ee(f)||!Ee(d)||!Ee(p)||d<=0||p<=0)return null;var _=Je("recharts-brush",i),k=Z.Children.count(o)===1,N=xpe("userSelect","none");return Z.createElement(ot,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(x,T),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(T,"endX"),(w||A||C||M||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,u=r.height,f=r.stroke,d=Math.floor(i+u/2)-1;return Z.createElement(Z.Fragment,null,Z.createElement("rect",{x:a,y:i,width:o,height:u,fill:f,stroke:"none"}),Z.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),Z.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return Z.isValidElement(r)?i=Z.cloneElement(r,a):ze(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,u=r.x,f=r.travellerWidth,d=r.updateId,p=r.startIndex,h=r.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return _S({prevData:i,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:o},i&&i.length?_pe({data:i,width:o,x:u,travellerWidth:f,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||u!==a.prevX||f!==a.prevTravellerWidth)){a.scale.range([u,u+o-f]);var y=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,u=i-1;u-o>1;){var f=Math.floor((o+u)/2);r[f]>a?u=f:o=f}return a>=r[u]?u:o}}])})(j.PureComponent);vr(Dl,"displayName","Brush");vr(Dl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CS,wL;function Cpe(){if(wL)return CS;wL=1;var t=pE();function e(n,r){var a;return t(n,function(i,o,u){return a=r(i,o,u),!a}),!!a}return CS=e,CS}var jS,AL;function jpe(){if(AL)return jS;AL=1;var t=nU(),e=wa(),n=Cpe(),r=or(),a=Eh();function i(o,u,f){var d=r(o)?t:n;return f&&a(o,u,f)&&(u=void 0),d(o,e(u,3))}return jS=i,jS}var Mpe=jpe();const kpe=yt(Mpe);var ya=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},MS,TL;function Ipe(){if(TL)return MS;TL=1;var t=bU();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return MS=e,MS}var kS,EL;function Ppe(){if(EL)return kS;EL=1;var t=Ipe(),e=vU(),n=wa();function r(a,i){var o={};return i=n(i,3),e(a,function(u,f,d){t(o,f,i(u,f,d))}),o}return kS=r,kS}var Ope=Ppe();const Rpe=yt(Ope);var IS,NL;function Dpe(){if(NL)return IS;NL=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return IS=t,IS}var PS,_L;function Lpe(){if(_L)return PS;_L=1;var t=pE();function e(n,r){var a=!0;return t(n,function(i,o,u){return a=!!r(i,o,u),a}),a}return PS=e,PS}var OS,CL;function qpe(){if(CL)return OS;CL=1;var t=Dpe(),e=Lpe(),n=wa(),r=or(),a=Eh();function i(o,u,f){var d=r(o)?t:e;return f&&a(o,u,f)&&(u=void 0),d(o,n(u,3))}return OS=i,OS}var Upe=qpe();const d$=yt(Upe);var Bpe=["x","y"];function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function DA(){return DA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DA.apply(this,arguments)}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){$pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $pe(t,e,n){return e=Vpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vpe(t){var e=Fpe(t,"string");return gd(e)=="symbol"?e:e+""}function Fpe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zpe(t,e){if(t==null)return{};var n=Gpe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hpe(t,e){var n=t.x,r=t.y,a=zpe(t,Bpe),i="".concat(n),o=parseInt(i,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||a.height),p=parseInt(d,10),h="".concat(e.width||a.width),y=parseInt(h,10);return uc(uc(uc(uc(uc({},e),a),o?{x:o}:{}),f?{y:f}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function ML(t){return Z.createElement(GE,DA({shapeType:"rectangle",propTransformer:Hpe,activeClassName:"recharts-active-bar"},t))}var Kpe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=Ee(r)||ote(r);return i?e(r,a):(i||Ys(),n)}},Ype=["value","background"],f$;function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function Wpe(t,e){if(t==null)return{};var n=Xpe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zp.apply(this,arguments)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){$i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function Qpe(t,e,n){return e&&IL(t.prototype,e),n&&IL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zpe(t,e,n){return e=Gp(e),ehe(t,m$()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function ehe(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return the(t)}function the(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m$=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function nhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LA(t,e)}function LA(t,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},LA(t,e)}function $i(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=rhe(t,"string");return Ll(e)=="symbol"?e:e+""}function rhe(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ma=(function(t){function e(){var n;Jpe(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Zpe(this,e,[].concat(a)),$i(n,"state",{isAnimationFinished:!1}),$i(n,"id",Rd("recharts-bar-")),$i(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),$i(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return nhe(e,t),Qpe(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,u=i.dataKey,f=i.activeIndex,d=i.activeBar,p=Ve(this.props,!1);return r&&r.map(function(h,y){var x=y===f,T=x?d:o,w=fn(fn(fn({},p),h),{},{isActive:x,option:T,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Z.createElement(ot,zp({className:"recharts-bar-rectangle"},Qa(a.props,h,y),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(y)}),Z.createElement(ML,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,u=a.isAnimationActive,f=a.animationBegin,d=a.animationDuration,p=a.animationEasing,h=a.animationId,y=this.state.prevData;return Z.createElement(xa,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var T=x.t,w=i.map(function(A,C){var M=y&&y[C];if(M){var _=ta(M.x,A.x),k=ta(M.y,A.y),N=ta(M.width,A.width),I=ta(M.height,A.height);return fn(fn({},A),{},{x:_(T),y:k(T),width:N(T),height:I(T)})}if(o==="horizontal"){var P=ta(0,A.height),L=P(T);return fn(fn({},A),{},{y:A.y+A.height-L,height:L})}var D=ta(0,A.width),q=D(T);return fn(fn({},A),{},{width:q})});return Z.createElement(ot,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Vd(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,u=a.activeIndex,f=Ve(this.props.background,!1);return i.map(function(d,p){d.value;var h=d.background,y=Wpe(d,Ype);if(!h)return null;var x=fn(fn(fn(fn(fn({},y),{},{fill:"#eee"},h),f),Qa(r.props,d,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return Z.createElement(ML,zp({key:"background-bar-".concat(p),option:r.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,u=i.xAxis,f=i.yAxis,d=i.layout,p=i.children,h=Tr(p,Lh);if(!h)return null;var y=d==="vertical"?o[0].height/2:o[0].width/2,x=function(A,C){var M=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:M,errorVal:qn(A,C)}},T={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Z.createElement(ot,T,h.map(function(w){return Z.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:o,xAxis:u,yAxis:f,layout:d,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,u=r.xAxis,f=r.yAxis,d=r.left,p=r.top,h=r.width,y=r.height,x=r.isAnimationActive,T=r.background,w=r.id;if(a||!i||!i.length)return null;var A=this.state.isAnimationFinished,C=Je("recharts-bar",o),M=u&&u.allowDataOverflow,_=f&&f.allowDataOverflow,k=M||_,N=et(w)?this.id:w;return Z.createElement(ot,{className:C},M||_?Z.createElement("defs",null,Z.createElement("clipPath",{id:"clipPath-".concat(N)},Z.createElement("rect",{x:M?d:d-h/2,y:_?p:p-y/2,width:M?h:h*2,height:_?y:y*2}))):null,Z.createElement(ot,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(N,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,N),(!x||A)&&Wa.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(j.PureComponent);f$=ma;$i(ma,"displayName","Bar");$i(ma,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ro.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$i(ma,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,u=t.xAxisTicks,f=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,x=OB(r,n);if(!x)return null;var T=e.layout,w=n.type.defaultProps,A=w!==void 0?fn(fn({},w),n.props):n.props,C=A.dataKey,M=A.children,_=A.minPointSize,k=T==="horizontal"?o:i,N=d?k.scale.domain():null,I=LB({numericAxis:k}),P=Tr(M,Ld),L=h.map(function(D,q){var U,R,B,G,W,V;d?U=RB(d[p+q],N):(U=qn(D,C),Array.isArray(U)||(U=[I,U]));var K=Kpe(_,f$.defaultProps.minPointSize)(U[1],q);if(T==="horizontal"){var Y,te=[o.scale(U[0]),o.scale(U[1])],re=te[0],$=te[1];R=Np({axis:i,ticks:u,bandSize:a,offset:x.offset,entry:D,index:q}),B=(Y=$??re)!==null&&Y!==void 0?Y:void 0,G=x.size;var z=re-$;if(W=Number.isNaN(z)?0:z,V={x:R,y:o.y,width:G,height:o.height},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var H=Cn(W||K)*(Math.abs(K)-Math.abs(W));B-=H,W+=H}}else{var Q=[i.scale(U[0]),i.scale(U[1])],se=Q[0],we=Q[1];if(R=se,B=Np({axis:o,ticks:f,bandSize:a,offset:x.offset,entry:D,index:q}),G=we-se,W=x.size,V={x:i.x,y:B,width:i.width,height:W},Math.abs(K)>0&&Math.abs(G)<Math.abs(K)){var Te=Cn(G||K)*(Math.abs(K)-Math.abs(G));G+=Te}}return fn(fn(fn({},D),{},{x:R,y:B,width:G,height:W,value:d?U:U[1],payload:D,background:V},P&&P[q]&&P[q].props),{},{tooltipPayload:[VE(n,D)],tooltipPosition:{x:R+G/2,y:B+W/2}})});return fn({data:L,layout:T},y)});function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h$(r.key),r)}}function ihe(t,e,n){return e&&PL(t.prototype,e),n&&PL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){Vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vh(t,e,n){return e=h$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h$(t){var e=she(t,"string");return yd(e)=="symbol"?e:e+""}function she(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ohe=function(e,n,r,a,i){var o=e.width,u=e.height,f=e.layout,d=e.children,p=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!br(d,ma);return p.reduce(function(x,T){var w=n[T],A=w.orientation,C=w.domain,M=w.padding,_=M===void 0?{}:M,k=w.mirror,N=w.reversed,I="".concat(A).concat(k?"Mirror":""),P,L,D,q,U;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var R=C[1]-C[0],B=1/0,G=w.categoricalDomain.sort(cte);if(G.forEach(function(Q,se){se>0&&(B=Math.min((Q||0)-(G[se-1]||0),B))}),Number.isFinite(B)){var W=B/R,V=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(P=W*V/2),w.padding==="no-gap"){var K=Kn(e.barCategoryGap,W*V),Y=W*V/2;P=Y-K-(Y-K)/V*K}}}a==="xAxis"?L=[r.left+(_.left||0)+(P||0),r.left+r.width-(_.right||0)-(P||0)]:a==="yAxis"?L=f==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(P||0),r.top+r.height-(_.bottom||0)-(P||0)]:L=w.range,N&&(L=[L[1],L[0]]);var te=IB(w,i,y),re=te.scale,$=te.realScaleType;re.domain(C).range(L),PB(re);var z=DB(re,ea(ea({},w),{},{realScaleType:$}));a==="xAxis"?(U=A==="top"&&!k||A==="bottom"&&k,D=r.left,q=h[I]-U*w.height):a==="yAxis"&&(U=A==="left"&&!k||A==="right"&&k,D=h[I]-U*w.width,q=r.top);var H=ea(ea(ea({},w),z),{},{realScaleType:$,x:D,y:q,scale:re,width:a==="xAxis"?r.width:w.width,height:a==="yAxis"?r.height:w.height});return H.bandSize=_p(H,z),!w.hide&&a==="xAxis"?h[I]+=(U?-1:1)*H.height:w.hide||(h[I]+=(U?-1:1)*H.width),ea(ea({},x),{},Vh({},T,H))},{})},g$=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},lhe=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return g$({x:n,y:r},{x:a,y:i})},y$=(function(){function t(e){ahe(this,t),this.scale=e}return ihe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])})();Vh(y$,"EPS",1e-4);var HE=function(e){var n=Object.keys(e).reduce(function(r,a){return ea(ea({},r),{},Vh({},a,y$.create(e[a])))},{});return ea(ea({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,u=i.position;return Rpe(a,function(f,d){return n[d].apply(f,{bandAware:o,position:u})})},isInRange:function(a){return d$(a,function(i,o){return n[o].isInRange(i)})}})};function uhe(t){return(t%180+180)%180}var che=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=uhe(a),o=i*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},RS,RL;function dhe(){if(RL)return RS;RL=1;var t=wa(),e=Dd(),n=Ah();function r(a){return function(i,o,u){var f=Object(i);if(!e(i)){var d=t(o,3);i=n(i),o=function(h){return d(f[h],h,f)}}var p=a(i,o,u);return p>-1?f[d?i[p]:p]:void 0}}return RS=r,RS}var DS,DL;function fhe(){if(DL)return DS;DL=1;var t=o$();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return DS=e,DS}var LS,LL;function mhe(){if(LL)return LS;LL=1;var t=mU(),e=wa(),n=fhe(),r=Math.max;function a(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var d=u==null?0:n(u);return d<0&&(d=r(f+d,0)),t(i,e(o,3),d)}return LS=a,LS}var qS,qL;function phe(){if(qL)return qS;qL=1;var t=dhe(),e=mhe(),n=t(e);return qS=n,qS}var hhe=phe();const ghe=yt(hhe);var yhe=j5();const vhe=yt(yhe);var xhe=vhe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),KE=j.createContext(void 0),YE=j.createContext(void 0),v$=j.createContext(void 0),x$=j.createContext({}),b$=j.createContext(void 0),S$=j.createContext(0),w$=j.createContext(0),UL=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=e.clipPathId,u=e.children,f=e.width,d=e.height,p=xhe(i);return Z.createElement(KE.Provider,{value:r},Z.createElement(YE.Provider,{value:a},Z.createElement(x$.Provider,{value:i},Z.createElement(v$.Provider,{value:p},Z.createElement(b$.Provider,{value:o},Z.createElement(S$.Provider,{value:d},Z.createElement(w$.Provider,{value:f},u)))))))},bhe=function(){return j.useContext(b$)},A$=function(e){var n=j.useContext(KE);n==null&&Ys();var r=n[e];return r==null&&Ys(),r},She=function(){var e=j.useContext(KE);return Ui(e)},whe=function(){var e=j.useContext(YE),n=ghe(e,function(r){return d$(r.domain,Number.isFinite)});return n||Ui(e)},T$=function(e){var n=j.useContext(YE);n==null&&Ys();var r=n[e];return r==null&&Ys(),r},Ahe=function(){var e=j.useContext(v$);return e},The=function(){return j.useContext(x$)},WE=function(){return j.useContext(w$)},XE=function(){return j.useContext(S$)};function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function Ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function _he(t,e,n){return e&&Nhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Che(t,e,n){return e=Hp(e),jhe(t,E$()?Reflect.construct(e,n||[],Hp(t).constructor):e.apply(t,n))}function jhe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mhe(t)}function Mhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function Hp(t){return Hp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hp(t)}function khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qA(t,e)}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){JE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JE(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=Ihe(t,"string");return ql(e)=="symbol"?e:e+""}function Ihe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Phe(t,e){return Lhe(t)||Dhe(t,e)||Rhe(t,e)||Ohe()}function Ohe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(t,e){if(t){if(typeof t=="string")return VL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VL(t,e)}}function VL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Lhe(t){if(Array.isArray(t))return t}function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}var qhe=function(e,n){var r;return Z.isValidElement(e)?r=Z.cloneElement(e,n):ze(e)?r=e(n):r=Z.createElement("line",UA({},n,{className:"recharts-reference-line-line"})),r},Uhe=function(e,n,r,a,i,o,u,f,d){var p=i.x,h=i.y,y=i.width,x=i.height;if(r){var T=d.y,w=e.y.apply(T,{position:o});if(ya(d,"discard")&&!e.y.isInRange(w))return null;var A=[{x:p+y,y:w},{x:p,y:w}];return f==="left"?A.reverse():A}if(n){var C=d.x,M=e.x.apply(C,{position:o});if(ya(d,"discard")&&!e.x.isInRange(M))return null;var _=[{x:M,y:h+x},{x:M,y:h}];return u==="top"?_.reverse():_}if(a){var k=d.segment,N=k.map(function(I){return e.apply(I,{position:o})});return ya(d,"discard")&&kpe(N,function(I){return!e.isInRange(I)})?null:N}return null};function Bhe(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,u=t.className,f=t.alwaysShow,d=bhe(),p=A$(a),h=T$(i),y=Ahe();if(!d||!y)return null;ra(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=HE({x:p.scale,y:h.scale}),T=Sn(e),w=Sn(n),A=r&&r.length===2,C=Uhe(x,T,w,A,y,t.position,p.orientation,h.orientation,t);if(!C)return null;var M=Phe(C,2),_=M[0],k=_.x,N=_.y,I=M[1],P=I.x,L=I.y,D=ya(t,"hidden")?"url(#".concat(d,")"):void 0,q=$L($L({clipPath:D},Ve(t,!0)),{},{x1:k,y1:N,x2:P,y2:L});return Z.createElement(ot,{className:Je("recharts-reference-line",u)},qhe(o,q),_n.renderCallByParent(t,lhe({x1:k,y1:N,x2:P,y2:L})))}var QE=(function(t){function e(){return Ehe(this,e),Che(this,e,arguments)}return khe(e,t),_he(e,[{key:"render",value:function(){return Z.createElement(Bhe,this.props)}}])})(Z.Component);JE(QE,"displayName","ReferenceLine");JE(QE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BA.apply(this,arguments)}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){Fh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function Fhe(t,e,n){return e&&Vhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zhe(t,e,n){return e=Kp(e),Ghe(t,_$()?Reflect.construct(e,n||[],Kp(t).constructor):e.apply(t,n))}function Ghe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hhe(t)}function Hhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function Khe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$A(t,e)}function $A(t,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$A(t,e)}function Fh(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=Yhe(t,"string");return Ul(e)=="symbol"?e:e+""}function Yhe(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Whe=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,o=HE({x:a.scale,y:i.scale}),u=o.apply({x:n,y:r},{bandAware:!0});return ya(e,"discard")&&!o.isInRange(u)?null:u},zh=(function(t){function e(){return $he(this,e),zhe(this,e,arguments)}return Khe(e,t),Fhe(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,u=r.alwaysShow,f=r.clipPathId,d=Sn(a),p=Sn(i);if(ra(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var h=Whe(this.props);if(!h)return null;var y=h.x,x=h.y,T=this.props,w=T.shape,A=T.className,C=ya(this.props,"hidden")?"url(#".concat(f,")"):void 0,M=zL(zL({clipPath:C},Ve(this.props,!0)),{},{cx:y,cy:x});return Z.createElement(ot,{className:Je("recharts-reference-dot",A)},e.renderDot(w,M),_n.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])})(Z.Component);Fh(zh,"displayName","ReferenceDot");Fh(zh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Fh(zh,"renderDot",function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):ze(t)?n=t(e):n=Z.createElement(zE,BA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function VA(){return VA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VA.apply(this,arguments)}function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function GL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function HL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(n),!0).forEach(function(r){Gh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M$(r.key),r)}}function Qhe(t,e,n){return e&&Jhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zhe(t,e,n){return e=Yp(e),ege(t,j$()?Reflect.construct(e,n||[],Yp(t).constructor):e.apply(t,n))}function ege(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tge(t)}function tge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(t)}function nge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},FA(t,e)}function Gh(t,e,n){return e=M$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=rge(t,"string");return Bl(e)=="symbol"?e:e+""}function rge(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var age=function(e,n,r,a,i){var o=i.x1,u=i.x2,f=i.y1,d=i.y2,p=i.xAxis,h=i.yAxis;if(!p||!h)return null;var y=HE({x:p.scale,y:h.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(f,{position:"start"}):y.y.rangeMin},T={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(d,{position:"end"}):y.y.rangeMax};return ya(i,"discard")&&(!y.isInRange(x)||!y.isInRange(T))?null:g$(x,T)},Hh=(function(t){function e(){return Xhe(this,e),Zhe(this,e,arguments)}return nge(e,t),Qhe(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,u=r.y2,f=r.className,d=r.alwaysShow,p=r.clipPathId;ra(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Sn(a),y=Sn(i),x=Sn(o),T=Sn(u),w=this.props.shape;if(!h&&!y&&!x&&!T&&!w)return null;var A=age(h,y,x,T,this.props);if(!A&&!w)return null;var C=ya(this.props,"hidden")?"url(#".concat(p,")"):void 0;return Z.createElement(ot,{className:Je("recharts-reference-area",f)},e.renderRect(w,HL(HL({clipPath:C},Ve(this.props,!0)),A)),_n.renderCallByParent(this.props,A))}}])})(Z.Component);Gh(Hh,"displayName","ReferenceArea");Gh(Hh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gh(Hh,"renderRect",function(t,e){var n;return Z.isValidElement(t)?n=Z.cloneElement(t,e):ze(t)?n=t(e):n=Z.createElement(FE,VA({},e,{className:"recharts-reference-area-rect"})),n});function k$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function ige(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return che(r,n)}function sge(t,e,n){var r=n==="width",a=t.x,i=t.y,o=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+o:i+u}:{start:r?a+o:i+u,end:r?a:i}}function Wp(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function oge(t,e){return k$(t,e+1)}function lge(t,e,n,r,a){for(var i=(r||[]).slice(),o=e.start,u=e.end,f=0,d=1,p=o,h=function(){var T=r==null?void 0:r[f];if(T===void 0)return{v:k$(r,d)};var w=f,A,C=function(){return A===void 0&&(A=n(T,w)),A},M=T.coordinate,_=f===0||Wp(t,M,C,p,u);_||(f=0,p=o,d+=1),_&&(p=M+t*(C()/2+a),f+=d)},y;d<=i.length;)if(y=h(),y)return y.v;return[]}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function KL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KL(Object(n),!0).forEach(function(r){uge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uge(t,e,n){return e=cge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cge(t){var e=dge(t,"string");return vd(e)=="symbol"?e:e+""}function dge(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fge(t,e,n,r,a){for(var i=(r||[]).slice(),o=i.length,u=e.start,f=e.end,d=function(y){var x=i[y],T,w=function(){return T===void 0&&(T=n(x,y)),T};if(y===o-1){var A=t*(x.coordinate+t*w()/2-f);i[y]=x=Bn(Bn({},x),{},{tickCoord:A>0?x.coordinate-A*t:x.coordinate})}else i[y]=x=Bn(Bn({},x),{},{tickCoord:x.coordinate});var C=Wp(t,x.tickCoord,w,u,f);C&&(f=x.tickCoord-t*(w()/2+a),i[y]=Bn(Bn({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)d(p);return i}function mge(t,e,n,r,a,i){var o=(r||[]).slice(),u=o.length,f=e.start,d=e.end;if(i){var p=r[u-1],h=n(p,u-1),y=t*(p.coordinate+t*h/2-d);o[u-1]=p=Bn(Bn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Wp(t,p.tickCoord,function(){return h},f,d);x&&(d=p.tickCoord-t*(h/2+a),o[u-1]=Bn(Bn({},p),{},{isShow:!0}))}for(var T=i?u-1:u,w=function(M){var _=o[M],k,N=function(){return k===void 0&&(k=n(_,M)),k};if(M===0){var I=t*(_.coordinate-t*N()/2-f);o[M]=_=Bn(Bn({},_),{},{tickCoord:I<0?_.coordinate-I*t:_.coordinate})}else o[M]=_=Bn(Bn({},_),{},{tickCoord:_.coordinate});var P=Wp(t,_.tickCoord,N,f,d);P&&(f=_.tickCoord+t*(N()/2+a),o[M]=Bn(Bn({},_),{},{isShow:!0}))},A=0;A<T;A++)w(A);return o}function ZE(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,u=t.orientation,f=t.interval,d=t.tickFormatter,p=t.unit,h=t.angle;if(!a||!a.length||!r)return[];if(Ee(f)||ro.isSsr)return oge(a,typeof f=="number"&&Ee(f)?f:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",T=p&&x==="width"?Sc(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(_,k){var N=ze(d)?d(_.value,k):_.value;return x==="width"?ige(Sc(N,{fontSize:e,letterSpacing:n}),T,h):Sc(N,{fontSize:e,letterSpacing:n})[x]},A=a.length>=2?Cn(a[1].coordinate-a[0].coordinate):1,C=sge(i,A,x);return f==="equidistantPreserveStart"?lge(A,C,w,a,o):(f==="preserveStart"||f==="preserveStartEnd"?y=mge(A,C,w,a,o,f==="preserveStartEnd"):y=fge(A,C,w,a,o),y.filter(function(M){return M.isShow}))}var pge=["viewBox"],hge=["viewBox"],gge=["ticks"];function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){e1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function US(t,e){if(t==null)return{};var n=yge(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function vge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function xge(t,e,n){return e&&WL(t.prototype,e),n&&WL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bge(t,e,n){return e=Xp(e),Sge(t,I$()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function Sge(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wge(t)}function wge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function Age(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zA(t,e)}function e1(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=Tge(t,"string");return $l(e)=="symbol"?e:e+""}function Tge(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var au=(function(t){function e(n){var r;return vge(this,e),r=bge(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Age(e,t),xge(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=US(r,pge),u=this.props,f=u.viewBox,d=US(u,hge);return!gl(i,f)||!gl(o,d)||!gl(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,u=a.width,f=a.height,d=a.orientation,p=a.tickSize,h=a.mirror,y=a.tickMargin,x,T,w,A,C,M,_=h?-1:1,k=r.tickSize||p,N=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":x=T=r.coordinate,A=o+ +!h*f,w=A-_*k,M=w-_*y,C=N;break;case"left":w=A=r.coordinate,T=i+ +!h*u,x=T-_*k,C=x-_*y,M=N;break;case"right":w=A=r.coordinate,T=i+ +h*u,x=T+_*k,C=x+_*y,M=N;break;default:x=T=r.coordinate,A=o+ +h*f,w=A+_*k,M=w+_*y,C=N;break}return{line:{x1:x,y1:w,x2:T,y2:A},tick:{x:C,y:M}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,f=r.orientation,d=r.mirror,p=r.axisLine,h=xn(xn(xn({},Ve(this.props,!1)),Ve(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var y=+(f==="top"&&!d||f==="bottom"&&d);h=xn(xn({},h),{},{x1:a,y1:i+y*u,x2:a+o,y2:i+y*u})}else{var x=+(f==="left"&&!d||f==="right"&&d);h=xn(xn({},h),{},{x1:a+x*o,y1:i,x2:a+x*o,y2:i+u})}return Z.createElement("line",ul({},h,{className:Je("recharts-cartesian-axis-line",Ar(p,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,u=this.props,f=u.tickLine,d=u.stroke,p=u.tick,h=u.tickFormatter,y=u.unit,x=ZE(xn(xn({},this.props),{},{ticks:r}),a,i),T=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),A=Ve(this.props,!1),C=Ve(p,!1),M=xn(xn({},A),{},{fill:"none"},Ve(f,!1)),_=x.map(function(k,N){var I=o.getTickLineCoord(k),P=I.line,L=I.tick,D=xn(xn(xn(xn({textAnchor:T,verticalAnchor:w},A),{},{stroke:"none",fill:d},C),L),{},{index:N,payload:k,visibleTicksCount:x.length,tickFormatter:h});return Z.createElement(ot,ul({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Qa(o.props,k,N)),f&&Z.createElement("line",ul({},M,P,{className:Je("recharts-cartesian-axis-tick-line",Ar(f,"className"))})),p&&e.renderTickItem(p,D,"".concat(ze(h)?h(k.value,N):k.value).concat(y||"")))});return Z.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,u=a.height,f=a.ticksGenerator,d=a.className,p=a.hide;if(p)return null;var h=this.props,y=h.ticks,x=US(h,gge),T=y;return ze(f)&&(T=y&&y.length>0?f(this.props):f(x)),o<=0||u<=0||!T||!T.length?null:Z.createElement(ot,{className:Je("recharts-cartesian-axis",d),ref:function(A){r.layerReference=A}},i&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),_n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,u=Je(a.className,"recharts-cartesian-axis-tick-value");return Z.isValidElement(r)?o=Z.cloneElement(r,xn(xn({},a),{},{className:u})):ze(r)?o=r(xn(xn({},a),{},{className:u})):o=Z.createElement(Hs,ul({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(j.Component);e1(au,"displayName","CartesianAxis");e1(au,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ege=["x1","y1","x2","y2","key"],Nge=["offset"];function Ws(t){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ws(t)}function XL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XL(Object(n),!0).forEach(function(r){_ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ge(t,e,n){return e=Cge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cge(t){var e=jge(t,"string");return Ws(e)=="symbol"?e:e+""}function jge(t,e){if(Ws(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}function JL(t,e){if(t==null)return{};var n=Mge(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kge=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,u=e.height,f=e.ry;return Z.createElement("rect",{x:a,y:i,ry:f,width:o,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function O$(t,e){var n;if(Z.isValidElement(t))n=Z.cloneElement(t,e);else if(ze(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,o=e.y2,u=e.key,f=JL(e,Ege),d=Ve(f,!1);d.offset;var p=JL(d,Nge);n=Z.createElement("line",Rs({},p,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:u}))}return n}function Ige(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,f){var d=Vn(Vn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(f),index:f});return O$(a,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Pge(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,f){var d=Vn(Vn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(f),index:f});return O$(a,d)});return Z.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Oge(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,o=t.height,u=t.horizontalPoints,f=t.horizontal,d=f===void 0?!0:f;if(!d||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var h=p.map(function(y,x){var T=!p[x+1],w=T?a+o-y:p[x+1]-y;if(w<=0)return null;var A=x%e.length;return Z.createElement("rect",{key:"react-".concat(x),y,x:r,height:w,width:i,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Rge(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,u=t.width,f=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var p=d.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var h=p.map(function(y,x){var T=!p[x+1],w=T?i+u-y:p[x+1]-y;if(w<=0)return null;var A=x%r.length;return Z.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:w,height:f,stroke:"none",fill:r[A],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Dge=function(e,n){var r=e.xAxis,a=e.width,i=e.height,o=e.offset;return kB(ZE(Vn(Vn(Vn({},au.defaultProps),r),{},{ticks:Ha(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},Lge=function(e,n){var r=e.yAxis,a=e.width,i=e.height,o=e.offset;return kB(ZE(Vn(Vn(Vn({},au.defaultProps),r),{},{ticks:Ha(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Qo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function GA(t){var e,n,r,a,i,o,u=WE(),f=XE(),d=The(),p=Vn(Vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Qo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Qo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Qo.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Qo.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Qo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Qo.verticalFill,x:Ee(t.x)?t.x:d.left,y:Ee(t.y)?t.y:d.top,width:Ee(t.width)?t.width:d.width,height:Ee(t.height)?t.height:d.height}),h=p.x,y=p.y,x=p.width,T=p.height,w=p.syncWithTicks,A=p.horizontalValues,C=p.verticalValues,M=She(),_=whe();if(!Ee(x)||x<=0||!Ee(T)||T<=0||!Ee(h)||h!==+h||!Ee(y)||y!==+y)return null;var k=p.verticalCoordinatesGenerator||Dge,N=p.horizontalCoordinatesGenerator||Lge,I=p.horizontalPoints,P=p.verticalPoints;if((!I||!I.length)&&ze(N)){var L=A&&A.length,D=N({yAxis:_?Vn(Vn({},_),{},{ticks:L?A:_.ticks}):void 0,width:u,height:f,offset:d},L?!0:w);ra(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(D),"]")),Array.isArray(D)&&(I=D)}if((!P||!P.length)&&ze(k)){var q=C&&C.length,U=k({xAxis:M?Vn(Vn({},M),{},{ticks:q?C:M.ticks}):void 0,width:u,height:f,offset:d},q?!0:w);ra(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(U),"]")),Array.isArray(U)&&(P=U)}return Z.createElement("g",{className:"recharts-cartesian-grid"},Z.createElement(kge,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),Z.createElement(Ige,Rs({},p,{offset:d,horizontalPoints:I,xAxis:M,yAxis:_})),Z.createElement(Pge,Rs({},p,{offset:d,verticalPoints:P,xAxis:M,yAxis:_})),Z.createElement(Oge,Rs({},p,{horizontalPoints:I})),Z.createElement(Rge,Rs({},p,{verticalPoints:P})))}GA.displayName="CartesianGrid";function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function qge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L$(r.key),r)}}function Bge(t,e,n){return e&&Uge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ge(t,e,n){return e=Jp(e),Vge(t,R$()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function Vge(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fge(t)}function Fge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function zge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},HA(t,e)}function D$(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=Gge(t,"string");return Vl(e)=="symbol"?e:e+""}function Gge(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function KA(){return KA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KA.apply(this,arguments)}function Hge(t){var e=t.xAxisId,n=WE(),r=XE(),a=A$(e);return a==null?null:j.createElement(au,KA({},a,{className:Je("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ha(o,!0)}}))}var xd=(function(t){function e(){return qge(this,e),$ge(this,e,arguments)}return zge(e,t),Bge(e,[{key:"render",value:function(){return j.createElement(Hge,this.props)}}])})(j.Component);D$(xd,"displayName","XAxis");D$(xd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function Kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B$(r.key),r)}}function Wge(t,e,n){return e&&Yge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xge(t,e,n){return e=Qp(e),Jge(t,q$()?Reflect.construct(e,n||[],Qp(t).constructor):e.apply(t,n))}function Jge(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qge(t)}function Qge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q$=function(){return!!t})()}function Qp(t){return Qp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qp(t)}function Zge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},YA(t,e)}function U$(t,e,n){return e=B$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B$(t){var e=eye(t,"string");return Fl(e)=="symbol"?e:e+""}function eye(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function WA(){return WA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WA.apply(this,arguments)}var tye=function(e){var n=e.yAxisId,r=WE(),a=XE(),i=T$(n);return i==null?null:j.createElement(au,WA({},i,{className:Je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Ha(u,!0)}}))},bd=(function(t){function e(){return Kge(this,e),Xge(this,e,arguments)}return Zge(e,t),Wge(e,[{key:"render",value:function(){return j.createElement(tye,this.props)}}])})(j.Component);U$(bd,"displayName","YAxis");U$(bd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function QL(t){return iye(t)||aye(t)||rye(t)||nye()}function nye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rye(t,e){if(t){if(typeof t=="string")return XA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XA(t,e)}}function aye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iye(t){if(Array.isArray(t))return XA(t)}function XA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var JA=function(e,n,r,a,i){var o=Tr(e,QE),u=Tr(e,zh),f=[].concat(QL(o),QL(u)),d=Tr(e,Hh),p="".concat(a,"Id"),h=a[0],y=n;if(f.length&&(y=f.reduce(function(w,A){if(A.props[p]===r&&ya(A.props,"extendDomain")&&Ee(A.props[h])){var C=A.props[h];return[Math.min(w[0],C),Math.max(w[1],C)]}return w},y)),d.length){var x="".concat(h,"1"),T="".concat(h,"2");y=d.reduce(function(w,A){if(A.props[p]===r&&ya(A.props,"extendDomain")&&Ee(A.props[x])&&Ee(A.props[T])){var C=A.props[x],M=A.props[T];return[Math.min(w[0],C,M),Math.max(w[1],C,M)]}return w},y)}return i&&i.length&&(y=i.reduce(function(w,A){return Ee(A)?[Math.min(w[0],A),Math.max(w[1],A)]:w},y)),y},BS={exports:{}},ZL;function sye(){return ZL||(ZL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function i(f,d,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,h||f,y),T=n?n+d:d;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],x]:f._events[T].push(x):(f._events[T]=x,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=n?n+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,x=h.length,T=new Array(x);y<x;y++)T[y]=h[y].fn;return T},u.prototype.listenerCount=function(d){var p=n?n+d:d,h=this._events[p];return h?h.fn?1:h.length:0},u.prototype.emit=function(d,p,h,y,x,T){var w=n?n+d:d;if(!this._events[w])return!1;var A=this._events[w],C=arguments.length,M,_;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,h),!0;case 4:return A.fn.call(A.context,p,h,y),!0;case 5:return A.fn.call(A.context,p,h,y,x),!0;case 6:return A.fn.call(A.context,p,h,y,x,T),!0}for(_=1,M=new Array(C-1);_<C;_++)M[_-1]=arguments[_];A.fn.apply(A.context,M)}else{var k=A.length,N;for(_=0;_<k;_++)switch(A[_].once&&this.removeListener(d,A[_].fn,void 0,!0),C){case 1:A[_].fn.call(A[_].context);break;case 2:A[_].fn.call(A[_].context,p);break;case 3:A[_].fn.call(A[_].context,p,h);break;case 4:A[_].fn.call(A[_].context,p,h,y);break;default:if(!M)for(N=1,M=new Array(C-1);N<C;N++)M[N-1]=arguments[N];A[_].fn.apply(A[_].context,M)}}return!0},u.prototype.on=function(d,p,h){return i(this,d,p,h,!1)},u.prototype.once=function(d,p,h){return i(this,d,p,h,!0)},u.prototype.removeListener=function(d,p,h,y){var x=n?n+d:d;if(!this._events[x])return this;if(!p)return o(this,x),this;var T=this._events[x];if(T.fn)T.fn===p&&(!y||T.once)&&(!h||T.context===h)&&o(this,x);else{for(var w=0,A=[],C=T.length;w<C;w++)(T[w].fn!==p||y&&!T[w].once||h&&T[w].context!==h)&&A.push(T[w]);A.length?this._events[x]=A.length===1?A[0]:A:o(this,x)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(BS)),BS.exports}var oye=sye();const lye=yt(oye);var $S=new lye,VS="recharts.syncMouseEvents";function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function uye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$$(r.key),r)}}function dye(t,e,n){return e&&cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FS(t,e,n){return e=$$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=fye(t,"string");return Sd(e)=="symbol"?e:e+""}function fye(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mye=(function(){function t(){uye(this,t),FS(this,"activeIndex",0),FS(this,"coordinateList",[]),FS(this,"layout","horizontal")}return dye(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,u=o===void 0?null:o,f=n.layout,d=f===void 0?null:f,p=n.offset,h=p===void 0?null:p,y=n.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,u=a.height,f=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+f+d,y=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:h,pageY:y})}}}])})();function pye(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&Ee(r)&&Ee(a))return!0}return!1}function hye(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function V$(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,o=kt(e,n,r,a),u=kt(e,n,r,i);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function gye(t,e,n){var r,a,i,o;if(t==="horizontal")r=e.x,i=r,a=n.top,o=n.top+n.height;else if(t==="vertical")a=e.y,o=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,f=e.cy,d=e.innerRadius,p=e.outerRadius,h=e.angle,y=kt(u,f,d,h),x=kt(u,f,p,h);r=y.x,a=y.y,i=x.x,o=x.y}else return V$(e);return[{x:r,y:a},{x:i,y:o}]}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function eq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Pm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eq(Object(n),!0).forEach(function(r){yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yye(t,e,n){return e=vye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=xye(t,"string");return wd(e)=="symbol"?e:e+""}function xye(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bye(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,u=t.activePayload,f=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,y=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||y!=="ScatterChart"&&a!=="axis")return null;var T,w=yA;if(y==="ScatterChart")T=o,w=$fe;else if(y==="BarChart")T=hye(h,o,f,p),w=FE;else if(h==="radial"){var A=V$(o),C=A.cx,M=A.cy,_=A.radius,k=A.startAngle,N=A.endAngle;T={cx:C,cy:M,startAngle:k,endAngle:N,innerRadius:_,outerRadius:_},w=GB}else T={points:gye(h,o,f)},w=yA;var I=Pm(Pm(Pm(Pm({stroke:"#ccc",pointerEvents:"none"},f),T),Ve(x,!1)),{},{payload:u,payloadIndex:d,className:Je("recharts-tooltip-cursor",x.className)});return j.isValidElement(x)?j.cloneElement(x,I):j.createElement(w,I)}var Sye=["item"],wye=["children","className","width","height","style","compact","title","desc"];function zl(t){"@babel/helpers - typeof";return zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zl(t)}function cl(){return cl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cl.apply(this,arguments)}function tq(t,e){return Eye(t)||Tye(t,e)||z$(t,e)||Aye()}function Aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Eye(t){if(Array.isArray(t))return t}function nq(t,e){if(t==null)return{};var n=Nye(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _ye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G$(r.key),r)}}function jye(t,e,n){return e&&Cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mye(t,e,n){return e=Zp(e),kye(t,F$()?Reflect.construct(e,n||[],Zp(t).constructor):e.apply(t,n))}function kye(t,e){if(e&&(zl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iye(t)}function Iye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F$=function(){return!!t})()}function Zp(t){return Zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zp(t)}function Pye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},QA(t,e)}function Gl(t){return Dye(t)||Rye(t)||z$(t)||Oye()}function Oye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$(t,e){if(t){if(typeof t=="string")return ZA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZA(t,e)}}function Rye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Dye(t){if(Array.isArray(t))return ZA(t)}function ZA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rq(Object(n),!0).forEach(function(r){$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $e(t,e,n){return e=G$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G$(t){var e=Lye(t,"string");return zl(e)=="symbol"?e:e+""}function Lye(t,e){if(zl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qye={xAxis:["bottom","top"],yAxis:["left","right"]},Uye={width:"100%",height:"100%"},H$={x:0,y:0};function Om(t){return t}var Bye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$ye=function(e,n,r,a){var i=n.find(function(p){return p&&p.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,u=a.radius;return ge(ge(ge({},a),kt(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var f=i.coordinate,d=a.angle;return ge(ge(ge({},a),kt(a.cx,a.cy,f,d)),{},{angle:d,radius:f})}return H$},Kh=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(u,f){var d=f.props.data;return d&&d.length?[].concat(Gl(u),Gl(d)):u},[]);return o.length>0?o:e&&e.length&&Ee(a)&&Ee(i)?e.slice(a,i+1):[]};function K$(t){return t==="number"?[0,"auto"]:void 0}var eT=function(e,n,r,a){var i=e.graphicalItems,o=e.tooltipAxis,u=Kh(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(f,d){var p,h=(p=d.props.data)!==null&&p!==void 0?p:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=h===void 0?u:h;y=Iw(x,o.dataKey,a)}else y=h&&h[r]||u[r];return y?[].concat(Gl(f),[VE(d,y)]):f},[])},aq=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},o=Bye(i,r),u=e.orderedTooltipTicks,f=e.tooltipAxis,d=e.tooltipTicks,p=hue(o,u,d,f);if(p>=0&&d){var h=d[p]&&d[p].value,y=eT(e,n,p,h),x=$ye(r,u,p,i);return{activeTooltipIndex:p,activeLabel:h,activePayload:y,activeCoordinate:x}}return null},Vye=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,h=e.children,y=e.stackOffset,x=MB(p,i);return r.reduce(function(T,w){var A,C=w.type.defaultProps!==void 0?ge(ge({},w.type.defaultProps),w.props):w.props,M=C.type,_=C.dataKey,k=C.allowDataOverflow,N=C.allowDuplicatedCategory,I=C.scale,P=C.ticks,L=C.includeHidden,D=C[o];if(T[D])return T;var q=Kh(e.data,{graphicalItems:a.filter(function(z){var H,Q=o in z.props?z.props[o]:(H=z.type.defaultProps)===null||H===void 0?void 0:H[o];return Q===D}),dataStartIndex:f,dataEndIndex:d}),U=q.length,R,B,G;pye(C.domain,k,M)&&(R=fA(C.domain,null,k),x&&(M==="number"||I!=="auto")&&(G=Ac(q,_,"category")));var W=K$(M);if(!R||R.length===0){var V,K=(V=C.domain)!==null&&V!==void 0?V:W;if(_){if(R=Ac(q,_,M),M==="category"&&x){var Y=ute(R);N&&Y?(B=R,R=$p(0,U)):N||(R=eD(K,R,w).reduce(function(z,H){return z.indexOf(H)>=0?z:[].concat(Gl(z),[H])},[]))}else if(M==="category")N?R=R.filter(function(z){return z!==""&&!et(z)}):R=eD(K,R,w).reduce(function(z,H){return z.indexOf(H)>=0||H===""||et(H)?z:[].concat(Gl(z),[H])},[]);else if(M==="number"){var te=bue(q,a.filter(function(z){var H,Q,se=o in z.props?z.props[o]:(H=z.type.defaultProps)===null||H===void 0?void 0:H[o],we="hide"in z.props?z.props.hide:(Q=z.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return se===D&&(L||!we)}),_,i,p);te&&(R=te)}x&&(M==="number"||I!=="auto")&&(G=Ac(q,_,"category"))}else x?R=$p(0,U):u&&u[D]&&u[D].hasStack&&M==="number"?R=y==="expand"?[0,1]:qB(u[D].stackGroups,f,d):R=jB(q,a.filter(function(z){var H=o in z.props?z.props[o]:z.type.defaultProps[o],Q="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return H===D&&(L||!Q)}),M,p,!0);if(M==="number")R=JA(h,R,D,i,P),K&&(R=fA(K,R,k));else if(M==="category"&&K){var re=K,$=R.every(function(z){return re.indexOf(z)>=0});$&&(R=re)}}return ge(ge({},T),{},$e({},D,ge(ge({},C),{},{axisType:i,domain:R,categoricalDomain:G,duplicateDomain:B,originalDomain:(A=C.domain)!==null&&A!==void 0?A:W,isCategorical:x,layout:p})))},{})},Fye=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,h=e.children,y=Kh(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:d}),x=y.length,T=MB(p,i),w=-1;return r.reduce(function(A,C){var M=C.type.defaultProps!==void 0?ge(ge({},C.type.defaultProps),C.props):C.props,_=M[o],k=K$("number");if(!A[_]){w++;var N;return T?N=$p(0,x):u&&u[_]&&u[_].hasStack?(N=qB(u[_].stackGroups,f,d),N=JA(h,N,_,i)):(N=fA(k,jB(y,r.filter(function(I){var P,L,D=o in I.props?I.props[o]:(P=I.type.defaultProps)===null||P===void 0?void 0:P[o],q="hide"in I.props?I.props.hide:(L=I.type.defaultProps)===null||L===void 0?void 0:L.hide;return D===_&&!q}),"number",p),a.defaultProps.allowDataOverflow),N=JA(h,N,_,i)),ge(ge({},A),{},$e({},_,ge(ge({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ar(qye,"".concat(i,".").concat(w%2),null),domain:N,originalDomain:k,isCategorical:T,layout:p})))}return A},{})},zye=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.children,h="".concat(a,"Id"),y=Tr(p,i),x={};return y&&y.length?x=Vye(e,{axes:y,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:f,dataEndIndex:d}):o&&o.length&&(x=Fye(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:f,dataEndIndex:d})),x},Gye=function(e){var n=Ui(e),r=Ha(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hE(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_p(n,r)}},iq=function(e){var n=e.children,r=e.defaultShowTooltip,a=br(n,Dl),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},Hye=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ka(n&&n.type);return r&&r.indexOf("Bar")>=0})},sq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Kye=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,u=e.yAxisMap,f=u===void 0?{}:u,d=r.width,p=r.height,h=r.children,y=r.margin||{},x=br(h,Dl),T=br(h,Fi),w=Object.keys(f).reduce(function(N,I){var P=f[I],L=P.orientation;return!P.mirror&&!P.hide?ge(ge({},N),{},$e({},L,N[L]+P.width)):N},{left:y.left||0,right:y.right||0}),A=Object.keys(o).reduce(function(N,I){var P=o[I],L=P.orientation;return!P.mirror&&!P.hide?ge(ge({},N),{},$e({},L,Ar(N,"".concat(L))+P.height)):N},{top:y.top||0,bottom:y.bottom||0}),C=ge(ge({},A),w),M=C.bottom;x&&(C.bottom+=x.props.height||Dl.defaultProps.height),T&&n&&(C=vue(C,a,r,n));var _=d-C.left-C.right,k=p-C.top-C.bottom;return ge(ge({brushBottom:M},C),{},{width:Math.max(_,0),height:Math.max(k,0)})},Yye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},t1=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,f=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,y=function(C,M){var _=M.graphicalItems,k=M.stackGroups,N=M.offset,I=M.updateId,P=M.dataStartIndex,L=M.dataEndIndex,D=C.barSize,q=C.layout,U=C.barGap,R=C.barCategoryGap,B=C.maxBarSize,G=sq(q),W=G.numericAxisName,V=G.cateAxisName,K=Hye(_),Y=[];return _.forEach(function(te,re){var $=Kh(C.data,{graphicalItems:[te],dataStartIndex:P,dataEndIndex:L}),z=te.type.defaultProps!==void 0?ge(ge({},te.type.defaultProps),te.props):te.props,H=z.dataKey,Q=z.maxBarSize,se=z["".concat(W,"Id")],we=z["".concat(V,"Id")],Te={},je=f.reduce(function(Bt,Ht){var Mn=M["".concat(Ht.axisType,"Map")],ee=z["".concat(Ht.axisType,"Id")];Mn&&Mn[ee]||Ht.axisType==="zAxis"||Ys();var be=Mn[ee];return ge(ge({},Bt),{},$e($e({},Ht.axisType,be),"".concat(Ht.axisType,"Ticks"),Ha(be)))},Te),me=je[V],Ne=je["".concat(V,"Ticks")],de=k&&k[se]&&k[se].hasStack&&Nue(te,k[se].stackGroups),ie=Ka(te.type).indexOf("Bar")>=0,Oe=_p(me,Ne),X=[],ve=K&&gue({barSize:D,stackGroups:k,totalSize:Yye(je,V)});if(ie){var pe,Le,Qe=et(Q)?B:Q,lt=(pe=(Le=_p(me,Ne,!0))!==null&&Le!==void 0?Le:Qe)!==null&&pe!==void 0?pe:0;X=yue({barGap:U,barCategoryGap:R,bandSize:lt!==Oe?lt:Oe,sizeList:ve[we],maxBarSize:Qe}),lt!==Oe&&(X=X.map(function(Bt){return ge(ge({},Bt),{},{position:ge(ge({},Bt.position),{},{offset:Bt.position.offset-lt/2})})}))}var ut=te&&te.type&&te.type.getComposedData;ut&&Y.push({props:ge(ge({},ut(ge(ge({},je),{},{displayedData:$,props:C,dataKey:H,item:te,bandSize:Oe,barPosition:X,offset:N,stackedData:de,layout:q,dataStartIndex:P,dataEndIndex:L}))),{},$e($e($e({key:te.key||"item-".concat(re)},W,je[W]),V,je[V]),"animationId",I)),childIndex:Ste(te,C.children),item:te})}),Y},x=function(C,M){var _=C.props,k=C.dataStartIndex,N=C.dataEndIndex,I=C.updateId;if(!gP({props:_}))return null;var P=_.children,L=_.layout,D=_.stackOffset,q=_.data,U=_.reverseStackOrder,R=sq(L),B=R.numericAxisName,G=R.cateAxisName,W=Tr(P,r),V=Eue(q,W,"".concat(B,"Id"),"".concat(G,"Id"),D,U),K=f.reduce(function(z,H){var Q="".concat(H.axisType,"Map");return ge(ge({},z),{},$e({},Q,zye(_,ge(ge({},H),{},{graphicalItems:W,stackGroups:H.axisType===B&&V,dataStartIndex:k,dataEndIndex:N}))))},{}),Y=Kye(ge(ge({},K),{},{props:_,graphicalItems:W}),M==null?void 0:M.legendBBox);Object.keys(K).forEach(function(z){K[z]=p(_,K[z],Y,z.replace("Map",""),n)});var te=K["".concat(G,"Map")],re=Gye(te),$=y(_,ge(ge({},K),{},{dataStartIndex:k,dataEndIndex:N,updateId:I,graphicalItems:W,stackGroups:V,offset:Y}));return ge(ge({formattedGraphicalItems:$,graphicalItems:W,offset:Y,stackGroups:V},re),K)},T=(function(A){function C(M){var _,k,N;return _ye(this,C),N=Mye(this,C,[M]),$e(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),$e(N,"accessibilityManager",new mye),$e(N,"handleLegendBBoxUpdate",function(I){if(I){var P=N.state,L=P.dataStartIndex,D=P.dataEndIndex,q=P.updateId;N.setState(ge({legendBBox:I},x({props:N.props,dataStartIndex:L,dataEndIndex:D,updateId:q},ge(ge({},N.state),{},{legendBBox:I}))))}}),$e(N,"handleReceiveSyncEvent",function(I,P,L){if(N.props.syncId===I){if(L===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),$e(N,"handleBrushChange",function(I){var P=I.startIndex,L=I.endIndex;if(P!==N.state.dataStartIndex||L!==N.state.dataEndIndex){var D=N.state.updateId;N.setState(function(){return ge({dataStartIndex:P,dataEndIndex:L},x({props:N.props,dataStartIndex:P,dataEndIndex:L,updateId:D},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:L})}}),$e(N,"handleMouseEnter",function(I){var P=N.getMouseInfo(I);if(P){var L=ge(ge({},P),{},{isTooltipActive:!0});N.setState(L),N.triggerSyncEvent(L);var D=N.props.onMouseEnter;ze(D)&&D(L,I)}}),$e(N,"triggeredAfterMouseMove",function(I){var P=N.getMouseInfo(I),L=P?ge(ge({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(L),N.triggerSyncEvent(L);var D=N.props.onMouseMove;ze(D)&&D(L,I)}),$e(N,"handleItemMouseEnter",function(I){N.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),$e(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),$e(N,"handleMouseMove",function(I){I.persist(),N.throttleTriggeredAfterMouseMove(I)}),$e(N,"handleMouseLeave",function(I){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var L=N.props.onMouseLeave;ze(L)&&L(P,I)}),$e(N,"handleOuterEvent",function(I){var P=bte(I),L=Ar(N.props,"".concat(P));if(P&&ze(L)){var D,q;/.*touch.*/i.test(P)?q=N.getMouseInfo(I.changedTouches[0]):q=N.getMouseInfo(I),L((D=q)!==null&&D!==void 0?D:{},I)}}),$e(N,"handleClick",function(I){var P=N.getMouseInfo(I);if(P){var L=ge(ge({},P),{},{isTooltipActive:!0});N.setState(L),N.triggerSyncEvent(L);var D=N.props.onClick;ze(D)&&D(L,I)}}),$e(N,"handleMouseDown",function(I){var P=N.props.onMouseDown;if(ze(P)){var L=N.getMouseInfo(I);P(L,I)}}),$e(N,"handleMouseUp",function(I){var P=N.props.onMouseUp;if(ze(P)){var L=N.getMouseInfo(I);P(L,I)}}),$e(N,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),$e(N,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseDown(I.changedTouches[0])}),$e(N,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&N.handleMouseUp(I.changedTouches[0])}),$e(N,"handleDoubleClick",function(I){var P=N.props.onDoubleClick;if(ze(P)){var L=N.getMouseInfo(I);P(L,I)}}),$e(N,"handleContextMenu",function(I){var P=N.props.onContextMenu;if(ze(P)){var L=N.getMouseInfo(I);P(L,I)}}),$e(N,"triggerSyncEvent",function(I){N.props.syncId!==void 0&&$S.emit(VS,N.props.syncId,I,N.eventEmitterSymbol)}),$e(N,"applySyncEvent",function(I){var P=N.props,L=P.layout,D=P.syncMethod,q=N.state.updateId,U=I.dataStartIndex,R=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)N.setState(ge({dataStartIndex:U,dataEndIndex:R},x({props:N.props,dataStartIndex:U,dataEndIndex:R,updateId:q},N.state)));else if(I.activeTooltipIndex!==void 0){var B=I.chartX,G=I.chartY,W=I.activeTooltipIndex,V=N.state,K=V.offset,Y=V.tooltipTicks;if(!K)return;if(typeof D=="function")W=D(Y,I);else if(D==="value"){W=-1;for(var te=0;te<Y.length;te++)if(Y[te].value===I.activeLabel){W=te;break}}var re=ge(ge({},K),{},{x:K.left,y:K.top}),$=Math.min(B,re.x+re.width),z=Math.min(G,re.y+re.height),H=Y[W]&&Y[W].value,Q=eT(N.state,N.props.data,W),se=Y[W]?{x:L==="horizontal"?Y[W].coordinate:$,y:L==="horizontal"?z:Y[W].coordinate}:H$;N.setState(ge(ge({},I),{},{activeLabel:H,activeCoordinate:se,activePayload:Q,activeTooltipIndex:W}))}else N.setState(I)}),$e(N,"renderCursor",function(I){var P,L=N.state,D=L.isTooltipActive,q=L.activeCoordinate,U=L.activePayload,R=L.offset,B=L.activeTooltipIndex,G=L.tooltipAxisBandSize,W=N.getTooltipEventType(),V=(P=I.props.active)!==null&&P!==void 0?P:D,K=N.props.layout,Y=I.key||"_recharts-cursor";return Z.createElement(bye,{key:Y,activeCoordinate:q,activePayload:U,activeTooltipIndex:B,chartName:n,element:I,isActive:V,layout:K,offset:R,tooltipAxisBandSize:G,tooltipEventType:W})}),$e(N,"renderPolarAxis",function(I,P,L){var D=Ar(I,"type.axisType"),q=Ar(N.state,"".concat(D,"Map")),U=I.type.defaultProps,R=U!==void 0?ge(ge({},U),I.props):I.props,B=q&&q[R["".concat(D,"Id")]];return j.cloneElement(I,ge(ge({},B),{},{className:Je(D,B.className),key:I.key||"".concat(P,"-").concat(L),ticks:Ha(B,!0)}))}),$e(N,"renderPolarGrid",function(I){var P=I.props,L=P.radialLines,D=P.polarAngles,q=P.polarRadius,U=N.state,R=U.radiusAxisMap,B=U.angleAxisMap,G=Ui(R),W=Ui(B),V=W.cx,K=W.cy,Y=W.innerRadius,te=W.outerRadius;return j.cloneElement(I,{polarAngles:Array.isArray(D)?D:Ha(W,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(q)?q:Ha(G,!0).map(function(re){return re.coordinate}),cx:V,cy:K,innerRadius:Y,outerRadius:te,key:I.key||"polar-grid",radialLines:L})}),$e(N,"renderLegend",function(){var I=N.state.formattedGraphicalItems,P=N.props,L=P.children,D=P.width,q=P.height,U=N.props.margin||{},R=D-(U.left||0)-(U.right||0),B=_B({children:L,formattedGraphicalItems:I,legendWidth:R,legendContent:d});if(!B)return null;var G=B.item,W=nq(B,Sye);return j.cloneElement(G,ge(ge({},W),{},{chartWidth:D,chartHeight:q,margin:U,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),$e(N,"renderTooltip",function(){var I,P=N.props,L=P.children,D=P.accessibilityLayer,q=br(L,Sr);if(!q)return null;var U=N.state,R=U.isTooltipActive,B=U.activeCoordinate,G=U.activePayload,W=U.activeLabel,V=U.offset,K=(I=q.props.active)!==null&&I!==void 0?I:R;return j.cloneElement(q,{viewBox:ge(ge({},V),{},{x:V.left,y:V.top}),active:K,label:W,payload:K?G:[],coordinate:B,accessibilityLayer:D})}),$e(N,"renderBrush",function(I){var P=N.props,L=P.margin,D=P.data,q=N.state,U=q.offset,R=q.dataStartIndex,B=q.dataEndIndex,G=q.updateId;return j.cloneElement(I,{key:I.key||"_recharts-brush",onChange:jm(N.handleBrushChange,I.props.onChange),data:D,x:Ee(I.props.x)?I.props.x:U.left,y:Ee(I.props.y)?I.props.y:U.top+U.height+U.brushBottom-(L.bottom||0),width:Ee(I.props.width)?I.props.width:U.width,startIndex:R,endIndex:B,updateId:"brush-".concat(G)})}),$e(N,"renderReferenceElement",function(I,P,L){if(!I)return null;var D=N,q=D.clipPathId,U=N.state,R=U.xAxisMap,B=U.yAxisMap,G=U.offset,W=I.type.defaultProps||{},V=I.props,K=V.xAxisId,Y=K===void 0?W.xAxisId:K,te=V.yAxisId,re=te===void 0?W.yAxisId:te;return j.cloneElement(I,{key:I.key||"".concat(P,"-").concat(L),xAxis:R[Y],yAxis:B[re],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:q})}),$e(N,"renderActivePoints",function(I){var P=I.item,L=I.activePoint,D=I.basePoint,q=I.childIndex,U=I.isRange,R=[],B=P.props.key,G=P.item.type.defaultProps!==void 0?ge(ge({},P.item.type.defaultProps),P.item.props):P.item.props,W=G.activeDot,V=G.dataKey,K=ge(ge({index:q,dataKey:V,cx:L.x,cy:L.y,r:4,fill:$E(P.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Ve(W,!1)),np(W));return R.push(C.renderActiveDot(W,K,"".concat(B,"-activePoint-").concat(q))),D?R.push(C.renderActiveDot(W,ge(ge({},K),{},{cx:D.x,cy:D.y}),"".concat(B,"-basePoint-").concat(q))):U&&R.push(null),R}),$e(N,"renderGraphicChild",function(I,P,L){var D=N.filterFormatItem(I,P,L);if(!D)return null;var q=N.getTooltipEventType(),U=N.state,R=U.isTooltipActive,B=U.tooltipAxis,G=U.activeTooltipIndex,W=U.activeLabel,V=N.props.children,K=br(V,Sr),Y=D.props,te=Y.points,re=Y.isRange,$=Y.baseLine,z=D.item.type.defaultProps!==void 0?ge(ge({},D.item.type.defaultProps),D.item.props):D.item.props,H=z.activeDot,Q=z.hide,se=z.activeBar,we=z.activeShape,Te=!!(!Q&&R&&K&&(H||se||we)),je={};q!=="axis"&&K&&K.props.trigger==="click"?je={onClick:jm(N.handleItemMouseEnter,I.props.onClick)}:q!=="axis"&&(je={onMouseLeave:jm(N.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:jm(N.handleItemMouseEnter,I.props.onMouseEnter)});var me=j.cloneElement(I,ge(ge({},D.props),je));function Ne(Ht){return typeof B.dataKey=="function"?B.dataKey(Ht.payload):null}if(Te)if(G>=0){var de,ie;if(B.dataKey&&!B.allowDuplicatedCategory){var Oe=typeof B.dataKey=="function"?Ne:"payload.".concat(B.dataKey.toString());de=Iw(te,Oe,W),ie=re&&$&&Iw($,Oe,W)}else de=te==null?void 0:te[G],ie=re&&$&&$[G];if(we||se){var X=I.props.activeIndex!==void 0?I.props.activeIndex:G;return[j.cloneElement(I,ge(ge(ge({},D.props),je),{},{activeIndex:X})),null,null]}if(!et(de))return[me].concat(Gl(N.renderActivePoints({item:D,activePoint:de,basePoint:ie,childIndex:G,isRange:re})))}else{var ve,pe=(ve=N.getItemByXY(N.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:me},Le=pe.graphicalItem,Qe=Le.item,lt=Qe===void 0?I:Qe,ut=Le.childIndex,Bt=ge(ge(ge({},D.props),je),{},{activeIndex:ut});return[j.cloneElement(lt,Bt),null,null]}return re?[me,null,null]:[me,null]}),$e(N,"renderCustomized",function(I,P,L){return j.cloneElement(I,ge(ge({key:"recharts-customized-".concat(L)},N.props),N.state))}),$e(N,"renderMap",{CartesianGrid:{handler:Om,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:Om},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:Om},YAxis:{handler:Om},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=M.id)!==null&&_!==void 0?_:Rd("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=NU(N.triggeredAfterMouseMove,(k=M.throttleDelay)!==null&&k!==void 0?k:1e3/60),N.state={},N}return Pye(C,A),jye(C,[{key:"componentDidMount",value:function(){var _,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,k=_.children,N=_.data,I=_.height,P=_.layout,L=br(k,Sr);if(L){var D=L.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var q=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,U=eT(this.state,N,D,q),R=this.state.tooltipTicks[D].coordinate,B=(this.state.offset.top+I)/2,G=P==="horizontal",W=G?{x:R,y:B}:{y:R,x:B},V=this.state.formattedGraphicalItems.find(function(Y){var te=Y.item;return te.type.name==="Scatter"});V&&(W=ge(ge({},W),V.props.points[D].tooltipPosition),U=V.props.points[D].tooltipPayload);var K={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:q,activePayload:U,activeCoordinate:W};this.setState(K),this.renderCursor(L),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,I;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(_){Ow([br(_.children,Sr)],[br(this.props.children,Sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=br(this.props.children,Sr);if(_&&typeof _.props.shared=="boolean"){var k=_.props.shared?"axis":"item";return u.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var k=this.container,N=k.getBoundingClientRect(),I=oie(N),P={chartX:Math.round(_.pageX-I.left),chartY:Math.round(_.pageY-I.top)},L=N.width/k.offsetWidth||1,D=this.inRange(P.chartX,P.chartY,L);if(!D)return null;var q=this.state,U=q.xAxisMap,R=q.yAxisMap,B=this.getTooltipEventType(),G=aq(this.state,this.props.data,this.props.layout,D);if(B!=="axis"&&U&&R){var W=Ui(U).scale,V=Ui(R).scale,K=W&&W.invert?W.invert(P.chartX):null,Y=V&&V.invert?V.invert(P.chartY):null;return ge(ge({},P),{},{xValue:K,yValue:Y},G)}return G?ge(ge({},P),G):null}},{key:"inRange",value:function(_,k){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,P=_/N,L=k/N;if(I==="horizontal"||I==="vertical"){var D=this.state.offset,q=P>=D.left&&P<=D.left+D.width&&L>=D.top&&L<=D.top+D.height;return q?{x:P,y:L}:null}var U=this.state,R=U.angleAxisMap,B=U.radiusAxisMap;if(R&&B){var G=Ui(R);return rD({x:P,y:L},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,k=this.getTooltipEventType(),N=br(_,Sr),I={};N&&k==="axis"&&(N.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=np(this.props,this.handleOuterEvent);return ge(ge({},P),I)}},{key:"addListener",value:function(){$S.on(VS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$S.removeListener(VS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,k,N){for(var I=this.state.formattedGraphicalItems,P=0,L=I.length;P<L;P++){var D=I[P];if(D.item===_||D.props.key===_.key||k===Ka(D.item.type)&&N===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,k=this.state.offset,N=k.left,I=k.top,P=k.height,L=k.width;return Z.createElement("defs",null,Z.createElement("clipPath",{id:_},Z.createElement("rect",{x:N,y:I,height:P,width:L})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(k,N){var I=tq(N,2),P=I[0],L=I[1];return ge(ge({},k),{},$e({},P,L.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(k,N){var I=tq(N,2),P=I[0],L=I[1];return ge(ge({},k),{},$e({},P,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(_){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[_])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(_){var k=this.state,N=k.formattedGraphicalItems,I=k.activeItem;if(N&&N.length)for(var P=0,L=N.length;P<L;P++){var D=N[P],q=D.props,U=D.item,R=U.type.defaultProps!==void 0?ge(ge({},U.type.defaultProps),U.props):U.props,B=Ka(U.type);if(B==="Bar"){var G=(q.data||[]).find(function(Y){return Sfe(_,Y)});if(G)return{graphicalItem:D,payload:G}}else if(B==="RadialBar"){var W=(q.data||[]).find(function(Y){return rD(_,Y)});if(W)return{graphicalItem:D,payload:W}}else if(Bh(D,I)||$h(D,I)||md(D,I)){var V=zme({graphicalItem:D,activeTooltipItem:I,itemData:R.data}),K=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:ge(ge({},D),{},{childIndex:K}),payload:md(D,I)?R.data[V]:D.props.data[V]}}}return null}},{key:"render",value:function(){var _=this;if(!gP(this))return null;var k=this.props,N=k.children,I=k.className,P=k.width,L=k.height,D=k.style,q=k.compact,U=k.title,R=k.desc,B=nq(k,wye),G=Ve(B,!1);if(q)return Z.createElement(UL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement(Dw,cl({},G,{width:P,height:L,title:U,desc:R}),this.renderClipPath(),vP(N,this.renderMap)));if(this.props.accessibilityLayer){var W,V;G.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,G.role=(V=this.props.role)!==null&&V!==void 0?V:"application",G.onKeyDown=function(Y){_.accessibilityManager.keyboardEvent(Y)},G.onFocus=function(){_.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return Z.createElement(UL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Z.createElement("div",cl({className:Je("recharts-wrapper",I),style:ge({position:"relative",cursor:"default",width:P,height:L},D)},K,{ref:function(te){_.container=te}}),Z.createElement(Dw,cl({},G,{width:P,height:L,title:U,desc:R,style:Uye}),this.renderClipPath(),vP(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);$e(T,"displayName",n),$e(T,"defaultProps",ge({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),$e(T,"getDerivedStateFromProps",function(A,C){var M=A.dataKey,_=A.data,k=A.children,N=A.width,I=A.height,P=A.layout,L=A.stackOffset,D=A.margin,q=C.dataStartIndex,U=C.dataEndIndex;if(C.updateId===void 0){var R=iq(A);return ge(ge(ge({},R),{},{updateId:0},x(ge(ge({props:A},R),{},{updateId:0}),C)),{},{prevDataKey:M,prevData:_,prevWidth:N,prevHeight:I,prevLayout:P,prevStackOffset:L,prevMargin:D,prevChildren:k})}if(M!==C.prevDataKey||_!==C.prevData||N!==C.prevWidth||I!==C.prevHeight||P!==C.prevLayout||L!==C.prevStackOffset||!gl(D,C.prevMargin)){var B=iq(A),G={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},W=ge(ge({},aq(C,_,P)),{},{updateId:C.updateId+1}),V=ge(ge(ge({},B),G),W);return ge(ge(ge({},V),x(ge({props:A},V),C)),{},{prevDataKey:M,prevData:_,prevWidth:N,prevHeight:I,prevLayout:P,prevStackOffset:L,prevMargin:D,prevChildren:k})}if(!Ow(k,C.prevChildren)){var K,Y,te,re,$=br(k,Dl),z=$&&(K=(Y=$.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&K!==void 0?K:q,H=$&&(te=(re=$.props)===null||re===void 0?void 0:re.endIndex)!==null&&te!==void 0?te:U,Q=z!==q||H!==U,se=!et(_),we=se&&!Q?C.updateId:C.updateId+1;return ge(ge({updateId:we},x(ge(ge({props:A},C),{},{updateId:we,dataStartIndex:z,dataEndIndex:H}),C)),{},{prevChildren:k,dataStartIndex:z,dataEndIndex:H})}return null}),$e(T,"renderActiveDot",function(A,C,M){var _;return j.isValidElement(A)?_=j.cloneElement(A,C):ze(A)?_=A(C):_=Z.createElement(zE,C),Z.createElement(ot,{className:"recharts-active-dot",key:M},_)});var w=j.forwardRef(function(C,M){return Z.createElement(T,cl({},C,{ref:M}))});return w.displayName=T.displayName,w},oq=t1({chartName:"BarChart",GraphicalChild:ma,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xd},{axisType:"yAxis",AxisComp:bd}],formatAxisMap:ohe}),Wye=t1({chartName:"PieChart",GraphicalChild:ui,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zd},{axisType:"radiusAxis",AxisComp:Fd}],formatAxisMap:$B,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Xye=t1({chartName:"RadialBarChart",GraphicalChild:Gd,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:zd},{axisType:"radiusAxis",AxisComp:Fd}],formatAxisMap:$B,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Rm=({title:t,children:e,className:n="",id:r})=>c.jsxs(He.section,{id:r,initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:`surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)] flex flex-col ${n}`,children:[c.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:c.jsx("h2",{className:"text-base font-bold text-gray-900 dark:text-gray-50",children:t})}),c.jsx("div",{className:"flex-1 w-full min-h-0",children:e})]}),Dm=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-2 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[c.jsx("p",{className:"label font-bold text-gray-800 dark:text-gray-100",children:`${n}`}),e.map((r,a)=>c.jsx("p",{style:{color:r.fill},children:`${r.name}: ${r.value.toFixed(0)}${r.unit||""}`},a))]}):null,Jye={primary:{border:"border-primary-200/60 dark:border-primary-700/50",cardBg:"bg-gradient-to-br from-primary-50/70 via-white to-white dark:from-primary-900/25 dark:via-secondary-900/40 dark:to-secondary-900/20",iconText:"text-primary-700 dark:text-primary-200"},info:{border:"border-secondary-200/60 dark:border-secondary-700/60",cardBg:"bg-gradient-to-br from-secondary-50/70 via-white to-white dark:from-secondary-900/25 dark:via-secondary-900/45 dark:to-secondary-900/25",iconText:"text-secondary-700 dark:text-secondary-200"},success:{border:"border-status-success-200/60 dark:border-status-success-700/60",cardBg:"bg-gradient-to-br from-status-success-50/70 via-white to-white dark:from-status-success-900/25 dark:via-secondary-900/40 dark:to-secondary-900/25",iconText:"text-status-success-700 dark:text-status-success-200"},warning:{border:"border-status-warning-200/60 dark:border-status-warning-700/50",cardBg:"bg-gradient-to-br from-status-warning-50/70 via-white to-white dark:from-status-warning-900/25 dark:via-secondary-900/40 dark:to-secondary-900/25",iconText:"text-status-warning-700 dark:text-status-warning-200"}},Lm=({label:t,value:e,description:n,accent:r,icon:a})=>{const i=Jye[r];return c.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:`surface-card rounded-2xl p-5 border ${i.border} ${i.cardBg} shadow-[var(--shadow-elev-1)]`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:`material-symbols-outlined text-3xl ${i.iconText}`,children:a}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-secondary-500 dark:text-secondary-300",children:t}),c.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-50",children:e}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:n})]})]})})},Qye=({title:t,description:e,icon:n,onClick:r})=>c.jsx(He.button,{type:"button",onClick:r,className:"surface-card surface-card-gradient w-full text-left rounded-2xl border border-transparent px-5 py-4 shadow-[var(--shadow-elev-1)] transition hover:-translate-y-1 hover:shadow-[var(--shadow-elev-2)]",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},whileTap:{scale:.98},children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"material-symbols-outlined text-2xl text-secondary-600 dark:text-secondary-400",children:n}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:t}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300 leading-snug",children:e})]})]})}),Zye=({auditSessions:t,equipment:e,countries:n,sites:r,departments:a,users:i})=>{const{theme:o}=c3(),u=o==="dark",f=u?"#9ca3af":"#4b5563",d=u?"#374151":"#e5e7eb",p=j.useMemo(()=>{const q=new Map;return t.filter(U=>U.status!=="cancelled").sort((U,R)=>new Date(R.updatedAt).getTime()-new Date(U.updatedAt).getTime()).forEach(U=>{q.has(U.departmentId)||q.set(U.departmentId,U)}),q},[t]),h=j.useMemo(()=>{const q=e.length;let U=0,R=0,B=0,G=0,W=0;t.forEach($=>{var z;switch(W+=((z=$.unexpectedItems)==null?void 0:z.length)??0,$.status){case"in-progress":R+=1;break;case"paused":B+=1;break;case"completed":G+=1;break}}),p.forEach($=>{if($.status==="completed"){const z=e.filter(H=>H.departmentId===$.departmentId).length;U+=z}else U+=$.scannedItemIds.length});const V=q>0?U/q*100:0,K=n.map($=>{const z=r.filter(je=>je.countryId===$.id),H=a.filter(je=>z.some(me=>me.id===je.siteId)),se=e.filter(je=>H.some(me=>me.id===je.departmentId)).length;if(se===0)return{name:$.name,progress:0};let we=0;const Te=new Set;return H.forEach(je=>{if(!Te.has(je.id)){const me=p.get(je.id);if((me==null?void 0:me.status)==="completed"){const Ne=e.filter(de=>de.departmentId===je.id).length;we+=Ne}else we+=me?me.scannedItemIds.length:0;Te.add(je.id)}}),{name:$.name,progress:we/se*100}}).filter($=>$.progress>=0&&n.some(z=>z.name===$.name)),Y=Array.from(p.values()).reduce(($,z)=>{let H;switch(z.status){case"in-progress":H="En cours";break;case"paused":H="En pause";break;case"completed":H="Terminé";break;default:H="Inconnu"}const Q=$.find(se=>se.name===H);return Q?Q.value+=1:$.push({name:H,value:1}),$},[]),re=Array.from(p.values()).filter($=>$.status==="completed").slice(-5).map($=>{const z=a.find(Te=>Te.id===$.departmentId),H=e.filter(Te=>Te.departmentId===$.departmentId).length,Q=$.scannedItemIds.length,se=$.unexpectedItems.length,we=H-Q;return{name:(z==null?void 0:z.name)||"Unknown",Confirmés:Q,Manquants:we<0?0:we,Inattendus:se}});return{overallProgress:V,countryProgress:K,auditStatusData:Y,findingsData:re,totalEquipmentCount:q,totalScannedCount:U,activeSessionsCount:R,pausedSessionsCount:B,completedSessionsCount:G,totalUnexpectedItems:W}},[p,e,n,r,a,t]),{overallProgress:y,countryProgress:x,auditStatusData:T,findingsData:w,totalEquipmentCount:A,totalScannedCount:C,activeSessionsCount:M,pausedSessionsCount:_,completedSessionsCount:k,totalUnexpectedItems:N}=h,I=q=>new Intl.NumberFormat("fr-FR").format(q),P=["#3b82f6","#f97316","#22c55e","#eab308"],L=[{name:"Progress",value:y}],D=[{title:"Progression globale",description:`${y.toFixed(0)}% des équipements scannés`,icon:"donut_large",onClick:()=>{var q;return(q=document.getElementById("chart-global"))==null?void 0:q.scrollIntoView({behavior:"smooth"})}},{title:"Progression par pays",description:`${x.length} pays suivis`,icon:"travel_explore",onClick:()=>{var q;return(q=document.getElementById("chart-country"))==null?void 0:q.scrollIntoView({behavior:"smooth"})}},{title:"Statut des audits",description:`${M+_+k} sessions actives`,icon:"progress_activity",onClick:()=>{var q;return(q=document.getElementById("chart-status"))==null?void 0:q.scrollIntoView({behavior:"smooth"})}},{title:"Derniers résultats",description:`${Math.min(w.length,5)} derniers services analysés`,icon:"insights",onClick:()=>{var q;return(q=document.getElementById("chart-latest"))==null?void 0:q.scrollIntoView({behavior:"smooth"})}}];return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(It,{title:"Aperçu des audits",onBack:()=>window.location.hash="#/audit",children:c.jsx(Re,{variant:"secondary",size:"sm",icon:"file_download",onClick:()=>window.print(),children:"Exporter"})}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[c.jsx(He.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-8 md:p-10 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:c.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex items-start gap-5",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-600 dark:text-secondary-400",children:"dashboard"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-secondary-600 dark:text-secondary-400 mb-2",children:"Tableau de bord"}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-50 tracking-tight leading-tight",children:"Vue d'ensemble des audits"}),c.jsx("p",{className:"mt-3 text-sm leading-relaxed text-secondary-700 dark:text-secondary-300 max-w-2xl",children:"Surveillez la santé de vos campagnes d'audit, identifiez les zones à risque et partagez facilement des rapports synthétiques avec vos équipes."})]})]}),c.jsxs("div",{className:"grid w-full max-w-md gap-3 sm:grid-cols-2",children:[c.jsx(Lm,{label:"Taux de complétion",value:`${y.toFixed(0)}%`,description:`${I(C)} / ${I(A)} équipements scannés`,accent:"primary",icon:"donut_small"}),c.jsx(Lm,{label:"Sessions actives",value:`${M}`,description:`+ ${_} en pause`,accent:"info",icon:"play_circle"}),c.jsx(Lm,{label:"Sessions terminées",value:`${k}`,description:"30 derniers jours",accent:"success",icon:"verified"}),c.jsx(Lm,{label:"Anomalies signalées",value:`${N}`,description:"Équipements inattendus détectés",accent:"warning",icon:"warning_amber"})]})]})}),c.jsx("section",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-4",children:D.map(q=>c.jsx(Qye,{...q},q.title))}),c.jsxs("div",{className:"grid gap-6 xl:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)]",children:[c.jsx(Rm,{title:"Progression globale",className:"min-h-[360px]",id:"chart-global",children:A===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"insights"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucun équipement à auditer"})]})}):c.jsx(Tm,{width:"100%",height:"100%",children:c.jsxs(Xye,{innerRadius:"68%",outerRadius:"100%",data:L,startAngle:90,endAngle:-270,children:[c.jsx(Gd,{dataKey:"value",cornerRadius:14,background:!0,fill:P[0]}),c.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-4xl font-semibold fill-current text-gray-900 dark:text-gray-100",children:`${y.toFixed(0)}%`}),c.jsx(Sr,{content:c.jsx(Dm,{})})]})})}),c.jsx(Rm,{title:"Progression par pays",className:"min-h-[360px]",id:"chart-country",children:x.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"travel_explore"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucun pays configuré"})]})}):c.jsx(Tm,{width:"100%",height:"100%",children:c.jsxs(oq,{data:x,layout:"vertical",margin:{top:10,right:24,left:24,bottom:10},children:[c.jsx(GA,{stroke:d,strokeDasharray:"4 4"}),c.jsx(xd,{type:"number",domain:[0,100],tick:{fill:f},unit:"%"}),c.jsx(bd,{dataKey:"name",type:"category",width:120,tick:{fill:f}}),c.jsx(Sr,{content:c.jsx(Dm,{}),cursor:{fill:"rgba(148, 163, 184, 0.12)"}}),c.jsx(ma,{dataKey:"progress",name:"Progression",fill:P[0],background:{fill:u?"#1f2937":"#e5e7eb"},radius:[0,8,8,0]})]})})})]}),c.jsxs("div",{className:"grid gap-6 xl:grid-cols-2",children:[c.jsx(Rm,{title:"Statut des audits",className:"min-h-[360px]",id:"chart-status",children:T.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"progress_activity"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucune session d'audit"})]})}):c.jsx(Tm,{width:"100%",height:"100%",children:c.jsxs(Wye,{children:[c.jsx(ui,{data:T,cx:"50%",cy:"50%",labelLine:!1,outerRadius:110,dataKey:"value",nameKey:"name",label:({name:q,percent:U})=>`${q} ${(U*100).toFixed(0)}%`,children:T.map((q,U)=>c.jsx(Ld,{fill:P[U%P.length]},`cell-${U}`))}),c.jsx(Sr,{content:c.jsx(Dm,{})}),c.jsx(Fi,{})]})})}),c.jsx(Rm,{title:"Derniers résultats d'audit",className:"min-h-[360px]",id:"chart-latest",children:w.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"insights"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucun audit terminé"})]})}):c.jsx(Tm,{width:"100%",height:"100%",children:c.jsxs(oq,{data:w,margin:{top:10,right:24,left:-4,bottom:10},children:[c.jsx(GA,{stroke:d,strokeDasharray:"4 4"}),c.jsx(xd,{dataKey:"name",tick:{fill:f}}),c.jsx(bd,{tick:{fill:f}}),c.jsx(Sr,{content:c.jsx(Dm,{})}),c.jsx(Fi,{}),c.jsx(ma,{dataKey:"Confirmés",stackId:"a",fill:P[2],radius:[6,6,0,0]}),c.jsx(ma,{dataKey:"Manquants",stackId:"a",fill:"#ef4444",radius:[6,6,0,0]}),c.jsx(ma,{dataKey:"Inattendus",fill:P[1],radius:[6,6,0,0]})]})})})]})]})]})},e0e=({icon:t,title:e,description:n,buttonLabel:r,onClick:a})=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-gray-100 dark:bg-gray-700",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-600 dark:text-gray-300",children:t})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})]}),c.jsx("button",{onClick:a,className:"rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:r})]}),t0e=({currentUser:t,onBack:e,onEdit:n,onLogout:r,onManagePassword:a,onManagePin:i})=>{const o=!!t.password;return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[c.jsx(It,{title:"Mon Profil",onBack:e}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 max-w-2xl mx-auto w-full pb-24",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[c.jsx("img",{src:t.avatarUrl,alt:`Avatar de ${t.name}`,className:"h-24 w-24 rounded-full object-cover ring-4 ring-white dark:ring-gray-700"}),c.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.name}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t.email}),c.jsxs("div",{className:"mt-2 flex items-center justify-center sm:justify-start gap-4 text-sm text-gray-600 dark:text-gray-300",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"work"})," ",t.department]}),c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"badge"})," ",t.role]})]})]}),c.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center justify-center gap-2 shrink-0 rounded-lg px-4 py-2 text-sm font-semibold text-gray-800 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),"Modifier"]})]})}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Sécurité"}),c.jsx("div",{className:"space-y-4",children:c.jsx(e0e,{icon:"password",title:"Mot de passe",description:o?"Votre mot de passe est défini.":"Configurez un mot de passe pour votre compte.",buttonLabel:o?"Modifier":"Créer",onClick:()=>a(t.id)})})]}),c.jsx("div",{className:"pt-4",children:c.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 rounded-lg h-12 px-4 text-base font-semibold bg-white dark:bg-gray-800 text-status-danger-700 dark:text-status-danger-400 border border-gray-200 dark:border-gray-700 hover:bg-status-danger-50 dark:hover:bg-status-danger-900/30 shadow-sm",children:[c.jsx("span",{className:"material-symbols-outlined",children:"logout"}),"Se déconnecter"]})})]})]})},n0e=[{hash:"#/management",label:"Gestion",icon:"category"},{hash:"#/locations",label:"Emplacements",icon:"pin_drop"},{hash:"#/audit",label:"Audit",icon:"checklist"},{hash:"#/reports",label:"Rapports",icon:"summarize"}],r0e=[],a0e=({isOpen:t,onClose:e,onNavigate:n,role:r})=>{const a=Z.useRef(null);Qs(a,t);const i=r===_e.ADMIN?n0e:r0e;return!t||i.length===0?null:c.jsx("div",{className:"fixed inset-0 z-50 flex flex-col justify-end bg-black/40 backdrop-blur-sm md:hidden",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"more-menu-title",children:c.jsxs("div",{ref:a,className:"surface-card surface-card-gradient rounded-t-3xl w-full pb-6 animate-slide-up shadow-2xl border-t-2 border-white/60 dark:border-white/10",onClick:o=>o.stopPropagation(),children:[c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"h-1.5 w-12 rounded-full bg-gradient-to-r from-primary-300 via-primary-400 to-primary-300 dark:from-primary-700 dark:via-primary-600 dark:to-primary-700 shadow-sm"})}),c.jsx("h2",{id:"more-menu-title",className:"text-xl font-bold text-white text-center mb-6 tracking-tight",children:"Plus d'options"}),c.jsx("div",{className:"grid grid-cols-4 gap-3 px-6",children:i.map(o=>c.jsxs("button",{onClick:()=>{n(o.hash),e()},className:"flex flex-col items-center justify-center p-2 rounded-xl min-h-[84px] transition-all duration-300 hover:scale-105 active:scale-95",children:[c.jsx("span",{className:"material-symbols-outlined text-3xl text-white mb-2 drop-shadow-lg",children:o.icon}),c.jsx("span",{className:"text-xs font-semibold text-center text-white drop-shadow-md",children:o.label})]},o.hash))})]})})},i0e=["modelName","assetTag"],s0e=["modelName","assetTag","name","purchaseDate","warrantyStartDate","warrantyEndDate","status","location"],o0e=({models:t,onImport:e,onBack:n})=>{const[r,a]=j.useState(null),[i,o]=j.useState([]),[u,f]=j.useState(!1),[d,p]=j.useState(!1),{addToast:h}=Wn(),y=j.useMemo(()=>new Map(t.map(_=>[_.name.toLowerCase(),_])),[t]),x=async _=>{var N;const k=(N=_.target.files)==null?void 0:N[0];k&&(a(k),await T(k))},T=async _=>{f(!0),o([]);try{const N=(await _.text()).split(`
`).filter(q=>q.trim()!=="");if(N.length<2){h("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error");return}const P=N.shift().trim().split(",").map(q=>q.trim()),L=i0e.filter(q=>!P.includes(q));if(L.length>0){h(`En-têtes manquants dans le CSV: ${L.join(", ")}`,"error");return}const D=N.map((q,U)=>{const R=q.split(","),B=P.reduce((K,Y,te)=>{var re;return K[Y]=((re=R[te])==null?void 0:re.trim())||"",K},{});if(!B.modelName||!B.assetTag)return{status:"error",message:"modelName et assetTag sont requis.",data:{}};const G=y.get(B.modelName.toLowerCase());if(!G)return{status:"error",message:`Modèle "${B.modelName}" non trouvé.`,data:{}};const W=B.status&&Object.values(qe).includes(B.status)?B.status:qe.AVAILABLE;return{status:"valid",data:{modelId:G.id,assetTag:B.assetTag,name:B.name||void 0,purchaseDate:B.purchaseDate||void 0,warrantyStartDate:B.warrantyStartDate||void 0,warrantyEndDate:B.warrantyEndDate||void 0,status:W,location:B.location||void 0}}});o(D)}catch(k){console.error("Error processing file:",k),h("Échec du traitement du fichier.","error")}finally{f(!1)}},w=()=>{const _="data:text/csv;charset=utf-8,"+s0e.join(","),k=encodeURI(_),N=document.createElement("a");N.setAttribute("href",k),N.setAttribute("download","import_template.csv"),document.body.appendChild(N),N.click(),document.body.removeChild(N)},A=async()=>{if(d)return;const _=i.filter(k=>k.status==="valid").map(k=>k.data);if(_.length>0){p(!0);try{await e(_)}catch{h("L'importation a échoué.","error")}finally{p(!1)}}else h("Aucun équipement valide à importer.","info")},C=i.filter(_=>_.status==="valid").length,M=i.length-C;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(It,{title:"Importer des équipements",onBack:n}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Pour commencer, téléchargez notre modèle CSV pour vous assurer que vos données sont correctement formatées."}),c.jsxs("button",{onClick:w,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:r?r.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:x})]})})]})]}),u&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),i.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",C," équipement(s) prêt(s) à être importé(s), ",M," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Modèle"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"N° Inventaire"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((_,k)=>{var N;return c.jsxs("tr",{className:_.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:_.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.modelId?(N=t.find(I=>I.id===_.data.modelId))==null?void 0:N.name:"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.assetTag||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:_.message||"-"})]},k)})})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:A,disabled:C===0||u||d,loading:d,icon:"cloud_upload",children:d?"Importation...":`Importer ${C>0?`(${C})`:""} équipement(s)`})})})]})},Oi=({icon:t,label:e,onClick:n,rightElement:r,badge:a,isDestructive:i})=>c.jsxs("button",{onClick:n,className:`w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors ${i?"text-status-danger-600 dark:text-status-danger-400":"text-gray-900 dark:text-gray-100"}`,children:[c.jsx("span",{className:`material-symbols-outlined text-2xl ${i?"":"text-gray-600 dark:text-gray-400"}`,children:t}),c.jsx("span",{className:"flex-1 text-left text-base",children:e}),a&&c.jsx("span",{className:"size-2 rounded-full bg-primary-500"}),r,n&&!r&&c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500",children:"chevron_right"})]}),zS=({title:t})=>c.jsx("h2",{className:"px-4 py-2 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t}),l0e=({isOpen:t,onClose:e,title:n,children:r})=>{const a=j.useRef(null);return Qs(a,t),t?c.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm animate-fade-in",style:{animationDuration:"150ms"},onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"sheet-title",children:c.jsxs("div",{ref:a,className:"h-full w-full bg-white/90 dark:bg-gray-900/90 backdrop-blur-lg md:max-w-lg md:mx-auto md:mt-16 md:rounded-xl md:h-auto md:max-h-[85vh] flex flex-col overflow-hidden shadow-2xl border border-white/60 dark:border-white/10",onClick:i=>i.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center gap-3 h-14 px-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[c.jsx("button",{onClick:e,className:"flex size-10 items-center justify-center rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Retour",children:c.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),c.jsx("h2",{id:"sheet-title",className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:n})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})}):null},u0e=({isOpen:t,onClose:e,currentUser:n,onLogout:r})=>{const{theme:a,setTheme:i}=c3(),o=a==="dark",u=d=>{window.location.hash=d,e()},f=()=>{i(o?"light":"dark")};return c.jsxs(l0e,{isOpen:t,onClose:e,title:"Paramètres",children:[c.jsx(zS,{title:"Général"}),c.jsxs("div",{className:"bg-white dark:bg-gray-800",children:[c.jsx(Oi,{icon:"dark_mode",label:"Apparence",rightElement:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:o?"Sombre":"Clair"}),c.jsx("div",{role:"switch","aria-checked":o,tabIndex:0,onClick:d=>{d.stopPropagation(),f()},onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),d.stopPropagation(),f())},className:`relative flex h-6 w-12 cursor-pointer items-center rounded-full transition-colors duration-200 ease-out focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 ${o?"bg-secondary-600 dark:bg-secondary-500":"bg-gray-300 dark:bg-gray-600"}`,children:c.jsx("span",{className:`absolute left-1 h-4 w-4 rounded-full bg-white shadow transition-transform duration-200 ease-out ${o?"translate-x-6":"translate-x-0"}`})})]})}),c.jsx(Oi,{icon:"storage",label:"Données et stockage",onClick:()=>u("#/settings/data")})]}),c.jsx(zS,{title:"Compte"}),c.jsxs("div",{className:"bg-white dark:bg-gray-800",children:[c.jsx(Oi,{icon:"account_circle",label:"Profil",onClick:()=>u("#/profile")}),c.jsx(Oi,{icon:"security",label:"Confidentialité",onClick:()=>{}})]}),c.jsx(zS,{title:"Aide"}),c.jsxs("div",{className:"bg-white dark:bg-gray-800",children:[c.jsx(Oi,{icon:"help",label:"Aide et commentaires",onClick:()=>u("#/settings/help")}),c.jsx(Oi,{icon:"lightbulb",label:"Nouveautés",onClick:()=>u("#/settings/whats-new"),badge:!0}),c.jsx(Oi,{icon:"info",label:"À propos",onClick:()=>u("#/settings/about")})]}),c.jsx("div",{className:"mt-4 bg-white dark:bg-gray-800",children:c.jsx(Oi,{icon:"logout",label:"Se déconnecter",onClick:()=>{r(),e()},isDestructive:!0})})]})},GS=["name","employeeId","email","role"],c0e=["name","employeeId","email","department","role","managerName"],d0e=({users:t,onImport:e,onBack:n})=>{const[r,a]=j.useState(null),[i,o]=j.useState([]),[u,f]=j.useState(!1),[d,p]=j.useState(!1),{addToast:h}=Wn(),y=j.useMemo(()=>new Map(t.filter(_=>_.role===_e.ADMIN||_.role===_e.MANAGER).map(_=>[_.name.toLowerCase(),_])),[t]),x=async _=>{var N;const k=(N=_.target.files)==null?void 0:N[0];k&&(a(k),await T(k))},T=async _=>{f(!0),o([]);try{const N=(await _.text()).split(`
`).filter(q=>q.trim()!=="");if(N.length<2){h("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error");return}const P=N.shift().trim().split(",").map(q=>q.trim()),L=GS.filter(q=>!P.includes(q));if(L.length>0){h(`En-têtes manquants dans le CSV: ${L.join(", ")}`,"error");return}const D=N.map(q=>{const U=q.split(","),R=P.reduce((W,V,K)=>{var Y;return W[V]=((Y=U[K])==null?void 0:Y.trim())||"",W},{});if(GS.some(W=>!R[W]))return{status:"error",message:`Les champs ${GS.join(", ")} sont requis.`,data:{}};if(!Object.values(_e).includes(R.role))return{status:"error",message:`Rôle invalide: "${R.role}".`,data:{}};let B;if(R.managerName){const W=y.get(R.managerName.toLowerCase());if(!W)return{status:"error",message:`Responsable "${R.managerName}" non trouvé.`,data:{}};B=W.id}return{status:"valid",data:{name:R.name,employeeId:R.employeeId,email:R.email,role:R.role,department:R.department||void 0,managerId:B}}});o(D)}catch(k){console.error("Error processing file:",k),h("Échec du traitement du fichier.","error")}finally{f(!1)}},w=()=>{const _="data:text/csv;charset=utf-8,"+c0e.join(","),k=encodeURI(_),N=document.createElement("a");N.setAttribute("href",k),N.setAttribute("download","import_users_template.csv"),document.body.appendChild(N),N.click(),document.body.removeChild(N)},A=async()=>{if(d)return;const _=i.filter(k=>k.status==="valid").map(k=>k.data);if(_.length>0){p(!0);try{await e(_)}catch{h("L'importation a échoué.","error"),p(!1)}}else h("Aucun utilisateur valide à importer.","info")},C=i.filter(_=>_.status==="valid").length,M=i.length-C;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(It,{title:"Importer des utilisateurs",onBack:n}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Pour commencer, téléchargez notre modèle CSV pour vous assurer que vos données sont correctement formatées."}),c.jsxs("button",{onClick:w,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:r?r.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:x})]})})]})]}),u&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),i.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",C," utilisateur(s) prêt(s) à être importé(s), ",M," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Nom"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Email"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((_,k)=>c.jsxs("tr",{className:_.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:_.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.name||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.email||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:_.message||"-"})]},k))})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:A,disabled:C===0||u||d,loading:d,icon:d?"refresh":"cloud_upload",children:d?"Importation...":`Importer ${C>0?`(${C})`:""} utilisateur(s)`})})})]})},HS=["name","brand","categoryName"],f0e=["name","brand","modelNumber","categoryName","specifications","imageUrl"],m0e=({categories:t,onImport:e,onBack:n})=>{const[r,a]=j.useState(null),[i,o]=j.useState([]),[u,f]=j.useState(!1),[d,p]=j.useState(!1),{addToast:h}=Wn(),y=j.useMemo(()=>new Map(t.map(_=>[_.name.toLowerCase(),_])),[t]),x=async _=>{var N;const k=(N=_.target.files)==null?void 0:N[0];k&&(a(k),await T(k))},T=async _=>{f(!0),o([]);try{const N=(await _.text()).split(`
`).filter(q=>q.trim()!=="");if(N.length<2){h("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error");return}const P=N.shift().trim().split(",").map(q=>q.trim()),L=HS.filter(q=>!P.includes(q));if(L.length>0){h(`En-têtes manquants dans le CSV: ${L.join(", ")}`,"error");return}const D=N.map(q=>{const U=q.split(","),R=P.reduce((W,V,K)=>{var Y;return W[V]=((Y=U[K])==null?void 0:Y.trim())||"",W},{});if(HS.some(W=>!R[W]))return{status:"error",message:`Les champs ${HS.join(", ")} sont requis.`,data:{}};const B=y.get(R.categoryName.toLowerCase());return B?{status:"valid",data:{name:R.name,brand:R.brand,categoryId:B.id,modelNumber:R.modelNumber||void 0,specifications:R.specifications||void 0,imageUrl:R.imageUrl||void 0}}:{status:"error",message:`Catégorie "${R.categoryName}" non trouvée.`,data:{}}});o(D)}catch(k){console.error("Error processing file:",k),h("Échec du traitement du fichier.","error")}finally{f(!1)}},w=()=>{const _="data:text/csv;charset=utf-8,"+f0e.join(","),k=encodeURI(_),N=document.createElement("a");N.setAttribute("href",k),N.setAttribute("download","import_models_template.csv"),document.body.appendChild(N),N.click(),document.body.removeChild(N)},A=async()=>{if(d)return;const _=i.filter(k=>k.status==="valid").map(k=>k.data);if(_.length>0){p(!0);try{await e(_)}catch{h("L'importation a échoué.","error")}finally{p(!1)}}else h("Aucun modèle valide à importer.","info")},C=i.filter(_=>_.status==="valid").length,M=i.length-C;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(It,{title:"Importer des modèles",onBack:n}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Pour commencer, téléchargez notre modèle CSV pour vous assurer que vos données sont correctement formatées."}),c.jsxs("button",{onClick:w,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:r?r.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:x})]})})]})]}),u&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),i.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",C," modèle(s) prêt(s) à être importé(s), ",M," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Nom du modèle"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Marque"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((_,k)=>c.jsxs("tr",{className:_.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:_.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.name||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.brand||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:_.message||"-"})]},k))})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:A,disabled:C===0||u||d,loading:d,icon:"cloud_upload",children:d?"Importation...":`Importer ${C>0?`(${C})`:""} modèle(s)`})})})]})},p0e=({className:t})=>c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[c.jsx("path",{d:"M12 2L2 7V17L12 22L22 17V7L12 2Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M2 7L12 12L22 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M12 22V12",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M17 4.5L7 9.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})]}),h0e=({users:t,onLoginSuccess:e})=>{const[n,r]=j.useState(""),[a,i]=j.useState(""),[o,u]=j.useState(!1),[f,d]=j.useState(!1),[p,h]=j.useState(null),[y,x]=j.useState(!1),[T,w]=j.useState(!1),{addToast:A}=Wn(),C=j.useRef(null);j.useEffect(()=>{const k=localStorage.getItem("rememberedUser");k&&(r(k),u(!0))},[]);const M=k=>{k.preventDefault(),!f&&(d(!0),h(null),setTimeout(()=>{const N=n.toLowerCase(),I=t.find(P=>{var L;return((L=P.email)==null?void 0:L.toLowerCase())===N||P.name.toLowerCase()===N});I&&I.password===a?(o?localStorage.setItem("rememberedUser",n):localStorage.removeItem("rememberedUser"),A(`Bienvenue, ${I.name.split(" ")[0]} !`,"success"),e(I)):(A("Identifiant ou mot de passe incorrect.","error"),h("Identifiant ou mot de passe incorrect."),d(!1),w(!0),setTimeout(()=>w(!1),820))},500))},_=()=>{var k;x(!y),(k=C.current)==null||k.focus()};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 relative overflow-hidden",children:[c.jsxs("div",{"aria-hidden":"true",className:"absolute inset-0 z-0",children:[c.jsx("div",{className:"absolute -top-1/4 -left-1/4 size-[500px] bg-primary-200/50 dark:bg-primary-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob"}),c.jsx("div",{className:"absolute top-1/4 -right-1/4 size-[500px] bg-status-action-200/50 dark:bg-status-action-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000"}),c.jsx("div",{className:"absolute bottom-1/4 left-1/4 size-[500px] bg-status-info-200/50 dark:bg-status-info-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000"})]}),c.jsxs("div",{className:"relative z-10 flex min-h-screen",children:[c.jsx("div",{className:"hidden lg:flex flex-col items-center justify-center flex-1 bg-gray-50/80 dark:bg-gray-800/50 text-center p-12 backdrop-blur-sm",children:c.jsxs("div",{className:"relative z-10 flex flex-col items-center max-w-lg",children:[c.jsx(p0e,{className:"w-20 h-20 text-primary-500"}),c.jsx("h2",{className:"mt-6 text-4xl font-bold text-gray-800 dark:text-gray-100 tracking-tight",children:"Unlock Peak Efficiency."}),c.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-300",children:"Neemba Tracker provides a seamless, intuitive, and powerful way to manage your IT assets from assignment to retirement."}),c.jsxs("div",{className:"mt-12 w-full p-6 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:[c.jsx("blockquote",{className:"text-gray-700 dark:text-gray-300",children:c.jsx("p",{children:'"Cette plateforme a révolutionné notre façon de suivre nos équipements. Elle nous a fait gagner un temps précieux et a décuplé notre sens des responsabilités."'})}),c.jsx("figcaption",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"— A. Diop, Chef du service informatique chez TechCorp"})]})]})}),c.jsxs("main",{className:"flex flex-1 flex-col items-center justify-center p-4 lg:p-8 lg:bg-white lg:dark:bg-gray-900",children:[c.jsxs("div",{className:`w-full max-w-sm ${T?"animate-shake":""}`,children:[c.jsxs("header",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Bienvenue sur Neemba Tracker"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Connectez-vous pour gérer vos actifs"})]}),c.jsxs("form",{onSubmit:M,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"identifier",className:"sr-only",children:"Email ou Nom d'utilisateur"}),c.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"person"}),c.jsx("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"username",required:!0,value:n,className:"w-full h-14 appearance-none rounded-xl border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 pl-12 pr-4 text-gray-900 dark:text-gray-100 shadow-inner focus:border-primary-500 focus:ring-1 focus:ring-primary-500",placeholder:"Email ou Nom d'utilisateur",onChange:k=>r(k.target.value)})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),c.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"lock"}),c.jsx("input",{ref:C,id:"password",name:"password",type:y?"text":"password",autoComplete:"current-password",required:!0,value:a,onChange:k=>i(k.target.value),className:"w-full h-14 appearance-none rounded-xl border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 pl-12 pr-12 text-gray-900 dark:text-gray-100 shadow-inner focus:border-primary-500 focus:ring-1 focus:ring-primary-500",placeholder:"Mot de passe"}),c.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-4 flex items-center text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":y?"Masquer le mot de passe":"Afficher le mot de passe",children:c.jsx("span",{className:"material-symbols-outlined",children:y?"visibility_off":"visibility"})})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:k=>u(k.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:"remember-me",className:"text-gray-600 dark:text-gray-300 ml-2",children:"Se souvenir de moi"})]}),c.jsx("a",{href:"#",className:"font-semibold text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:"Mot de passe oublié"})]}),c.jsx(Re,{type:"submit",block:!0,disabled:!n||!a||f,loading:f,icon:"login",children:f?"Connexion...":"Se connecter"})]})]}),c.jsxs("footer",{className:"absolute bottom-4 text-center text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," Neemba Solutions. Tous droits réservés."]})]})]})]})},g0e=["type","name"],y0e=["type","name","parentName"],v0e=({countries:t,sites:e,onImport:n,onBack:r})=>{const[a,i]=j.useState(null),[o,u]=j.useState([]),[f,d]=j.useState(!1),[p,h]=j.useState(!1),{addToast:y}=Wn(),x=j.useMemo(()=>new Map(t.map(N=>[N.name.toLowerCase(),N])),[t]),T=j.useMemo(()=>new Map(e.map(N=>[N.name.toLowerCase(),N])),[e]),w=async N=>{var P;const I=(P=N.target.files)==null?void 0:P[0];I&&(i(I),await A(I))},A=async N=>{d(!0),u([]);try{const P=(await N.text()).split(`
`).filter(R=>R.trim()!=="");if(P.length<2){y("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error"),d(!1);return}const D=P.shift().trim().split(",").map(R=>R.trim()),q=g0e.filter(R=>!D.includes(R));if(q.length>0){y(`En-têtes manquants dans le CSV: ${q.join(", ")}`,"error"),d(!1);return}const U=P.map(R=>{var te;const B=R.split(","),G=D.reduce((re,$,z)=>{var H;return re[$]=((H=B[z])==null?void 0:H.trim())||"",re},{}),W=(te=G.type)==null?void 0:te.toLowerCase(),V=G.name,K=G.parentName,Y={type:W||"",name:V||"",parentName:K||""};if(!W||!V)return{status:"error",message:"`type` et `name` sont requis.",data:Y};switch(W){case"country":return x.has(V.toLowerCase())?{status:"error",message:`Le pays "${V}" existe déjà.`,data:Y}:{status:"valid",data:Y};case"site":if(!K)return{status:"error",message:"`parentName` est requis pour un site.",data:Y};const re=x.get(K.toLowerCase());return re?T.has(V.toLowerCase())?{status:"error",message:`Le site "${V}" existe déjà.`,data:Y}:{status:"valid",data:{...Y,parentId:re.id}}:{status:"error",message:`Pays parent "${K}" non trouvé.`,data:Y};case"department":if(!K)return{status:"error",message:"`parentName` est requis pour un service.",data:Y};const $=T.get(K.toLowerCase());return $?{status:"valid",data:{...Y,parentId:$.id}}:{status:"error",message:`Site parent "${K}" non trouvé.`,data:Y};default:return{status:"error",message:`Type invalide: "${G.type}". Doit être 'country', 'site', ou 'department'.`,data:Y}}});u(U)}catch(I){console.error("Error processing file:",I),y("Échec du traitement du fichier.","error")}finally{d(!1)}},C=()=>{const N="data:text/csv;charset=utf-8,"+y0e.join(","),I=encodeURI(N),P=document.createElement("a");P.setAttribute("href",I),P.setAttribute("download","import_locations_template.csv"),document.body.appendChild(P),P.click(),document.body.removeChild(P)},M=async()=>{if(p)return;const N=o.filter(I=>I.status==="valid").map(I=>I.data);if(N.length>0){h(!0);const I={countries:N.filter(P=>P.type==="country").map(({name:P})=>({name:P})),sites:N.filter(P=>P.type==="site").map(({name:P,parentId:L})=>({name:P,countryId:L})),departments:N.filter(P=>P.type==="department").map(({name:P,parentId:L})=>({name:P,siteId:L}))};try{await n(I)}catch{y("L'importation a échoué.","error"),h(!1)}}else y("Aucune localisation valide à importer.","info")},_=o.filter(N=>N.status==="valid").length,k=o.length-_;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(It,{title:"Importer des localisations",onBack:r}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Le fichier doit contenir les colonnes: ",c.jsx("code",{children:"type"})," (country, site, or department), ",c.jsx("code",{children:"name"}),", et ",c.jsx("code",{children:"parentName"})," (pour les sites et services)."]}),c.jsxs("button",{onClick:C,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:a?a.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:w})]})})]})]}),f&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),o.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",_," localisation(s) prête(s) à être importée(s), ",k," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Type"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Nom"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Parent"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:o.map((N,I)=>c.jsxs("tr",{className:N.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:N.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700 capitalize",children:N.data.type||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:N.data.name||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:N.data.parentName||"-"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:N.message||"-"})]},I))})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:M,disabled:_===0||f||p,loading:p,icon:"cloud_upload",children:p?"Importation...":`Importer ${_>0?`(${_})`:""} localisation(s)`})})})]})},Hd=({title:t,subtitle:e,sections:n})=>c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[c.jsx(It,{title:t,subtitle:e,onBack:()=>window.history.back()}),c.jsx("main",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6",children:n.map((r,a)=>c.jsxs("section",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm p-6 space-y-3",children:[r.title&&c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r.title}),r.description&&c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-3",children:r.content})]},r.title||a))})]}),x0e=()=>c.jsx(Hd,{title:"À propos de Neemba Tracker",subtitle:"Version 2.0 — Plateforme de gestion d'équipements",sections:[{title:"Notre mission",description:"Simplifier la gestion des équipements et améliorer la traçabilité des actifs dans les organisations africaines.",content:c.jsx("p",{children:"Neemba Tracker est une solution de suivi des équipements et des ressources humaines conçue pour offrir une expérience fluide sur desktop et mobile. Notre vision est de créer un écosystème unifié qui relie inventaire, maintenance, ressources humaines et analyse des données."})},{title:"Fonctionnalités clés",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Gestion complète du cycle de vie des équipements (assignation, retour, maintenance)."}),c.jsx("li",{children:"Workflows d'approbation multi-rôles et audit trail détaillé."}),c.jsx("li",{children:"Monitoring en temps réel avec dashboards interactifs."}),c.jsx("li",{children:"Support des politiques BYOD, enregistrement biométrique et authentification forte."})]})},{title:"Équipe produit",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Produit :"})," Neemba Tracker Core Team"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"UX Research & Design :"})," Studio Neemba"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Développement :"})," Windsurf Engineering (Silicon Valley) & Neemba Labs"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Support :"})," support@neemba.africa"]})]})}]}),b0e=()=>c.jsx(Hd,{title:"Notifications",subtitle:"Configurez comment et quand vous recevez les alertes",sections:[{title:"Canaux de communication",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Mobile push :"})," alertes en temps réel sur l'état des équipements et les tâches assignées."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," rapports quotidiens, synthèses hebdomadaires et alertes critiques."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"SMS :"})," notifications urgentes pour les incidents de sécurité ou d'infrastructure."]})]})},{title:"Priorités par défaut",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Critique :"})," incidents de sécurité, pannes majeures, tentatives d'accès non autorisées."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Important :"})," demandes d'approbation, retards de maintenance, tickets en attente."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Information :"})," assignations confirmées, retours complétés, nouveaux équipements ajoutés."]})]})},{title:"Astuce",description:"Utilisez la page Gestion > Automations pour créer des règles personnalisées.",content:c.jsx("p",{children:"Adaptez vos notifications par département, site ou catégorie d'équipement afin de réduire le bruit."})}]}),S0e=()=>c.jsx(Hd,{title:"Données et stockage",subtitle:"Contrôlez où et comment vos données sont stockées",sections:[{title:"Données synchronisées",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Inventaire : équipements, modèles, catégories et historique des mouvements."}),c.jsx("li",{children:"Utilisateurs : profils, rôles, authentification multi-facteurs."}),c.jsx("li",{children:"Audit : journaux d'activité, approbations, signatures."})]})},{title:"Politique de conservation",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Temps réel :"})," synchronisation instantanée entre devices et sites distants."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Archivage :"})," données inactives déplacées vers un stockage à froid après 12 mois."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Suppression :"})," les données supprimées sont purgées définitivement après 30 jours."]})]})},{title:"Chiffrement",content:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{children:"Les données sont chiffrées en transit (TLS 1.3) et au repos (AES-256)."}),c.jsx("p",{children:"Les clés privées sont gérées via un HSM régional certifié (niveau FIPS 140-2)."})]})}]}),w0e=()=>c.jsx(Hd,{title:"Aide et support",subtitle:"Ressources pour résoudre vos problèmes",sections:[{title:"Centre d'aide",content:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{children:"Consultez la base de connaissances en ligne pour obtenir des guides détaillés, des FAQ et des tutoriels vidéo."}),c.jsxs("p",{children:["Accédez-y depuis ",c.jsx("strong",{children:"support.neemba.africa/help"}),"."]})]})},{title:"Support technique",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:["Email : ",c.jsx("a",{href:"mailto:support@neemba.africa",className:"text-primary-600 dark:text-primary-300 underline",children:"support@neemba.africa"})]}),c.jsx("p",{children:"Hotline : +221 70 123 45 67 (Lun-Ven 8h-18h UTC)"}),c.jsx("p",{children:"Slack : #neemba-support (Enterprise)"})]})},{title:"Envoyer des commentaires",content:c.jsx("p",{children:"Partagez vos idées directement depuis l'application. Nous analysons chaque suggestion pour améliorer votre expérience."})}]}),A0e=()=>c.jsx(Hd,{title:"Nouveautés",subtitle:"Dernières améliorations de Neemba Tracker",sections:[{title:"Version 2.0",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Refonte complète du tableau de bord avec widgets dynamiques."}),c.jsx("li",{children:"Assignment Wizard unifié avec UI cohérente et validation multi-niveaux."}),c.jsx("li",{children:"Design system documenté avec couleurs, icônes et composants standardisés."})]})},{title:"Productivité",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Recherche intelligente (SmartSearch) sur Inventaire, Utilisateurs et Wizard."}),c.jsx("li",{children:"Actions rapides sur mobile avec PageHeaderActions et FAB harmonisés."}),c.jsx("li",{children:"Sheets paramétrables pour les paramètres et menus contextuels."})]})},{title:"À venir",content:c.jsx("p",{children:"Support de la maintenance prédictive, intégration IoT et reporting avancé piloté par IA sont en cours de développement."})}]}),T0e={it:{label:"Admin IT",icon:"shield_person",color:"text-blue-600 dark:text-blue-400",badge:"IT"},manager:{label:"Responsable",icon:"workspace_premium",color:"text-violet-600 dark:text-violet-400",badge:"Manager"},user:{label:"Utilisateur",icon:"person",color:"text-emerald-600 dark:text-emerald-400",badge:"Employé"}},E0e=({assignment:t,currentUser:e,userMap:n,manager:r,user:a,canManage:i,canAdminTriggerManager:o,canAdminTriggerUser:u,onActorClick:f})=>{const d=t.action===Ge.ASSIGN?["it","manager","user"]:["it","user","manager"],{validation:p,validatedBy:h,validatedAt:y}=t,x=p,T=h||{},w=y||{},A={it:e.role===_e.ADMIN&&!x.it,manager:(r.canAct||o)&&!x.manager,user:(a.canAct||u)&&!x.user},C=t.action===Ge.ASSIGN?{it:!1,manager:!x.it,user:!(x.it&&x.manager)}:{it:!1,user:!x.it,manager:!(x.it&&x.user)},M=(()=>{const _={it:!x.it&&e.role!==_e.ADMIN?"Action réservée à l’Admin IT":void 0};return t.action===Ge.ASSIGN?{..._,manager:!x.manager&&!(r.canAct||o)?"En attente de la validation IT":void 0,user:!x.user&&!(x.it&&x.manager)?"En attente de l’étape précédente":void 0}:{..._,user:!x.user&&!u?"En attente de la validation IT":void 0,manager:!x.manager&&!(x.it&&x.user)?"En attente de l’étape précédente":void 0}})();return c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsx("ol",{className:"grid grid-cols-1 gap-3 md:grid-cols-3 md:gap-4",children:d.map(_=>{var K,Y,te;const k=T0e[_],N=!!x[_],I=!N&&A[_]&&!C[_],P=!A[_]||C[_],L=T[_],D=L?(K=n.get(L))==null?void 0:K.name:void 0,q=w[_],U=q?new Date(q).toLocaleDateString():void 0,G=`flex items-center justify-between rounded-lg border p-3 md:p-4 transition-colors ${N?"bg-status-success-50/50 dark:bg-status-success-900/20 border-status-success-200 dark:border-status-success-700":I?"bg-blue-50/50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-gray-50/50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700"}`,W=c.jsx(c.Fragment,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${N?"bg-status-success-100 dark:bg-status-success-900/20":I?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-700"}`,children:c.jsx("span",{className:`material-symbols-outlined ${N?"text-status-success-600 dark:text-status-success-400":I?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:N?"check_circle":k.icon})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:k.label}),k.badge&&c.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-[10px] font-semibold text-gray-600 dark:bg-gray-700 dark:text-gray-300",children:k.badge}),N&&L&&((Y=n.get(L))==null?void 0:Y.avatarUrl)&&c.jsx("img",{alt:((te=n.get(L))==null?void 0:te.name)||"",src:n.get(L).avatarUrl,className:"ml-1 h-4 w-4 rounded-full object-cover"})]}),c.jsx("p",{className:`text-xs font-medium ${N?"text-status-success-700 dark:text-status-success-400":I?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`,children:N?D?`Validé par ${D}${U?` le ${U}`:""}`:"Validé":C[_]?"En attente":A[_]?"Action requise":"En attente"})]})]})}),V=A[_]&&!P?c.jsx("div",{role:"button",tabIndex:0,onClick:()=>f(_),onKeyDown:re=>{(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),f(_))},className:`${G} cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500`,children:W}):c.jsx("div",{className:G,children:W});return c.jsx("li",{children:M[_]?c.jsxs("div",{className:"group relative",children:[V,c.jsx("div",{className:"absolute hidden md:block left-1/2 -translate-x-1/2 mt-2 whitespace-nowrap rounded-md bg-gray-800 px-3 py-1.5 text-center text-xs font-semibold text-white group-hover:block z-40",children:M[_]})]}):V},_)})})})},N0e=({action:t,status:e})=>{if(e===Ut.REJECTED)return c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400",children:"block"})});const n=t===Ge.ASSIGN,r=n?"person_add":"undo",a=n?"bg-primary-100 dark:bg-primary-900/50":"bg-orange-100 dark:bg-orange-900/50",i=n?"text-primary-600 dark:text-primary-400":"text-orange-600 dark:text-orange-400";return c.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${a}`,children:c.jsx("span",{className:`material-symbols-outlined ${i}`,children:r})})},_0e={name:"Nom AD",assetTag:"N° de série",purchaseDate:"Date d'achat",warrantyEndDate:"Fin de garantie",status:"Statut",siteId:"Site",departmentId:"Service",os:"OS",ram:"RAM",storage:"Disque dur",notes:"Observations",operationalStatus:"Statut Opérationnel"},lq=(t,e,n,r)=>{var a,i;return e==null||e===""?"Vide":t==="siteId"?((a=n.find(o=>o.id===e))==null?void 0:a.name)||e:t==="departmentId"?((i=r.find(o=>o.id===e))==null?void 0:i.name)||e:String(e)},C0e=({change:t,sites:e,departments:n})=>{const r=_0e[t.field]||t.field,a=lq(t.field,t.oldValue,e,n),i=lq(t.field,t.newValue,e,n);return c.jsxs("li",{className:"text-xs text-gray-600 dark:text-gray-400 pl-4",children:[c.jsxs("span",{className:"font-semibold",children:[r,":"]})," de ",c.jsxs("span",{className:"italic",children:['"',a,'"']})," à ",c.jsxs("span",{className:"italic",children:['"',i,'"']})]})},j0e=({equipment:t,assignments:e,users:n,currentUser:r,models:a,categories:i,editHistory:o,sites:u,departments:f,onBack:d,onEdit:p,onDelete:h,onApprove:y,onReject:x})=>{var Te,je,me,Ne;const[T,w]=j.useState("details"),[A,C]=j.useState(!1),[M,_]=j.useState(null),[k,N]=j.useState(null),[I,P]=j.useState(null),[L,D]=j.useState(null),q=a.find(de=>de.id===t.modelId),U=q?i.find(de=>de.id===q.categoryId):null,R=new Map(n.map(de=>[de.id,de])),B=[...e].sort((de,ie)=>new Date(ie.date).getTime()-new Date(de.date).getTime()),G=B.find(de=>de.status===Ut.APPROVED),W=t.status===qe.ASSIGNED&&G?n.find(de=>de.id===G.userId):null,V=t.status===qe.PENDING_VALIDATION&&t.pendingAssignmentId?e.find(de=>de.id===t.pendingAssignmentId):null,K=j.useMemo(()=>{if(!V||!V.validation)return!1;const de=V,ie=de.validation,Oe=de.action===Ge.ASSIGN;if(r.role===_e.ADMIN&&!ie.it)return!0;if(Oe){if(r.id===de.managerId&&!ie.manager&&ie.it||r.id===de.userId&&ie.it&&ie.manager&&!ie.user)return!0}else if(r.id===de.userId&&ie.it&&!ie.user||r.id===de.managerId&&ie.it&&ie.user&&!ie.manager)return!0;return!1},[V,r]),Y=r.role===_e.ADMIN||r.role===_e.MANAGER,te=j.useMemo(()=>{const de={manager:{canAct:!1,highlight:!1},user:{canAct:!1,highlight:!1}};if(!V||!V.validation)return de;const ie=V.validation,Oe=V.action===Ge.ASSIGN,X=V.managerId===r.id||Y,ve=!!ie.manager,pe=Oe?ie.it:ie.it&&ie.user,Le=X&&!ve&&pe,Qe=Le&&V.managerId===r.id,lt=V.userId===r.id||Y,ut=!!ie.user,Bt=Oe?ie.it&&ie.manager:ie.it,Ht=lt&&!ut&&Bt,Mn=Ht&&V.userId===r.id;return{manager:{canAct:Le,highlight:Qe},user:{canAct:Ht,highlight:Mn}}},[V,r,Y]);j.useMemo(()=>{var de;return V?r.role===_e.ADMIN&&!((de=V.validation)!=null&&de.it)?"it":r.id===V.managerId?"manager":r.id===V.userId?"user":te.manager.canAct?"manager":te.user.canAct?"user":null:null},[V,r,te]);const re=j.useMemo(()=>{const de=B.map(Oe=>({type:"assignment",date:new Date(Oe.date),data:Oe})),ie=o.filter(Oe=>Oe.entityType==="equipment"&&Oe.entityId===t.id).map(Oe=>({type:"edit",date:new Date(Oe.timestamp),data:Oe}));return[...de,...ie].sort((Oe,X)=>X.date.getTime()-Oe.date.getTime())},[B,o,t.id]),$=t.status!==qe.ASSIGNED&&t.status!==qe.PENDING_VALIDATION,z=[];t.status===qe.AVAILABLE&&z.push({label:"Attribuer",icon:"person_add",onClick:()=>window.location.hash=`#/assign/equipment/${t.id}`,disabled:r.role!==_e.ADMIN,title:r.role!==_e.ADMIN?"Seuls les administrateurs peuvent effectuer cette action.":void 0}),t.status===qe.ASSIGNED&&z.push({label:"Retourner",icon:"undo",onClick:()=>window.location.hash=`#/return/equipment/${t.id}`,disabled:r.role!==_e.ADMIN,title:r.role!==_e.ADMIN?"Seuls les administrateurs peuvent effectuer cette action.":void 0}),Y&&(z.push({label:"Modifier",icon:"edit",onClick:()=>p(t.id)}),z.push({label:"Supprimer",icon:"delete",onClick:()=>C(!0),isDestructive:!0,disabled:!$,title:$?"Supprimer l'équipement":"L'équipement attribué ou en attente ne peut être supprimé."}));const H=[{id:"details",label:"Détails",icon:"info"},{id:"history",label:"Historique",icon:"history"}],Q=[{label:"Statut",value:t.status,description:W?`Attribué à ${W.name}`:"Aucun utilisateur assigné"},{label:"Dernière activité",value:G?new Date(G.date).toLocaleDateString():"N/A",description:G?G.action:"Aucune action"}],se=((Te=u.find(de=>de.id===t.siteId))==null?void 0:Te.name)||"Non défini",we=((je=f.find(de=>de.id===t.departmentId))==null?void 0:je.name)||"Non défini";return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722] text-gray-900 dark:text-gray-100",children:[c.jsx(It,{title:(q==null?void 0:q.name)||"Détails",onBack:d,children:z.length>0&&c.jsx(ba,{actions:z})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-36",children:[c.jsxs(He.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"mx-4 mt-4 mb-6 rounded-3xl border border-white/60 dark:border-white/10 bg-white/85 dark:bg-secondary-900/60 shadow-[var(--shadow-elev-2)] overflow-hidden",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"aspect-[16/9] w-full overflow-hidden bg-secondary-100/40 dark:bg-secondary-900/40",children:c.jsx("img",{alt:q==null?void 0:q.name,className:"h-full w-full object-cover",src:(q==null?void 0:q.imageUrl)||"https://placehold.co/600x400/e2e8f0/a0aec0/png"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),c.jsx("div",{className:"absolute inset-0 flex flex-col justify-center p-6 text-white",children:c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/70",children:(U==null?void 0:U.name)||"Non catégorisé"}),c.jsx("h1",{className:"mt-1 text-3xl font-semibold text-white tracking-tight",children:c.jsx("button",{onClick:()=>q&&(window.location.hash=`#/models/${q.id}`),className:"text-left hover:underline",children:(q==null?void 0:q.name)||"Modèle inconnu"})}),c.jsxs("p",{className:"text-sm text-white/75",children:["N/S: ",t.assetTag]})]}),c.jsx("div",{className:"flex gap-3",children:Q.map(de=>c.jsxs("div",{className:"rounded-2xl border border-white/40 bg-white/15 px-4 py-3 backdrop-blur",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/70",children:de.label}),c.jsx("p",{className:"mt-1 text-lg font-semibold",children:de.value}),c.jsx("p",{className:"text-xs text-white/70",children:de.description})]},de.label))})]})})]}),c.jsx("div",{className:"p-5",children:c.jsxs("div",{className:"rounded-2xl border border-white/60 dark:border-secondary-800/60 bg-white/90 dark:bg-secondary-900/40 p-4 flex items-center gap-4 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-2xl bg-secondary-100/70 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-200",children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"location_on"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-secondary-500 dark:text-secondary-300",children:"Site & service"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:se}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:we})]})]})})]}),V&&V.validation&&c.jsx("div",{className:"px-4 pt-4",children:c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-5 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"rule"}),"Validation en attente"]}),K?c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 mb-4",children:["Votre approbation est requise pour cette demande de ",V.action===Ge.ASSIGN?"dotation":"restitution","."]}):c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 mb-4",children:"Une action est requise par un autre utilisateur."}),(()=>{const de=V.action===Ge.ASSIGN,ie=V.validation,Oe=de?Y&&!ie.manager&&ie.it:Y&&!ie.manager&&ie.it&&ie.user,X=de?Y&&!ie.user&&ie.manager&&ie.it:Y&&!ie.user&&ie.it;return c.jsx(E0e,{assignment:V,currentUser:r,userMap:R,manager:te.manager,user:te.user,canManage:Y,canAdminTriggerManager:Oe,canAdminTriggerUser:X,onActorClick:ve=>{P(ve),D(V)}})})()]})}),c.jsx(f3,{tabs:H,activeTab:T,onTabClick:de=>w(de)}),T==="details"&&c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs(Zo,{title:"Spécifications",icon:"list_alt",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(rr,{label:"Marque",value:q==null?void 0:q.brand}),c.jsx(rr,{label:"Numéro de modèle",value:q==null?void 0:q.modelNumber}),c.jsx(rr,{label:"Système d'exploitation",value:t.os}),c.jsx(rr,{label:"RAM",value:t.ram}),c.jsx(rr,{label:"Stockage",value:t.storage})]}),c.jsxs(Zo,{title:"Acquisition & Garantie",icon:"receipt_long",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(rr,{label:"Date d'achat",value:t.purchaseDate?new Date(t.purchaseDate).toLocaleDateString():void 0}),c.jsx(rr,{label:"Début de la garantie",value:t.warrantyStartDate?new Date(t.warrantyStartDate).toLocaleDateString():void 0}),c.jsx(rr,{label:"Fin de la garantie",value:t.warrantyEndDate?new Date(t.warrantyEndDate).toLocaleDateString():void 0})]}),c.jsxs(Zo,{title:"Localisation",icon:"pin_drop",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(rr,{label:"Site",value:(me=u.find(de=>de.id===t.siteId))==null?void 0:me.name}),c.jsx(rr,{label:"Service / Département",value:(Ne=f.find(de=>de.id===t.departmentId))==null?void 0:Ne.name})]}),c.jsxs(Zo,{title:"Sécurité & Agents",icon:"security",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(rr,{label:"Statut Opérationnel",value:t.operationalStatus}),c.jsx(rr,{label:"Agent SentinelOne",value:t.agentS1}),c.jsx(rr,{label:"Agent Matrix42",value:t.agentM42}),c.jsx(rr,{label:"Agent ManageEngine",value:t.agentME})]}),t.notes&&c.jsx(Zo,{title:"Observations",icon:"notes",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:c.jsx("p",{className:"sm:col-span-2 text-base text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:t.notes})})]}),T==="history"&&c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-5 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"timeline"}),"Historique complet"]}),re.length>0?c.jsxs("div",{className:"relative pl-8",children:[c.jsx("div",{className:"absolute left-4 top-2 -ml-px h-[calc(100%-1rem)] w-0.5 bg-secondary-200 dark:bg-secondary-800","aria-hidden":"true"}),c.jsx("ul",{className:"space-y-8",children:re.map(de=>{var ie,Oe;return c.jsxs("li",{className:"relative",children:[c.jsx("div",{className:"absolute -left-[38px] top-0",children:de.type==="assignment"?c.jsx(N0e,{action:de.data.action,status:de.data.status}):c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-400",children:"edit_note"})})}),c.jsx("div",{className:"ml-6 rounded-2xl border border-secondary-100/60 dark:border-secondary-800/60 bg-white/95 dark:bg-secondary-900/40 p-4",children:de.type==="assignment"?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:de.data.action}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:[de.data.action===Ge.ASSIGN?"Pour":"Par"," ",((ie=R.get(de.data.userId))==null?void 0:ie.name)||"Utilisateur inconnu"]}),c.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:new Date(de.data.date).toLocaleDateString()}),de.data.status===Ut.REJECTED&&de.data.rejectionReason&&c.jsxs("p",{className:"text-xs text-status-danger-600 dark:text-status-danger-400 italic mt-1",children:['Rejeté: "',de.data.rejectionReason,'"']})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Modification de l'équipement"}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:["Par ",((Oe=R.get(de.data.userId))==null?void 0:Oe.name)||"Utilisateur inconnu"]}),c.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:new Date(de.data.timestamp).toLocaleString()}),c.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1 text-sm text-secondary-600 dark:text-secondary-300",children:de.data.changes.map((X,ve)=>c.jsx(C0e,{change:X,sites:u,departments:f},ve))})]})})]},`${de.type}-${de.data.id}`)})})]}):c.jsx("p",{className:"text-center text-secondary-600 dark:text-secondary-300 py-4",children:"Aucun historique trouvé pour cet équipement."})]})})]}),c.jsx(ii,{isOpen:A,onClose:()=>C(!1),onConfirm:()=>{h(t.id),C(!1)},title:`Supprimer "${(q==null?void 0:q.name)||t.assetTag}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet équipement ? Cette action est irréversible."})}),M&&c.jsx(y5,{isOpen:!!M,onClose:()=>_(null),onConfirm:de=>{x(M.id,de),_(null)}}),L&&c.jsx(kw,{isOpen:!!L,onClose:()=>D(null),title:"Choisir une action",primaryButtonText:"Valider",onPrimaryClick:()=>{L&&(N(L),D(null))},secondaryButtonText:"Rejeter",onSecondaryClick:()=>{L&&(_(L),D(null))},icon:"rule",iconBgColor:"bg-primary-100",iconColor:"text-primary-600",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Souhaitez-vous valider ou rejeter cette étape de validation ?"})}),k&&c.jsx(v5,{isOpen:!!k,onClose:()=>{N(null),P(null)},onConfirm:()=>{if(!k)return;const de=I??(k.managerId===r.id?"manager":k.userId===r.id?"user":void 0);y(k.id,de??void 0),N(null),P(null)},assignment:k,equipment:{...t,model:q,category:U},userToValidate:!I||!k?r:I==="manager"?n.find(de=>de.id===k.managerId)||r:I==="it"?r:n.find(de=>de.id===k.userId)||r,actorLabel:I==="manager"?"Responsable":I==="user"?"Utilisateur":I==="it"?"Admin IT":void 0,instructions:I==="manager"?"Confirmez l’attribution ou la restitution en tant que responsable.":I==="user"?"Confirmez la réception ou la restitution en tant qu’utilisateur.":I==="it"?"Confirmez l’opération en tant qu’administrateur IT.":void 0})]})},M0e=({assignments:t,equipmentList:e,users:n,currentUser:r,models:a,categories:i,editHistory:o,sites:u,departments:f,onBack:d,onEdit:p,onDelete:h,onApprove:y,onReject:x})=>{const{id:T}=$r(),w=e.find(C=>C.id===T);if(!w)return c.jsx("h2",{children:"Équipement non trouvé"});const A=t.filter(C=>C.equipmentId===w.id);return c.jsx(j0e,{equipment:w,assignments:A,users:n,currentUser:r,models:a,categories:i,editHistory:o,sites:u,departments:f,onBack:d,onEdit:p,onDelete:h,onApprove:y,onReject:x})},uq=({iconName:t})=>c.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-600",children:t||"device_unknown"}),k0e={name:"Nom complet",role:"Rôle",department:"Département",email:"E-mail",managerId:"Responsable"},cq=(t,e,n)=>{var r;return e==null||e===""?"Vide":t==="managerId"?((r=n.find(a=>a.id===e))==null?void 0:r.name)||e:String(e)},I0e=({change:t,allUsers:e})=>{const n=k0e[t.field]||t.field,r=cq(t.field,t.oldValue,e),a=cq(t.field,t.newValue,e);return c.jsxs("li",{className:"text-xs text-gray-600 pl-4",children:[c.jsxs("span",{className:"font-semibold",children:[n,":"]})," de ",c.jsxs("span",{className:"italic",children:['"',r,'"']})," à ",c.jsxs("span",{className:"italic",children:['"',a,'"']})]})},P0e=({user:t,assignments:e,equipment:n,models:r,categories:a,manager:i,allUsers:o,editHistory:u,onBack:f,currentUser:d,onEdit:p,onDelete:h,onManagePassword:y,onManagePin:x,onRegisterFingerprint:T})=>{const[w,A]=j.useState("details"),[C,M]=j.useState(!1),_=new Map(n.map($=>[$.id,$])),k=new Map(r.map($=>[$.id,$])),N=new Map(a.map($=>[$.id,$])),I=new Map(o.map($=>[$.id,$])),P=new Map,L=e.filter($=>$.userId===t.id);for(const $ of L){const z=P.get($.equipmentId);(!z||new Date($.date)>new Date(z.date))&&P.set($.equipmentId,$)}const D=Array.from(P.values()).filter($=>$.action===Ge.ASSIGN&&$.status===Ut.APPROVED).map($=>_.get($.equipmentId)).filter($=>$!==void 0),q=[...L].sort(($,z)=>new Date(z.date).getTime()-new Date($.date).getTime()),U=u.filter($=>$.entityType==="user"&&$.entityId===t.id),R=d.role===_e.ADMIN&&t.id!==d.id,B=d.role===_e.ADMIN||d.role===_e.MANAGER&&t.managerId===d.id,G=[];R&&(G.push({label:"Attribuer un équipement",icon:"add_circle",onClick:()=>window.location.hash=`#/assign/user/${t.id}`}),G.push({label:"Modifier",icon:"edit",onClick:()=>p(t.id)}),G.push({label:"Supprimer",icon:"delete",onClick:()=>M(!0),isDestructive:!0}));const W=[{id:"details",label:"Détails",icon:"person"},{id:"equipment",label:"Équipement",icon:"devices"},{id:"history",label:"Historique",icon:"history"}],V=d.role===_e.ADMIN,K=!!t.email,Y=t.email??"Adresse e-mail non renseignée";j.useMemo(()=>{switch(t.role){case _e.ADMIN:return"Administrateur";case _e.MANAGER:return"Responsable";case _e.EMPLOYEE:return"Employé";default:return"Collaborateur"}},[t.role]);const te=q[0],re=L.filter($=>{if($.status===Ut.REJECTED||$.status===Ut.APPROVED)return!1;if($.status===Ut.PENDING)return!0;if(!$.validation)return!1;const{manager:z,user:H,it:Q}=$.validation;return!z||!H||!Q}).length;return`${D.length}`,D.length>1,`${L.length}`,L.length>1,te&&`${new Date(te.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}`,te&&(te.action,Ge.ASSIGN),`${re}`,re>1,c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722] text-gray-900 dark:text-gray-100",children:[c.jsx(It,{title:t.name,onBack:f,children:G.length>0&&c.jsx(ba,{actions:G})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-36",children:[c.jsx(He.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"mx-4 mt-4 mb-6 rounded-3xl border border-white/60 dark:border-white/10 bg-white/90 dark:bg-secondary-900/60 shadow-[var(--shadow-elev-2)] px-6 py-8",children:c.jsxs("div",{className:"flex flex-col items-center text-center gap-5",children:[c.jsx("div",{className:"h-28 w-28 rounded-full bg-gradient-to-br from-secondary-100 via-white to-white dark:from-secondary-900/50 dark:via-secondary-900/30 dark:to-secondary-900/20 shadow-[var(--shadow-elev-2)] ring-4 ring-white/70 dark:ring-secondary-900/40 overflow-hidden",children:c.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-full w-full object-cover"})}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[c.jsx("h1",{className:"text-3xl font-semibold text-gray-900 dark:text-gray-50 tracking-tight",children:t.name}),c.jsx(E5,{role:t.role})]}),K?c.jsx("a",{href:`mailto:${t.email}`,className:"text-sm text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors",children:Y}):c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:Y}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-xs",children:[t.employeeId&&c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-secondary-100 dark:bg-secondary-800/60 px-3 py-1 text-secondary-700 dark:text-secondary-200 font-medium",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"badge"}),"ID ",t.employeeId]}),t.department&&c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-secondary-100 dark:bg-secondary-800/60 px-3 py-1 text-secondary-700 dark:text-secondary-200 font-medium",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"apartment"}),t.department]}),i&&c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-secondary-100 dark:bg-secondary-800/60 px-3 py-1 text-secondary-700 dark:text-secondary-200 font-medium",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"supervisor_account"}),i.name]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-4 border-t border-secondary-200 dark:border-secondary-700 w-full max-w-lg",children:[c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:D.length}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:["Équipement",D.length>1?"s":""]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:te?new Date(te.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}):"—"}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:"Dernière activité"})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:re}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:"En attente"})]})]})]})}),c.jsx(f3,{tabs:W,activeTab:w,onTabClick:$=>A($)}),w==="details"&&c.jsx("div",{className:"space-y-6 p-4",children:(V||d.id===t.id)&&c.jsx(Zo,{title:"Sécurité",icon:"security",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60 col-span-full",children:c.jsxs("div",{className:"sm:col-span-2 space-y-4",children:[c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:["Gérer les méthodes d'authentification pour ",t.name.split(" ")[0],"."]}),c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-secondary-100/70 dark:border-secondary-800/60 bg-white/90 dark:bg-secondary-900/40 p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"password"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Mot de passe"}),c.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:t.password?"Un mot de passe a été défini.":"Aucun mot de passe défini."})]})]}),c.jsx(Re,{onClick:()=>y(t.id),children:t.password?"Modifier":"Créer"})]}),c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-secondary-100/70 dark:border-secondary-800/60 bg-white/90 dark:bg-secondary-900/40 p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"pin"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Code PIN"}),c.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:t.pin?"Un code PIN a été défini.":"Aucun code PIN défini."})]})]}),c.jsx(Re,{onClick:()=>x(t.id),children:t.pin?"Modifier":"Créer"})]}),V&&c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-secondary-100/70 dark:border-secondary-800/60 bg-white/90 dark:bg-secondary-900/40 p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ks,{className:"text-secondary-500 dark:text-secondary-300"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Empreinte digitale"}),c.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:t.webauthnCredentialId?"Une empreinte est enregistrée.":"Aucune empreinte enregistrée."})]})]}),c.jsx(Re,{onClick:()=>T(t.id),children:t.webauthnCredentialId?"Gérer":"Enregistrer"})]})]})})}),w==="equipment"&&c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-5 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"inventory_2"}),"Équipement attribué"]}),D.length>0?c.jsx("div",{className:"space-y-3",children:D.map($=>{const z=k.get($.modelId),H=z?N.get(z.categoryId):void 0;return c.jsxs("div",{className:"flex items-center gap-4 rounded-2xl border border-secondary-100/70 dark:border-secondary-800/60 bg-white/95 dark:bg-secondary-900/40 p-3 transition-all hover:-translate-y-0.5 hover:shadow-[var(--shadow-elev-2)]",children:[c.jsxs("button",{type:"button",className:"flex flex-1 items-center gap-4 text-left",onClick:()=>window.location.hash=`#/equipment/${$.id}`,children:[c.jsx("div",{className:"flex size-12 items-center justify-center rounded-xl bg-secondary-100/70 dark:bg-secondary-900/50 text-secondary-700 dark:text-secondary-200",children:c.jsx(uq,{iconName:H==null?void 0:H.icon})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:(z==null?void 0:z.name)||"Modèle inconnu"}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:["N/S: ",$.assetTag]})]})]}),B&&c.jsx(Re,{variant:"secondary",size:"sm",icon:"undo",onClick:Q=>{Q.stopPropagation(),window.location.hash=`#/return/equipment/${$.id}`},children:"Retour"})]},$.id)})}):c.jsx("p",{className:"text-secondary-600 dark:text-secondary-300 text-center py-2",children:"Aucun équipement attribué actuellement."})]})}),w==="history"&&c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-primary-100 dark:bg-primary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-400",children:"history"})}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Historique des équipements"})]}),q.length>0?c.jsxs("div",{className:"relative space-y-4",children:[c.jsx("div",{className:"absolute left-5 top-4 bottom-4 w-0.5 bg-gradient-to-b from-primary-200/50 via-secondary-200/30 to-transparent dark:from-primary-500/30 dark:via-secondary-500/20 dark:to-transparent rounded-full"}),q.map($=>{const z=_.get($.equipmentId);if(!z)return null;const H=k.get(z.modelId),Q=H?N.get(H.categoryId):void 0,se=$.action===Ge.RETURN;return c.jsxs("div",{className:"relative flex items-start gap-4 group",children:[c.jsx("div",{className:`relative z-10 flex size-12 items-center justify-center rounded-xl shadow-[var(--shadow-elev-1)] transition-transform duration-300 group-hover:scale-105 ${se?"bg-status-warning-100/90 dark:bg-status-warning-900/60":"bg-primary-100/90 dark:bg-primary-900/60"}`,children:c.jsx(uq,{iconName:Q==null?void 0:Q.icon})}),c.jsxs("div",{className:"flex-1 rounded-2xl border border-white/40 dark:border-secondary-700/60 bg-white/80 dark:bg-secondary-900/60 backdrop-blur-sm p-4 shadow-sm transition-all duration-300 group-hover:shadow-[var(--shadow-elev-1)] group-hover:-translate-y-0.5",children:[c.jsx("p",{className:`text-sm font-bold ${se&&$.status!==Ut.REJECTED?"text-secondary-500 dark:text-secondary-400 line-through":"text-gray-900 dark:text-gray-100"}`,children:(H==null?void 0:H.name)||"Modèle inconnu"}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1.5 flex items-center gap-2",children:[$.status===Ut.REJECTED?c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-status-danger-100 dark:bg-status-danger-900/50 text-status-danger-700 dark:text-status-danger-300 font-semibold text-xs",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"cancel"}),"Rejetée"]}):c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full font-semibold text-xs ${se?"bg-status-warning-100 dark:bg-status-warning-900/50 text-status-warning-700 dark:text-status-warning-300":"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300"}`,children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:se?"undo":"check_circle"}),$.action]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"schedule"}),new Date($.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]})]}),$.status===Ut.REJECTED&&$.rejectionReason&&c.jsx("div",{className:"mt-2 p-2 rounded-lg bg-status-danger-50/50 dark:bg-status-danger-900/20 border border-status-danger-200/50 dark:border-status-danger-700/50",children:c.jsxs("p",{className:"text-xs text-status-danger-700 dark:text-status-danger-300 italic flex items-start gap-1",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs mt-0.5",children:"info"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Raison :"}),' "',$.rejectionReason,'"']})]})})]})]},$.id)})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"inventory_2"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun historique"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Les équipements attribués apparaîtront ici"})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-secondary-100 dark:bg-secondary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"edit_note"})}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Historique des modifications"})]}),U.length>0?c.jsxs("div",{className:"relative space-y-4",children:[c.jsx("div",{className:"absolute left-5 top-4 bottom-4 w-0.5 bg-gradient-to-b from-secondary-200/50 via-gray-200/30 to-transparent dark:from-secondary-500/30 dark:via-gray-500/20 dark:to-transparent rounded-full"}),U.map($=>{const z=I.get($.userId);return c.jsxs("div",{className:"relative flex items-start gap-4 group",children:[c.jsx("div",{className:"relative z-10 flex size-12 items-center justify-center rounded-full shadow-[var(--shadow-elev-1)] ring-4 ring-white dark:ring-gray-800 transition-transform duration-300 group-hover:scale-105",children:c.jsx("img",{src:z==null?void 0:z.avatarUrl,alt:z==null?void 0:z.name,className:"size-12 rounded-full object-cover"})}),c.jsxs("div",{className:"flex-grow rounded-2xl border border-white/40 dark:border-secondary-700/60 bg-white/80 dark:bg-secondary-900/60 backdrop-blur-sm p-4 shadow-sm transition-all duration-300 group-hover:shadow-[var(--shadow-elev-1)] group-hover:-translate-y-0.5",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:["Modifié par ",(z==null?void 0:z.name)||"Utilisateur inconnu"]}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mb-3 flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"schedule"}),new Date($.timestamp).toLocaleString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),c.jsx("ul",{className:"space-y-2",children:$.changes.map((H,Q)=>c.jsx(I0e,{change:H,allUsers:o},Q))})]})]},$.id)})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"edit_off"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucune modification"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"L'historique des changements apparaîtra ici"})]})]})]})]}),c.jsx(ii,{isOpen:C,onClose:()=>M(!1),onConfirm:()=>{h(t.id),M(!1)},title:`Supprimer "${t.name}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."})})]})},O0e=({assignments:t,equipment:e,users:n,models:r,categories:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onManagePassword:d,onManagePin:p,onRegisterFingerprint:h,editHistory:y})=>{const{id:x}=$r(),T=n.find(A=>A.id===x);if(!T)return c.jsx("h2",{children:"Utilisateur non trouvé"});const w=n.find(A=>A.id===T.managerId);return c.jsx(P0e,{user:T,assignments:t,equipment:e,models:r,categories:a,manager:w,allUsers:n,editHistory:y,onBack:o,currentUser:i,onEdit:u,onDelete:f,onManagePassword:d,onManagePin:p,onRegisterFingerprint:h})},R0e=({category:t,models:e,equipment:n,currentUser:r,onBack:a,onEdit:i,onDelete:o,onSelectEquipment:u,onSelectModel:f})=>{const[d,p]=j.useState(!1),h=[{label:"Modifier",icon:"edit",onClick:()=>i(t.id)},{label:"Supprimer",icon:"delete",onClick:()=>p(!0),isDestructive:!0}];return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(It,{title:t.name,onBack:a,children:r.role===_e.ADMIN&&c.jsx(ba,{actions:h})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-24 md:pb-4",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("div",{className:"aspect-[16/9] w-full bg-gradient-to-br from-primary-100 via-primary-50 to-amber-50 dark:from-gray-800 dark:via-gray-850 dark:to-gray-900",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"material-symbols-outlined text-primary-300/20 dark:text-primary-400/10",style:{fontSize:"14rem"},children:t.icon||"devices"})})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/85 via-black/50 to-black/20"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 pb-8",children:[c.jsx("p",{className:"text-sm font-semibold text-white uppercase tracking-wide mb-2 drop-shadow-lg",children:"Catégorie d'équipement"}),c.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-[0_2px_10px_rgba(0,0,0,0.9)]",children:t.name})]})]}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/50 dark:to-blue-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-blue-600 dark:text-blue-300",children:"category"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Modèles"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.length})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900/50 dark:to-green-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-green-600 dark:text-green-300",children:"devices"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Équipements"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:n.length})]})]})]})}),c.jsxs("div",{className:"space-y-6 px-4",children:[t.description&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-secondary-100 dark:bg-secondary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"description"})}),c.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Description"})]}),c.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300",children:t.description})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-blue-100 dark:bg-blue-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",children:"category"})}),c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Modèles (",e.length,")"]})]}),r.role===_e.ADMIN&&c.jsx(Re,{variant:"ghost",size:"sm",icon:"add_box",className:"text-primary-700 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/30",onClick:()=>window.location.hash=`#/models/new?categoryId=${t.id}`,children:"Ajouter"})]}),c.jsx("div",{className:"space-y-2 -mx-2",children:e.length>0?e.map(y=>c.jsxs("button",{onClick:()=>f(y.id),className:"w-full group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/60 dark:hover:bg-gray-800/60 hover:shadow-sm hover:-translate-y-0.5 cursor-pointer",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:y.name}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.brand})]}),c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},y.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"category"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun modèle"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Ajoutez des modèles à cette catégorie"})]})})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-green-100 dark:bg-green-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400",children:"devices"})}),c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Équipement (",n.length,")"]})]}),c.jsx("div",{className:"space-y-2 -mx-2",children:n.length>0?n.map(y=>c.jsxs("button",{onClick:()=>u(y.id),className:"w-full group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/60 dark:hover:bg-gray-800/60 hover:shadow-sm hover:-translate-y-0.5 cursor-pointer",children:[c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:y.name||y.assetTag}),c.jsx("div",{className:"mt-1.5",children:c.jsx(w5,{status:y.status})})]}),c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},y.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"devices_other"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun équipement"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Les équipements de cette catégorie apparaîtront ici"})]})})]})]})]}),c.jsx(ii,{isOpen:d,onClose:()=>p(!1),onConfirm:()=>{o(t.id),p(!1)},title:`Supprimer "${t.name}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette catégorie ? Tous les modèles et équipements associés devront être réassignés."})})]})},D0e=({categories:t,models:e,equipment:n,users:r,currentUser:a,onBack:i,onEdit:o,onDelete:u,onSelectEquipment:f,onSelectModel:d})=>{const{id:p}=$r(),h=t.find(T=>T.id===p);if(!h)return c.jsx("h2",{children:"Catégorie non trouvée"});const y=e.filter(T=>T.categoryId===h.id),x=n.filter(T=>y.some(w=>w.id===T.modelId));return c.jsx(R0e,{category:h,models:y,equipment:x,users:r,currentUser:a,onBack:i,onEdit:o,onDelete:u,onSelectEquipment:f,onSelectModel:d})},L0e=({model:t,category:e,equipmentItems:n,assignments:r,users:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onSelectEquipment:d})=>{const[p,h]=j.useState(!1),y=[{label:"Modifier",icon:"edit",onClick:()=>u(t.id)},{label:"Supprimer",icon:"delete",onClick:()=>h(!0),isDestructive:!0}],x=new Map;for(const M of r){const _=x.get(M.equipmentId);(!_||new Date(M.date)>new Date(_.date))&&x.set(M.equipmentId,M)}const T=M=>{const _=x.get(M),k=n.find(N=>N.id===M);if(_&&_.action===Ge.ASSIGN&&(k==null?void 0:k.status)===qe.ASSIGNED){const N=a.find(I=>I.id===_.userId);return`Attribué à: ${(N==null?void 0:N.name)||"Utilisateur inconnu"}`}return"Disponible"},w=n.filter(M=>M.status===qe.AVAILABLE).length,A=n.filter(M=>M.status===qe.ASSIGNED).length,C=n.length;return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(It,{title:t.name,onBack:o,children:i.role===_e.ADMIN&&c.jsx(ba,{actions:y})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-24 md:pb-4",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("div",{className:"aspect-[16/9] w-full overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:c.jsx("img",{alt:t.name,className:"h-full w-full object-cover",src:t.imageUrl||"https://placehold.co/600x400/e2e8f0/a0aec0/png"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent backdrop-blur-[2px]"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[c.jsxs("button",{onClick:()=>e&&(window.location.hash=`#/categories/${e.id}`),className:"inline-flex items-center gap-1.5 text-sm font-semibold text-white/90 hover:text-white transition-colors mb-2",children:[c.jsx("span",{children:t.brand}),c.jsx("span",{className:"text-white/60",children:"•"}),c.jsx("span",{className:"hover:underline",children:e.name})]}),c.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:t.name})]})]}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800/50 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-600 dark:text-gray-300",children:"inventory"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Total"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:C})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900/50 dark:to-green-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-green-600 dark:text-green-300",children:"check_circle"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Disponibles"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:w})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-primary-100 to-primary-50 dark:from-primary-900/50 dark:to-primary-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-primary-600 dark:text-primary-300",children:"person"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Attribués"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:A})]})]})]})}),c.jsxs("div",{className:"space-y-6 px-4",children:[t.specifications&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-secondary-100 dark:bg-secondary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"description"})}),c.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Spécifications"})]}),c.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.specifications})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-primary-100 dark:bg-primary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-400",children:"devices"})}),c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Articles d'équipement (",n.length,")"]})]}),i.role===_e.ADMIN&&c.jsx(Re,{variant:"ghost",size:"sm",icon:"add",className:"text-primary-700 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/30",onClick:()=>window.location.hash=`#/equipment/new?modelId=${t.id}`,children:"Ajouter"})]}),c.jsx("div",{className:"space-y-2 -mx-2",children:n.length>0?n.map(M=>c.jsxs("button",{onClick:()=>d(M.id),className:"w-full group flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/60 dark:hover:bg-gray-800/60 hover:shadow-sm hover:-translate-y-0.5 cursor-pointer",children:[c.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-primary-100 to-primary-50 dark:from-primary-900/50 dark:to-primary-800/30 shadow-sm transition-transform duration-300 group-hover:scale-105",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-primary-600 dark:text-primary-400",children:e.icon||"devices"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsxs("p",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:["N/S: ",M.assetTag]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:T(M.id)})]}),c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},M.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"inventory_2"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun article"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Ajoutez des équipements de ce modèle"})]})})]})]})]}),c.jsx(ii,{isOpen:p,onClose:()=>h(!1),onConfirm:()=>{f(t.id),h(!1)},title:`Supprimer "${t.name}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer ce modèle ? Tous les équipements associés devront être réassignés."})})]})},q0e=({models:t,categories:e,equipment:n,assignments:r,users:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onSelectEquipment:d})=>{const{id:p}=$r(),h=t.find(T=>T.id===p);if(!h)return c.jsx("h2",{children:"Modèle non trouvé"});const y=e.find(T=>T.id===h.categoryId),x=n.filter(T=>T.modelId===h.id);return y?c.jsx(L0e,{model:h,category:y,equipmentItems:x,assignments:r,users:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onSelectEquipment:d}):c.jsx("h2",{children:"Catégorie non trouvée"})},U0e=({title:t,steps:e,currentStep:n,onBack:r,children:a,isNextDisabled:i,isSaving:o=!1,onNext:u,onSubmit:f,onCancel:d})=>{const p=(n+1)/e.length*100,h=n===e.length-1;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsxs("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm",children:[c.jsx(It,{title:t,onBack:r}),c.jsx("div",{className:"w-full bg-gray-200",children:c.jsx("div",{className:"bg-primary-500 h-1",style:{width:`${p}%`,transition:"width 0.3s ease-in-out"}})}),c.jsx("p",{className:"text-center text-sm p-2 bg-gray-50 text-gray-500",children:`Étape ${n+1} sur ${e.length}: ${e[n]}`})]}),c.jsx("main",{className:"flex-grow overflow-y-auto px-4 pb-36 md:pb-6 pt-0",children:a}),c.jsxs(Md,{contentClassName:d?"w-full items-center justify-between":void 0,children:[d&&c.jsx(Re,{variant:"secondary",onClick:d,disabled:o,children:"Annuler"}),c.jsx("div",{className:"flex items-center gap-3",children:h?c.jsx(Re,{onClick:f,disabled:i||o,loading:o,icon:"check",children:o?"Soumission...":"Soumettre"}):c.jsx(Re,{onClick:u,disabled:i,children:"Suivant"})})]})]})},B0e=({user:t,onEdit:e,showEditButton:n,compact:r=!1})=>r?c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:t.avatarUrl,alt:`Avatar de ${t.name}`,className:"h-12 w-12 rounded-full object-cover"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-semibold leading-tight",children:t.name}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-normal leading-normal",children:t.email})]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-4 text-center py-6",children:[c.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-24 w-24 border-4 border-gray-100 dark:border-gray-900 shadow-lg",style:{backgroundImage:`url("${t.avatarUrl}")`},role:"img","aria-label":`Avatar de ${t.name}`}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-2xl font-bold leading-tight",children:t.name}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-base font-normal leading-normal",children:t.email})]}),n&&e&&c.jsx("button",{onClick:()=>e(t.id),className:"mt-2 flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 px-5 py-2.5 text-sm font-semibold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Modifier le profil"})]}),$0e=["Excellent","Bon","Moyen","Mauvais"],Ri={SELECT_EQUIPMENT_ASSIGN:{id:"SELECT_EQUIPMENT_ASSIGN",title:"Choisir l'équipement"},SELECT_EQUIPMENT_RETURN:{id:"SELECT_EQUIPMENT_RETURN",title:"Choisir l'équipement à retourner"},SELECT_USER:{id:"SELECT_USER",title:"Choisir l'utilisateur"},CHECK_CONDITION:{id:"CHECK_CONDITION",title:"État de l'équipement"},ADMIN_VALIDATION:{id:"ADMIN_VALIDATION",title:"Validation Administrateur"},SUMMARY:{id:"SUMMARY",title:"Synthèse"}},Y$=({action:t,initialEquipmentId:e,initialUserId:n,equipment:r,users:a,currentUser:i,models:o,categories:u,assignments:f,onSubmit:d,onBack:p})=>{const{addToast:h}=Wn(),[y,x]=j.useState(0),[T,w]=j.useState(""),A=ee=>{ee.preventDefault()},[C,M]=j.useState(n||null),[_,k]=j.useState(e||null),[N,I]=j.useState("Bon"),[P,L]=j.useState(""),[D,q]=j.useState(null),[U,R]=j.useState(!1),[B,G]=j.useState(!1),[W,V]=j.useState(!1),K=()=>V(!0),Y=()=>{V(!1),k(null),M(null),I("Bon"),L(""),q(null),R(!1),x(0),w(""),p()},te=()=>V(!1),re=j.useMemo(()=>new Map(o.map(ee=>[ee.id,ee])),[o]),$=j.useMemo(()=>new Map(u.map(ee=>[ee.id,ee])),[u]),z=j.useMemo(()=>{const ee=e||_;return t===Ge.RETURN&&ee?f.filter(be=>be.equipmentId===ee&&be.action===Ge.ASSIGN).sort((be,Ae)=>new Date(Ae.date).getTime()-new Date(be.date).getTime())[0]:null},[t,e,_,f]),H=j.useMemo(()=>{const ee=[];return t===Ge.ASSIGN?(e||ee.push(Ri.SELECT_EQUIPMENT_ASSIGN),n||ee.push(Ri.SELECT_USER),ee.push(Ri.ADMIN_VALIDATION),ee.push(Ri.SUMMARY)):(e||ee.push(Ri.SELECT_EQUIPMENT_RETURN),ee.push(Ri.CHECK_CONDITION),ee.push(Ri.ADMIN_VALIDATION),ee.push(Ri.SUMMARY)),ee},[t,e,n]),Q=H[y];j.useEffect(()=>{(Q==null?void 0:Q.id)==="ADMIN_VALIDATION"&&(R(!1),q(null))},[Q]),j.useEffect(()=>{D||(i.webauthnCredentialId?q("passkey"):i.pin&&q("user_pin"))},[D,i.webauthnCredentialId,i.pin]),j.useEffect(()=>{D&&R(!1)},[D]);const se=j.useMemo(()=>r.filter(ee=>ee.status===qe.AVAILABLE).map(ee=>{var be;return{...ee,model:re.get(ee.modelId),category:$.get(((be=re.get(ee.modelId))==null?void 0:be.categoryId)||"")}}).sort((ee,be)=>{var Ae,Ce;return(((Ae=ee.model)==null?void 0:Ae.name)||"").localeCompare(((Ce=be.model)==null?void 0:Ce.name)||"")}),[r,re,$]),we=j.useMemo(()=>r.filter(ee=>ee.status===qe.ASSIGNED).map(ee=>{var Ce;const be=f.filter(fe=>fe.equipmentId===ee.id&&fe.action===Ge.ASSIGN).sort((fe,Me)=>new Date(Me.date).getTime()-new Date(fe.date).getTime())[0],Ae=be?a.find(fe=>fe.id===be.userId):null;return{...ee,model:re.get(ee.modelId),category:$.get(((Ce=re.get(ee.modelId))==null?void 0:Ce.categoryId)||""),assignedTo:Ae==null?void 0:Ae.name}}).sort((ee,be)=>{var Ae,Ce;return(((Ae=ee.model)==null?void 0:Ae.name)||"").localeCompare(((Ce=be.model)==null?void 0:Ce.name)||"")}),[r,f,a,re,$]),Te=j.useMemo(()=>se.filter(ee=>{var Ae,Ce;const be=T.toLowerCase();return T===""||ee.assetTag.toLowerCase().includes(be)||((Ae=ee.model)==null?void 0:Ae.name.toLowerCase().includes(be))||((Ce=ee.category)==null?void 0:Ce.name.toLowerCase().includes(be))}),[se,T]),je=j.useMemo(()=>we.filter(ee=>{var Ae,Ce;const be=T.toLowerCase();return T===""||ee.assetTag.toLowerCase().includes(be)||((Ae=ee.model)==null?void 0:Ae.name.toLowerCase().includes(be))||((Ce=ee.assignedTo)==null?void 0:Ce.toLowerCase().includes(be))}),[we,T]),me=j.useMemo(()=>[...a].sort((ee,be)=>ee.name.localeCompare(be.name)),[a]),Ne=j.useMemo(()=>me.filter(ee=>{var Ae;const be=T.toLowerCase();return T===""||ee.name.toLowerCase().includes(be)||((Ae=ee.department)==null?void 0:Ae.toLowerCase().includes(be))}),[me,T]),de=a.find(ee=>ee.id===C),ie=r.find(ee=>ee.id===_),Oe=a.find(ee=>ee.id===(z==null?void 0:z.userId)),X=ie?re.get(ie.modelId):null,ve=X?$.get(X.categoryId):null,pe=ee=>{M(ee)},Le=ee=>{k(ee)},Qe=ee=>{q(ee)},lt=j.useMemo(()=>{if(!Q)return!0;switch(Q.id){case"SELECT_EQUIPMENT_ASSIGN":case"SELECT_EQUIPMENT_RETURN":return!_;case"SELECT_USER":return!C;case"CHECK_CONDITION":return!1;case"ADMIN_VALIDATION":return!U;case"SUMMARY":return!1;default:return!0}},[Q,C,_,U]),ut=()=>{lt||(w(""),x(ee=>ee+1))},Bt=()=>{y>0?x(ee=>ee-1):p()},Ht=async()=>{if(B)return;G(!0);let ee=null,be="";if(D==="user_pin")be="Validated by Admin PIN";else if(D==="passkey")be="Validated by Admin Passkey";else{h("Méthode de validation administrateur invalide.","error"),G(!1);return}const Ae={it:i.role===_e.ADMIN,manager:i.role===_e.MANAGER,user:!1};if(t===Ge.ASSIGN&&de&&_){const Ce=a.find(fe=>fe.id===de.managerId);ee={action:Ge.ASSIGN,equipmentId:_,date:new Date().toISOString().split("T")[0],userId:de.id,managerId:(Ce==null?void 0:Ce.id)||i.id,signature:be,validation:{...Ae}}}else if(t===Ge.RETURN&&z&&_)ee={action:Ge.RETURN,equipmentId:_,date:new Date().toISOString().split("T")[0],userId:z.userId,managerId:z.managerId,signature:be,validation:{...Ae},condition:N,returnNotes:P};else{h("Données manquantes pour la soumission.","error"),G(!1);return}try{await d(ee),G(!1)}catch{h("La soumission a échoué.","error"),G(!1)}},Mn=()=>{if(!Q)return null;switch(Q.id){case"SELECT_EQUIPMENT_ASSIGN":case"SELECT_EQUIPMENT_RETURN":{const ee=Q.id==="SELECT_EQUIPMENT_ASSIGN"?Te:je,be=Ae=>{var Ce;return Q.id==="SELECT_EQUIPMENT_ASSIGN"?[{icon:"category",text:((Ce=Ae.category)==null?void 0:Ce.name)||"Inconnu"},{icon:"tag",text:Ae.assetTag}]:[{icon:"tag",text:Ae.assetTag},{icon:"person",text:Ae.assignedTo}]};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"sticky top-0 z-10 -mx-4 -mt-4 px-4 pt-4 pb-4 bg-gray-100 dark:bg-gray-900",children:c.jsx(qc,{value:T,onChange:Ae=>w(Ae.target.value),onSubmit:A,placeholder:"Rechercher par nom, catégorie...",isSearching:!1,showAiButton:!1,formClassName:"w-full"})}),c.jsx("div",{className:"flex-1 overflow-y-auto -mx-4 px-4 pb-4 pt-6",children:c.jsx("div",{className:"space-y-3",children:ee.map(Ae=>{var Ce,fe;return c.jsx(Us,{id:Ae.id,imageUrl:(Ce=Ae.model)==null?void 0:Ce.imageUrl,title:Ae.name||((fe=Ae.model)==null?void 0:fe.name)||"Équipement",details:be(Ae),statusBadge:c.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium whitespace-nowrap overflow-hidden text-ellipsis max-w-[140px] ${b5(Ae.status)}`,children:Ae.status}),onCardClick:Le,isSelected:_===Ae.id},Ae.id)})})})]})}case"CHECK_CONDITION":return c.jsxs("div",{className:"space-y-6",children:[c.jsx(ar,{title:"État observé",children:c.jsx("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3",children:$0e.map(ee=>c.jsxs("label",{className:`flex items-center gap-3 rounded-lg border p-3 cursor-pointer transition-colors ${N===ee?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-primary-300 dark:hover:border-primary-500"}`,children:[c.jsx("input",{type:"radio",name:"return-condition",value:ee,checked:N===ee,onChange:()=>I(ee),className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),c.jsx("span",{className:"font-medium",children:ee})]},ee))})}),c.jsx(ar,{title:"Notes de retour (optionnel)",children:c.jsx("div",{className:"md:col-span-2",children:c.jsx(mh,{value:P,onChange:ee=>L(ee.target.value),rows:4,placeholder:"Ajoutez des détails sur l'état constaté lors du retour..."})})})]});case"ADMIN_VALIDATION":{const ee=!!i.webauthnCredentialId,be=!!i.pin,Ae=!ee&&!be,Ce=(fe,Me)=>`flex items-center justify-between gap-3 rounded-lg border p-4 text-left transition-colors ${D===fe?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-primary-300 dark:hover:border-primary-500"} ${Me?"opacity-60 cursor-not-allowed":"cursor-pointer"}`;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ar,{title:"Validation administrateur",children:[c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("button",{type:"button",onClick:()=>Qe("passkey"),disabled:!ee,className:Ce("passkey",!ee),children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Empreinte digitale"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valider avec WebAuthn"})]}),c.jsx(ks,{className:"text-primary-600"})]}),c.jsxs("button",{type:"button",onClick:()=>Qe("user_pin"),disabled:!be,className:Ce("user_pin",!be),children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Code PIN"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Confirmer avec votre code PIN"})]}),c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"password"})]})]}),Ae&&c.jsx("div",{className:"md:col-span-2 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-lg p-3",children:"Aucune méthode de validation n'est configurée pour l'administrateur actuel. Ajoutez un code PIN ou une empreinte dans votre profil."})]}),D==="passkey"&&c.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm",children:c.jsx(U3,{onValidated:R,userCredentialId:i.webauthnCredentialId})}),D==="user_pin"&&c.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm",children:c.jsx(q3,{onValidated:R,correctPin:i.pin,userName:i.name})}),U&&c.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-green-50 border border-green-200 text-green-700 px-4 py-3",children:[c.jsx("span",{className:"material-symbols-outlined",children:"verified"}),c.jsx("p",{className:"font-semibold",children:"Validation administrateur réussie."})]})]})}case"SELECT_USER":return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"sticky top-0 z-10 -mx-4 -mt-4 px-4 pt-4 pb-4 bg-gray-100 dark:bg-gray-900",children:c.jsx(qc,{value:T,onChange:ee=>w(ee.target.value),onSubmit:A,placeholder:"Rechercher par nom ou département...",isSearching:!1,showAiButton:!1,formClassName:"w-full"})}),c.jsx("div",{className:"flex-1 overflow-y-auto -mx-4 px-4 pb-4 pt-6",children:c.jsx("div",{className:"space-y-3",children:Ne.map(ee=>c.jsx(Us,{id:ee.id,imageUrl:ee.avatarUrl,imageShape:"round",title:ee.name,details:[{icon:"work",text:ee.department||"N/A"}],statusBadge:c.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${S5(ee.role)}`,children:ee.role}),onCardClick:pe,isSelected:C===ee.id},ee.id))})})]});case"SUMMARY":{const ee=t===Ge.ASSIGN?de:Oe;return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx(ar,{title:"Équipement",children:c.jsx("div",{className:"md:col-span-2",children:c.jsx(Us,{id:ie.id,imageUrl:X==null?void 0:X.imageUrl,title:X==null?void 0:X.name,details:[{text:`${(ve==null?void 0:ve.name)||"Inconnu"} • ${ie.assetTag}`}]})})}),c.jsx(ar,{title:t===Ge.ASSIGN?"Attribué à":"Retourné par",children:c.jsx("div",{className:"md:col-span-2",children:ee&&c.jsx(B0e,{user:ee,compact:!0})})}),t===Ge.RETURN&&c.jsx(ar,{title:"Détails du retour",children:c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold",children:"État:"})," ",N]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold",children:"Notes:"})," ",P||"Aucune"]})]})}),c.jsx(ar,{title:"Validation",children:c.jsx("div",{className:"md:col-span-2 grid grid-cols-1 gap-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 bg-green-50 p-3 rounded-lg",children:[c.jsx("span",{className:"material-symbols-outlined",children:"verified"}),c.jsx("p",{className:"font-semibold",children:"Action validée par l'administrateur"})]})})})]})}}};return c.jsxs(c.Fragment,{children:[c.jsx(U0e,{title:t,steps:H.map(ee=>ee.title),currentStep:y,onBack:Bt,isNextDisabled:lt,isSaving:B,onNext:ut,onSubmit:Ht,onCancel:K,children:c.jsx("div",{className:"max-w-2xl mx-auto",children:Mn()})}),W&&c.jsx(ii,{isOpen:W,onClose:te,onConfirm:Y,title:"Quitter le wizard ?",icon:"close",iconBgColor:"bg-gray-100",iconColor:"text-gray-600",confirmButtonText:"Quitter",confirmButtonVariant:"primary",children:c.jsx("p",{className:"text-sm leading-relaxed",children:"Vous perdrez les sélections en cours. Êtes-vous sûr de vouloir abandonner ce processus ?"})})]})},V0e=({equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})=>{const f=$r();let d,p;const h=f["*"];if(h){const y=h.match(/equipment\/([a-zA-Z0-9-]+)/);y&&(d=y[1]);const x=h.match(/user\/([a-zA-Z0-9-]+)/);x&&(p=x[1])}return c.jsx(Y$,{action:Ge.ASSIGN,initialEquipmentId:d,initialUserId:p,equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})},dq=({equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})=>{const{equipmentId:f}=$r();return c.jsx(Y$,{action:Ge.RETURN,initialEquipmentId:f,equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})},F0e=({assignments:t,equipment:e,models:n,categories:r,users:a,currentUser:i,onApprove:o,onReject:u,onBack:f})=>{const d=new Map(e.map(H=>[H.id,H])),p=new Map(n.map(H=>[H.id,H])),h=new Map(r.map(H=>[H.id,H])),y=new Map(a.map(H=>[H.id,H])),[x,T]=j.useState(null),[w,A]=j.useState(null),[C,M]=j.useState(null),[_,k]=j.useState("me"),[N,I]=j.useState(!0);j.useEffect(()=>{const H=setTimeout(()=>I(!1),250);return()=>clearTimeout(H)},[]);const P=j.useMemo(()=>a.filter(H=>H.managerId===i.id).map(H=>H.id),[a,i.id]),L=j.useMemo(()=>new Set(P),[P]),D=H=>{const Q=H.validation;if(!Q)return null;if(!Q.it)return"it";if(H.action===Ge.ASSIGN){if(!Q.manager)return"manager";if(Q.it&&Q.manager&&!Q.user)return"user"}else{if(Q.it&&!Q.user)return"user";if(Q.it&&Q.user&&!Q.manager)return"manager"}return null},q=H=>{const Q=H.validation;if(!Q)return null;if(i.role===_e.ADMIN&&!Q.it)return"it";if(H.action===Ge.ASSIGN){if(i.id===H.managerId&&!Q.manager)return"manager";if(i.id===H.userId&&Q.it&&Q.manager&&!Q.user)return"user"}else{if(i.id===H.userId&&Q.it&&!Q.user)return"user";if(i.id===H.managerId&&Q.it&&Q.user&&!Q.manager)return"manager"}return null},U=j.useMemo(()=>t.filter(H=>{const Q=e.find(se=>se.id===H.equipmentId);return!Q||Q.status!==qe.PENDING_VALIDATION||H.status!==Ut.PENDING||!H.validation?!1:D(H)!==null}),[t,e]),R=j.useMemo(()=>{const H=t.filter(Q=>{if(!Q.validation)return!1;const se=Q.validation;return Q.action===Ge.ASSIGN?se.it&&se.manager&&se.user:se.it&&se.user&&se.manager});return i.role===_e.ADMIN?H:i.role===_e.MANAGER?H.filter(Q=>Q.userId===i.id||Q.managerId===i.id||L.has(Q.userId)):H.filter(Q=>Q.userId===i.id)},[t,i.id,i.role,L]),B=j.useMemo(()=>U.filter(H=>q(H)!==null),[U]),G=j.useMemo(()=>i.role!==_e.MANAGER?B:U.filter(H=>H.managerId===i.id||L.has(H.userId)),[U,B,i.role,i.id,L]),W=H=>[...H].sort((Q,se)=>new Date(Q.date).getTime()-new Date(se.date).getTime()),V=H=>[...H].sort((Q,se)=>new Date(se.date).getTime()-new Date(Q.date).getTime()),K=j.useMemo(()=>_==="me"?W(B):_==="team"?W(G):V(R),[_,B,G,R]),Y=j.useMemo(()=>{const H={it:[],manager:[],user:[]};return _==="all"||K.forEach(Q=>{const se=D(Q);se&&H[se].push(Q)}),H},[K,_]),te=H=>{x&&(u(x,H),T(null))},re=()=>{w&&(o(w.id,C||void 0),A(null),M(null))},z=w?(H=>{if(!H)return null;const Q=p.get(H.modelId),se=Q?h.get(Q.categoryId):null;return{...H,model:Q||null,category:se||null}})(d.get(w.equipmentId)):null;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 dark:bg-gray-900",children:[c.jsx(It,{title:"Approbations en attente",onBack:f}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("button",{onClick:()=>k("me"),className:`px-3 py-1.5 rounded-md text-sm font-semibold ${_==="me"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:"À moi"}),i.role===_e.MANAGER&&c.jsx("button",{onClick:()=>k("team"),className:`px-3 py-1.5 rounded-md text-sm font-semibold ${_==="team"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:"Mon équipe"}),c.jsx("button",{onClick:()=>k("all"),className:`px-3 py-1.5 rounded-md text-sm font-semibold ${_==="all"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:"Historique"})]}),N?c.jsx("div",{className:"space-y-3",children:[1,2,3].map(H=>c.jsx("div",{className:"animate-pulse rounded-xl bg-white dark:bg-gray-800 p-4 shadow-sm",children:c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-md bg-gray-200 dark:bg-gray-700"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("div",{className:"h-4 w-2/3 bg-gray-200 dark:bg-gray-700 rounded"}),c.jsx("div",{className:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"}),c.jsx("div",{className:"h-3 w-1/3 bg-gray-200 dark:bg-gray-700 rounded"})]})]})},H))}):K.length===0?c.jsxs("div",{className:"text-center py-10 flex flex-col items-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-green-500 mb-4",children:"task_alt"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Tout est à jour !"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:_==="all"?"Aucun historique d'approbation disponible.":"Il n'y a aucune approbation en attente."})]}):_==="all"?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-1 mb-3",children:[c.jsx("span",{className:"material-symbols-outlined text-sm text-gray-500",children:"history"}),c.jsxs("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:["Historique des approbations (",K.length,")"]})]}),K.map(H=>{const Q=d.get(H.equipmentId);if(!Q)return null;const se=p.get(Q.modelId),we=se?h.get(se.categoryId):null,Te=y.get(H.userId);H.validation;const je=Math.max(0,Math.floor((Date.now()-new Date(H.date).getTime())/(1e3*60*60*24)));return c.jsx(Us,{id:H.id,imageUrl:se==null?void 0:se.imageUrl,title:(se==null?void 0:se.name)||"Modèle inconnu",details:[{text:`${H.action===Ge.ASSIGN?"Attribution":"Retour"} validé • ${we==null?void 0:we.name}`},{icon:"person",text:`Utilisateur : ${(Te==null?void 0:Te.name)||"Inconnu"}`},{icon:"schedule",text:`Il y a ${je}j`},{icon:"check_circle",text:"Validé par IT, Manager et Utilisateur"}],onCardClick:me=>window.location.hash=`#/equipment/${Q.id}`},H.id)})]}):["it","manager","user"].map(H=>{const Q=Y[H];return Q.length===0?null:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-1",children:[c.jsx("span",{className:"material-symbols-outlined text-sm text-gray-500",children:H==="it"?"shield_person":H==="manager"?"workspace_premium":"person"}),c.jsxs("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:[H==="it"?"Admin IT":H==="manager"?"Responsable":"Utilisateur"," (",Q.length,")"]})]}),Q.map(se=>{var ve;const we=d.get(se.equipmentId);if(!we)return null;const Te=p.get(we.modelId),je=Te?h.get(Te.categoryId):null,me=q(se),Ne=D(se),de=!me&&Ne?Ne==="it"?"Action réservée à l’Admin IT":Ne==="manager"?"Action réservée au Responsable":"Action réservée à l’utilisateur":void 0,ie=c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:()=>T(se.id),className:"flex-1 p-3 text-center text-sm font-semibold text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors rounded-bl-xl",children:"Rejeter"}),de?c.jsx(ni,{content:de,children:c.jsx("button",{onClick:()=>{},disabled:!0,className:"flex-1 p-3 text-center text-sm font-semibold border-l border-gray-200 dark:border-gray-700 transition-colors rounded-br-xl text-gray-400 cursor-not-allowed",children:"Valider"})}):c.jsx("button",{onClick:()=>{me&&(A(se),M(me))},className:"flex-1 p-3 text-center text-sm font-semibold border-l border-gray-200 dark:border-gray-700 transition-colors rounded-br-xl text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:"Valider"})]}),Oe=Math.max(0,Math.floor((Date.now()-new Date(se.date).getTime())/(1e3*60*60*24))),X=Oe>=7;return c.jsx(Us,{id:se.id,imageUrl:Te==null?void 0:Te.imageUrl,title:(Te==null?void 0:Te.name)||"Modèle inconnu",details:[{text:`${se.action===Ge.ASSIGN?"Nouvelle attribution":"Demande de retour"} • ${je==null?void 0:je.name}`},{icon:"person",text:`Pour : ${((ve=y.get(se.userId))==null?void 0:ve.name)||"Utilisateur inconnu"}`},{icon:"schedule",text:`Depuis ${Oe}j${X?" • Urgent":""}`}],onCardClick:pe=>window.location.hash=`#/equipment/${we.id}`,footerActions:ie},se.id)})]},H)})]}),c.jsx(y5,{isOpen:!!x,onClose:()=>T(null),onConfirm:te}),w&&z&&c.jsx(v5,{isOpen:!!w,onClose:()=>{A(null),M(null)},onConfirm:re,assignment:w,equipment:z,userToValidate:!C||C==="it"?i:C==="manager"?y.get(w.managerId)||i:y.get(w.userId)||i,actorLabel:C==="it"?"Admin IT":C==="manager"?"Responsable":C==="user"?"Utilisateur":void 0})]})},z0e=({assignments:t,equipment:e,models:n,categories:r,users:a,currentUser:i,onApprove:o,onReject:u,onBack:f})=>c.jsx(F0e,{assignments:t,equipment:e,models:n,categories:r,users:a,currentUser:i,onApprove:o,onReject:u,onBack:f}),G0e={"in-progress":{label:"En cours",icon:"play_circle",badgeClass:"bg-status-info-100 text-status-info-600 dark:bg-status-info-900/40 dark:text-status-info-300"},paused:{label:"En pause",icon:"pause_circle",badgeClass:"bg-status-warning-100 text-status-warning-700 dark:bg-status-warning-900/40 dark:text-status-warning-200"},completed:{label:"Terminé",icon:"check_circle",badgeClass:"bg-status-success-100 text-status-success-700 dark:bg-status-success-900/40 dark:text-status-success-200"},cancelled:{label:"Annulé",icon:"cancel",badgeClass:"bg-status-danger-100 text-status-danger-700 dark:bg-status-danger-900/40 dark:text-status-danger-200"}},H0e=({value:t})=>{const e=Math.min(100,Math.max(0,t)),n=36,r=2*Math.PI*n,a=r-e/100*r;return c.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[c.jsxs("svg",{width:84,height:84,className:"-rotate-90",children:[c.jsx("circle",{stroke:"rgba(148, 163, 184, 0.3)",fill:"transparent",strokeWidth:"8",r:n,cx:"42",cy:"42"}),c.jsx("circle",{stroke:e>=100?"#22c55e":"#6e87a7",fill:"transparent",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${r} ${r}`,style:{strokeDashoffset:a},r:n,cx:"42",cy:"42"})]}),c.jsxs("span",{className:"absolute text-xl font-semibold text-gray-900 dark:text-gray-100",children:[Math.round(e),"%"]})]})},K0e={secondary:{iconBg:"bg-secondary-100/80 dark:bg-secondary-900/40",iconText:"text-secondary-700 dark:text-secondary-200",border:"border-secondary-200/70 dark:border-secondary-700/60"},success:{iconBg:"bg-status-success-100/80 dark:bg-status-success-900/40",iconText:"text-status-success-700 dark:text-status-success-200",border:"border-status-success-200/70 dark:border-status-success-700/60"},danger:{iconBg:"bg-status-danger-100/80 dark:bg-status-danger-900/40",iconText:"text-status-danger-700 dark:text-status-danger-200",border:"border-status-danger-200/70 dark:border-status-danger-700/60"}},KS=({label:t,value:e,description:n,icon:r,accent:a})=>{const i=K0e[a];return c.jsxs(He.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:`surface-card rounded-2xl p-5 border ${i.border} shadow-[var(--shadow-elev-1)]`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-xl ${i.iconBg} ${i.iconText}`,children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:r})}),c.jsx("span",{className:"text-xs uppercase font-semibold tracking-wide text-secondary-500 dark:text-secondary-300",children:t})]}),c.jsx("p",{className:"mt-4 text-3xl font-semibold text-gray-900 dark:text-gray-50",children:e}),c.jsx("p",{className:"mt-1 text-sm text-secondary-600 dark:text-secondary-300",children:n})]})},Y0e={success:{iconBg:"bg-status-success-100/80 dark:bg-status-success-900/40",iconText:"text-status-success-700 dark:text-status-success-200",badge:"bg-status-success-100 text-status-success-700 dark:bg-status-success-900/40 dark:text-status-success-200"},warning:{iconBg:"bg-status-warning-100/80 dark:bg-status-warning-900/40",iconText:"text-status-warning-700 dark:text-status-warning-200",badge:"bg-status-warning-100 text-status-warning-700 dark:bg-status-warning-900/40 dark:text-status-warning-200"}},fq=({title:t,items:e,emptyMessage:n,accent:r,icon:a,getLocation:i})=>{const o=Y0e[r];return c.jsxs(He.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-xl shadow-[var(--shadow-elev-1)] ${o.iconBg} ${o.iconText}`,children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:a})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-gray-50",children:t}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400",children:[e.length," équipement(s)"]})]})]})}),c.jsx("div",{className:"space-y-3",children:e.length===0?c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 italic",children:n}):e.map(u=>{var f,d;return c.jsxs(He.div,{layout:!0,className:"flex items-start gap-4 rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/40 px-4 py-3 shadow-sm transition-all duration-300 hover:shadow-[var(--shadow-elev-1)] hover:-translate-y-0.5",whileHover:{y:-1},children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:((f=u.model)==null?void 0:f.name)||u.assetTag}),c.jsx("span",{className:"text-xs font-medium text-secondary-500 dark:text-secondary-300",children:u.assetTag})]}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:i(u)}),((d=u.category)==null?void 0:d.name)&&c.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:["Catégorie · ",u.category.name]})]}),c.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${o.badge}`,children:r==="success"?"Confirmé":"À vérifier"})]},u.id)})})]})},W0e=({session:t,allEquipment:e,allModels:n,allCategories:r,sites:a,departments:i,countries:o,onBack:u,onUpdateEquipment:f,dispatch:d})=>{const{addToast:p}=Wn(),[h,y]=j.useState(!1),[x,T]=j.useState(null),[w,A]=j.useState(!1),C=j.useMemo(()=>i.find(z=>z.id===t.departmentId),[i,t.departmentId]),M=j.useMemo(()=>a.find(z=>z.id===(C==null?void 0:C.siteId)),[a,C]),_=j.useMemo(()=>o.find(z=>z.id===(M==null?void 0:M.countryId)),[o,M]),k=[_==null?void 0:_.name,M==null?void 0:M.name,C==null?void 0:C.name].filter(Boolean).join(" / "),N=j.useMemo(()=>e.map(z=>{const H=n.find(se=>se.id===z.modelId),Q=H?r.find(se=>se.id===H.categoryId):null;return{...z,model:H,category:Q}}),[e,n,r]),I=j.useMemo(()=>N.filter(z=>z.departmentId===t.departmentId),[N,t.departmentId]),P=j.useMemo(()=>new Set(t.scannedItemIds),[t.scannedItemIds]),L=j.useMemo(()=>I.filter(z=>P.has(z.id)),[I,P]),D=j.useMemo(()=>I.filter(z=>!P.has(z.id)),[I,P]),q=I.length===0?0:L.length/I.length*100,U=D.length,R=G0e[t.status]||{label:"Session",icon:"info",badgeClass:"bg-secondary-100 text-secondary-700 dark:bg-secondary-900/40 dark:text-secondary-200"},B=j.useMemo(()=>(Array.isArray(t.scannedItemIds)?[...t.scannedItemIds]:[]).slice(-4).reverse().reduce((H,Q)=>{const se=N.find(we=>we.id===Q);return se&&H.push(se),H},[]),[t.scannedItemIds,N]),G=z=>{const H=z.siteId?a.find(Q=>Q.id===z.siteId):null;if(!H)return z.location||"Emplacement inconnu";if(z.departmentId){const Q=i.find(se=>se.id===z.departmentId);if(Q&&Q.siteId===H.id)return`${H.name} / ${Q.name}`}return H.name},W=z=>{y(!1);const H=(Q,se)=>{var Te;if(!Q){p("QR code invalide: Numéro de série manquant.","error");return}const we=N.find(je=>je.assetTag===Q);if(we){if(P.has(we.id)){p("Déjà scanné.","info");return}we.departmentId!==t.departmentId?T({type:"unexpected",data:we}):(d({type:"UPDATE_AUDIT_SESSION_SCAN",payload:{sessionId:t.id,scannedItemId:we.id}}),p(`${((Te=we.model)==null?void 0:Te.name)||we.assetTag} confirmé !`,"success"))}else se?T({type:"new",data:se}):p(`Équipement avec N/S "${Q}" non trouvé.`,"error")};try{const Q=JSON.parse(z);H(Q.serialNumber,Q)}catch{H(z)}},V=()=>{var z;if((x==null?void 0:x.type)==="unexpected"){const H=x.data;f({id:H.id,siteId:M==null?void 0:M.id,departmentId:C==null?void 0:C.id}),d({type:"UPDATE_AUDIT_SESSION_SCAN",payload:{sessionId:t.id,scannedItemId:H.id}}),p(`${(z=H.model)==null?void 0:z.name} déplacé vers ${k}.`,"success"),T(null)}},K=()=>{(x==null?void 0:x.type)==="new"&&(sessionStorage.setItem("new-equipment-from-scan",JSON.stringify(x.data)),window.location.hash="#/equipment/new",T(null))},Y=()=>{d({type:"PAUSE_AUDIT_SESSION",payload:{sessionId:t.id}}),u()},te=()=>{d({type:"COMPLETE_AUDIT_SESSION",payload:{sessionId:t.id}}),window.location.hash=`#/audit/report/${t.id}`},re=()=>{d({type:"CANCEL_AUDIT_SESSION",payload:{sessionId:t.id}}),u()},$=[{label:"Annuler l'audit",icon:"cancel",onClick:()=>A(!0),isDestructive:!0}];return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(It,{title:"Session d'audit",subtitle:k||"Emplacement non défini",onBack:Y,children:c.jsx(ba,{actions:$})}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-36",children:[c.jsx(He.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-8 md:p-10 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:c.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex items-start gap-5",children:[c.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-secondary-100 to-secondary-50 dark:from-secondary-900/50 dark:to-secondary-800/30 text-secondary-700 dark:text-secondary-300 shadow-[var(--shadow-elev-1)]",children:c.jsx("span",{className:"material-symbols-outlined text-4xl",children:"inventory_2"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-secondary-600 dark:text-secondary-400",children:"Session d'audit"}),c.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-semibold ${R.badgeClass}`,children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:R.icon}),R.label]})]}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-50 tracking-tight leading-tight",children:k}),c.jsx("p",{className:"mt-3 text-sm leading-relaxed text-secondary-700 dark:text-secondary-300 max-w-xl",children:"Confirmez les équipements présents, signalez les anomalies et suivez en temps réel la progression de cette campagne."})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[c.jsx(H0e,{value:q}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Re,{variant:"secondary",icon:"check_circle",onClick:te,children:"Terminer l'audit"}),c.jsx(Re,{variant:"ghost",icon:"pause_circle",onClick:Y,children:"Mettre en pause"})]})]})]})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsx(KS,{label:"Attendus",value:I.length,description:"Équipements prévus dans ce service",icon:"assignment",accent:"secondary"}),c.jsx(KS,{label:"Confirmés",value:L.length,description:"Scannés et validés pour cette session",icon:"task_alt",accent:"success"}),c.jsx(KS,{label:"Restants",value:U,description:"À vérifier ou à signaler",icon:"hourglass_empty",accent:"danger"})]}),c.jsxs("div",{className:"flex flex-col gap-6 xl:flex-row",children:[c.jsxs("section",{className:"flex-1 space-y-5",children:[c.jsx(fq,{title:"Confirmés",items:L,emptyMessage:"Aucun équipement confirmé pour le moment. Scanner un élément pour commencer.",accent:"success",icon:"verified",getLocation:G}),c.jsx(fq,{title:"Restants",items:D,emptyMessage:"Tous les équipements ont été confirmés. Rien à signaler !",accent:"warning",icon:"pending_actions",getLocation:G})]}),c.jsxs(He.aside,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:"xl:w-[320px] flex-shrink-0 space-y-5",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Actions rapides"}),c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"bolt"})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx(Re,{variant:"primary",icon:"qr_code_scanner",onClick:()=>y(!0),children:"Scanner un équipement"}),c.jsx(Re,{variant:"ghost",icon:"report",onClick:()=>{d({type:"REPORT_AUDIT_EXCEPTION",payload:{sessionId:t.id}}),p("Espace de signalement ouvert.","info")},children:"Signaler une anomalie"})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"history"}),c.jsx("h3",{className:"text-sm font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Derniers scans"})]}),c.jsx("div",{className:"space-y-3",children:B.length===0?c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 italic",children:"Aucune entrée pour le moment."}):B.map(z=>{var H;return c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/40 px-4 py-3 transition-all duration-300 hover:shadow-sm hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:((H=z.model)==null?void 0:H.name)||z.assetTag}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-0.5",children:z.assetTag})]},z.id)})})]})]})]})]}),c.jsx("footer",{className:"fixed bottom-16 left-0 right-0 z-10 surface-card backdrop-blur-md p-4 border-t border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)] lg:static",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:te,className:"flex-1",children:"Terminer l'audit"}),c.jsx(Re,{onClick:()=>y(!0),className:"flex-1",children:"Scanner"})]})}),h&&c.jsx(x5,{onScanSuccess:W,onClose:()=>y(!1)}),(x==null?void 0:x.type)==="unexpected"&&c.jsxs(kw,{isOpen:!0,onClose:()=>T(null),title:"Équipement inattendu",icon:"warning",iconBgColor:"bg-yellow-100",iconColor:"text-yellow-600",primaryButtonText:"Oui, déplacer",onPrimaryClick:V,secondaryButtonText:"Ignorer",onSecondaryClick:()=>{var z;d({type:"UPDATE_AUDIT_SESSION_SCAN",payload:{sessionId:t.id,unexpectedItem:{assetTag:x.data.assetTag,modelName:(z=x.data.model)==null?void 0:z.name,originalLocation:G(x.data)}}}),T(null)},children:["Cet équipement (",x.data.model.name,`) est enregistré à l'emplacement "`,G(x.data),'". Voulez-vous le déplacer vers "',k,'"?']}),(x==null?void 0:x.type)==="new"&&c.jsxs(kw,{isOpen:!0,onClose:()=>T(null),title:"Nouvel équipement trouvé",icon:"add_circle",iconBgColor:"bg-blue-100",iconColor:"text-blue-600",primaryButtonText:"Oui, ajouter maintenant",onPrimaryClick:K,secondaryButtonText:"Ignorer pour l'instant",onSecondaryClick:()=>T(null),children:[`L'équipement avec le numéro de série "`,x.data.serialNumber,`" n'a pas été trouvé dans l'inventaire. Voulez-vous l'ajouter ?`]}),c.jsx(ii,{isOpen:w,onClose:()=>A(!1),onConfirm:re,title:"Annuler l'audit",confirmButtonText:"Oui, annuler",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir annuler cet audit ? Toute la progression sera perdue."})})]})},X0e=({auditSessions:t,equipment:e,models:n,categories:r,sites:a,departments:i,countries:o,onBack:u,onUpdateEquipment:f,dispatch:d})=>{const{sessionId:p}=$r(),h=t.find(y=>y.id===p);return h?c.jsx(W0e,{session:h,allEquipment:e,allModels:n,allCategories:r,sites:a,departments:i,countries:o,onBack:u,onUpdateEquipment:f,dispatch:d}):c.jsx("h2",{children:"Session d'audit non trouvée"})},J0e=({session:t,equipment:e,models:n,sites:r,departments:a,countries:i,onBack:o})=>{const[u,f]=j.useState(null);if(j.useEffect(()=>{if(t){const A=a.find(L=>L.id===t.departmentId),C=r.find(L=>L.id===(A==null?void 0:A.siteId)),M=i.find(L=>L.id===(C==null?void 0:C.countryId)),_=[M==null?void 0:M.name,C==null?void 0:C.name,A==null?void 0:A.name].filter(Boolean).join(" / "),k=e.filter(L=>L.departmentId===t.departmentId),N=k.filter(L=>t.scannedItemIds.includes(L.id)),I=k.filter(L=>!t.scannedItemIds.includes(L.id)),P=L=>L.map(D=>{if("id"in D){const q=n.find(U=>U.id===D.modelId);return{...D,modelName:q==null?void 0:q.name,imageUrl:q==null?void 0:q.imageUrl}}return D});f({location:_,confirmed:P(N),missing:P(I),unexpected:P(t.unexpectedItems),scanDate:t.updatedAt})}},[t,e,n,r,a,i]),!u)return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[c.jsx(It,{title:"Rapport d'audit",onBack:o}),c.jsx("main",{className:"flex-1 flex items-center justify-center",children:c.jsx("p",{children:"Chargement du rapport d'audit..."})})]});const{confirmed:d,missing:p,unexpected:h,scanDate:y,location:x}=u,T=d.length+p.length,w=({items:A})=>c.jsx("div",{className:"p-4 space-y-2",children:A.map((C,M)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5 transition-all duration-300 hover:shadow-sm hover:-translate-y-0.5",children:[c.jsx("img",{src:C.imageUrl||"https://placehold.co/64x64/e2e8f0/a0aec0/png",alt:C.modelName,className:"size-12 rounded-xl object-contain bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800 shadow-sm"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:C.modelName||"Modèle inconnu"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-0.5",children:C.assetTag}),C.originalLocation&&c.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1 flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"location_on"}),"Trouvé à: ",C.originalLocation]})]})]},C.id||M))});return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(It,{title:`Rapport: ${x}`,onBack:o}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 md:p-8 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-xl bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900/50 dark:to-green-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-green-600 dark:text-green-400",children:"summarize"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Résumé de l'audit"}),c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:["Terminé le ",new Date(y).toLocaleString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5",children:[c.jsx("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:T}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-400 mt-2",children:"Attendu"})]}),c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5",children:[c.jsx("p",{className:"text-4xl font-bold text-green-600 dark:text-green-400",children:d.length}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-400 mt-2",children:"Trouvé"})]}),c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5",children:[c.jsx("p",{className:"text-4xl font-bold text-red-600 dark:text-red-400",children:p.length}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-400 mt-2",children:"Manquant"})]})]}),h.length>0&&c.jsx("div",{className:"mt-6 pt-6 border-t border-white/40 dark:border-white/5",children:c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-gradient-to-br from-orange-50 to-white dark:from-orange-900/20 dark:to-secondary-900/30 border border-orange-200/50 dark:border-orange-700/30",children:[c.jsx("p",{className:"text-4xl font-bold text-orange-600 dark:text-orange-400",children:h.length}),c.jsx("p",{className:"text-sm font-semibold text-orange-700 dark:text-orange-300 mt-2",children:"Inattendu"})]})})]}),p.length>0&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"p-6 border-b border-white/40 dark:border-white/5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-red-100 dark:bg-red-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400",children:"report_problem"})}),c.jsxs("h2",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:["Équipements manquants (",p.length,")"]})]})}),c.jsx(w,{items:p})]}),h.length>0&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"p-6 border-b border-white/40 dark:border-white/5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-orange-100 dark:bg-orange-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-orange-600 dark:text-orange-400",children:"error_outline"})}),c.jsxs("h2",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:["Équipements inattendus (",h.length,")"]})]})}),c.jsx(w,{items:h})]}),p.length===0&&h.length===0&&c.jsxs("div",{className:"surface-card surface-card-gradient text-center py-12 rounded-3xl border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"flex items-center justify-center size-20 rounded-full bg-green-100 dark:bg-green-900/40 mx-auto mb-4",children:c.jsx("span",{className:"material-symbols-outlined text-5xl text-green-600 dark:text-green-400",children:"verified"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Inventaire complet !"}),c.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-2",children:"Tous les équipements attendus ont été trouvés."})]})]})]})},Q0e=({auditSessions:t,equipment:e,models:n,sites:r,departments:a,countries:i,onBack:o})=>{const{sessionId:u}=$r(),f=t.find(d=>d.id===u);return f?c.jsx(J0e,{session:f,equipment:e,models:n,sites:r,departments:a,countries:i,onBack:o}):c.jsx("h2",{children:"Session d'audit non trouvée"})},Z0e=({onLogout:t})=>{var Ne,de,ie,Oe;const{state:e,dispatch:n}=l3(),r=Ed(),a=`#${r.pathname}${r.search}`,{addToast:i}=Wn(),o=700,u=.15,[f,d]=j.useState(!1),[p,h]=j.useState(new Set),[y,x]=j.useState(new Set),[T,w]=j.useState(!1),[A,C]=j.useState(!1),[M,_]=j.useState(null),[k,N]=j.useState(null),[I,P]=j.useState(null);j.useEffect(()=>{w(!1)},[r.pathname]);const L=j.useMemo(()=>{const X=r.pathname;return X.includes("/assign")||X.includes("/return")||X.includes("/new")||X.includes("/edit")||X.includes("/import")},[r.pathname]),D=e.currentUser,q=D.role===_e.MANAGER,U=D.role!==_e.EMPLOYEE,R=j.useMemo(()=>e.users.filter(X=>X.managerId===D.id),[e.users,D.id]),B=j.useMemo(()=>new Set([D.id,...R.map(X=>X.id)]),[D.id,R]),G=j.useMemo(()=>{if(!q)return e.users;const X=new Map;return X.set(D.id,D),R.forEach(ve=>X.set(ve.id,ve)),Array.from(X.values())},[q,e.users,D,R]),W=j.useMemo(()=>q?e.assignments.filter(X=>B.has(X.userId)||B.has(X.managerId)):e.assignments,[q,e.assignments,B]),V=j.useMemo(()=>{if(!q)return e.equipment;const X=new Set(W.map(pe=>pe.equipmentId)),ve=new Set(W.map(pe=>pe.id));return e.equipment.filter(pe=>X.has(pe.id)||(pe.pendingAssignmentId?ve.has(pe.pendingAssignmentId):!1))},[q,e.equipment,W]),K=j.useMemo(()=>W.filter(X=>{const ve=V.find(ut=>ut.id===X.equipmentId);if(!ve||ve.status!==qe.PENDING_VALIDATION||X.status!==Ut.PENDING||!X.validation)return!1;const pe=X.validation,Le=X.action===Ge.ASSIGN,Qe=Le?!pe.manager&&pe.it:!pe.manager&&pe.it&&pe.user;if(D.id===X.managerId&&Qe)return!0;const lt=Le?pe.it&&pe.manager&&!pe.user:pe.it&&!pe.user;return!!(D.id===X.userId&&lt||D.role===_e.ADMIN&&!pe.it)}).length,[W,V,D]),Y=(X,ve,pe)=>{D&&n({type:"LOG_AUDIT_EVENT",payload:{user:D,action:X,entityType:ve,entityName:pe}})},te=async X=>{n({type:"SAVE_EQUIPMENT",payload:X}),Y(X.id?"update":"create","equipment",X.name||X.assetTag||"N/A"),window.location.hash=X.id?`#/equipment/${X.id}`:"#/inventory"},re=async X=>{const{avatarFile:ve,...pe}=X;let Le=pe.avatarUrl;ve&&(Le=URL.createObjectURL(ve)),n({type:"SAVE_USER",payload:{...pe,avatarUrl:Le}}),Y(pe.id?"update":"create","user",pe.name||"N/A"),window.location.hash=pe.id?`#/users/${pe.id}`:"#/users"},$=()=>{const{id:X}=$r(),ve=e.equipment.find(pe=>pe.id===X);return ve?c.jsx(rI,{onSave:te,onBack:()=>window.history.back(),categories:e.categories,models:e.models,countries:e.countries,sites:e.sites,departments:e.departments,initialData:ve}):c.jsx("h2",{children:"Équipement non trouvé"})},z=()=>{const{id:X}=$r(),ve=e.users.find(pe=>pe.id===X);return ve?c.jsx(aI,{onSave:re,onBack:()=>window.history.back(),users:e.users,initialData:ve}):c.jsx("h2",{children:"Utilisateur non trouvé"})},H=()=>{const{id:X}=$r(),ve=e.categories.find(pe=>pe.id===X);return ve?c.jsx(iI,{onSave:async pe=>{n({type:"SAVE_CATEGORY",payload:pe}),Y(pe.id?"update":"create","category",pe.name),window.location.hash="#/management"},onBack:()=>window.history.back(),initialData:ve}):c.jsx("h2",{children:"Catégorie non trouvée"})},Q=()=>{const[X]=mz(),ve=X.get("categoryId");return c.jsx(sI,{onSave:async pe=>{n({type:"SAVE_MODEL",payload:pe}),Y(pe.id?"update":"create","model",pe.modelName),window.location.hash="#/management"},onBack:()=>window.history.back(),categories:e.categories,initialData:{categoryId:ve||""}})},se=()=>{const{id:X}=$r(),ve=e.models.find(pe=>pe.id===X);return ve?c.jsx(sI,{onSave:async pe=>{n({type:"SAVE_MODEL",payload:pe}),Y(pe.id?"update":"create","model",pe.modelName),window.location.hash="#/management"},onBack:()=>window.history.back(),categories:e.categories,initialData:ve}):c.jsx("h2",{children:"Modèle non trouvé"})},we=async X=>{n({type:"SAVE_ASSIGNMENT",payload:X});const ve=X.validation||{it:!1,manager:!1,user:!1},pe=X.action===Ge.ASSIGN;let Le=null;ve.it?pe?ve.manager?ve.user||(Le="Utilisateur"):Le="Responsable":ve.user?ve.manager||(Le="Responsable"):Le="Utilisateur":Le="Admin IT",Le==="Admin IT"&&D.role===_e.ADMIN?i("Demande créée. Validez maintenant en tant qu'Admin IT.","info",{actionLabel:"Valider",onAction:()=>{window.location.hash="#/pending-approvals"}}):i(Le?`Demande créée. Notification envoyée à ${Le}.`:"Demande créée.","info"),window.location.hash="#/dashboard"},Te=(X,ve)=>{const pe=e.assignments.find(Qe=>Qe.id===X);if(!pe||q&&pe.managerId!==D.id)return;const Le=ve||(D.id===pe.managerId?"manager":D.id===pe.userId?"user":D.role===_e.ADMIN?"it":"user");n({type:"APPROVE_ASSIGNMENT",payload:{assignmentId:X,currentUser:D,actor:Le}}),i("Validation enregistrée","success",{actionLabel:"Annuler",onAction:()=>n({type:"REVERT_ASSIGNMENT_VALIDATION",payload:{assignmentId:X,actor:Le}})});try{const Qe={...pe.validation||{it:!1,manager:!1,user:!1}};Qe[Le]=!0;const lt=pe.action===Ge.ASSIGN;let ut=null;lt?Qe.it?Qe.manager?Qe.user||(ut="Utilisateur"):ut="Responsable":ut="Admin IT":Qe.it?Qe.user?Qe.manager||(ut="Responsable"):ut="Utilisateur":ut="Admin IT",Qe.it;const Bt=e.equipment.find(Mn=>Mn.id===pe.equipmentId);Bt&&n({type:"LOG_AUDIT_EVENT",payload:{user:D,action:"update",entityType:"equipment",entityName:Bt.assetTag}}),Qe.it&&Qe.manager&&Qe.user?i("Processus complété.","success"):ut&&i(`Notification envoyée à ${ut}.`,"info")}catch{}setTimeout(()=>{Math.random()<u&&(n({type:"REVERT_ASSIGNMENT_VALIDATION",payload:{assignmentId:X,actor:Le}}),i("Erreur réseau: validation annulée, restauration effectuée.","error",{actionLabel:"Réessayer",onAction:()=>Te(X,Le)}))},o)},je=(X,ve)=>{const pe=e.assignments.find(Le=>Le.id===X);pe&&(q&&pe.managerId!==D.id||(n({type:"REJECT_ASSIGNMENT",payload:{assignmentId:X,reason:ve}}),i("Demande rejetée","info",{actionLabel:"Annuler",onAction:()=>n({type:"RESTORE_REJECTED_ASSIGNMENT",payload:{assignmentId:X}})}),setTimeout(()=>{Math.random()<u&&(n({type:"RESTORE_REJECTED_ASSIGNMENT",payload:{assignmentId:X}}),i("Erreur réseau: rejet annulé, restauration effectuée.","error",{actionLabel:"Réessayer",onAction:()=>je(X,ve)}))},o)))},me=X=>{n({type:"SAVE_EQUIPMENT",payload:X})};return c.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 font-sans",children:[c.jsx(m7,{currentUser:D,activeHash:a,isCollapsed:f,onToggle:()=>d(X=>!X),onOpenSettings:()=>C(!0),onLogout:t,pendingApprovalsCount:K}),c.jsx("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:c.jsxs(lz,{children:[c.jsx(Ze,{path:"/dashboard",element:c.jsx(j7,{currentUser:D,assignments:W,equipment:V,users:G,models:e.models,categories:e.categories,auditLog:e.auditLog,editHistory:e.editHistory,onAddEquipment:()=>window.location.hash="#/equipment/new",onShowPendingApprovals:()=>window.location.hash="#/pending-approvals",isLoading:!1,onOpenSettings:()=>C(!0)})}),c.jsx(Ze,{path:"/inventory",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(lee,{equipment:e.equipment,models:e.models,categories:e.categories,assignments:e.assignments,users:e.users,onAdd:()=>window.location.hash="#/equipment/new",onImport:()=>window.location.hash="#/equipment/import",canAdd:D.role===_e.ADMIN,onEdit:X=>window.location.hash=`#/equipment/${X}/edit`,onDelete:X=>{const ve=e.equipment.find(pe=>pe.id===X);if(ve){const pe=e.models.find(Le=>Le.id===ve.modelId);Y("delete","equipment",(pe==null?void 0:pe.name)||ve.assetTag)}n({type:"DELETE_EQUIPMENT",payload:X})},selectedIds:p,onSelectedIdsChange:h,onBulkDelete:X=>n({type:"BULK_DELETE_EQUIPMENT",payload:X}),onBulkUpdateStatus:(X,ve)=>n({type:"BULK_UPDATE_STATUS",payload:{ids:X,status:ve}}),onBulkUpdateLocation:(X,ve)=>n({type:"BULK_UPDATE_LOCATION",payload:{ids:X,location:ve}}),isLoading:!1,currentUser:D})}),c.jsx(Ze,{path:"/users",element:c.jsx(cee,{users:G,onAdd:()=>window.location.hash="#/users/new",isLoading:!1,canAdd:D.role===_e.ADMIN,onEdit:X=>window.location.hash=`#/users/${X}/edit`,onDelete:X=>{const ve=e.users.find(pe=>pe.id===X);ve&&Y("delete","user",ve.name),n({type:"DELETE_USER",payload:X})},currentUser:D,selectedIds:y,onSelectedIdsChange:x,onBulkDelete:X=>{n({type:"BULK_DELETE_USERS",payload:X}),x(new Set)}})}),c.jsx(Ze,{path:"/equipment/:id",element:c.jsx(M0e,{assignments:W,equipmentList:V,users:G,currentUser:D,models:e.models,categories:e.categories,editHistory:e.editHistory,sites:e.sites,departments:e.departments,onBack:()=>window.history.back(),onEdit:X=>window.location.hash=`#/equipment/${X}/edit`,onDelete:X=>{const ve=e.equipment.find(pe=>pe.id===X);if(ve){const pe=e.models.find(Le=>Le.id===ve.modelId);Y("delete","equipment",(pe==null?void 0:pe.name)||ve.assetTag)}n({type:"DELETE_EQUIPMENT",payload:X}),window.location.hash="#/inventory"},onApprove:(X,ve)=>n({type:"APPROVE_ASSIGNMENT",payload:{assignmentId:X,currentUser:D,actor:ve}}),onReject:(X,ve)=>n({type:"REJECT_ASSIGNMENT",payload:{assignmentId:X,reason:ve}})})}),c.jsx(Ze,{path:"/users/:id",element:c.jsx(O0e,{assignments:W,equipment:V,users:G,models:e.models,categories:e.categories,currentUser:D,editHistory:e.editHistory,onBack:()=>window.location.hash="#/users",onEdit:X=>window.location.hash=`#/users/${X}/edit`,onDelete:X=>{const ve=e.users.find(pe=>pe.id===X);ve&&Y("delete","user",ve.name),n({type:"DELETE_USER",payload:X}),window.location.hash="#/users"},onManagePassword:X=>{var ve;return _({userId:X,existingPassword:(ve=e.users.find(pe=>pe.id===X))==null?void 0:ve.password})},onManagePin:X=>{var ve;return N({userId:X,existingPin:(ve=e.users.find(pe=>pe.id===X))==null?void 0:ve.pin})},onRegisterFingerprint:X=>P({userId:X})})}),c.jsx(Ze,{path:"/equipment/new",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(rI,{onSave:te,onBack:()=>window.history.back(),categories:e.categories,models:e.models,countries:e.countries,sites:e.sites,departments:e.departments})}),c.jsx(Ze,{path:"/equipment/import",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(o0e,{onImport:async X=>{n({type:"IMPORT_EQUIPMENT",payload:X}),window.location.hash="#/inventory"},onBack:()=>window.history.back(),models:e.models})}),c.jsx(Ze,{path:"/equipment/:id/edit",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx($,{})}),c.jsx(Ze,{path:"/users/new",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(aI,{onSave:re,onBack:()=>window.history.back(),users:e.users})}),c.jsx(Ze,{path:"/users/import",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(d0e,{users:e.users,onImport:async X=>{n({type:"IMPORT_USERS",payload:X}),window.location.hash="#/users"},onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/users/:id/edit",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(z,{})}),c.jsx(Ze,{path:"/assign/*",element:c.jsx(V0e,{equipment:e.equipment,users:e.users,currentUser:D,models:e.models,categories:e.categories,assignments:e.assignments,onSubmit:we,onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/return",element:c.jsx(dq,{equipment:e.equipment,users:e.users,currentUser:D,models:e.models,categories:e.categories,assignments:e.assignments,onSubmit:we,onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/return/equipment/:equipmentId",element:c.jsx(dq,{equipment:e.equipment,users:e.users,currentUser:D,models:e.models,categories:e.categories,assignments:e.assignments,onSubmit:we,onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/pending-approvals",element:c.jsx(z0e,{assignments:W,equipment:V,models:e.models,categories:e.categories,users:G,currentUser:D,onApprove:Te,onReject:je,onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/management",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(hee,{categories:e.categories,models:e.models,equipment:e.equipment,onAddCategory:()=>window.location.hash="#/categories/new",onAddModel:()=>window.location.hash="#/models/new",onViewCategory:X=>window.location.hash=`#/categories/${X}`,onSelectModel:X=>window.location.hash=`#/models/${X}`})}),c.jsx(Ze,{path:"/locations",element:c.jsx(gee,{countries:e.countries,sites:e.sites,departments:e.departments,dispatch:n,logAuditEvent:Y})}),c.jsx(Ze,{path:"/locations/import",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(v0e,{countries:e.countries,sites:e.sites,onImport:async X=>{n({type:"IMPORT_LOCATIONS",payload:X}),window.location.hash="#/locations"},onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/categories/new",element:c.jsx(iI,{onSave:async X=>{n({type:"SAVE_CATEGORY",payload:X}),Y(X.id?"update":"create","category",X.name),window.location.hash="#/management"},onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/categories/:id",element:c.jsx(D0e,{categories:e.categories,models:e.models,equipment:e.equipment,users:e.users,currentUser:D,onBack:()=>window.location.hash="#/management",onEdit:X=>window.location.hash=`#/categories/${X}/edit`,onDelete:X=>{const ve=e.categories.find(pe=>pe.id===X);ve&&Y("delete","category",ve.name),n({type:"DELETE_CATEGORY",payload:X}),window.location.hash="#/management"},onSelectEquipment:X=>window.location.hash=`#/equipment/${X}`,onSelectModel:X=>window.location.hash=`#/models/${X}`})}),c.jsx(Ze,{path:"/categories/:id/edit",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(H,{})}),c.jsx(Ze,{path:"/models/new",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Q,{})}),c.jsx(Ze,{path:"/models/import",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(m0e,{categories:e.categories,onImport:async X=>{n({type:"IMPORT_MODELS",payload:X}),window.location.hash="#/management"},onBack:()=>window.history.back()})}),c.jsx(Ze,{path:"/models/:id",element:c.jsx(q0e,{models:e.models,categories:e.categories,equipment:e.equipment,assignments:e.assignments,users:e.users,currentUser:D,onBack:()=>window.location.hash="#/management",onEdit:X=>window.location.hash=`#/models/${X}/edit`,onDelete:X=>{const ve=e.models.find(pe=>pe.id===X);ve&&Y("delete","model",ve.name),n({type:"DELETE_MODEL",payload:X}),window.location.hash="#/management"},onSelectEquipment:X=>window.location.hash=`#/equipment/${X}`})}),c.jsx(Ze,{path:"/models/:id/edit",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(se,{})}),c.jsx(Ze,{path:"/reports",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(vee,{equipment:e.equipment,assignments:e.assignments,users:e.users,models:e.models,categories:e.categories,currentUser:D})}),c.jsx(Ze,{path:"/audit",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(bee,{equipment:e.equipment,currentUser:D,sites:e.sites,departments:e.departments,countries:e.countries,auditSessions:e.auditSessions,dispatch:n})}),c.jsx(Ze,{path:"/audit/overview",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Zye,{auditSessions:e.auditSessions,equipment:e.equipment,countries:e.countries,sites:e.sites,departments:e.departments,users:e.users})}),c.jsx(Ze,{path:"/audit/session/:sessionId",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(X0e,{auditSessions:e.auditSessions,equipment:e.equipment,models:e.models,categories:e.categories,sites:e.sites,departments:e.departments,countries:e.countries,onBack:()=>window.location.hash="#/audit",onUpdateEquipment:me,dispatch:n})}),c.jsx(Ze,{path:"/audit/report/:sessionId",element:q?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Q0e,{auditSessions:e.auditSessions,equipment:e.equipment,models:e.models,sites:e.sites,departments:e.departments,countries:e.countries,onBack:()=>window.location.hash="#/audit"})}),c.jsx(Ze,{path:"/profile",element:c.jsx(t0e,{currentUser:D,onBack:()=>window.history.back(),onEdit:X=>window.location.hash=`#/users/${X}/edit`,onLogout:t,onManagePassword:X=>_({userId:X,existingPassword:D.password}),onManagePin:X=>N({userId:X,existingPin:D.pin})})}),c.jsx(Ze,{path:"/settings/about",element:c.jsx(x0e,{})}),c.jsx(Ze,{path:"/settings/notifications",element:c.jsx(b0e,{})}),c.jsx(Ze,{path:"/settings/data",element:c.jsx(S0e,{})}),c.jsx(Ze,{path:"/settings/help",element:c.jsx(w0e,{})}),c.jsx(Ze,{path:"/settings/whats-new",element:c.jsx(A0e,{})}),c.jsx(Ze,{path:"*",element:c.jsx(vn,{to:"/dashboard",replace:!0})})]})}),!L&&c.jsx(y7,{activeHash:a,showFullNav:U,role:D.role,onMoreClick:()=>w(!0),pendingApprovalsCount:K}),c.jsx(a0e,{isOpen:T,onClose:()=>w(!1),onNavigate:X=>window.location.hash=X,role:D.role}),c.jsx(u0e,{isOpen:A,onClose:()=>C(!1),currentUser:D,onLogout:t}),c.jsx(aee,{isOpen:!!M,onClose:()=>_(null),onSave:X=>{M&&(n({type:"SAVE_PASSWORD",payload:{userId:M.userId,password:X}}),_(null))},userName:((Ne=e.users.find(X=>X.id===(M==null?void 0:M.userId)))==null?void 0:Ne.name)||"",existingPassword:M==null?void 0:M.existingPassword}),c.jsx(nee,{isOpen:!!k,onClose:()=>N(null),onSave:X=>{k&&(n({type:"SAVE_PIN",payload:{userId:k.userId,pin:X}}),N(null))},userName:((de=e.users.find(X=>X.id===(k==null?void 0:k.userId)))==null?void 0:de.name)||"",existingPin:k==null?void 0:k.existingPin}),c.jsx(tee,{isOpen:!!I,onClose:()=>P(null),onSave:X=>{I&&n({type:"SAVE_WEBAUTHN_CREDENTIAL",payload:{userId:I.userId,credentialId:X}}),P(null)},userId:(I==null?void 0:I.userId)||"",userName:((ie=e.users.find(X=>X.id===(I==null?void 0:I.userId)))==null?void 0:ie.name)||"",existingCredentialId:(Oe=e.users.find(X=>X.id===(I==null?void 0:I.userId)))==null?void 0:Oe.webauthnCredentialId})]})},eve=()=>{const{state:t,dispatch:e}=l3(),n=a=>{e({type:"LOGIN_SUCCESS",payload:a}),window.location.hash="#/dashboard"},r=()=>{e({type:"LOGOUT"})};return t.currentUser?c.jsx(Z0e,{onLogout:r}):c.jsx(h0e,{users:t.users,onLoginSuccess:n})},tve=()=>c.jsx(f7,{children:c.jsx(l7,{children:c.jsx(W9,{children:c.jsx(o7,{children:c.jsx(fz,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsx(eve,{})})})})})});d7();const W$=document.getElementById("root");if(!W$)throw new Error("Could not find root element to mount to");const nve=yF.createRoot(W$);nve.render(c.jsx(Z.StrictMode,{children:c.jsx(tve,{})}));

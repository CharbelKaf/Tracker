function ZV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nv={exports:{}},Yu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function eF(){if(UC)return Yu;UC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var u in a)u!=="key"&&(i[u]=a[u])}else i=a;return a=i.ref,{$$typeof:t,type:r,key:o,ref:a!==void 0?a:null,props:i}}return Yu.Fragment=e,Yu.jsx=n,Yu.jsxs=n,Yu}var BC;function tF(){return BC||(BC=1,nv.exports=eF()),nv.exports}var c=tF(),rv={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C;function nF(){if($C)return He;$C=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),y=Symbol.iterator;function x(V){return V===null||typeof V!="object"?null:(V=y&&V[y]||V["@@iterator"],typeof V=="function"?V:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function C(V,z,Y){this.props=V,this.context=z,this.refs=A,this.updater=Y||T}C.prototype.isReactComponent={},C.prototype.setState=function(V,z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,z,"setState")},C.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function j(){}j.prototype=C.prototype;function _(V,z,Y){this.props=V,this.context=z,this.refs=A,this.updater=Y||T}var M=_.prototype=new j;M.constructor=_,w(M,C.prototype),M.isPureReactComponent=!0;var N=Array.isArray;function k(){}var P={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function L(V,z,Y){var ee=Y.ref;return{$$typeof:t,type:V,key:z,ref:ee!==void 0?ee:null,props:Y}}function U(V,z){return L(V.type,z,V.props)}function q(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function D(V){var z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(Y){return z[Y]})}var $=/\/+/g;function H(V,z){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):z.toString(36)}function J(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(k,k):(V.status="pending",V.then(function(z){V.status==="pending"&&(V.status="fulfilled",V.value=z)},function(z){V.status==="pending"&&(V.status="rejected",V.reason=z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function B(V,z,Y,ee,le){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var Te=!1;if(V===null)Te=!0;else switch(xe){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(V.$$typeof){case t:case e:Te=!0;break;case p:return Te=V._init,B(Te(V._payload),z,Y,ee,le)}}if(Te)return le=le(V),Te=ee===""?"."+H(V,0):ee,N(le)?(Y="",Te!=null&&(Y=Te.replace($,"$&/")+"/"),B(le,z,Y,"",function(Ce){return Ce})):le!=null&&(q(le)&&(le=U(le,Y+(le.key==null||V&&V.key===le.key?"":(""+le.key).replace($,"$&/")+"/")+Te)),z.push(le)),1;Te=0;var _e=ee===""?".":ee+":";if(N(V))for(var ce=0;ce<V.length;ce++)ee=V[ce],xe=_e+H(ee,ce),Te+=B(ee,z,Y,xe,le);else if(ce=x(V),typeof ce=="function")for(V=ce.call(V),ce=0;!(ee=V.next()).done;)ee=ee.value,xe=_e+H(ee,ce++),Te+=B(ee,z,Y,xe,le);else if(xe==="object"){if(typeof V.then=="function")return B(J(V),z,Y,ee,le);throw z=String(V),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(V,z,Y){if(V==null)return V;var ee=[],le=0;return B(V,ee,"","",function(xe){return z.call(Y,xe,le++)}),ee}function W(V){if(V._status===-1){var z=V._result;z=z(),z.then(function(Y){(V._status===0||V._status===-1)&&(V._status=1,V._result=Y)},function(Y){(V._status===0||V._status===-1)&&(V._status=2,V._result=Y)}),V._status===-1&&(V._status=0,V._result=z)}if(V._status===1)return V._result.default;throw V._result}var re=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},X={map:K,forEach:function(V,z,Y){K(V,function(){z.apply(this,arguments)},Y)},count:function(V){var z=0;return K(V,function(){z++}),z},toArray:function(V){return K(V,function(z){return z})||[]},only:function(V){if(!q(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return He.Activity=h,He.Children=X,He.Component=C,He.Fragment=n,He.Profiler=a,He.PureComponent=_,He.StrictMode=r,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,He.__COMPILER_RUNTIME={__proto__:null,c:function(V){return P.H.useMemoCache(V)}},He.cache=function(V){return function(){return V.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(V,z,Y){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ee=w({},V.props),le=V.key;if(z!=null)for(xe in z.key!==void 0&&(le=""+z.key),z)!R.call(z,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&z.ref===void 0||(ee[xe]=z[xe]);var xe=arguments.length-2;if(xe===1)ee.children=Y;else if(1<xe){for(var Te=Array(xe),_e=0;_e<xe;_e++)Te[_e]=arguments[_e+2];ee.children=Te}return L(V.type,le,ee)},He.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:i,_context:V},V},He.createElement=function(V,z,Y){var ee,le={},xe=null;if(z!=null)for(ee in z.key!==void 0&&(xe=""+z.key),z)R.call(z,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(le[ee]=z[ee]);var Te=arguments.length-2;if(Te===1)le.children=Y;else if(1<Te){for(var _e=Array(Te),ce=0;ce<Te;ce++)_e[ce]=arguments[ce+2];le.children=_e}if(V&&V.defaultProps)for(ee in Te=V.defaultProps,Te)le[ee]===void 0&&(le[ee]=Te[ee]);return L(V,xe,le)},He.createRef=function(){return{current:null}},He.forwardRef=function(V){return{$$typeof:u,render:V}},He.isValidElement=q,He.lazy=function(V){return{$$typeof:p,_payload:{_status:-1,_result:V},_init:W}},He.memo=function(V,z){return{$$typeof:d,type:V,compare:z===void 0?null:z}},He.startTransition=function(V){var z=P.T,Y={};P.T=Y;try{var ee=V(),le=P.S;le!==null&&le(Y,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(k,re)}catch(xe){re(xe)}finally{z!==null&&Y.types!==null&&(z.types=Y.types),P.T=z}},He.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},He.use=function(V){return P.H.use(V)},He.useActionState=function(V,z,Y){return P.H.useActionState(V,z,Y)},He.useCallback=function(V,z){return P.H.useCallback(V,z)},He.useContext=function(V){return P.H.useContext(V)},He.useDebugValue=function(){},He.useDeferredValue=function(V,z){return P.H.useDeferredValue(V,z)},He.useEffect=function(V,z){return P.H.useEffect(V,z)},He.useEffectEvent=function(V){return P.H.useEffectEvent(V)},He.useId=function(){return P.H.useId()},He.useImperativeHandle=function(V,z,Y){return P.H.useImperativeHandle(V,z,Y)},He.useInsertionEffect=function(V,z){return P.H.useInsertionEffect(V,z)},He.useLayoutEffect=function(V,z){return P.H.useLayoutEffect(V,z)},He.useMemo=function(V,z){return P.H.useMemo(V,z)},He.useOptimistic=function(V,z){return P.H.useOptimistic(V,z)},He.useReducer=function(V,z,Y){return P.H.useReducer(V,z,Y)},He.useRef=function(V){return P.H.useRef(V)},He.useState=function(V){return P.H.useState(V)},He.useSyncExternalStore=function(V,z,Y){return P.H.useSyncExternalStore(V,z,Y)},He.useTransition=function(){return P.H.useTransition()},He.version="19.2.0",He}var VC;function KA(){return VC||(VC=1,rv.exports=nF()),rv.exports}var I=KA();const te=ht(I),YA=ZV({__proto__:null,default:te},[I]);var av={exports:{}},Wu={},iv={exports:{}},sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function rF(){return FC||(FC=1,(function(t){function e(B,K){var W=B.length;B.push(K);e:for(;0<W;){var re=W-1>>>1,X=B[re];if(0<a(X,K))B[re]=K,B[W]=X,W=re;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var K=B[0],W=B.pop();if(W!==K){B[0]=W;e:for(var re=0,X=B.length,V=X>>>1;re<V;){var z=2*(re+1)-1,Y=B[z],ee=z+1,le=B[ee];if(0>a(Y,W))ee<X&&0>a(le,Y)?(B[re]=le,B[ee]=W,re=ee):(B[re]=Y,B[z]=W,re=z);else if(ee<X&&0>a(le,W))B[re]=le,B[ee]=W,re=ee;else break e}}return K}function a(B,K){var W=B.sortIndex-K.sortIndex;return W!==0?W:B.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var f=[],d=[],p=1,h=null,y=3,x=!1,T=!1,w=!1,A=!1,C=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function M(B){for(var K=n(d);K!==null;){if(K.callback===null)r(d);else if(K.startTime<=B)r(d),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(d)}}function N(B){if(w=!1,M(B),!T)if(n(f)!==null)T=!0,k||(k=!0,D());else{var K=n(d);K!==null&&J(N,K.startTime-B)}}var k=!1,P=-1,R=5,L=-1;function U(){return A?!0:!(t.unstable_now()-L<R)}function q(){if(A=!1,k){var B=t.unstable_now();L=B;var K=!0;try{e:{T=!1,w&&(w=!1,j(P),P=-1),x=!0;var W=y;try{t:{for(M(B),h=n(f);h!==null&&!(h.expirationTime>B&&U());){var re=h.callback;if(typeof re=="function"){h.callback=null,y=h.priorityLevel;var X=re(h.expirationTime<=B);if(B=t.unstable_now(),typeof X=="function"){h.callback=X,M(B),K=!0;break t}h===n(f)&&r(f),M(B)}else r(f);h=n(f)}if(h!==null)K=!0;else{var V=n(d);V!==null&&J(N,V.startTime-B),K=!1}}break e}finally{h=null,y=W,x=!1}K=void 0}}finally{K?D():k=!1}}}var D;if(typeof _=="function")D=function(){_(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,H=$.port2;$.port1.onmessage=q,D=function(){H.postMessage(null)}}else D=function(){C(q,0)};function J(B,K){P=C(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(B){switch(y){case 1:case 2:case 3:var K=3;break;default:K=y}var W=y;y=K;try{return B()}finally{y=W}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=y;y=B;try{return K()}finally{y=W}},t.unstable_scheduleCallback=function(B,K,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,B){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,B={id:p++,callback:K,priorityLevel:B,startTime:W,expirationTime:X,sortIndex:-1},W>re?(B.sortIndex=W,e(d,B),n(f)===null&&B===n(d)&&(w?(j(P),P=-1):w=!0,J(N,W-re))):(B.sortIndex=X,e(f,B),T||x||(T=!0,k||(k=!0,D()))),B},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(B){var K=y;return function(){var W=y;y=K;try{return B.apply(this,arguments)}finally{y=W}}}})(sv)),sv}var zC;function aF(){return zC||(zC=1,iv.exports=rF()),iv.exports}var ov={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC;function iF(){if(GC)return Un;GC=1;var t=KA();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(f,d,p){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:h==null?null:""+h,children:f,containerInfo:d,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Un.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(f,d,null,p)},Un.flushSync=function(f){var d=o.T,p=r.p;try{if(o.T=null,r.p=2,f)return f()}finally{o.T=d,r.p=p,r.d.f()}},Un.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},Un.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Un.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,h=u(p,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:h,integrity:y,fetchPriority:x}):p==="script"&&r.d.X(f,{crossOrigin:h,integrity:y,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Un.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},Un.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,h=u(p,d.crossOrigin);r.d.L(f,p,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Un.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},Un.requestFormReset=function(f){r.d.r(f)},Un.unstable_batchedUpdates=function(f,d){return f(d)},Un.useFormState=function(f,d,p){return o.H.useFormState(f,d,p)},Un.useFormStatus=function(){return o.H.useHostTransitionStatus()},Un.version="19.2.0",Un}var HC;function iq(){if(HC)return ov.exports;HC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ov.exports=iF(),ov.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KC;function sF(){if(KC)return Wu;KC=1;var t=aF(),e=KA(),n=iq();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)l+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function i(s){var l=s,m=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(m=l.return),s=l.return;while(s)}return l.tag===3?m:null}function o(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function u(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function f(s){if(i(s)!==s)throw Error(r(188))}function d(s){var l=s.alternate;if(!l){if(l=i(s),l===null)throw Error(r(188));return l!==s?null:s}for(var m=s,g=l;;){var b=m.return;if(b===null)break;var E=b.alternate;if(E===null){if(g=b.return,g!==null){m=g;continue}break}if(b.child===E.child){for(E=b.child;E;){if(E===m)return f(b),s;if(E===g)return f(b),l;E=E.sibling}throw Error(r(188))}if(m.return!==g.return)m=b,g=E;else{for(var O=!1,F=b.child;F;){if(F===m){O=!0,m=b,g=E;break}if(F===g){O=!0,g=b,m=E;break}F=F.sibling}if(!O){for(F=E.child;F;){if(F===m){O=!0,m=E,g=b;break}if(F===g){O=!0,g=E,m=b;break}F=F.sibling}if(!O)throw Error(r(189))}}if(m.alternate!==g)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:l}function p(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=p(s),l!==null)return l;s=s.sibling}return null}var h=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),_=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var $=Symbol.for("react.client.reference");function H(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===$?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case w:return"Fragment";case C:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case k:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case _:return s.displayName||"Context";case j:return(s._context.displayName||"Context")+".Consumer";case M:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return l=s.displayName||null,l!==null?l:H(s.type)||"Memo";case R:l=s._payload,s=s._init;try{return H(s(l))}catch{}}return null}var J=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},re=[],X=-1;function V(s){return{current:s}}function z(s){0>X||(s.current=re[X],re[X]=null,X--)}function Y(s,l){X++,re[X]=s.current,s.current=l}var ee=V(null),le=V(null),xe=V(null),Te=V(null);function _e(s,l){switch(Y(xe,l),Y(le,s),Y(ee,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?lC(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=lC(l),s=uC(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}z(ee),Y(ee,s)}function ce(){z(ee),z(le),z(xe)}function Ce(s){s.memoizedState!==null&&Y(Te,s);var l=ee.current,m=uC(l,s.type);l!==m&&(Y(le,s),Y(ee,m))}function G(s){le.current===s&&(z(ee),z(le)),Te.current===s&&(z(Te),zu._currentValue=W)}var Z,de;function Se(s){if(Z===void 0)try{throw Error()}catch(m){var l=m.stack.trim().match(/\n( *(at )?)/);Z=l&&l[1]||"",de=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Z+s+de}var Oe=!1;function $e(s,l){if(!s||Oe)return"";Oe=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(l){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(fe){var ue=fe}Reflect.construct(s,[],ye)}else{try{ye.call()}catch(fe){ue=fe}s.call(ye.prototype)}}else{try{throw Error()}catch(fe){ue=fe}(ye=s())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(fe){if(fe&&ue&&typeof fe.stack=="string")return[fe.stack,ue.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=g.DetermineComponentFrameRoot(),O=E[0],F=E[1];if(O&&F){var Q=O.split(`
`),oe=F.split(`
`);for(b=g=0;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;for(;b<oe.length&&!oe[b].includes("DetermineComponentFrameRoot");)b++;if(g===Q.length||b===oe.length)for(g=Q.length-1,b=oe.length-1;1<=g&&0<=b&&Q[g]!==oe[b];)b--;for(;1<=g&&0<=b;g--,b--)if(Q[g]!==oe[b]){if(g!==1||b!==1)do if(g--,b--,0>b||Q[g]!==oe[b]){var pe=`
`+Q[g].replace(" at new "," at ");return s.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",s.displayName)),pe}while(1<=g&&0<=b);break}}}finally{Oe=!1,Error.prepareStackTrace=m}return(m=s?s.displayName||s.name:"")?Se(m):""}function Je(s,l){switch(s.tag){case 26:case 27:case 5:return Se(s.type);case 16:return Se("Lazy");case 13:return s.child!==l&&l!==null?Se("Suspense Fallback"):Se("Suspense");case 19:return Se("SuspenseList");case 0:case 15:return $e(s.type,!1);case 11:return $e(s.type.render,!1);case 1:return $e(s.type,!0);case 31:return Se("Activity");default:return""}}function vt(s){try{var l="",m=null;do l+=Je(s,m),m=s,s=s.return;while(s);return l}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var It=Object.prototype.hasOwnProperty,Qt=t.unstable_scheduleCallback,Gt=t.unstable_cancelCallback,rn=t.unstable_shouldYield,Gn=t.unstable_requestPaint,ne=t.unstable_now,ve=t.unstable_getCurrentPriorityLevel,we=t.unstable_ImmediatePriority,Ee=t.unstable_UserBlockingPriority,me=t.unstable_NormalPriority,Me=t.unstable_LowPriority,kt=t.unstable_IdlePriority,pn=t.log,Pt=t.unstable_setDisableYieldValue,at=null,$t=null;function hn(s){if(typeof pn=="function"&&Pt(s),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(at,s)}catch{}}var gn=Math.clz32?Math.clz32:Fd,Gh=Math.log,Hh=Math.LN2;function Fd(s){return s>>>=0,s===0?32:31-(Gh(s)/Hh|0)|0}var io=256,es=262144,be=4194304;function Ge(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xt(s,l,m){var g=s.pendingLanes;if(g===0)return 0;var b=0,E=s.suspendedLanes,O=s.pingedLanes;s=s.warmLanes;var F=g&134217727;return F!==0?(g=F&~E,g!==0?b=Ge(g):(O&=F,O!==0?b=Ge(O):m||(m=F&~s,m!==0&&(b=Ge(m))))):(F=g&~E,F!==0?b=Ge(F):O!==0?b=Ge(O):m||(m=g&~s,m!==0&&(b=Ge(m)))),b===0?0:l!==0&&l!==b&&(l&E)===0&&(E=b&-b,m=l&-l,E>=m||E===32&&(m&4194048)!==0)?l:b}function ot(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Zt(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mt(){var s=be;return be<<=1,(be&62914560)===0&&(be=4194304),s}function an(s){for(var l=[],m=0;31>m;m++)l.push(s);return l}function jn(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ui(s,l,m,g,b,E){var O=s.pendingLanes;s.pendingLanes=m,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=m,s.entangledLanes&=m,s.errorRecoveryDisabledLanes&=m,s.shellSuspendCounter=0;var F=s.entanglements,Q=s.expirationTimes,oe=s.hiddenUpdates;for(m=O&~m;0<m;){var pe=31-gn(m),ye=1<<pe;F[pe]=0,Q[pe]=-1;var ue=oe[pe];if(ue!==null)for(oe[pe]=null,pe=0;pe<ue.length;pe++){var fe=ue[pe];fe!==null&&(fe.lane&=-536870913)}m&=~ye}g!==0&&ur(s,g,0),E!==0&&b===0&&s.tag!==0&&(s.suspendedLanes|=E&~(O&~l))}function ur(s,l,m){s.pendingLanes|=l,s.suspendedLanes&=~l;var g=31-gn(l);s.entangledLanes|=l,s.entanglements[g]=s.entanglements[g]|1073741824|m&261930}function zd(s,l){var m=s.entangledLanes|=l;for(s=s.entanglements;m;){var g=31-gn(m),b=1<<g;b&l|s[g]&l&&(s[g]|=l),m&=~b}}function Gd(s,l){var m=l&-l;return m=(m&42)!==0?1:au(m),(m&(s.suspendedLanes|l))!==0?0:m}function au(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function so(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Hd(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:kC(s.type))}function YE(s,l){var m=K.p;try{return K.p=s,l()}finally{K.p=m}}var ci=Math.random().toString(36).slice(2),In="__reactFiber$"+ci,Jn="__reactProps$"+ci,oo="__reactContainer$"+ci,Kh="__reactEvents$"+ci,V$="__reactListeners$"+ci,F$="__reactHandles$"+ci,WE="__reactResources$"+ci,iu="__reactMarker$"+ci;function Yh(s){delete s[In],delete s[Jn],delete s[Kh],delete s[V$],delete s[F$]}function lo(s){var l=s[In];if(l)return l;for(var m=s.parentNode;m;){if(l=m[oo]||m[In]){if(m=l.alternate,l.child!==null||m!==null&&m.child!==null)for(s=gC(s);s!==null;){if(m=s[In])return m;s=gC(s)}return l}s=m,m=s.parentNode}return null}function uo(s){if(s=s[In]||s[oo]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function su(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function co(s){var l=s[WE];return l||(l=s[WE]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function An(s){s[iu]=!0}var XE=new Set,JE={};function ts(s,l){fo(s,l),fo(s+"Capture",l)}function fo(s,l){for(JE[s]=l,s=0;s<l.length;s++)XE.add(l[s])}var z$=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),QE={},ZE={};function G$(s){return It.call(ZE,s)?!0:It.call(QE,s)?!1:z$.test(s)?ZE[s]=!0:(QE[s]=!0,!1)}function Kd(s,l,m){if(G$(l))if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var g=l.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+m)}}function Yd(s,l,m){if(m===null)s.removeAttribute(l);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+m)}}function Aa(s,l,m,g){if(g===null)s.removeAttribute(m);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(m);return}s.setAttributeNS(l,m,""+g)}}function Er(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function e1(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function H$(s,l,m){var g=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,E=g.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return b.call(this)},set:function(O){m=""+O,E.call(this,O)}}),Object.defineProperty(s,l,{enumerable:g.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function Wh(s){if(!s._valueTracker){var l=e1(s)?"checked":"value";s._valueTracker=H$(s,l,""+s[l])}}function t1(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var m=l.getValue(),g="";return s&&(g=e1(s)?s.checked?"true":"false":s.value),s=g,s!==m?(l.setValue(s),!0):!1}function Wd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var K$=/[\n"\\]/g;function Nr(s){return s.replace(K$,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Xh(s,l,m,g,b,E,O,F){s.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.type=O:s.removeAttribute("type"),l!=null?O==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Er(l)):s.value!==""+Er(l)&&(s.value=""+Er(l)):O!=="submit"&&O!=="reset"||s.removeAttribute("value"),l!=null?Jh(s,O,Er(l)):m!=null?Jh(s,O,Er(m)):g!=null&&s.removeAttribute("value"),b==null&&E!=null&&(s.defaultChecked=!!E),b!=null&&(s.checked=b&&typeof b!="function"&&typeof b!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?s.name=""+Er(F):s.removeAttribute("name")}function n1(s,l,m,g,b,E,O,F){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.type=E),l!=null||m!=null){if(!(E!=="submit"&&E!=="reset"||l!=null)){Wh(s);return}m=m!=null?""+Er(m):"",l=l!=null?""+Er(l):m,F||l===s.value||(s.value=l),s.defaultValue=l}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=F?s.checked:!!g,s.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.name=O),Wh(s)}function Jh(s,l,m){l==="number"&&Wd(s.ownerDocument)===s||s.defaultValue===""+m||(s.defaultValue=""+m)}function mo(s,l,m,g){if(s=s.options,l){l={};for(var b=0;b<m.length;b++)l["$"+m[b]]=!0;for(m=0;m<s.length;m++)b=l.hasOwnProperty("$"+s[m].value),s[m].selected!==b&&(s[m].selected=b),b&&g&&(s[m].defaultSelected=!0)}else{for(m=""+Er(m),l=null,b=0;b<s.length;b++){if(s[b].value===m){s[b].selected=!0,g&&(s[b].defaultSelected=!0);return}l!==null||s[b].disabled||(l=s[b])}l!==null&&(l.selected=!0)}}function r1(s,l,m){if(l!=null&&(l=""+Er(l),l!==s.value&&(s.value=l),m==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=m!=null?""+Er(m):""}function a1(s,l,m,g){if(l==null){if(g!=null){if(m!=null)throw Error(r(92));if(J(g)){if(1<g.length)throw Error(r(93));g=g[0]}m=g}m==null&&(m=""),l=m}m=Er(l),s.defaultValue=m,g=s.textContent,g===m&&g!==""&&g!==null&&(s.value=g),Wh(s)}function po(s,l){if(l){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=l;return}}s.textContent=l}var Y$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function i1(s,l,m){var g=l.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?g?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":g?s.setProperty(l,m):typeof m!="number"||m===0||Y$.has(l)?l==="float"?s.cssFloat=m:s[l]=(""+m).trim():s[l]=m+"px"}function s1(s,l,m){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,m!=null){for(var g in m)!m.hasOwnProperty(g)||l!=null&&l.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var b in l)g=l[b],l.hasOwnProperty(b)&&m[b]!==g&&i1(s,b,g)}else for(var E in l)l.hasOwnProperty(E)&&i1(s,E,l[E])}function Qh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var W$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),X$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xd(s){return X$.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Ta(){}var Zh=null;function eg(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ho=null,go=null;function o1(s){var l=uo(s);if(l&&(s=l.stateNode)){var m=s[Jn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Xh(s,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),l=m.name,m.type==="radio"&&l!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Nr(""+l)+'"][type="radio"]'),l=0;l<m.length;l++){var g=m[l];if(g!==s&&g.form===s.form){var b=g[Jn]||null;if(!b)throw Error(r(90));Xh(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<m.length;l++)g=m[l],g.form===s.form&&t1(g)}break e;case"textarea":r1(s,m.value,m.defaultValue);break e;case"select":l=m.value,l!=null&&mo(s,!!m.multiple,l,!1)}}}var tg=!1;function l1(s,l,m){if(tg)return s(l,m);tg=!0;try{var g=s(l);return g}finally{if(tg=!1,(ho!==null||go!==null)&&(qf(),ho&&(l=ho,s=go,go=ho=null,o1(l),s)))for(l=0;l<s.length;l++)o1(s[l])}}function ou(s,l){var m=s.stateNode;if(m===null)return null;var g=m[Jn]||null;if(g===null)return null;m=g[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,l,typeof m));return m}var Ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ng=!1;if(Ea)try{var lu={};Object.defineProperty(lu,"passive",{get:function(){ng=!0}}),window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{ng=!1}var di=null,rg=null,Jd=null;function u1(){if(Jd)return Jd;var s,l=rg,m=l.length,g,b="value"in di?di.value:di.textContent,E=b.length;for(s=0;s<m&&l[s]===b[s];s++);var O=m-s;for(g=1;g<=O&&l[m-g]===b[E-g];g++);return Jd=b.slice(s,1<g?1-g:void 0)}function Qd(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Zd(){return!0}function c1(){return!1}function Qn(s){function l(m,g,b,E,O){this._reactName=m,this._targetInst=b,this.type=g,this.nativeEvent=E,this.target=O,this.currentTarget=null;for(var F in s)s.hasOwnProperty(F)&&(m=s[F],this[F]=m?m(E):E[F]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Zd:c1,this.isPropagationStopped=c1,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),l}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ef=Qn(ns),uu=h({},ns,{view:0,detail:0}),J$=Qn(uu),ag,ig,cu,tf=h({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cu&&(cu&&s.type==="mousemove"?(ag=s.screenX-cu.screenX,ig=s.screenY-cu.screenY):ig=ag=0,cu=s),ag)},movementY:function(s){return"movementY"in s?s.movementY:ig}}),d1=Qn(tf),Q$=h({},tf,{dataTransfer:0}),Z$=Qn(Q$),e6=h({},uu,{relatedTarget:0}),sg=Qn(e6),t6=h({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),n6=Qn(t6),r6=h({},ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),a6=Qn(r6),i6=h({},ns,{data:0}),f1=Qn(i6),s6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function u6(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=l6[s])?!!l[s]:!1}function og(){return u6}var c6=h({},uu,{key:function(s){if(s.key){var l=s6[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=Qd(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?o6[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(s){return s.type==="keypress"?Qd(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Qd(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),d6=Qn(c6),f6=h({},tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m1=Qn(f6),m6=h({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),p6=Qn(m6),h6=h({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),g6=Qn(h6),y6=h({},tf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),v6=Qn(y6),x6=h({},ns,{newState:0,oldState:0}),b6=Qn(x6),S6=[9,13,27,32],lg=Ea&&"CompositionEvent"in window,du=null;Ea&&"documentMode"in document&&(du=document.documentMode);var w6=Ea&&"TextEvent"in window&&!du,p1=Ea&&(!lg||du&&8<du&&11>=du),h1=" ",g1=!1;function y1(s,l){switch(s){case"keyup":return S6.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v1(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yo=!1;function A6(s,l){switch(s){case"compositionend":return v1(l);case"keypress":return l.which!==32?null:(g1=!0,h1);case"textInput":return s=l.data,s===h1&&g1?null:s;default:return null}}function T6(s,l){if(yo)return s==="compositionend"||!lg&&y1(s,l)?(s=u1(),Jd=rg=di=null,yo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return p1&&l.locale!=="ko"?null:l.data;default:return null}}var E6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x1(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!E6[s.type]:l==="textarea"}function b1(s,l,m,g){ho?go?go.push(g):go=[g]:ho=g,l=Gf(l,"onChange"),0<l.length&&(m=new ef("onChange","change",null,m,g),s.push({event:m,listeners:l}))}var fu=null,mu=null;function N6(s){nC(s,0)}function nf(s){var l=su(s);if(t1(l))return s}function S1(s,l){if(s==="change")return l}var w1=!1;if(Ea){var ug;if(Ea){var cg="oninput"in document;if(!cg){var A1=document.createElement("div");A1.setAttribute("oninput","return;"),cg=typeof A1.oninput=="function"}ug=cg}else ug=!1;w1=ug&&(!document.documentMode||9<document.documentMode)}function T1(){fu&&(fu.detachEvent("onpropertychange",E1),mu=fu=null)}function E1(s){if(s.propertyName==="value"&&nf(mu)){var l=[];b1(l,mu,s,eg(s)),l1(N6,l)}}function _6(s,l,m){s==="focusin"?(T1(),fu=l,mu=m,fu.attachEvent("onpropertychange",E1)):s==="focusout"&&T1()}function C6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return nf(mu)}function M6(s,l){if(s==="click")return nf(l)}function j6(s,l){if(s==="input"||s==="change")return nf(l)}function I6(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var cr=typeof Object.is=="function"?Object.is:I6;function pu(s,l){if(cr(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var m=Object.keys(s),g=Object.keys(l);if(m.length!==g.length)return!1;for(g=0;g<m.length;g++){var b=m[g];if(!It.call(l,b)||!cr(s[b],l[b]))return!1}return!0}function N1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _1(s,l){var m=N1(s);s=0;for(var g;m;){if(m.nodeType===3){if(g=s+m.textContent.length,s<=l&&g>=l)return{node:m,offset:l-s};s=g}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=N1(m)}}function C1(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?C1(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function M1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=Wd(s.document);l instanceof s.HTMLIFrameElement;){try{var m=typeof l.contentWindow.location.href=="string"}catch{m=!1}if(m)s=l.contentWindow;else break;l=Wd(s.document)}return l}function dg(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var k6=Ea&&"documentMode"in document&&11>=document.documentMode,vo=null,fg=null,hu=null,mg=!1;function j1(s,l,m){var g=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;mg||vo==null||vo!==Wd(g)||(g=vo,"selectionStart"in g&&dg(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),hu&&pu(hu,g)||(hu=g,g=Gf(fg,"onSelect"),0<g.length&&(l=new ef("onSelect","select",null,l,m),s.push({event:l,listeners:g}),l.target=vo)))}function rs(s,l){var m={};return m[s.toLowerCase()]=l.toLowerCase(),m["Webkit"+s]="webkit"+l,m["Moz"+s]="moz"+l,m}var xo={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},pg={},I1={};Ea&&(I1=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function as(s){if(pg[s])return pg[s];if(!xo[s])return s;var l=xo[s],m;for(m in l)if(l.hasOwnProperty(m)&&m in I1)return pg[s]=l[m];return s}var k1=as("animationend"),P1=as("animationiteration"),O1=as("animationstart"),P6=as("transitionrun"),O6=as("transitionstart"),R6=as("transitioncancel"),R1=as("transitionend"),D1=new Map,hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hg.push("scrollEnd");function Yr(s,l){D1.set(s,l),ts(l,[s])}var rf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},_r=[],bo=0,gg=0;function af(){for(var s=bo,l=gg=bo=0;l<s;){var m=_r[l];_r[l++]=null;var g=_r[l];_r[l++]=null;var b=_r[l];_r[l++]=null;var E=_r[l];if(_r[l++]=null,g!==null&&b!==null){var O=g.pending;O===null?b.next=b:(b.next=O.next,O.next=b),g.pending=b}E!==0&&L1(m,b,E)}}function sf(s,l,m,g){_r[bo++]=s,_r[bo++]=l,_r[bo++]=m,_r[bo++]=g,gg|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function yg(s,l,m,g){return sf(s,l,m,g),of(s)}function is(s,l){return sf(s,null,null,l),of(s)}function L1(s,l,m){s.lanes|=m;var g=s.alternate;g!==null&&(g.lanes|=m);for(var b=!1,E=s.return;E!==null;)E.childLanes|=m,g=E.alternate,g!==null&&(g.childLanes|=m),E.tag===22&&(s=E.stateNode,s===null||s._visibility&1||(b=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,b&&l!==null&&(b=31-gn(m),s=E.hiddenUpdates,g=s[b],g===null?s[b]=[l]:g.push(l),l.lane=m|536870912),E):null}function of(s){if(50<Lu)throw Lu=0,Ny=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var So={};function D6(s,l,m,g){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(s,l,m,g){return new D6(s,l,m,g)}function vg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Na(s,l){var m=s.alternate;return m===null?(m=dr(s.tag,l,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=l,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&65011712,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,l=s.dependencies,m.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m.refCleanup=s.refCleanup,m}function q1(s,l){s.flags&=65011714;var m=s.alternate;return m===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=m.childLanes,s.lanes=m.lanes,s.child=m.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=m.memoizedProps,s.memoizedState=m.memoizedState,s.updateQueue=m.updateQueue,s.type=m.type,l=m.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function lf(s,l,m,g,b,E){var O=0;if(g=s,typeof s=="function")vg(s)&&(O=1);else if(typeof s=="string")O=$V(s,m,ee.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case L:return s=dr(31,m,l,b),s.elementType=L,s.lanes=E,s;case w:return ss(m.children,b,E,l);case A:O=8,b|=24;break;case C:return s=dr(12,m,l,b|2),s.elementType=C,s.lanes=E,s;case N:return s=dr(13,m,l,b),s.elementType=N,s.lanes=E,s;case k:return s=dr(19,m,l,b),s.elementType=k,s.lanes=E,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:O=10;break e;case j:O=9;break e;case M:O=11;break e;case P:O=14;break e;case R:O=16,g=null;break e}O=29,m=Error(r(130,s===null?"null":typeof s,"")),g=null}return l=dr(O,m,l,b),l.elementType=s,l.type=g,l.lanes=E,l}function ss(s,l,m,g){return s=dr(7,s,g,l),s.lanes=m,s}function xg(s,l,m){return s=dr(6,s,null,l),s.lanes=m,s}function U1(s){var l=dr(18,null,null,0);return l.stateNode=s,l}function bg(s,l,m){return l=dr(4,s.children!==null?s.children:[],s.key,l),l.lanes=m,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var B1=new WeakMap;function Cr(s,l){if(typeof s=="object"&&s!==null){var m=B1.get(s);return m!==void 0?m:(l={value:s,source:l,stack:vt(l)},B1.set(s,l),l)}return{value:s,source:l,stack:vt(l)}}var wo=[],Ao=0,uf=null,gu=0,Mr=[],jr=0,fi=null,oa=1,la="";function _a(s,l){wo[Ao++]=gu,wo[Ao++]=uf,uf=s,gu=l}function $1(s,l,m){Mr[jr++]=oa,Mr[jr++]=la,Mr[jr++]=fi,fi=s;var g=oa;s=la;var b=32-gn(g)-1;g&=~(1<<b),m+=1;var E=32-gn(l)+b;if(30<E){var O=b-b%5;E=(g&(1<<O)-1).toString(32),g>>=O,b-=O,oa=1<<32-gn(l)+b|m<<b|g,la=E+s}else oa=1<<E|m<<b|g,la=s}function Sg(s){s.return!==null&&(_a(s,1),$1(s,1,0))}function wg(s){for(;s===uf;)uf=wo[--Ao],wo[Ao]=null,gu=wo[--Ao],wo[Ao]=null;for(;s===fi;)fi=Mr[--jr],Mr[jr]=null,la=Mr[--jr],Mr[jr]=null,oa=Mr[--jr],Mr[jr]=null}function V1(s,l){Mr[jr++]=oa,Mr[jr++]=la,Mr[jr++]=fi,oa=l.id,la=l.overflow,fi=s}var kn=null,Dt=null,it=!1,mi=null,Ir=!1,Ag=Error(r(519));function pi(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yu(Cr(l,s)),Ag}function F1(s){var l=s.stateNode,m=s.type,g=s.memoizedProps;switch(l[In]=s,l[Jn]=g,m){case"dialog":tt("cancel",l),tt("close",l);break;case"iframe":case"object":case"embed":tt("load",l);break;case"video":case"audio":for(m=0;m<Uu.length;m++)tt(Uu[m],l);break;case"source":tt("error",l);break;case"img":case"image":case"link":tt("error",l),tt("load",l);break;case"details":tt("toggle",l);break;case"input":tt("invalid",l),n1(l,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":tt("invalid",l);break;case"textarea":tt("invalid",l),a1(l,g.value,g.defaultValue,g.children)}m=g.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||l.textContent===""+m||g.suppressHydrationWarning===!0||sC(l.textContent,m)?(g.popover!=null&&(tt("beforetoggle",l),tt("toggle",l)),g.onScroll!=null&&tt("scroll",l),g.onScrollEnd!=null&&tt("scrollend",l),g.onClick!=null&&(l.onclick=Ta),l=!0):l=!1,l||pi(s,!0)}function z1(s){for(kn=s.return;kn;)switch(kn.tag){case 5:case 31:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:kn=kn.return}}function To(s){if(s!==kn)return!1;if(!it)return z1(s),it=!0,!1;var l=s.tag,m;if((m=l!==3&&l!==27)&&((m=l===5)&&(m=s.type,m=!(m!=="form"&&m!=="button")||$y(s.type,s.memoizedProps)),m=!m),m&&Dt&&pi(s),z1(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Dt=hC(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Dt=hC(s)}else l===27?(l=Dt,Ci(s.type)?(s=Hy,Hy=null,Dt=s):Dt=l):Dt=kn?Pr(s.stateNode.nextSibling):null;return!0}function os(){Dt=kn=null,it=!1}function Tg(){var s=mi;return s!==null&&(nr===null?nr=s:nr.push.apply(nr,s),mi=null),s}function yu(s){mi===null?mi=[s]:mi.push(s)}var Eg=V(null),ls=null,Ca=null;function hi(s,l,m){Y(Eg,l._currentValue),l._currentValue=m}function Ma(s){s._currentValue=Eg.current,z(Eg)}function Ng(s,l,m){for(;s!==null;){var g=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,g!==null&&(g.childLanes|=l)):g!==null&&(g.childLanes&l)!==l&&(g.childLanes|=l),s===m)break;s=s.return}}function _g(s,l,m,g){var b=s.child;for(b!==null&&(b.return=s);b!==null;){var E=b.dependencies;if(E!==null){var O=b.child;E=E.firstContext;e:for(;E!==null;){var F=E;E=b;for(var Q=0;Q<l.length;Q++)if(F.context===l[Q]){E.lanes|=m,F=E.alternate,F!==null&&(F.lanes|=m),Ng(E.return,m,s),g||(O=null);break e}E=F.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(r(341));O.lanes|=m,E=O.alternate,E!==null&&(E.lanes|=m),Ng(O,m,s),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===s){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function Eo(s,l,m,g){s=null;for(var b=l,E=!1;b!==null;){if(!E){if((b.flags&524288)!==0)E=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var F=b.type;cr(b.pendingProps.value,O.value)||(s!==null?s.push(F):s=[F])}}else if(b===Te.current){if(O=b.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(s!==null?s.push(zu):s=[zu])}b=b.return}s!==null&&_g(l,s,m,g),l.flags|=262144}function cf(s){for(s=s.firstContext;s!==null;){if(!cr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function us(s){ls=s,Ca=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Pn(s){return G1(ls,s)}function df(s,l){return ls===null&&us(s),G1(s,l)}function G1(s,l){var m=l._currentValue;if(l={context:l,memoizedValue:m,next:null},Ca===null){if(s===null)throw Error(r(308));Ca=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Ca=Ca.next=l;return m}var L6=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(m,g){s.push(g)}};this.abort=function(){l.aborted=!0,s.forEach(function(m){return m()})}},q6=t.unstable_scheduleCallback,U6=t.unstable_NormalPriority,sn={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cg(){return{controller:new L6,data:new Map,refCount:0}}function vu(s){s.refCount--,s.refCount===0&&q6(U6,function(){s.controller.abort()})}var xu=null,Mg=0,No=0,_o=null;function B6(s,l){if(xu===null){var m=xu=[];Mg=0,No=ky(),_o={status:"pending",value:void 0,then:function(g){m.push(g)}}}return Mg++,l.then(H1,H1),l}function H1(){if(--Mg===0&&xu!==null){_o!==null&&(_o.status="fulfilled");var s=xu;xu=null,No=0,_o=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function $6(s,l){var m=[],g={status:"pending",value:null,reason:null,then:function(b){m.push(b)}};return s.then(function(){g.status="fulfilled",g.value=l;for(var b=0;b<m.length;b++)(0,m[b])(l)},function(b){for(g.status="rejected",g.reason=b,b=0;b<m.length;b++)(0,m[b])(void 0)}),g}var K1=B.S;B.S=function(s,l){j_=ne(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&B6(s,l),K1!==null&&K1(s,l)};var cs=V(null);function jg(){var s=cs.current;return s!==null?s:Nt.pooledCache}function ff(s,l){l===null?Y(cs,cs.current):Y(cs,l.pool)}function Y1(){var s=jg();return s===null?null:{parent:sn._currentValue,pool:s}}var Co=Error(r(460)),Ig=Error(r(474)),mf=Error(r(542)),pf={then:function(){}};function W1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function X1(s,l,m){switch(m=s[m],m===void 0?s.push(l):m!==l&&(l.then(Ta,Ta),l=m),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Q1(s),s;default:if(typeof l.status=="string")l.then(Ta,Ta);else{if(s=Nt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(g){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=g}},function(g){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=g}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,Q1(s),s}throw fs=l,Co}}function ds(s){try{var l=s._init;return l(s._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(fs=m,Co):m}}var fs=null;function J1(){if(fs===null)throw Error(r(459));var s=fs;return fs=null,s}function Q1(s){if(s===Co||s===mf)throw Error(r(483))}var Mo=null,bu=0;function hf(s){var l=bu;return bu+=1,Mo===null&&(Mo=[]),X1(Mo,s,l)}function Su(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function gf(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function Z1(s){function l(ie,ae){if(s){var se=ie.deletions;se===null?(ie.deletions=[ae],ie.flags|=16):se.push(ae)}}function m(ie,ae){if(!s)return null;for(;ae!==null;)l(ie,ae),ae=ae.sibling;return null}function g(ie){for(var ae=new Map;ie!==null;)ie.key!==null?ae.set(ie.key,ie):ae.set(ie.index,ie),ie=ie.sibling;return ae}function b(ie,ae){return ie=Na(ie,ae),ie.index=0,ie.sibling=null,ie}function E(ie,ae,se){return ie.index=se,s?(se=ie.alternate,se!==null?(se=se.index,se<ae?(ie.flags|=67108866,ae):se):(ie.flags|=67108866,ae)):(ie.flags|=1048576,ae)}function O(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function F(ie,ae,se,ge){return ae===null||ae.tag!==6?(ae=xg(se,ie.mode,ge),ae.return=ie,ae):(ae=b(ae,se),ae.return=ie,ae)}function Q(ie,ae,se,ge){var Le=se.type;return Le===w?pe(ie,ae,se.props.children,ge,se.key):ae!==null&&(ae.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===R&&ds(Le)===ae.type)?(ae=b(ae,se.props),Su(ae,se),ae.return=ie,ae):(ae=lf(se.type,se.key,se.props,null,ie.mode,ge),Su(ae,se),ae.return=ie,ae)}function oe(ie,ae,se,ge){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==se.containerInfo||ae.stateNode.implementation!==se.implementation?(ae=bg(se,ie.mode,ge),ae.return=ie,ae):(ae=b(ae,se.children||[]),ae.return=ie,ae)}function pe(ie,ae,se,ge,Le){return ae===null||ae.tag!==7?(ae=ss(se,ie.mode,ge,Le),ae.return=ie,ae):(ae=b(ae,se),ae.return=ie,ae)}function ye(ie,ae,se){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=xg(""+ae,ie.mode,se),ae.return=ie,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return se=lf(ae.type,ae.key,ae.props,null,ie.mode,se),Su(se,ae),se.return=ie,se;case T:return ae=bg(ae,ie.mode,se),ae.return=ie,ae;case R:return ae=ds(ae),ye(ie,ae,se)}if(J(ae)||D(ae))return ae=ss(ae,ie.mode,se,null),ae.return=ie,ae;if(typeof ae.then=="function")return ye(ie,hf(ae),se);if(ae.$$typeof===_)return ye(ie,df(ie,ae),se);gf(ie,ae)}return null}function ue(ie,ae,se,ge){var Le=ae!==null?ae.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return Le!==null?null:F(ie,ae,""+se,ge);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return se.key===Le?Q(ie,ae,se,ge):null;case T:return se.key===Le?oe(ie,ae,se,ge):null;case R:return se=ds(se),ue(ie,ae,se,ge)}if(J(se)||D(se))return Le!==null?null:pe(ie,ae,se,ge,null);if(typeof se.then=="function")return ue(ie,ae,hf(se),ge);if(se.$$typeof===_)return ue(ie,ae,df(ie,se),ge);gf(ie,se)}return null}function fe(ie,ae,se,ge,Le){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ie=ie.get(se)||null,F(ae,ie,""+ge,Le);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case x:return ie=ie.get(ge.key===null?se:ge.key)||null,Q(ae,ie,ge,Le);case T:return ie=ie.get(ge.key===null?se:ge.key)||null,oe(ae,ie,ge,Le);case R:return ge=ds(ge),fe(ie,ae,se,ge,Le)}if(J(ge)||D(ge))return ie=ie.get(se)||null,pe(ae,ie,ge,Le,null);if(typeof ge.then=="function")return fe(ie,ae,se,hf(ge),Le);if(ge.$$typeof===_)return fe(ie,ae,se,df(ae,ge),Le);gf(ae,ge)}return null}function Ie(ie,ae,se,ge){for(var Le=null,lt=null,Pe=ae,We=ae=0,rt=null;Pe!==null&&We<se.length;We++){Pe.index>We?(rt=Pe,Pe=null):rt=Pe.sibling;var ut=ue(ie,Pe,se[We],ge);if(ut===null){Pe===null&&(Pe=rt);break}s&&Pe&&ut.alternate===null&&l(ie,Pe),ae=E(ut,ae,We),lt===null?Le=ut:lt.sibling=ut,lt=ut,Pe=rt}if(We===se.length)return m(ie,Pe),it&&_a(ie,We),Le;if(Pe===null){for(;We<se.length;We++)Pe=ye(ie,se[We],ge),Pe!==null&&(ae=E(Pe,ae,We),lt===null?Le=Pe:lt.sibling=Pe,lt=Pe);return it&&_a(ie,We),Le}for(Pe=g(Pe);We<se.length;We++)rt=fe(Pe,ie,We,se[We],ge),rt!==null&&(s&&rt.alternate!==null&&Pe.delete(rt.key===null?We:rt.key),ae=E(rt,ae,We),lt===null?Le=rt:lt.sibling=rt,lt=rt);return s&&Pe.forEach(function(Pi){return l(ie,Pi)}),it&&_a(ie,We),Le}function qe(ie,ae,se,ge){if(se==null)throw Error(r(151));for(var Le=null,lt=null,Pe=ae,We=ae=0,rt=null,ut=se.next();Pe!==null&&!ut.done;We++,ut=se.next()){Pe.index>We?(rt=Pe,Pe=null):rt=Pe.sibling;var Pi=ue(ie,Pe,ut.value,ge);if(Pi===null){Pe===null&&(Pe=rt);break}s&&Pe&&Pi.alternate===null&&l(ie,Pe),ae=E(Pi,ae,We),lt===null?Le=Pi:lt.sibling=Pi,lt=Pi,Pe=rt}if(ut.done)return m(ie,Pe),it&&_a(ie,We),Le;if(Pe===null){for(;!ut.done;We++,ut=se.next())ut=ye(ie,ut.value,ge),ut!==null&&(ae=E(ut,ae,We),lt===null?Le=ut:lt.sibling=ut,lt=ut);return it&&_a(ie,We),Le}for(Pe=g(Pe);!ut.done;We++,ut=se.next())ut=fe(Pe,ie,We,ut.value,ge),ut!==null&&(s&&ut.alternate!==null&&Pe.delete(ut.key===null?We:ut.key),ae=E(ut,ae,We),lt===null?Le=ut:lt.sibling=ut,lt=ut);return s&&Pe.forEach(function(QV){return l(ie,QV)}),it&&_a(ie,We),Le}function Tt(ie,ae,se,ge){if(typeof se=="object"&&se!==null&&se.type===w&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case x:e:{for(var Le=se.key;ae!==null;){if(ae.key===Le){if(Le=se.type,Le===w){if(ae.tag===7){m(ie,ae.sibling),ge=b(ae,se.props.children),ge.return=ie,ie=ge;break e}}else if(ae.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===R&&ds(Le)===ae.type){m(ie,ae.sibling),ge=b(ae,se.props),Su(ge,se),ge.return=ie,ie=ge;break e}m(ie,ae);break}else l(ie,ae);ae=ae.sibling}se.type===w?(ge=ss(se.props.children,ie.mode,ge,se.key),ge.return=ie,ie=ge):(ge=lf(se.type,se.key,se.props,null,ie.mode,ge),Su(ge,se),ge.return=ie,ie=ge)}return O(ie);case T:e:{for(Le=se.key;ae!==null;){if(ae.key===Le)if(ae.tag===4&&ae.stateNode.containerInfo===se.containerInfo&&ae.stateNode.implementation===se.implementation){m(ie,ae.sibling),ge=b(ae,se.children||[]),ge.return=ie,ie=ge;break e}else{m(ie,ae);break}else l(ie,ae);ae=ae.sibling}ge=bg(se,ie.mode,ge),ge.return=ie,ie=ge}return O(ie);case R:return se=ds(se),Tt(ie,ae,se,ge)}if(J(se))return Ie(ie,ae,se,ge);if(D(se)){if(Le=D(se),typeof Le!="function")throw Error(r(150));return se=Le.call(se),qe(ie,ae,se,ge)}if(typeof se.then=="function")return Tt(ie,ae,hf(se),ge);if(se.$$typeof===_)return Tt(ie,ae,df(ie,se),ge);gf(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,ae!==null&&ae.tag===6?(m(ie,ae.sibling),ge=b(ae,se),ge.return=ie,ie=ge):(m(ie,ae),ge=xg(se,ie.mode,ge),ge.return=ie,ie=ge),O(ie)):m(ie,ae)}return function(ie,ae,se,ge){try{bu=0;var Le=Tt(ie,ae,se,ge);return Mo=null,Le}catch(Pe){if(Pe===Co||Pe===mf)throw Pe;var lt=dr(29,Pe,null,ie.mode);return lt.lanes=ge,lt.return=ie,lt}finally{}}}var ms=Z1(!0),eN=Z1(!1),gi=!1;function kg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pg(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function yi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function vi(s,l,m){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(pt&2)!==0){var b=g.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),g.pending=l,l=of(s),L1(s,null,m),l}return sf(s,g,l,m),of(s)}function wu(s,l,m){if(l=l.updateQueue,l!==null&&(l=l.shared,(m&4194048)!==0)){var g=l.lanes;g&=s.pendingLanes,m|=g,l.lanes=m,zd(s,m)}}function Og(s,l){var m=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,m===g)){var b=null,E=null;if(m=m.firstBaseUpdate,m!==null){do{var O={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};E===null?b=E=O:E=E.next=O,m=m.next}while(m!==null);E===null?b=E=l:E=E.next=l}else b=E=l;m={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:E,shared:g.shared,callbacks:g.callbacks},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=l:s.next=l,m.lastBaseUpdate=l}var Rg=!1;function Au(){if(Rg){var s=_o;if(s!==null)throw s}}function Tu(s,l,m,g){Rg=!1;var b=s.updateQueue;gi=!1;var E=b.firstBaseUpdate,O=b.lastBaseUpdate,F=b.shared.pending;if(F!==null){b.shared.pending=null;var Q=F,oe=Q.next;Q.next=null,O===null?E=oe:O.next=oe,O=Q;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,F=pe.lastBaseUpdate,F!==O&&(F===null?pe.firstBaseUpdate=oe:F.next=oe,pe.lastBaseUpdate=Q))}if(E!==null){var ye=b.baseState;O=0,pe=oe=Q=null,F=E;do{var ue=F.lane&-536870913,fe=ue!==F.lane;if(fe?(nt&ue)===ue:(g&ue)===ue){ue!==0&&ue===No&&(Rg=!0),pe!==null&&(pe=pe.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Ie=s,qe=F;ue=l;var Tt=m;switch(qe.tag){case 1:if(Ie=qe.payload,typeof Ie=="function"){ye=Ie.call(Tt,ye,ue);break e}ye=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=qe.payload,ue=typeof Ie=="function"?Ie.call(Tt,ye,ue):Ie,ue==null)break e;ye=h({},ye,ue);break e;case 2:gi=!0}}ue=F.callback,ue!==null&&(s.flags|=64,fe&&(s.flags|=8192),fe=b.callbacks,fe===null?b.callbacks=[ue]:fe.push(ue))}else fe={lane:ue,tag:F.tag,payload:F.payload,callback:F.callback,next:null},pe===null?(oe=pe=fe,Q=ye):pe=pe.next=fe,O|=ue;if(F=F.next,F===null){if(F=b.shared.pending,F===null)break;fe=F,F=fe.next,fe.next=null,b.lastBaseUpdate=fe,b.shared.pending=null}}while(!0);pe===null&&(Q=ye),b.baseState=Q,b.firstBaseUpdate=oe,b.lastBaseUpdate=pe,E===null&&(b.shared.lanes=0),Ai|=O,s.lanes=O,s.memoizedState=ye}}function tN(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function nN(s,l){var m=s.callbacks;if(m!==null)for(s.callbacks=null,s=0;s<m.length;s++)tN(m[s],l)}var jo=V(null),yf=V(0);function rN(s,l){s=qa,Y(yf,s),Y(jo,l),qa=s|l.baseLanes}function Dg(){Y(yf,qa),Y(jo,jo.current)}function Lg(){qa=yf.current,z(jo),z(yf)}var fr=V(null),kr=null;function xi(s){var l=s.alternate;Y(en,en.current&1),Y(fr,s),kr===null&&(l===null||jo.current!==null||l.memoizedState!==null)&&(kr=s)}function qg(s){Y(en,en.current),Y(fr,s),kr===null&&(kr=s)}function aN(s){s.tag===22?(Y(en,en.current),Y(fr,s),kr===null&&(kr=s)):bi()}function bi(){Y(en,en.current),Y(fr,fr.current)}function mr(s){z(fr),kr===s&&(kr=null),z(en)}var en=V(0);function vf(s){for(var l=s;l!==null;){if(l.tag===13){var m=l.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||zy(m)||Gy(m)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ja=0,Ye=null,wt=null,on=null,xf=!1,Io=!1,ps=!1,bf=0,Eu=0,ko=null,V6=0;function Kt(){throw Error(r(321))}function Ug(s,l){if(l===null)return!1;for(var m=0;m<l.length&&m<s.length;m++)if(!cr(s[m],l[m]))return!1;return!0}function Bg(s,l,m,g,b,E){return ja=E,Ye=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=s===null||s.memoizedState===null?$N:ty,ps=!1,E=m(g,b),ps=!1,Io&&(E=sN(l,m,g,b)),iN(s),E}function iN(s){B.H=Cu;var l=wt!==null&&wt.next!==null;if(ja=0,on=wt=Ye=null,xf=!1,Eu=0,ko=null,l)throw Error(r(300));s===null||ln||(s=s.dependencies,s!==null&&cf(s)&&(ln=!0))}function sN(s,l,m,g){Ye=s;var b=0;do{if(Io&&(ko=null),Eu=0,Io=!1,25<=b)throw Error(r(301));if(b+=1,on=wt=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}B.H=VN,E=l(m,g)}while(Io);return E}function F6(){var s=B.H,l=s.useState()[0];return l=typeof l.then=="function"?Nu(l):l,s=s.useState()[0],(wt!==null?wt.memoizedState:null)!==s&&(Ye.flags|=1024),l}function $g(){var s=bf!==0;return bf=0,s}function Vg(s,l,m){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~m}function Fg(s){if(xf){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}xf=!1}ja=0,on=wt=Ye=null,Io=!1,Eu=bf=0,ko=null}function Hn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ye.memoizedState=on=s:on=on.next=s,on}function tn(){if(wt===null){var s=Ye.alternate;s=s!==null?s.memoizedState:null}else s=wt.next;var l=on===null?Ye.memoizedState:on.next;if(l!==null)on=l,wt=s;else{if(s===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));wt=s,s={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},on===null?Ye.memoizedState=on=s:on=on.next=s}return on}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(s){var l=Eu;return Eu+=1,ko===null&&(ko=[]),s=X1(ko,s,l),l=Ye,(on===null?l.memoizedState:on.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?$N:ty),s}function wf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Nu(s);if(s.$$typeof===_)return Pn(s)}throw Error(r(438,String(s)))}function zg(s){var l=null,m=Ye.updateQueue;if(m!==null&&(l=m.memoCache),l==null){var g=Ye.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(l={data:g.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),m===null&&(m=Sf(),Ye.updateQueue=m),m.memoCache=l,m=l.data[l.index],m===void 0)for(m=l.data[l.index]=Array(s),g=0;g<s;g++)m[g]=U;return l.index++,m}function Ia(s,l){return typeof l=="function"?l(s):l}function Af(s){var l=tn();return Gg(l,wt,s)}function Gg(s,l,m){var g=s.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=m;var b=s.baseQueue,E=g.pending;if(E!==null){if(b!==null){var O=b.next;b.next=E.next,E.next=O}l.baseQueue=b=E,g.pending=null}if(E=s.baseState,b===null)s.memoizedState=E;else{l=b.next;var F=O=null,Q=null,oe=l,pe=!1;do{var ye=oe.lane&-536870913;if(ye!==oe.lane?(nt&ye)===ye:(ja&ye)===ye){var ue=oe.revertLane;if(ue===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ye===No&&(pe=!0);else if((ja&ue)===ue){oe=oe.next,ue===No&&(pe=!0);continue}else ye={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Q===null?(F=Q=ye,O=E):Q=Q.next=ye,Ye.lanes|=ue,Ai|=ue;ye=oe.action,ps&&m(E,ye),E=oe.hasEagerState?oe.eagerState:m(E,ye)}else ue={lane:ye,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},Q===null?(F=Q=ue,O=E):Q=Q.next=ue,Ye.lanes|=ye,Ai|=ye;oe=oe.next}while(oe!==null&&oe!==l);if(Q===null?O=E:Q.next=F,!cr(E,s.memoizedState)&&(ln=!0,pe&&(m=_o,m!==null)))throw m;s.memoizedState=E,s.baseState=O,s.baseQueue=Q,g.lastRenderedState=E}return b===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function Hg(s){var l=tn(),m=l.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var g=m.dispatch,b=m.pending,E=l.memoizedState;if(b!==null){m.pending=null;var O=b=b.next;do E=s(E,O.action),O=O.next;while(O!==b);cr(E,l.memoizedState)||(ln=!0),l.memoizedState=E,l.baseQueue===null&&(l.baseState=E),m.lastRenderedState=E}return[E,g]}function oN(s,l,m){var g=Ye,b=tn(),E=it;if(E){if(m===void 0)throw Error(r(407));m=m()}else m=l();var O=!cr((wt||b).memoizedState,m);if(O&&(b.memoizedState=m,ln=!0),b=b.queue,Wg(cN.bind(null,g,b,s),[s]),b.getSnapshot!==l||O||on!==null&&on.memoizedState.tag&1){if(g.flags|=2048,Po(9,{destroy:void 0},uN.bind(null,g,b,m,l),null),Nt===null)throw Error(r(349));E||(ja&127)!==0||lN(g,l,m)}return m}function lN(s,l,m){s.flags|=16384,s={getSnapshot:l,value:m},l=Ye.updateQueue,l===null?(l=Sf(),Ye.updateQueue=l,l.stores=[s]):(m=l.stores,m===null?l.stores=[s]:m.push(s))}function uN(s,l,m,g){l.value=m,l.getSnapshot=g,dN(l)&&fN(s)}function cN(s,l,m){return m(function(){dN(l)&&fN(s)})}function dN(s){var l=s.getSnapshot;s=s.value;try{var m=l();return!cr(s,m)}catch{return!0}}function fN(s){var l=is(s,2);l!==null&&rr(l,s,2)}function Kg(s){var l=Hn();if(typeof s=="function"){var m=s;if(s=m(),ps){hn(!0);try{m()}finally{hn(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:s},l}function mN(s,l,m,g){return s.baseState=m,Gg(s,wt,typeof g=="function"?g:Ia)}function z6(s,l,m,g,b){if(Nf(s))throw Error(r(485));if(s=l.action,s!==null){var E={payload:b,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){E.listeners.push(O)}};B.T!==null?m(!0):E.isTransition=!1,g(E),m=l.pending,m===null?(E.next=l.pending=E,pN(l,E)):(E.next=m.next,l.pending=m.next=E)}}function pN(s,l){var m=l.action,g=l.payload,b=s.state;if(l.isTransition){var E=B.T,O={};B.T=O;try{var F=m(b,g),Q=B.S;Q!==null&&Q(O,F),hN(s,l,F)}catch(oe){Yg(s,l,oe)}finally{E!==null&&O.types!==null&&(E.types=O.types),B.T=E}}else try{E=m(b,g),hN(s,l,E)}catch(oe){Yg(s,l,oe)}}function hN(s,l,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(g){gN(s,l,g)},function(g){return Yg(s,l,g)}):gN(s,l,m)}function gN(s,l,m){l.status="fulfilled",l.value=m,yN(l),s.state=m,l=s.pending,l!==null&&(m=l.next,m===l?s.pending=null:(m=m.next,l.next=m,pN(s,m)))}function Yg(s,l,m){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do l.status="rejected",l.reason=m,yN(l),l=l.next;while(l!==g)}s.action=null}function yN(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function vN(s,l){return l}function xN(s,l){if(it){var m=Nt.formState;if(m!==null){e:{var g=Ye;if(it){if(Dt){t:{for(var b=Dt,E=Ir;b.nodeType!==8;){if(!E){b=null;break t}if(b=Pr(b.nextSibling),b===null){b=null;break t}}E=b.data,b=E==="F!"||E==="F"?b:null}if(b){Dt=Pr(b.nextSibling),g=b.data==="F!";break e}}pi(g)}g=!1}g&&(l=m[0])}}return m=Hn(),m.memoizedState=m.baseState=l,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vN,lastRenderedState:l},m.queue=g,m=qN.bind(null,Ye,g),g.dispatch=m,g=Kg(!1),E=ey.bind(null,Ye,!1,g.queue),g=Hn(),b={state:l,dispatch:null,action:s,pending:null},g.queue=b,m=z6.bind(null,Ye,b,E,m),b.dispatch=m,g.memoizedState=s,[l,m,!1]}function bN(s){var l=tn();return SN(l,wt,s)}function SN(s,l,m){if(l=Gg(s,l,vN)[0],s=Af(Ia)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var g=Nu(l)}catch(O){throw O===Co?mf:O}else g=l;l=tn();var b=l.queue,E=b.dispatch;return m!==l.memoizedState&&(Ye.flags|=2048,Po(9,{destroy:void 0},G6.bind(null,b,m),null)),[g,E,s]}function G6(s,l){s.action=l}function wN(s){var l=tn(),m=wt;if(m!==null)return SN(l,m,s);tn(),l=l.memoizedState,m=tn();var g=m.queue.dispatch;return m.memoizedState=s,[l,g,!1]}function Po(s,l,m,g){return s={tag:s,create:m,deps:g,inst:l,next:null},l=Ye.updateQueue,l===null&&(l=Sf(),Ye.updateQueue=l),m=l.lastEffect,m===null?l.lastEffect=s.next=s:(g=m.next,m.next=s,s.next=g,l.lastEffect=s),s}function AN(){return tn().memoizedState}function Tf(s,l,m,g){var b=Hn();Ye.flags|=s,b.memoizedState=Po(1|l,{destroy:void 0},m,g===void 0?null:g)}function Ef(s,l,m,g){var b=tn();g=g===void 0?null:g;var E=b.memoizedState.inst;wt!==null&&g!==null&&Ug(g,wt.memoizedState.deps)?b.memoizedState=Po(l,E,m,g):(Ye.flags|=s,b.memoizedState=Po(1|l,E,m,g))}function TN(s,l){Tf(8390656,8,s,l)}function Wg(s,l){Ef(2048,8,s,l)}function H6(s){Ye.flags|=4;var l=Ye.updateQueue;if(l===null)l=Sf(),Ye.updateQueue=l,l.events=[s];else{var m=l.events;m===null?l.events=[s]:m.push(s)}}function EN(s){var l=tn().memoizedState;return H6({ref:l,nextImpl:s}),function(){if((pt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function NN(s,l){return Ef(4,2,s,l)}function _N(s,l){return Ef(4,4,s,l)}function CN(s,l){if(typeof l=="function"){s=s();var m=l(s);return function(){typeof m=="function"?m():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function MN(s,l,m){m=m!=null?m.concat([s]):null,Ef(4,4,CN.bind(null,l,s),m)}function Xg(){}function jN(s,l){var m=tn();l=l===void 0?null:l;var g=m.memoizedState;return l!==null&&Ug(l,g[1])?g[0]:(m.memoizedState=[s,l],s)}function IN(s,l){var m=tn();l=l===void 0?null:l;var g=m.memoizedState;if(l!==null&&Ug(l,g[1]))return g[0];if(g=s(),ps){hn(!0);try{s()}finally{hn(!1)}}return m.memoizedState=[g,l],g}function Jg(s,l,m){return m===void 0||(ja&1073741824)!==0&&(nt&261930)===0?s.memoizedState=l:(s.memoizedState=m,s=k_(),Ye.lanes|=s,Ai|=s,m)}function kN(s,l,m,g){return cr(m,l)?m:jo.current!==null?(s=Jg(s,m,g),cr(s,l)||(ln=!0),s):(ja&42)===0||(ja&1073741824)!==0&&(nt&261930)===0?(ln=!0,s.memoizedState=m):(s=k_(),Ye.lanes|=s,Ai|=s,l)}function PN(s,l,m,g,b){var E=K.p;K.p=E!==0&&8>E?E:8;var O=B.T,F={};B.T=F,ey(s,!1,l,m);try{var Q=b(),oe=B.S;if(oe!==null&&oe(F,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var pe=$6(Q,g);_u(s,l,pe,gr(s))}else _u(s,l,g,gr(s))}catch(ye){_u(s,l,{then:function(){},status:"rejected",reason:ye},gr())}finally{K.p=E,O!==null&&F.types!==null&&(O.types=F.types),B.T=O}}function K6(){}function Qg(s,l,m,g){if(s.tag!==5)throw Error(r(476));var b=ON(s).queue;PN(s,b,l,W,m===null?K6:function(){return RN(s),m(g)})}function ON(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:W},next:null};var m={};return l.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:m},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function RN(s){var l=ON(s);l.next===null&&(l=s.alternate.memoizedState),_u(s,l.next.queue,{},gr())}function Zg(){return Pn(zu)}function DN(){return tn().memoizedState}function LN(){return tn().memoizedState}function Y6(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var m=gr();s=yi(m);var g=vi(l,s,m);g!==null&&(rr(g,l,m),wu(g,l,m)),l={cache:Cg()},s.payload=l;return}l=l.return}}function W6(s,l,m){var g=gr();m={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Nf(s)?UN(l,m):(m=yg(s,l,m,g),m!==null&&(rr(m,s,g),BN(m,l,g)))}function qN(s,l,m){var g=gr();_u(s,l,m,g)}function _u(s,l,m,g){var b={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Nf(s))UN(l,b);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=l.lastRenderedReducer,E!==null))try{var O=l.lastRenderedState,F=E(O,m);if(b.hasEagerState=!0,b.eagerState=F,cr(F,O))return sf(s,l,b,0),Nt===null&&af(),!1}catch{}finally{}if(m=yg(s,l,b,g),m!==null)return rr(m,s,g),BN(m,l,g),!0}return!1}function ey(s,l,m,g){if(g={lane:2,revertLane:ky(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Nf(s)){if(l)throw Error(r(479))}else l=yg(s,m,g,2),l!==null&&rr(l,s,2)}function Nf(s){var l=s.alternate;return s===Ye||l!==null&&l===Ye}function UN(s,l){Io=xf=!0;var m=s.pending;m===null?l.next=l:(l.next=m.next,m.next=l),s.pending=l}function BN(s,l,m){if((m&4194048)!==0){var g=l.lanes;g&=s.pendingLanes,m|=g,l.lanes=m,zd(s,m)}}var Cu={readContext:Pn,use:wf,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};Cu.useEffectEvent=Kt;var $N={readContext:Pn,use:wf,useCallback:function(s,l){return Hn().memoizedState=[s,l===void 0?null:l],s},useContext:Pn,useEffect:TN,useImperativeHandle:function(s,l,m){m=m!=null?m.concat([s]):null,Tf(4194308,4,CN.bind(null,l,s),m)},useLayoutEffect:function(s,l){return Tf(4194308,4,s,l)},useInsertionEffect:function(s,l){Tf(4,2,s,l)},useMemo:function(s,l){var m=Hn();l=l===void 0?null:l;var g=s();if(ps){hn(!0);try{s()}finally{hn(!1)}}return m.memoizedState=[g,l],g},useReducer:function(s,l,m){var g=Hn();if(m!==void 0){var b=m(l);if(ps){hn(!0);try{m(l)}finally{hn(!1)}}}else b=l;return g.memoizedState=g.baseState=b,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:b},g.queue=s,s=s.dispatch=W6.bind(null,Ye,s),[g.memoizedState,s]},useRef:function(s){var l=Hn();return s={current:s},l.memoizedState=s},useState:function(s){s=Kg(s);var l=s.queue,m=qN.bind(null,Ye,l);return l.dispatch=m,[s.memoizedState,m]},useDebugValue:Xg,useDeferredValue:function(s,l){var m=Hn();return Jg(m,s,l)},useTransition:function(){var s=Kg(!1);return s=PN.bind(null,Ye,s.queue,!0,!1),Hn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,m){var g=Ye,b=Hn();if(it){if(m===void 0)throw Error(r(407));m=m()}else{if(m=l(),Nt===null)throw Error(r(349));(nt&127)!==0||lN(g,l,m)}b.memoizedState=m;var E={value:m,getSnapshot:l};return b.queue=E,TN(cN.bind(null,g,E,s),[s]),g.flags|=2048,Po(9,{destroy:void 0},uN.bind(null,g,E,m,l),null),m},useId:function(){var s=Hn(),l=Nt.identifierPrefix;if(it){var m=la,g=oa;m=(g&~(1<<32-gn(g)-1)).toString(32)+m,l="_"+l+"R_"+m,m=bf++,0<m&&(l+="H"+m.toString(32)),l+="_"}else m=V6++,l="_"+l+"r_"+m.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:Zg,useFormState:xN,useActionState:xN,useOptimistic:function(s){var l=Hn();l.memoizedState=l.baseState=s;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=m,l=ey.bind(null,Ye,!0,m),m.dispatch=l,[s,l]},useMemoCache:zg,useCacheRefresh:function(){return Hn().memoizedState=Y6.bind(null,Ye)},useEffectEvent:function(s){var l=Hn(),m={impl:s};return l.memoizedState=m,function(){if((pt&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},ty={readContext:Pn,use:wf,useCallback:jN,useContext:Pn,useEffect:Wg,useImperativeHandle:MN,useInsertionEffect:NN,useLayoutEffect:_N,useMemo:IN,useReducer:Af,useRef:AN,useState:function(){return Af(Ia)},useDebugValue:Xg,useDeferredValue:function(s,l){var m=tn();return kN(m,wt.memoizedState,s,l)},useTransition:function(){var s=Af(Ia)[0],l=tn().memoizedState;return[typeof s=="boolean"?s:Nu(s),l]},useSyncExternalStore:oN,useId:DN,useHostTransitionStatus:Zg,useFormState:bN,useActionState:bN,useOptimistic:function(s,l){var m=tn();return mN(m,wt,s,l)},useMemoCache:zg,useCacheRefresh:LN};ty.useEffectEvent=EN;var VN={readContext:Pn,use:wf,useCallback:jN,useContext:Pn,useEffect:Wg,useImperativeHandle:MN,useInsertionEffect:NN,useLayoutEffect:_N,useMemo:IN,useReducer:Hg,useRef:AN,useState:function(){return Hg(Ia)},useDebugValue:Xg,useDeferredValue:function(s,l){var m=tn();return wt===null?Jg(m,s,l):kN(m,wt.memoizedState,s,l)},useTransition:function(){var s=Hg(Ia)[0],l=tn().memoizedState;return[typeof s=="boolean"?s:Nu(s),l]},useSyncExternalStore:oN,useId:DN,useHostTransitionStatus:Zg,useFormState:wN,useActionState:wN,useOptimistic:function(s,l){var m=tn();return wt!==null?mN(m,wt,s,l):(m.baseState=s,[s,m.queue.dispatch])},useMemoCache:zg,useCacheRefresh:LN};VN.useEffectEvent=EN;function ny(s,l,m,g){l=s.memoizedState,m=m(g,l),m=m==null?l:h({},l,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var ry={enqueueSetState:function(s,l,m){s=s._reactInternals;var g=gr(),b=yi(g);b.payload=l,m!=null&&(b.callback=m),l=vi(s,b,g),l!==null&&(rr(l,s,g),wu(l,s,g))},enqueueReplaceState:function(s,l,m){s=s._reactInternals;var g=gr(),b=yi(g);b.tag=1,b.payload=l,m!=null&&(b.callback=m),l=vi(s,b,g),l!==null&&(rr(l,s,g),wu(l,s,g))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var m=gr(),g=yi(m);g.tag=2,l!=null&&(g.callback=l),l=vi(s,g,m),l!==null&&(rr(l,s,m),wu(l,s,m))}};function FN(s,l,m,g,b,E,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,O):l.prototype&&l.prototype.isPureReactComponent?!pu(m,g)||!pu(b,E):!0}function zN(s,l,m,g){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(m,g),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(m,g),l.state!==s&&ry.enqueueReplaceState(l,l.state,null)}function hs(s,l){var m=l;if("ref"in l){m={};for(var g in l)g!=="ref"&&(m[g]=l[g])}if(s=s.defaultProps){m===l&&(m=h({},m));for(var b in s)m[b]===void 0&&(m[b]=s[b])}return m}function GN(s){rf(s)}function HN(s){console.error(s)}function KN(s){rf(s)}function _f(s,l){try{var m=s.onUncaughtError;m(l.value,{componentStack:l.stack})}catch(g){setTimeout(function(){throw g})}}function YN(s,l,m){try{var g=s.onCaughtError;g(m.value,{componentStack:m.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function ay(s,l,m){return m=yi(m),m.tag=3,m.payload={element:null},m.callback=function(){_f(s,l)},m}function WN(s){return s=yi(s),s.tag=3,s}function XN(s,l,m,g){var b=m.type.getDerivedStateFromError;if(typeof b=="function"){var E=g.value;s.payload=function(){return b(E)},s.callback=function(){YN(l,m,g)}}var O=m.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(s.callback=function(){YN(l,m,g),typeof b!="function"&&(Ti===null?Ti=new Set([this]):Ti.add(this));var F=g.stack;this.componentDidCatch(g.value,{componentStack:F!==null?F:""})})}function X6(s,l,m,g,b){if(m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(l=m.alternate,l!==null&&Eo(l,m,b,!0),m=fr.current,m!==null){switch(m.tag){case 31:case 13:return kr===null?Uf():m.alternate===null&&Yt===0&&(Yt=3),m.flags&=-257,m.flags|=65536,m.lanes=b,g===pf?m.flags|=16384:(l=m.updateQueue,l===null?m.updateQueue=new Set([g]):l.add(g),My(s,g,b)),!1;case 22:return m.flags|=65536,g===pf?m.flags|=16384:(l=m.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([g])},m.updateQueue=l):(m=l.retryQueue,m===null?l.retryQueue=new Set([g]):m.add(g)),My(s,g,b)),!1}throw Error(r(435,m.tag))}return My(s,g,b),Uf(),!1}if(it)return l=fr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,g!==Ag&&(s=Error(r(422),{cause:g}),yu(Cr(s,m)))):(g!==Ag&&(l=Error(r(423),{cause:g}),yu(Cr(l,m))),s=s.current.alternate,s.flags|=65536,b&=-b,s.lanes|=b,g=Cr(g,m),b=ay(s.stateNode,g,b),Og(s,b),Yt!==4&&(Yt=2)),!1;var E=Error(r(520),{cause:g});if(E=Cr(E,m),Du===null?Du=[E]:Du.push(E),Yt!==4&&(Yt=2),l===null)return!0;g=Cr(g,m),m=l;do{switch(m.tag){case 3:return m.flags|=65536,s=b&-b,m.lanes|=s,s=ay(m.stateNode,g,s),Og(m,s),!1;case 1:if(l=m.type,E=m.stateNode,(m.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ti===null||!Ti.has(E))))return m.flags|=65536,b&=-b,m.lanes|=b,b=WN(b),XN(b,s,m,g),Og(m,b),!1}m=m.return}while(m!==null);return!1}var iy=Error(r(461)),ln=!1;function On(s,l,m,g){l.child=s===null?eN(l,null,m,g):ms(l,s.child,m,g)}function JN(s,l,m,g,b){m=m.render;var E=l.ref;if("ref"in g){var O={};for(var F in g)F!=="ref"&&(O[F]=g[F])}else O=g;return us(l),g=Bg(s,l,m,O,E,b),F=$g(),s!==null&&!ln?(Vg(s,l,b),ka(s,l,b)):(it&&F&&Sg(l),l.flags|=1,On(s,l,g,b),l.child)}function QN(s,l,m,g,b){if(s===null){var E=m.type;return typeof E=="function"&&!vg(E)&&E.defaultProps===void 0&&m.compare===null?(l.tag=15,l.type=E,ZN(s,l,E,g,b)):(s=lf(m.type,null,g,l,l.mode,b),s.ref=l.ref,s.return=l,l.child=s)}if(E=s.child,!my(s,b)){var O=E.memoizedProps;if(m=m.compare,m=m!==null?m:pu,m(O,g)&&s.ref===l.ref)return ka(s,l,b)}return l.flags|=1,s=Na(E,g),s.ref=l.ref,s.return=l,l.child=s}function ZN(s,l,m,g,b){if(s!==null){var E=s.memoizedProps;if(pu(E,g)&&s.ref===l.ref)if(ln=!1,l.pendingProps=g=E,my(s,b))(s.flags&131072)!==0&&(ln=!0);else return l.lanes=s.lanes,ka(s,l,b)}return sy(s,l,m,g,b)}function e_(s,l,m,g){var b=g.children,E=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((l.flags&128)!==0){if(E=E!==null?E.baseLanes|m:m,s!==null){for(g=l.child=s.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~E}else g=0,l.child=null;return t_(s,l,E,m,g)}if((m&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&ff(l,E!==null?E.cachePool:null),E!==null?rN(l,E):Dg(),aN(l);else return g=l.lanes=536870912,t_(s,l,E!==null?E.baseLanes|m:m,m,g)}else E!==null?(ff(l,E.cachePool),rN(l,E),bi(),l.memoizedState=null):(s!==null&&ff(l,null),Dg(),bi());return On(s,l,b,m),l.child}function Mu(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function t_(s,l,m,g,b){var E=jg();return E=E===null?null:{parent:sn._currentValue,pool:E},l.memoizedState={baseLanes:m,cachePool:E},s!==null&&ff(l,null),Dg(),aN(l),s!==null&&Eo(s,l,g,!0),l.childLanes=b,null}function Cf(s,l){return l=jf({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function n_(s,l,m){return ms(l,s.child,null,m),s=Cf(l,l.pendingProps),s.flags|=2,mr(l),l.memoizedState=null,s}function J6(s,l,m){var g=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(it){if(g.mode==="hidden")return s=Cf(l,g),l.lanes=536870912,Mu(null,s);if(qg(l),(s=Dt)?(s=pC(s,Ir),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:fi!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},m=U1(s),m.return=l,l.child=m,kn=l,Dt=null)):s=null,s===null)throw pi(l);return l.lanes=536870912,null}return Cf(l,g)}var E=s.memoizedState;if(E!==null){var O=E.dehydrated;if(qg(l),b)if(l.flags&256)l.flags&=-257,l=n_(s,l,m);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(ln||Eo(s,l,m,!1),b=(m&s.childLanes)!==0,ln||b){if(g=Nt,g!==null&&(O=Gd(g,m),O!==0&&O!==E.retryLane))throw E.retryLane=O,is(s,O),rr(g,s,O),iy;Uf(),l=n_(s,l,m)}else s=E.treeContext,Dt=Pr(O.nextSibling),kn=l,it=!0,mi=null,Ir=!1,s!==null&&V1(l,s),l=Cf(l,g),l.flags|=4096;return l}return s=Na(s.child,{mode:g.mode,children:g.children}),s.ref=l.ref,l.child=s,s.return=l,s}function Mf(s,l){var m=l.ref;if(m===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(s===null||s.ref!==m)&&(l.flags|=4194816)}}function sy(s,l,m,g,b){return us(l),m=Bg(s,l,m,g,void 0,b),g=$g(),s!==null&&!ln?(Vg(s,l,b),ka(s,l,b)):(it&&g&&Sg(l),l.flags|=1,On(s,l,m,b),l.child)}function r_(s,l,m,g,b,E){return us(l),l.updateQueue=null,m=sN(l,g,m,b),iN(s),g=$g(),s!==null&&!ln?(Vg(s,l,E),ka(s,l,E)):(it&&g&&Sg(l),l.flags|=1,On(s,l,m,E),l.child)}function a_(s,l,m,g,b){if(us(l),l.stateNode===null){var E=So,O=m.contextType;typeof O=="object"&&O!==null&&(E=Pn(O)),E=new m(g,E),l.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=ry,l.stateNode=E,E._reactInternals=l,E=l.stateNode,E.props=g,E.state=l.memoizedState,E.refs={},kg(l),O=m.contextType,E.context=typeof O=="object"&&O!==null?Pn(O):So,E.state=l.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(ny(l,m,O,g),E.state=l.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(O=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),O!==E.state&&ry.enqueueReplaceState(E,E.state,null),Tu(l,g,E,b),Au(),E.state=l.memoizedState),typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!0}else if(s===null){E=l.stateNode;var F=l.memoizedProps,Q=hs(m,F);E.props=Q;var oe=E.context,pe=m.contextType;O=So,typeof pe=="object"&&pe!==null&&(O=Pn(pe));var ye=m.getDerivedStateFromProps;pe=typeof ye=="function"||typeof E.getSnapshotBeforeUpdate=="function",F=l.pendingProps!==F,pe||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(F||oe!==O)&&zN(l,E,g,O),gi=!1;var ue=l.memoizedState;E.state=ue,Tu(l,g,E,b),Au(),oe=l.memoizedState,F||ue!==oe||gi?(typeof ye=="function"&&(ny(l,m,ye,g),oe=l.memoizedState),(Q=gi||FN(l,m,Q,g,ue,oe,O))?(pe||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(l.flags|=4194308)):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=g,l.memoizedState=oe),E.props=g,E.state=oe,E.context=O,g=Q):(typeof E.componentDidMount=="function"&&(l.flags|=4194308),g=!1)}else{E=l.stateNode,Pg(s,l),O=l.memoizedProps,pe=hs(m,O),E.props=pe,ye=l.pendingProps,ue=E.context,oe=m.contextType,Q=So,typeof oe=="object"&&oe!==null&&(Q=Pn(oe)),F=m.getDerivedStateFromProps,(oe=typeof F=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ye||ue!==Q)&&zN(l,E,g,Q),gi=!1,ue=l.memoizedState,E.state=ue,Tu(l,g,E,b),Au();var fe=l.memoizedState;O!==ye||ue!==fe||gi||s!==null&&s.dependencies!==null&&cf(s.dependencies)?(typeof F=="function"&&(ny(l,m,F,g),fe=l.memoizedState),(pe=gi||FN(l,m,pe,g,ue,fe,Q)||s!==null&&s.dependencies!==null&&cf(s.dependencies))?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(g,fe,Q),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(g,fe,Q)),typeof E.componentDidUpdate=="function"&&(l.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof E.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),l.memoizedProps=g,l.memoizedState=fe),E.props=g,E.state=fe,E.context=Q,g=pe):(typeof E.componentDidUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===s.memoizedProps&&ue===s.memoizedState||(l.flags|=1024),g=!1)}return E=g,Mf(s,l),g=(l.flags&128)!==0,E||g?(E=l.stateNode,m=g&&typeof m.getDerivedStateFromError!="function"?null:E.render(),l.flags|=1,s!==null&&g?(l.child=ms(l,s.child,null,b),l.child=ms(l,null,m,b)):On(s,l,m,b),l.memoizedState=E.state,s=l.child):s=ka(s,l,b),s}function i_(s,l,m,g){return os(),l.flags|=256,On(s,l,m,g),l.child}var oy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ly(s){return{baseLanes:s,cachePool:Y1()}}function uy(s,l,m){return s=s!==null?s.childLanes&~m:0,l&&(s|=hr),s}function s_(s,l,m){var g=l.pendingProps,b=!1,E=(l.flags&128)!==0,O;if((O=E)||(O=s!==null&&s.memoizedState===null?!1:(en.current&2)!==0),O&&(b=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,s===null){if(it){if(b?xi(l):bi(),(s=Dt)?(s=pC(s,Ir),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:fi!==null?{id:oa,overflow:la}:null,retryLane:536870912,hydrationErrors:null},m=U1(s),m.return=l,l.child=m,kn=l,Dt=null)):s=null,s===null)throw pi(l);return Gy(s)?l.lanes=32:l.lanes=536870912,null}var F=g.children;return g=g.fallback,b?(bi(),b=l.mode,F=jf({mode:"hidden",children:F},b),g=ss(g,b,m,null),F.return=l,g.return=l,F.sibling=g,l.child=F,g=l.child,g.memoizedState=ly(m),g.childLanes=uy(s,O,m),l.memoizedState=oy,Mu(null,g)):(xi(l),cy(l,F))}var Q=s.memoizedState;if(Q!==null&&(F=Q.dehydrated,F!==null)){if(E)l.flags&256?(xi(l),l.flags&=-257,l=dy(s,l,m)):l.memoizedState!==null?(bi(),l.child=s.child,l.flags|=128,l=null):(bi(),F=g.fallback,b=l.mode,g=jf({mode:"visible",children:g.children},b),F=ss(F,b,m,null),F.flags|=2,g.return=l,F.return=l,g.sibling=F,l.child=g,ms(l,s.child,null,m),g=l.child,g.memoizedState=ly(m),g.childLanes=uy(s,O,m),l.memoizedState=oy,l=Mu(null,g));else if(xi(l),Gy(F)){if(O=F.nextSibling&&F.nextSibling.dataset,O)var oe=O.dgst;O=oe,g=Error(r(419)),g.stack="",g.digest=O,yu({value:g,source:null,stack:null}),l=dy(s,l,m)}else if(ln||Eo(s,l,m,!1),O=(m&s.childLanes)!==0,ln||O){if(O=Nt,O!==null&&(g=Gd(O,m),g!==0&&g!==Q.retryLane))throw Q.retryLane=g,is(s,g),rr(O,s,g),iy;zy(F)||Uf(),l=dy(s,l,m)}else zy(F)?(l.flags|=192,l.child=s.child,l=null):(s=Q.treeContext,Dt=Pr(F.nextSibling),kn=l,it=!0,mi=null,Ir=!1,s!==null&&V1(l,s),l=cy(l,g.children),l.flags|=4096);return l}return b?(bi(),F=g.fallback,b=l.mode,Q=s.child,oe=Q.sibling,g=Na(Q,{mode:"hidden",children:g.children}),g.subtreeFlags=Q.subtreeFlags&65011712,oe!==null?F=Na(oe,F):(F=ss(F,b,m,null),F.flags|=2),F.return=l,g.return=l,g.sibling=F,l.child=g,Mu(null,g),g=l.child,F=s.child.memoizedState,F===null?F=ly(m):(b=F.cachePool,b!==null?(Q=sn._currentValue,b=b.parent!==Q?{parent:Q,pool:Q}:b):b=Y1(),F={baseLanes:F.baseLanes|m,cachePool:b}),g.memoizedState=F,g.childLanes=uy(s,O,m),l.memoizedState=oy,Mu(s.child,g)):(xi(l),m=s.child,s=m.sibling,m=Na(m,{mode:"visible",children:g.children}),m.return=l,m.sibling=null,s!==null&&(O=l.deletions,O===null?(l.deletions=[s],l.flags|=16):O.push(s)),l.child=m,l.memoizedState=null,m)}function cy(s,l){return l=jf({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function jf(s,l){return s=dr(22,s,null,l),s.lanes=0,s}function dy(s,l,m){return ms(l,s.child,null,m),s=cy(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function o_(s,l,m){s.lanes|=l;var g=s.alternate;g!==null&&(g.lanes|=l),Ng(s.return,l,m)}function fy(s,l,m,g,b,E){var O=s.memoizedState;O===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:g,tail:m,tailMode:b,treeForkCount:E}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=m,O.tailMode=b,O.treeForkCount=E)}function l_(s,l,m){var g=l.pendingProps,b=g.revealOrder,E=g.tail;g=g.children;var O=en.current,F=(O&2)!==0;if(F?(O=O&1|2,l.flags|=128):O&=1,Y(en,O),On(s,l,g,m),g=it?gu:0,!F&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&o_(s,m,l);else if(s.tag===19)o_(s,m,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(b){case"forwards":for(m=l.child,b=null;m!==null;)s=m.alternate,s!==null&&vf(s)===null&&(b=m),m=m.sibling;m=b,m===null?(b=l.child,l.child=null):(b=m.sibling,m.sibling=null),fy(l,!1,b,m,E,g);break;case"backwards":case"unstable_legacy-backwards":for(m=null,b=l.child,l.child=null;b!==null;){if(s=b.alternate,s!==null&&vf(s)===null){l.child=b;break}s=b.sibling,b.sibling=m,m=b,b=s}fy(l,!0,m,null,E,g);break;case"together":fy(l,!1,null,null,void 0,g);break;default:l.memoizedState=null}return l.child}function ka(s,l,m){if(s!==null&&(l.dependencies=s.dependencies),Ai|=l.lanes,(m&l.childLanes)===0)if(s!==null){if(Eo(s,l,m,!1),(m&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,m=Na(s,s.pendingProps),l.child=m,m.return=l;s.sibling!==null;)s=s.sibling,m=m.sibling=Na(s,s.pendingProps),m.return=l;m.sibling=null}return l.child}function my(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&cf(s)))}function Q6(s,l,m){switch(l.tag){case 3:_e(l,l.stateNode.containerInfo),hi(l,sn,s.memoizedState.cache),os();break;case 27:case 5:Ce(l);break;case 4:_e(l,l.stateNode.containerInfo);break;case 10:hi(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,qg(l),null;break;case 13:var g=l.memoizedState;if(g!==null)return g.dehydrated!==null?(xi(l),l.flags|=128,null):(m&l.child.childLanes)!==0?s_(s,l,m):(xi(l),s=ka(s,l,m),s!==null?s.sibling:null);xi(l);break;case 19:var b=(s.flags&128)!==0;if(g=(m&l.childLanes)!==0,g||(Eo(s,l,m,!1),g=(m&l.childLanes)!==0),b){if(g)return l_(s,l,m);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Y(en,en.current),g)break;return null;case 22:return l.lanes=0,e_(s,l,m,l.pendingProps);case 24:hi(l,sn,s.memoizedState.cache)}return ka(s,l,m)}function u_(s,l,m){if(s!==null)if(s.memoizedProps!==l.pendingProps)ln=!0;else{if(!my(s,m)&&(l.flags&128)===0)return ln=!1,Q6(s,l,m);ln=(s.flags&131072)!==0}else ln=!1,it&&(l.flags&1048576)!==0&&$1(l,gu,l.index);switch(l.lanes=0,l.tag){case 16:e:{var g=l.pendingProps;if(s=ds(l.elementType),l.type=s,typeof s=="function")vg(s)?(g=hs(s,g),l.tag=1,l=a_(null,l,s,g,m)):(l.tag=0,l=sy(null,l,s,g,m));else{if(s!=null){var b=s.$$typeof;if(b===M){l.tag=11,l=JN(null,l,s,g,m);break e}else if(b===P){l.tag=14,l=QN(null,l,s,g,m);break e}}throw l=H(s)||s,Error(r(306,l,""))}}return l;case 0:return sy(s,l,l.type,l.pendingProps,m);case 1:return g=l.type,b=hs(g,l.pendingProps),a_(s,l,g,b,m);case 3:e:{if(_e(l,l.stateNode.containerInfo),s===null)throw Error(r(387));g=l.pendingProps;var E=l.memoizedState;b=E.element,Pg(s,l),Tu(l,g,null,m);var O=l.memoizedState;if(g=O.cache,hi(l,sn,g),g!==E.cache&&_g(l,[sn],m,!0),Au(),g=O.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=E,l.memoizedState=E,l.flags&256){l=i_(s,l,g,m);break e}else if(g!==b){b=Cr(Error(r(424)),l),yu(b),l=i_(s,l,g,m);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Dt=Pr(s.firstChild),kn=l,it=!0,mi=null,Ir=!0,m=eN(l,null,g,m),l.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(os(),g===b){l=ka(s,l,m);break e}On(s,l,g,m)}l=l.child}return l;case 26:return Mf(s,l),s===null?(m=bC(l.type,null,l.pendingProps,null))?l.memoizedState=m:it||(m=l.type,s=l.pendingProps,g=Hf(xe.current).createElement(m),g[In]=l,g[Jn]=s,Rn(g,m,s),An(g),l.stateNode=g):l.memoizedState=bC(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return Ce(l),s===null&&it&&(g=l.stateNode=yC(l.type,l.pendingProps,xe.current),kn=l,Ir=!0,b=Dt,Ci(l.type)?(Hy=b,Dt=Pr(g.firstChild)):Dt=b),On(s,l,l.pendingProps.children,m),Mf(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&it&&((b=g=Dt)&&(g=CV(g,l.type,l.pendingProps,Ir),g!==null?(l.stateNode=g,kn=l,Dt=Pr(g.firstChild),Ir=!1,b=!0):b=!1),b||pi(l)),Ce(l),b=l.type,E=l.pendingProps,O=s!==null?s.memoizedProps:null,g=E.children,$y(b,E)?g=null:O!==null&&$y(b,O)&&(l.flags|=32),l.memoizedState!==null&&(b=Bg(s,l,F6,null,null,m),zu._currentValue=b),Mf(s,l),On(s,l,g,m),l.child;case 6:return s===null&&it&&((s=m=Dt)&&(m=MV(m,l.pendingProps,Ir),m!==null?(l.stateNode=m,kn=l,Dt=null,s=!0):s=!1),s||pi(l)),null;case 13:return s_(s,l,m);case 4:return _e(l,l.stateNode.containerInfo),g=l.pendingProps,s===null?l.child=ms(l,null,g,m):On(s,l,g,m),l.child;case 11:return JN(s,l,l.type,l.pendingProps,m);case 7:return On(s,l,l.pendingProps,m),l.child;case 8:return On(s,l,l.pendingProps.children,m),l.child;case 12:return On(s,l,l.pendingProps.children,m),l.child;case 10:return g=l.pendingProps,hi(l,l.type,g.value),On(s,l,g.children,m),l.child;case 9:return b=l.type._context,g=l.pendingProps.children,us(l),b=Pn(b),g=g(b),l.flags|=1,On(s,l,g,m),l.child;case 14:return QN(s,l,l.type,l.pendingProps,m);case 15:return ZN(s,l,l.type,l.pendingProps,m);case 19:return l_(s,l,m);case 31:return J6(s,l,m);case 22:return e_(s,l,m,l.pendingProps);case 24:return us(l),g=Pn(sn),s===null?(b=jg(),b===null&&(b=Nt,E=Cg(),b.pooledCache=E,E.refCount++,E!==null&&(b.pooledCacheLanes|=m),b=E),l.memoizedState={parent:g,cache:b},kg(l),hi(l,sn,b)):((s.lanes&m)!==0&&(Pg(s,l),Tu(l,null,null,m),Au()),b=s.memoizedState,E=l.memoizedState,b.parent!==g?(b={parent:g,cache:g},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),hi(l,sn,g)):(g=E.cache,hi(l,sn,g),g!==b.cache&&_g(l,[sn],m,!0))),On(s,l,l.pendingProps.children,m),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Pa(s){s.flags|=4}function py(s,l,m,g,b){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(b&335544128)===b)if(s.stateNode.complete)s.flags|=8192;else if(D_())s.flags|=8192;else throw fs=pf,Ig}else s.flags&=-16777217}function c_(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!EC(l))if(D_())s.flags|=8192;else throw fs=pf,Ig}function If(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?mt():536870912,s.lanes|=l,Lo|=l)}function ju(s,l){if(!it)switch(s.tailMode){case"hidden":l=s.tail;for(var m=null;l!==null;)l.alternate!==null&&(m=l),l=l.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Lt(s){var l=s.alternate!==null&&s.alternate.child===s.child,m=0,g=0;if(l)for(var b=s.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=s,b=b.sibling;else for(b=s.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=s,b=b.sibling;return s.subtreeFlags|=g,s.childLanes=m,l}function Z6(s,l,m){var g=l.pendingProps;switch(wg(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(l),null;case 1:return Lt(l),null;case 3:return m=l.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),l.memoizedState.cache!==g&&(l.flags|=2048),Ma(sn),ce(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(To(l)?Pa(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Tg())),Lt(l),null;case 26:var b=l.type,E=l.memoizedState;return s===null?(Pa(l),E!==null?(Lt(l),c_(l,E)):(Lt(l),py(l,b,null,g,m))):E?E!==s.memoizedState?(Pa(l),Lt(l),c_(l,E)):(Lt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==g&&Pa(l),Lt(l),py(l,b,s,g,m)),null;case 27:if(G(l),m=xe.current,b=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Pa(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Lt(l),null}s=ee.current,To(l)?F1(l):(s=yC(b,g,m),l.stateNode=s,Pa(l))}return Lt(l),null;case 5:if(G(l),b=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==g&&Pa(l);else{if(!g){if(l.stateNode===null)throw Error(r(166));return Lt(l),null}if(E=ee.current,To(l))F1(l);else{var O=Hf(xe.current);switch(E){case 1:E=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:E=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":E=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":E=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":E=O.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?E.multiple=!0:g.size&&(E.size=g.size);break;default:E=typeof g.is=="string"?O.createElement(b,{is:g.is}):O.createElement(b)}}E[In]=l,E[Jn]=g;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)E.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=E;e:switch(Rn(E,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Pa(l)}}return Lt(l),py(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,m),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==g&&Pa(l);else{if(typeof g!="string"&&l.stateNode===null)throw Error(r(166));if(s=xe.current,To(l)){if(s=l.stateNode,m=l.memoizedProps,g=null,b=kn,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}s[In]=l,s=!!(s.nodeValue===m||g!==null&&g.suppressHydrationWarning===!0||sC(s.nodeValue,m)),s||pi(l,!0)}else s=Hf(s).createTextNode(g),s[In]=l,l.stateNode=s}return Lt(l),null;case 31:if(m=l.memoizedState,s===null||s.memoizedState!==null){if(g=To(l),m!==null){if(s===null){if(!g)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[In]=l}else os(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Lt(l),s=!1}else m=Tg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),s=!0;if(!s)return l.flags&256?(mr(l),l):(mr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Lt(l),null;case 13:if(g=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(b=To(l),g!==null&&g.dehydrated!==null){if(s===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[In]=l}else os(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Lt(l),b=!1}else b=Tg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(mr(l),l):(mr(l),null)}return mr(l),(l.flags&128)!==0?(l.lanes=m,l):(m=g!==null,s=s!==null&&s.memoizedState!==null,m&&(g=l.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),E=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(E=g.memoizedState.cachePool.pool),E!==b&&(g.flags|=2048)),m!==s&&m&&(l.child.flags|=8192),If(l,l.updateQueue),Lt(l),null);case 4:return ce(),s===null&&Dy(l.stateNode.containerInfo),Lt(l),null;case 10:return Ma(l.type),Lt(l),null;case 19:if(z(en),g=l.memoizedState,g===null)return Lt(l),null;if(b=(l.flags&128)!==0,E=g.rendering,E===null)if(b)ju(g,!1);else{if(Yt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(E=vf(s),E!==null){for(l.flags|=128,ju(g,!1),s=E.updateQueue,l.updateQueue=s,If(l,s),l.subtreeFlags=0,s=m,m=l.child;m!==null;)q1(m,s),m=m.sibling;return Y(en,en.current&1|2),it&&_a(l,g.treeForkCount),l.child}s=s.sibling}g.tail!==null&&ne()>Df&&(l.flags|=128,b=!0,ju(g,!1),l.lanes=4194304)}else{if(!b)if(s=vf(E),s!==null){if(l.flags|=128,b=!0,s=s.updateQueue,l.updateQueue=s,If(l,s),ju(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!it)return Lt(l),null}else 2*ne()-g.renderingStartTime>Df&&m!==536870912&&(l.flags|=128,b=!0,ju(g,!1),l.lanes=4194304);g.isBackwards?(E.sibling=l.child,l.child=E):(s=g.last,s!==null?s.sibling=E:l.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=ne(),s.sibling=null,m=en.current,Y(en,b?m&1|2:m&1),it&&_a(l,g.treeForkCount),s):(Lt(l),null);case 22:case 23:return mr(l),Lg(),g=l.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(l.flags|=8192):g&&(l.flags|=8192),g?(m&536870912)!==0&&(l.flags&128)===0&&(Lt(l),l.subtreeFlags&6&&(l.flags|=8192)):Lt(l),m=l.updateQueue,m!==null&&If(l,m.retryQueue),m=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),g=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),g!==m&&(l.flags|=2048),s!==null&&z(cs),null;case 24:return m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Ma(sn),Lt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function eV(s,l){switch(wg(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Ma(sn),ce(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return G(l),null;case 31:if(l.memoizedState!==null){if(mr(l),l.alternate===null)throw Error(r(340));os()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(mr(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));os()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return z(en),null;case 4:return ce(),null;case 10:return Ma(l.type),null;case 22:case 23:return mr(l),Lg(),s!==null&&z(cs),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Ma(sn),null;case 25:return null;default:return null}}function d_(s,l){switch(wg(l),l.tag){case 3:Ma(sn),ce();break;case 26:case 27:case 5:G(l);break;case 4:ce();break;case 31:l.memoizedState!==null&&mr(l);break;case 13:mr(l);break;case 19:z(en);break;case 10:Ma(l.type);break;case 22:case 23:mr(l),Lg(),s!==null&&z(cs);break;case 24:Ma(sn)}}function Iu(s,l){try{var m=l.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var b=g.next;m=b;do{if((m.tag&s)===s){g=void 0;var E=m.create,O=m.inst;g=E(),O.destroy=g}m=m.next}while(m!==b)}}catch(F){St(l,l.return,F)}}function Si(s,l,m){try{var g=l.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var E=b.next;g=E;do{if((g.tag&s)===s){var O=g.inst,F=O.destroy;if(F!==void 0){O.destroy=void 0,b=l;var Q=m,oe=F;try{oe()}catch(pe){St(b,Q,pe)}}}g=g.next}while(g!==E)}}catch(pe){St(l,l.return,pe)}}function f_(s){var l=s.updateQueue;if(l!==null){var m=s.stateNode;try{nN(l,m)}catch(g){St(s,s.return,g)}}}function m_(s,l,m){m.props=hs(s.type,s.memoizedProps),m.state=s.memoizedState;try{m.componentWillUnmount()}catch(g){St(s,l,g)}}function ku(s,l){try{var m=s.ref;if(m!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof m=="function"?s.refCleanup=m(g):m.current=g}}catch(b){St(s,l,b)}}function ua(s,l){var m=s.ref,g=s.refCleanup;if(m!==null)if(typeof g=="function")try{g()}catch(b){St(s,l,b)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(b){St(s,l,b)}else m.current=null}function p_(s){var l=s.type,m=s.memoizedProps,g=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":m.autoFocus&&g.focus();break e;case"img":m.src?g.src=m.src:m.srcSet&&(g.srcset=m.srcSet)}}catch(b){St(s,s.return,b)}}function hy(s,l,m){try{var g=s.stateNode;wV(g,s.type,m,l),g[Jn]=l}catch(b){St(s,s.return,b)}}function h_(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ci(s.type)||s.tag===4}function gy(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||h_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ci(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function yy(s,l,m){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(s,l):(l=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,l.appendChild(s),m=m._reactRootContainer,m!=null||l.onclick!==null||(l.onclick=Ta));else if(g!==4&&(g===27&&Ci(s.type)&&(m=s.stateNode,l=null),s=s.child,s!==null))for(yy(s,l,m),s=s.sibling;s!==null;)yy(s,l,m),s=s.sibling}function kf(s,l,m){var g=s.tag;if(g===5||g===6)s=s.stateNode,l?m.insertBefore(s,l):m.appendChild(s);else if(g!==4&&(g===27&&Ci(s.type)&&(m=s.stateNode),s=s.child,s!==null))for(kf(s,l,m),s=s.sibling;s!==null;)kf(s,l,m),s=s.sibling}function g_(s){var l=s.stateNode,m=s.memoizedProps;try{for(var g=s.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Rn(l,g,m),l[In]=s,l[Jn]=m}catch(E){St(s,s.return,E)}}var Oa=!1,un=!1,vy=!1,y_=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function tV(s,l){if(s=s.containerInfo,Uy=Zf,s=M1(s),dg(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var g=m.getSelection&&m.getSelection();if(g&&g.rangeCount!==0){m=g.anchorNode;var b=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{m.nodeType,E.nodeType}catch{m=null;break e}var O=0,F=-1,Q=-1,oe=0,pe=0,ye=s,ue=null;t:for(;;){for(var fe;ye!==m||b!==0&&ye.nodeType!==3||(F=O+b),ye!==E||g!==0&&ye.nodeType!==3||(Q=O+g),ye.nodeType===3&&(O+=ye.nodeValue.length),(fe=ye.firstChild)!==null;)ue=ye,ye=fe;for(;;){if(ye===s)break t;if(ue===m&&++oe===b&&(F=O),ue===E&&++pe===g&&(Q=O),(fe=ye.nextSibling)!==null)break;ye=ue,ue=ye.parentNode}ye=fe}m=F===-1||Q===-1?null:{start:F,end:Q}}else m=null}m=m||{start:0,end:0}}else m=null;for(By={focusedElem:s,selectionRange:m},Zf=!1,Tn=l;Tn!==null;)if(l=Tn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,Tn=s;else for(;Tn!==null;){switch(l=Tn,E=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(m=0;m<s.length;m++)b=s[m],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&E!==null){s=void 0,m=l,b=E.memoizedProps,E=E.memoizedState,g=m.stateNode;try{var Ie=hs(m.type,b);s=g.getSnapshotBeforeUpdate(Ie,E),g.__reactInternalSnapshotBeforeUpdate=s}catch(qe){St(m,m.return,qe)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,m=s.nodeType,m===9)Fy(s);else if(m===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Fy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,Tn=s;break}Tn=l.return}}function v_(s,l,m){var g=m.flags;switch(m.tag){case 0:case 11:case 15:Da(s,m),g&4&&Iu(5,m);break;case 1:if(Da(s,m),g&4)if(s=m.stateNode,l===null)try{s.componentDidMount()}catch(O){St(m,m.return,O)}else{var b=hs(m.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(b,l,s.__reactInternalSnapshotBeforeUpdate)}catch(O){St(m,m.return,O)}}g&64&&f_(m),g&512&&ku(m,m.return);break;case 3:if(Da(s,m),g&64&&(s=m.updateQueue,s!==null)){if(l=null,m.child!==null)switch(m.child.tag){case 27:case 5:l=m.child.stateNode;break;case 1:l=m.child.stateNode}try{nN(s,l)}catch(O){St(m,m.return,O)}}break;case 27:l===null&&g&4&&g_(m);case 26:case 5:Da(s,m),l===null&&g&4&&p_(m),g&512&&ku(m,m.return);break;case 12:Da(s,m);break;case 31:Da(s,m),g&4&&S_(s,m);break;case 13:Da(s,m),g&4&&w_(s,m),g&64&&(s=m.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(m=cV.bind(null,m),jV(s,m))));break;case 22:if(g=m.memoizedState!==null||Oa,!g){l=l!==null&&l.memoizedState!==null||un,b=Oa;var E=un;Oa=g,(un=l)&&!E?La(s,m,(m.subtreeFlags&8772)!==0):Da(s,m),Oa=b,un=E}break;case 30:break;default:Da(s,m)}}function x_(s){var l=s.alternate;l!==null&&(s.alternate=null,x_(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Yh(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Vt=null,Zn=!1;function Ra(s,l,m){for(m=m.child;m!==null;)b_(s,l,m),m=m.sibling}function b_(s,l,m){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(at,m)}catch{}switch(m.tag){case 26:un||ua(m,l),Ra(s,l,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:un||ua(m,l);var g=Vt,b=Zn;Ci(m.type)&&(Vt=m.stateNode,Zn=!1),Ra(s,l,m),$u(m.stateNode),Vt=g,Zn=b;break;case 5:un||ua(m,l);case 6:if(g=Vt,b=Zn,Vt=null,Ra(s,l,m),Vt=g,Zn=b,Vt!==null)if(Zn)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(m.stateNode)}catch(E){St(m,l,E)}else try{Vt.removeChild(m.stateNode)}catch(E){St(m,l,E)}break;case 18:Vt!==null&&(Zn?(s=Vt,fC(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,m.stateNode),Go(s)):fC(Vt,m.stateNode));break;case 4:g=Vt,b=Zn,Vt=m.stateNode.containerInfo,Zn=!0,Ra(s,l,m),Vt=g,Zn=b;break;case 0:case 11:case 14:case 15:Si(2,m,l),un||Si(4,m,l),Ra(s,l,m);break;case 1:un||(ua(m,l),g=m.stateNode,typeof g.componentWillUnmount=="function"&&m_(m,l,g)),Ra(s,l,m);break;case 21:Ra(s,l,m);break;case 22:un=(g=un)||m.memoizedState!==null,Ra(s,l,m),un=g;break;default:Ra(s,l,m)}}function S_(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Go(s)}catch(m){St(l,l.return,m)}}}function w_(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Go(s)}catch(m){St(l,l.return,m)}}function nV(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new y_),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new y_),l;default:throw Error(r(435,s.tag))}}function Pf(s,l){var m=nV(s);l.forEach(function(g){if(!m.has(g)){m.add(g);var b=dV.bind(null,s,g);g.then(b,b)}})}function er(s,l){var m=l.deletions;if(m!==null)for(var g=0;g<m.length;g++){var b=m[g],E=s,O=l,F=O;e:for(;F!==null;){switch(F.tag){case 27:if(Ci(F.type)){Vt=F.stateNode,Zn=!1;break e}break;case 5:Vt=F.stateNode,Zn=!1;break e;case 3:case 4:Vt=F.stateNode.containerInfo,Zn=!0;break e}F=F.return}if(Vt===null)throw Error(r(160));b_(E,O,b),Vt=null,Zn=!1,E=b.alternate,E!==null&&(E.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)A_(l,s),l=l.sibling}var Wr=null;function A_(s,l){var m=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:er(l,s),tr(s),g&4&&(Si(3,s,s.return),Iu(3,s),Si(5,s,s.return));break;case 1:er(l,s),tr(s),g&512&&(un||m===null||ua(m,m.return)),g&64&&Oa&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(m=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=m===null?g:m.concat(g))));break;case 26:var b=Wr;if(er(l,s),tr(s),g&512&&(un||m===null||ua(m,m.return)),g&4){var E=m!==null?m.memoizedState:null;if(g=s.memoizedState,m===null)if(g===null)if(s.stateNode===null){e:{g=s.type,m=s.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":E=b.getElementsByTagName("title")[0],(!E||E[iu]||E[In]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=b.createElement(g),b.head.insertBefore(E,b.querySelector("head > title"))),Rn(E,g,m),E[In]=s,An(E),g=E;break e;case"link":var O=AC("link","href",b).get(g+(m.href||""));if(O){for(var F=0;F<O.length;F++)if(E=O[F],E.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&E.getAttribute("rel")===(m.rel==null?null:m.rel)&&E.getAttribute("title")===(m.title==null?null:m.title)&&E.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){O.splice(F,1);break t}}E=b.createElement(g),Rn(E,g,m),b.head.appendChild(E);break;case"meta":if(O=AC("meta","content",b).get(g+(m.content||""))){for(F=0;F<O.length;F++)if(E=O[F],E.getAttribute("content")===(m.content==null?null:""+m.content)&&E.getAttribute("name")===(m.name==null?null:m.name)&&E.getAttribute("property")===(m.property==null?null:m.property)&&E.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&E.getAttribute("charset")===(m.charSet==null?null:m.charSet)){O.splice(F,1);break t}}E=b.createElement(g),Rn(E,g,m),b.head.appendChild(E);break;default:throw Error(r(468,g))}E[In]=s,An(E),g=E}s.stateNode=g}else TC(b,s.type,s.stateNode);else s.stateNode=wC(b,g,s.memoizedProps);else E!==g?(E===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):E.count--,g===null?TC(b,s.type,s.stateNode):wC(b,g,s.memoizedProps)):g===null&&s.stateNode!==null&&hy(s,s.memoizedProps,m.memoizedProps)}break;case 27:er(l,s),tr(s),g&512&&(un||m===null||ua(m,m.return)),m!==null&&g&4&&hy(s,s.memoizedProps,m.memoizedProps);break;case 5:if(er(l,s),tr(s),g&512&&(un||m===null||ua(m,m.return)),s.flags&32){b=s.stateNode;try{po(b,"")}catch(Ie){St(s,s.return,Ie)}}g&4&&s.stateNode!=null&&(b=s.memoizedProps,hy(s,b,m!==null?m.memoizedProps:b)),g&1024&&(vy=!0);break;case 6:if(er(l,s),tr(s),g&4){if(s.stateNode===null)throw Error(r(162));g=s.memoizedProps,m=s.stateNode;try{m.nodeValue=g}catch(Ie){St(s,s.return,Ie)}}break;case 3:if(Wf=null,b=Wr,Wr=Kf(l.containerInfo),er(l,s),Wr=b,tr(s),g&4&&m!==null&&m.memoizedState.isDehydrated)try{Go(l.containerInfo)}catch(Ie){St(s,s.return,Ie)}vy&&(vy=!1,T_(s));break;case 4:g=Wr,Wr=Kf(s.stateNode.containerInfo),er(l,s),tr(s),Wr=g;break;case 12:er(l,s),tr(s);break;case 31:er(l,s),tr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Pf(s,g)));break;case 13:er(l,s),tr(s),s.child.flags&8192&&s.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Rf=ne()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Pf(s,g)));break;case 22:b=s.memoizedState!==null;var Q=m!==null&&m.memoizedState!==null,oe=Oa,pe=un;if(Oa=oe||b,un=pe||Q,er(l,s),un=pe,Oa=oe,tr(s),g&8192)e:for(l=s.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(m===null||Q||Oa||un||gs(s)),m=null,l=s;;){if(l.tag===5||l.tag===26){if(m===null){Q=m=l;try{if(E=Q.stateNode,b)O=E.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{F=Q.stateNode;var ye=Q.memoizedProps.style,ue=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;F.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Ie){St(Q,Q.return,Ie)}}}else if(l.tag===6){if(m===null){Q=l;try{Q.stateNode.nodeValue=b?"":Q.memoizedProps}catch(Ie){St(Q,Q.return,Ie)}}}else if(l.tag===18){if(m===null){Q=l;try{var fe=Q.stateNode;b?mC(fe,!0):mC(Q.stateNode,!1)}catch(Ie){St(Q,Q.return,Ie)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;m===l&&(m=null),l=l.return}m===l&&(m=null),l.sibling.return=l.return,l=l.sibling}g&4&&(g=s.updateQueue,g!==null&&(m=g.retryQueue,m!==null&&(g.retryQueue=null,Pf(s,m))));break;case 19:er(l,s),tr(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,Pf(s,g)));break;case 30:break;case 21:break;default:er(l,s),tr(s)}}function tr(s){var l=s.flags;if(l&2){try{for(var m,g=s.return;g!==null;){if(h_(g)){m=g;break}g=g.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var b=m.stateNode,E=gy(s);kf(s,E,b);break;case 5:var O=m.stateNode;m.flags&32&&(po(O,""),m.flags&=-33);var F=gy(s);kf(s,F,O);break;case 3:case 4:var Q=m.stateNode.containerInfo,oe=gy(s);yy(s,oe,Q);break;default:throw Error(r(161))}}catch(pe){St(s,s.return,pe)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function T_(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;T_(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Da(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)v_(s,l.alternate,l),l=l.sibling}function gs(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Si(4,l,l.return),gs(l);break;case 1:ua(l,l.return);var m=l.stateNode;typeof m.componentWillUnmount=="function"&&m_(l,l.return,m),gs(l);break;case 27:$u(l.stateNode);case 26:case 5:ua(l,l.return),gs(l);break;case 22:l.memoizedState===null&&gs(l);break;case 30:gs(l);break;default:gs(l)}s=s.sibling}}function La(s,l,m){for(m=m&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var g=l.alternate,b=s,E=l,O=E.flags;switch(E.tag){case 0:case 11:case 15:La(b,E,m),Iu(4,E);break;case 1:if(La(b,E,m),g=E,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(oe){St(g,g.return,oe)}if(g=E,b=g.updateQueue,b!==null){var F=g.stateNode;try{var Q=b.shared.hiddenCallbacks;if(Q!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Q.length;b++)tN(Q[b],F)}catch(oe){St(g,g.return,oe)}}m&&O&64&&f_(E),ku(E,E.return);break;case 27:g_(E);case 26:case 5:La(b,E,m),m&&g===null&&O&4&&p_(E),ku(E,E.return);break;case 12:La(b,E,m);break;case 31:La(b,E,m),m&&O&4&&S_(b,E);break;case 13:La(b,E,m),m&&O&4&&w_(b,E);break;case 22:E.memoizedState===null&&La(b,E,m),ku(E,E.return);break;case 30:break;default:La(b,E,m)}l=l.sibling}}function xy(s,l){var m=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==m&&(s!=null&&s.refCount++,m!=null&&vu(m))}function by(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&vu(s))}function Xr(s,l,m,g){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)E_(s,l,m,g),l=l.sibling}function E_(s,l,m,g){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Xr(s,l,m,g),b&2048&&Iu(9,l);break;case 1:Xr(s,l,m,g);break;case 3:Xr(s,l,m,g),b&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&vu(s)));break;case 12:if(b&2048){Xr(s,l,m,g),s=l.stateNode;try{var E=l.memoizedProps,O=E.id,F=E.onPostCommit;typeof F=="function"&&F(O,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(Q){St(l,l.return,Q)}}else Xr(s,l,m,g);break;case 31:Xr(s,l,m,g);break;case 13:Xr(s,l,m,g);break;case 23:break;case 22:E=l.stateNode,O=l.alternate,l.memoizedState!==null?E._visibility&2?Xr(s,l,m,g):Pu(s,l):E._visibility&2?Xr(s,l,m,g):(E._visibility|=2,Oo(s,l,m,g,(l.subtreeFlags&10256)!==0||!1)),b&2048&&xy(O,l);break;case 24:Xr(s,l,m,g),b&2048&&by(l.alternate,l);break;default:Xr(s,l,m,g)}}function Oo(s,l,m,g,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var E=s,O=l,F=m,Q=g,oe=O.flags;switch(O.tag){case 0:case 11:case 15:Oo(E,O,F,Q,b),Iu(8,O);break;case 23:break;case 22:var pe=O.stateNode;O.memoizedState!==null?pe._visibility&2?Oo(E,O,F,Q,b):Pu(E,O):(pe._visibility|=2,Oo(E,O,F,Q,b)),b&&oe&2048&&xy(O.alternate,O);break;case 24:Oo(E,O,F,Q,b),b&&oe&2048&&by(O.alternate,O);break;default:Oo(E,O,F,Q,b)}l=l.sibling}}function Pu(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var m=s,g=l,b=g.flags;switch(g.tag){case 22:Pu(m,g),b&2048&&xy(g.alternate,g);break;case 24:Pu(m,g),b&2048&&by(g.alternate,g);break;default:Pu(m,g)}l=l.sibling}}var Ou=8192;function Ro(s,l,m){if(s.subtreeFlags&Ou)for(s=s.child;s!==null;)N_(s,l,m),s=s.sibling}function N_(s,l,m){switch(s.tag){case 26:Ro(s,l,m),s.flags&Ou&&s.memoizedState!==null&&VV(m,Wr,s.memoizedState,s.memoizedProps);break;case 5:Ro(s,l,m);break;case 3:case 4:var g=Wr;Wr=Kf(s.stateNode.containerInfo),Ro(s,l,m),Wr=g;break;case 22:s.memoizedState===null&&(g=s.alternate,g!==null&&g.memoizedState!==null?(g=Ou,Ou=16777216,Ro(s,l,m),Ou=g):Ro(s,l,m));break;default:Ro(s,l,m)}}function __(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function Ru(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var g=l[m];Tn=g,M_(g,s)}__(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)C_(s),s=s.sibling}function C_(s){switch(s.tag){case 0:case 11:case 15:Ru(s),s.flags&2048&&Si(9,s,s.return);break;case 3:Ru(s);break;case 12:Ru(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Of(s)):Ru(s);break;default:Ru(s)}}function Of(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var m=0;m<l.length;m++){var g=l[m];Tn=g,M_(g,s)}__(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Si(8,l,l.return),Of(l);break;case 22:m=l.stateNode,m._visibility&2&&(m._visibility&=-3,Of(l));break;default:Of(l)}s=s.sibling}}function M_(s,l){for(;Tn!==null;){var m=Tn;switch(m.tag){case 0:case 11:case 15:Si(8,m,l);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var g=m.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:vu(m.memoizedState.cache)}if(g=m.child,g!==null)g.return=m,Tn=g;else e:for(m=s;Tn!==null;){g=Tn;var b=g.sibling,E=g.return;if(x_(g),g===m){Tn=null;break e}if(b!==null){b.return=E,Tn=b;break e}Tn=E}}}var rV={getCacheForType:function(s){var l=Pn(sn),m=l.data.get(s);return m===void 0&&(m=s(),l.data.set(s,m)),m},cacheSignal:function(){return Pn(sn).controller.signal}},aV=typeof WeakMap=="function"?WeakMap:Map,pt=0,Nt=null,et=null,nt=0,bt=0,pr=null,wi=!1,Do=!1,Sy=!1,qa=0,Yt=0,Ai=0,ys=0,wy=0,hr=0,Lo=0,Du=null,nr=null,Ay=!1,Rf=0,j_=0,Df=1/0,Lf=null,Ti=null,yn=0,Ei=null,qo=null,Ua=0,Ty=0,Ey=null,I_=null,Lu=0,Ny=null;function gr(){return(pt&2)!==0&&nt!==0?nt&-nt:B.T!==null?ky():Hd()}function k_(){if(hr===0)if((nt&536870912)===0||it){var s=es;es<<=1,(es&3932160)===0&&(es=262144),hr=s}else hr=536870912;return s=fr.current,s!==null&&(s.flags|=32),hr}function rr(s,l,m){(s===Nt&&(bt===2||bt===9)||s.cancelPendingCommit!==null)&&(Uo(s,0),Ni(s,nt,hr,!1)),jn(s,m),((pt&2)===0||s!==Nt)&&(s===Nt&&((pt&2)===0&&(ys|=m),Yt===4&&Ni(s,nt,hr,!1)),ca(s))}function P_(s,l,m){if((pt&6)!==0)throw Error(r(327));var g=!m&&(l&127)===0&&(l&s.expiredLanes)===0||ot(s,l),b=g?oV(s,l):Cy(s,l,!0),E=g;do{if(b===0){Do&&!g&&Ni(s,l,0,!1);break}else{if(m=s.current.alternate,E&&!iV(m)){b=Cy(s,l,!1),E=!1;continue}if(b===2){if(E=l,s.errorRecoveryDisabledLanes&E)var O=0;else O=s.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var F=s;b=Du;var Q=F.current.memoizedState.isDehydrated;if(Q&&(Uo(F,O).flags|=256),O=Cy(F,O,!1),O!==2){if(Sy&&!Q){F.errorRecoveryDisabledLanes|=E,ys|=E,b=4;break e}E=nr,nr=b,E!==null&&(nr===null?nr=E:nr.push.apply(nr,E))}b=O}if(E=!1,b!==2)continue}}if(b===1){Uo(s,0),Ni(s,l,0,!0);break}e:{switch(g=s,E=b,E){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Ni(g,l,hr,!wi);break e;case 2:nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Rf+300-ne(),10<b)){if(Ni(g,l,hr,!wi),xt(g,0,!0)!==0)break e;Ua=l,g.timeoutHandle=cC(O_.bind(null,g,m,nr,Lf,Ay,l,hr,ys,Lo,wi,E,"Throttled",-0,0),b);break e}O_(g,m,nr,Lf,Ay,l,hr,ys,Lo,wi,E,null,-0,0)}}break}while(!0);ca(s)}function O_(s,l,m,g,b,E,O,F,Q,oe,pe,ye,ue,fe){if(s.timeoutHandle=-1,ye=l.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},N_(l,E,ye);var Ie=(E&62914560)===E?Rf-ne():(E&4194048)===E?j_-ne():0;if(Ie=FV(ye,Ie),Ie!==null){Ua=E,s.cancelPendingCommit=Ie(V_.bind(null,s,l,E,m,g,b,O,F,Q,pe,ye,null,ue,fe)),Ni(s,E,O,!oe);return}}V_(s,l,E,m,g,b,O,F,Q)}function iV(s){for(var l=s;;){var m=l.tag;if((m===0||m===11||m===15)&&l.flags&16384&&(m=l.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var g=0;g<m.length;g++){var b=m[g],E=b.getSnapshot;b=b.value;try{if(!cr(E(),b))return!1}catch{return!1}}if(m=l.child,l.subtreeFlags&16384&&m!==null)m.return=l,l=m;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ni(s,l,m,g){l&=~wy,l&=~ys,s.suspendedLanes|=l,s.pingedLanes&=~l,g&&(s.warmLanes|=l),g=s.expirationTimes;for(var b=l;0<b;){var E=31-gn(b),O=1<<E;g[E]=-1,b&=~O}m!==0&&ur(s,m,l)}function qf(){return(pt&6)===0?(qu(0),!1):!0}function _y(){if(et!==null){if(bt===0)var s=et.return;else s=et,Ca=ls=null,Fg(s),Mo=null,bu=0,s=et;for(;s!==null;)d_(s.alternate,s),s=s.return;et=null}}function Uo(s,l){var m=s.timeoutHandle;m!==-1&&(s.timeoutHandle=-1,EV(m)),m=s.cancelPendingCommit,m!==null&&(s.cancelPendingCommit=null,m()),Ua=0,_y(),Nt=s,et=m=Na(s.current,null),nt=l,bt=0,pr=null,wi=!1,Do=ot(s,l),Sy=!1,Lo=hr=wy=ys=Ai=Yt=0,nr=Du=null,Ay=!1,(l&8)!==0&&(l|=l&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=l;0<g;){var b=31-gn(g),E=1<<b;l|=s[b],g&=~E}return qa=l,af(),m}function R_(s,l){Ye=null,B.H=Cu,l===Co||l===mf?(l=J1(),bt=3):l===Ig?(l=J1(),bt=4):bt=l===iy?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,pr=l,et===null&&(Yt=1,_f(s,Cr(l,s.current)))}function D_(){var s=fr.current;return s===null?!0:(nt&4194048)===nt?kr===null:(nt&62914560)===nt||(nt&536870912)!==0?s===kr:!1}function L_(){var s=B.H;return B.H=Cu,s===null?Cu:s}function q_(){var s=B.A;return B.A=rV,s}function Uf(){Yt=4,wi||(nt&4194048)!==nt&&fr.current!==null||(Do=!0),(Ai&134217727)===0&&(ys&134217727)===0||Nt===null||Ni(Nt,nt,hr,!1)}function Cy(s,l,m){var g=pt;pt|=2;var b=L_(),E=q_();(Nt!==s||nt!==l)&&(Lf=null,Uo(s,l)),l=!1;var O=Yt;e:do try{if(bt!==0&&et!==null){var F=et,Q=pr;switch(bt){case 8:_y(),O=6;break e;case 3:case 2:case 9:case 6:fr.current===null&&(l=!0);var oe=bt;if(bt=0,pr=null,Bo(s,F,Q,oe),m&&Do){O=0;break e}break;default:oe=bt,bt=0,pr=null,Bo(s,F,Q,oe)}}sV(),O=Yt;break}catch(pe){R_(s,pe)}while(!0);return l&&s.shellSuspendCounter++,Ca=ls=null,pt=g,B.H=b,B.A=E,et===null&&(Nt=null,nt=0,af()),O}function sV(){for(;et!==null;)U_(et)}function oV(s,l){var m=pt;pt|=2;var g=L_(),b=q_();Nt!==s||nt!==l?(Lf=null,Df=ne()+500,Uo(s,l)):Do=ot(s,l);e:do try{if(bt!==0&&et!==null){l=et;var E=pr;t:switch(bt){case 1:bt=0,pr=null,Bo(s,l,E,1);break;case 2:case 9:if(W1(E)){bt=0,pr=null,B_(l);break}l=function(){bt!==2&&bt!==9||Nt!==s||(bt=7),ca(s)},E.then(l,l);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:W1(E)?(bt=0,pr=null,B_(l)):(bt=0,pr=null,Bo(s,l,E,7));break;case 5:var O=null;switch(et.tag){case 26:O=et.memoizedState;case 5:case 27:var F=et;if(O?EC(O):F.stateNode.complete){bt=0,pr=null;var Q=F.sibling;if(Q!==null)et=Q;else{var oe=F.return;oe!==null?(et=oe,Bf(oe)):et=null}break t}}bt=0,pr=null,Bo(s,l,E,5);break;case 6:bt=0,pr=null,Bo(s,l,E,6);break;case 8:_y(),Yt=6;break e;default:throw Error(r(462))}}lV();break}catch(pe){R_(s,pe)}while(!0);return Ca=ls=null,B.H=g,B.A=b,pt=m,et!==null?0:(Nt=null,nt=0,af(),Yt)}function lV(){for(;et!==null&&!rn();)U_(et)}function U_(s){var l=u_(s.alternate,s,qa);s.memoizedProps=s.pendingProps,l===null?Bf(s):et=l}function B_(s){var l=s,m=l.alternate;switch(l.tag){case 15:case 0:l=r_(m,l,l.pendingProps,l.type,void 0,nt);break;case 11:l=r_(m,l,l.pendingProps,l.type.render,l.ref,nt);break;case 5:Fg(l);default:d_(m,l),l=et=q1(l,qa),l=u_(m,l,qa)}s.memoizedProps=s.pendingProps,l===null?Bf(s):et=l}function Bo(s,l,m,g){Ca=ls=null,Fg(l),Mo=null,bu=0;var b=l.return;try{if(X6(s,b,l,m,nt)){Yt=1,_f(s,Cr(m,s.current)),et=null;return}}catch(E){if(b!==null)throw et=b,E;Yt=1,_f(s,Cr(m,s.current)),et=null;return}l.flags&32768?(it||g===1?s=!0:Do||(nt&536870912)!==0?s=!1:(wi=s=!0,(g===2||g===9||g===3||g===6)&&(g=fr.current,g!==null&&g.tag===13&&(g.flags|=16384))),$_(l,s)):Bf(l)}function Bf(s){var l=s;do{if((l.flags&32768)!==0){$_(l,wi);return}s=l.return;var m=Z6(l.alternate,l,qa);if(m!==null){et=m;return}if(l=l.sibling,l!==null){et=l;return}et=l=s}while(l!==null);Yt===0&&(Yt=5)}function $_(s,l){do{var m=eV(s.alternate,s);if(m!==null){m.flags&=32767,et=m;return}if(m=s.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!l&&(s=s.sibling,s!==null)){et=s;return}et=s=m}while(s!==null);Yt=6,et=null}function V_(s,l,m,g,b,E,O,F,Q){s.cancelPendingCommit=null;do $f();while(yn!==0);if((pt&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(E=l.lanes|l.childLanes,E|=gg,ui(s,m,E,O,F,Q),s===Nt&&(et=Nt=null,nt=0),qo=l,Ei=s,Ua=m,Ty=E,Ey=b,I_=g,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,fV(me,function(){return K_(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||g){g=B.T,B.T=null,b=K.p,K.p=2,O=pt,pt|=4;try{tV(s,l,m)}finally{pt=O,K.p=b,B.T=g}}yn=1,F_(),z_(),G_()}}function F_(){if(yn===1){yn=0;var s=Ei,l=qo,m=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||m){m=B.T,B.T=null;var g=K.p;K.p=2;var b=pt;pt|=4;try{A_(l,s);var E=By,O=M1(s.containerInfo),F=E.focusedElem,Q=E.selectionRange;if(O!==F&&F&&F.ownerDocument&&C1(F.ownerDocument.documentElement,F)){if(Q!==null&&dg(F)){var oe=Q.start,pe=Q.end;if(pe===void 0&&(pe=oe),"selectionStart"in F)F.selectionStart=oe,F.selectionEnd=Math.min(pe,F.value.length);else{var ye=F.ownerDocument||document,ue=ye&&ye.defaultView||window;if(ue.getSelection){var fe=ue.getSelection(),Ie=F.textContent.length,qe=Math.min(Q.start,Ie),Tt=Q.end===void 0?qe:Math.min(Q.end,Ie);!fe.extend&&qe>Tt&&(O=Tt,Tt=qe,qe=O);var ie=_1(F,qe),ae=_1(F,Tt);if(ie&&ae&&(fe.rangeCount!==1||fe.anchorNode!==ie.node||fe.anchorOffset!==ie.offset||fe.focusNode!==ae.node||fe.focusOffset!==ae.offset)){var se=ye.createRange();se.setStart(ie.node,ie.offset),fe.removeAllRanges(),qe>Tt?(fe.addRange(se),fe.extend(ae.node,ae.offset)):(se.setEnd(ae.node,ae.offset),fe.addRange(se))}}}}for(ye=[],fe=F;fe=fe.parentNode;)fe.nodeType===1&&ye.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<ye.length;F++){var ge=ye[F];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}Zf=!!Uy,By=Uy=null}finally{pt=b,K.p=g,B.T=m}}s.current=l,yn=2}}function z_(){if(yn===2){yn=0;var s=Ei,l=qo,m=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||m){m=B.T,B.T=null;var g=K.p;K.p=2;var b=pt;pt|=4;try{v_(s,l.alternate,l)}finally{pt=b,K.p=g,B.T=m}}yn=3}}function G_(){if(yn===4||yn===3){yn=0,Gn();var s=Ei,l=qo,m=Ua,g=I_;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?yn=5:(yn=0,qo=Ei=null,H_(s,s.pendingLanes));var b=s.pendingLanes;if(b===0&&(Ti=null),so(m),l=l.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(at,l,void 0,(l.current.flags&128)===128)}catch{}if(g!==null){l=B.T,b=K.p,K.p=2,B.T=null;try{for(var E=s.onRecoverableError,O=0;O<g.length;O++){var F=g[O];E(F.value,{componentStack:F.stack})}}finally{B.T=l,K.p=b}}(Ua&3)!==0&&$f(),ca(s),b=s.pendingLanes,(m&261930)!==0&&(b&42)!==0?s===Ny?Lu++:(Lu=0,Ny=s):Lu=0,qu(0)}}function H_(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,vu(l)))}function $f(){return F_(),z_(),G_(),K_()}function K_(){if(yn!==5)return!1;var s=Ei,l=Ty;Ty=0;var m=so(Ua),g=B.T,b=K.p;try{K.p=32>m?32:m,B.T=null,m=Ey,Ey=null;var E=Ei,O=Ua;if(yn=0,qo=Ei=null,Ua=0,(pt&6)!==0)throw Error(r(331));var F=pt;if(pt|=4,C_(E.current),E_(E,E.current,O,m),pt=F,qu(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(at,E)}catch{}return!0}finally{K.p=b,B.T=g,H_(s,l)}}function Y_(s,l,m){l=Cr(m,l),l=ay(s.stateNode,l,2),s=vi(s,l,2),s!==null&&(jn(s,2),ca(s))}function St(s,l,m){if(s.tag===3)Y_(s,s,m);else for(;l!==null;){if(l.tag===3){Y_(l,s,m);break}else if(l.tag===1){var g=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ti===null||!Ti.has(g))){s=Cr(m,s),m=WN(2),g=vi(l,m,2),g!==null&&(XN(m,g,l,s),jn(g,2),ca(g));break}}l=l.return}}function My(s,l,m){var g=s.pingCache;if(g===null){g=s.pingCache=new aV;var b=new Set;g.set(l,b)}else b=g.get(l),b===void 0&&(b=new Set,g.set(l,b));b.has(m)||(Sy=!0,b.add(m),s=uV.bind(null,s,l,m),l.then(s,s))}function uV(s,l,m){var g=s.pingCache;g!==null&&g.delete(l),s.pingedLanes|=s.suspendedLanes&m,s.warmLanes&=~m,Nt===s&&(nt&m)===m&&(Yt===4||Yt===3&&(nt&62914560)===nt&&300>ne()-Rf?(pt&2)===0&&Uo(s,0):wy|=m,Lo===nt&&(Lo=0)),ca(s)}function W_(s,l){l===0&&(l=mt()),s=is(s,l),s!==null&&(jn(s,l),ca(s))}function cV(s){var l=s.memoizedState,m=0;l!==null&&(m=l.retryLane),W_(s,m)}function dV(s,l){var m=0;switch(s.tag){case 31:case 13:var g=s.stateNode,b=s.memoizedState;b!==null&&(m=b.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(l),W_(s,m)}function fV(s,l){return Qt(s,l)}var Vf=null,$o=null,jy=!1,Ff=!1,Iy=!1,_i=0;function ca(s){s!==$o&&s.next===null&&($o===null?Vf=$o=s:$o=$o.next=s),Ff=!0,jy||(jy=!0,pV())}function qu(s,l){if(!Iy&&Ff){Iy=!0;do for(var m=!1,g=Vf;g!==null;){if(s!==0){var b=g.pendingLanes;if(b===0)var E=0;else{var O=g.suspendedLanes,F=g.pingedLanes;E=(1<<31-gn(42|s)+1)-1,E&=b&~(O&~F),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(m=!0,Z_(g,E))}else E=nt,E=xt(g,g===Nt?E:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(E&3)===0||ot(g,E)||(m=!0,Z_(g,E));g=g.next}while(m);Iy=!1}}function mV(){X_()}function X_(){Ff=jy=!1;var s=0;_i!==0&&TV()&&(s=_i);for(var l=ne(),m=null,g=Vf;g!==null;){var b=g.next,E=J_(g,l);E===0?(g.next=null,m===null?Vf=b:m.next=b,b===null&&($o=m)):(m=g,(s!==0||(E&3)!==0)&&(Ff=!0)),g=b}yn!==0&&yn!==5||qu(s),_i!==0&&(_i=0)}function J_(s,l){for(var m=s.suspendedLanes,g=s.pingedLanes,b=s.expirationTimes,E=s.pendingLanes&-62914561;0<E;){var O=31-gn(E),F=1<<O,Q=b[O];Q===-1?((F&m)===0||(F&g)!==0)&&(b[O]=Zt(F,l)):Q<=l&&(s.expiredLanes|=F),E&=~F}if(l=Nt,m=nt,m=xt(s,s===l?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,m===0||s===l&&(bt===2||bt===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Gt(g),s.callbackNode=null,s.callbackPriority=0;if((m&3)===0||ot(s,m)){if(l=m&-m,l===s.callbackPriority)return l;switch(g!==null&&Gt(g),so(m)){case 2:case 8:m=Ee;break;case 32:m=me;break;case 268435456:m=kt;break;default:m=me}return g=Q_.bind(null,s),m=Qt(m,g),s.callbackPriority=l,s.callbackNode=m,l}return g!==null&&g!==null&&Gt(g),s.callbackPriority=2,s.callbackNode=null,2}function Q_(s,l){if(yn!==0&&yn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var m=s.callbackNode;if($f()&&s.callbackNode!==m)return null;var g=nt;return g=xt(s,s===Nt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(P_(s,g,l),J_(s,ne()),s.callbackNode!=null&&s.callbackNode===m?Q_.bind(null,s):null)}function Z_(s,l){if($f())return null;P_(s,l,!0)}function pV(){NV(function(){(pt&6)!==0?Qt(we,mV):X_()})}function ky(){if(_i===0){var s=No;s===0&&(s=io,io<<=1,(io&261888)===0&&(io=256)),_i=s}return _i}function eC(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xd(""+s)}function tC(s,l){var m=l.ownerDocument.createElement("input");return m.name=l.name,m.value=l.value,s.id&&m.setAttribute("form",s.id),l.parentNode.insertBefore(m,l),s=new FormData(s),m.parentNode.removeChild(m),s}function hV(s,l,m,g,b){if(l==="submit"&&m&&m.stateNode===b){var E=eC((b[Jn]||null).action),O=g.submitter;O&&(l=(l=O[Jn]||null)?eC(l.formAction):O.getAttribute("formAction"),l!==null&&(E=l,O=null));var F=new ef("action","action",null,g,b);s.push({event:F,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(_i!==0){var Q=O?tC(b,O):new FormData(b);Qg(m,{pending:!0,data:Q,method:b.method,action:E},null,Q)}}else typeof E=="function"&&(F.preventDefault(),Q=O?tC(b,O):new FormData(b),Qg(m,{pending:!0,data:Q,method:b.method,action:E},E,Q))},currentTarget:b}]})}}for(var Py=0;Py<hg.length;Py++){var Oy=hg[Py],gV=Oy.toLowerCase(),yV=Oy[0].toUpperCase()+Oy.slice(1);Yr(gV,"on"+yV)}Yr(k1,"onAnimationEnd"),Yr(P1,"onAnimationIteration"),Yr(O1,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(P6,"onTransitionRun"),Yr(O6,"onTransitionStart"),Yr(R6,"onTransitionCancel"),Yr(R1,"onTransitionEnd"),fo("onMouseEnter",["mouseout","mouseover"]),fo("onMouseLeave",["mouseout","mouseover"]),fo("onPointerEnter",["pointerout","pointerover"]),fo("onPointerLeave",["pointerout","pointerover"]),ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uu));function nC(s,l){l=(l&4)!==0;for(var m=0;m<s.length;m++){var g=s[m],b=g.event;g=g.listeners;e:{var E=void 0;if(l)for(var O=g.length-1;0<=O;O--){var F=g[O],Q=F.instance,oe=F.currentTarget;if(F=F.listener,Q!==E&&b.isPropagationStopped())break e;E=F,b.currentTarget=oe;try{E(b)}catch(pe){rf(pe)}b.currentTarget=null,E=Q}else for(O=0;O<g.length;O++){if(F=g[O],Q=F.instance,oe=F.currentTarget,F=F.listener,Q!==E&&b.isPropagationStopped())break e;E=F,b.currentTarget=oe;try{E(b)}catch(pe){rf(pe)}b.currentTarget=null,E=Q}}}}function tt(s,l){var m=l[Kh];m===void 0&&(m=l[Kh]=new Set);var g=s+"__bubble";m.has(g)||(rC(l,s,2,!1),m.add(g))}function Ry(s,l,m){var g=0;l&&(g|=4),rC(m,s,g,l)}var zf="_reactListening"+Math.random().toString(36).slice(2);function Dy(s){if(!s[zf]){s[zf]=!0,XE.forEach(function(m){m!=="selectionchange"&&(vV.has(m)||Ry(m,!1,s),Ry(m,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[zf]||(l[zf]=!0,Ry("selectionchange",!1,l))}}function rC(s,l,m,g){switch(kC(l)){case 2:var b=HV;break;case 8:b=KV;break;default:b=Jy}m=b.bind(null,l,m,s),b=void 0,!ng||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),g?b!==void 0?s.addEventListener(l,m,{capture:!0,passive:b}):s.addEventListener(l,m,!0):b!==void 0?s.addEventListener(l,m,{passive:b}):s.addEventListener(l,m,!1)}function Ly(s,l,m,g,b){var E=g;if((l&1)===0&&(l&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var F=g.stateNode.containerInfo;if(F===b)break;if(O===4)for(O=g.return;O!==null;){var Q=O.tag;if((Q===3||Q===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;F!==null;){if(O=lo(F),O===null)return;if(Q=O.tag,Q===5||Q===6||Q===26||Q===27){g=E=O;continue e}F=F.parentNode}}g=g.return}l1(function(){var oe=E,pe=eg(m),ye=[];e:{var ue=D1.get(s);if(ue!==void 0){var fe=ef,Ie=s;switch(s){case"keypress":if(Qd(m)===0)break e;case"keydown":case"keyup":fe=d6;break;case"focusin":Ie="focus",fe=sg;break;case"focusout":Ie="blur",fe=sg;break;case"beforeblur":case"afterblur":fe=sg;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=d1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Z$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=p6;break;case k1:case P1:case O1:fe=n6;break;case R1:fe=g6;break;case"scroll":case"scrollend":fe=J$;break;case"wheel":fe=v6;break;case"copy":case"cut":case"paste":fe=a6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=m1;break;case"toggle":case"beforetoggle":fe=b6}var qe=(l&4)!==0,Tt=!qe&&(s==="scroll"||s==="scrollend"),ie=qe?ue!==null?ue+"Capture":null:ue;qe=[];for(var ae=oe,se;ae!==null;){var ge=ae;if(se=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||se===null||ie===null||(ge=ou(ae,ie),ge!=null&&qe.push(Bu(ae,ge,se))),Tt)break;ae=ae.return}0<qe.length&&(ue=new fe(ue,Ie,null,m,pe),ye.push({event:ue,listeners:qe}))}}if((l&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",ue&&m!==Zh&&(Ie=m.relatedTarget||m.fromElement)&&(lo(Ie)||Ie[oo]))break e;if((fe||ue)&&(ue=pe.window===pe?pe:(ue=pe.ownerDocument)?ue.defaultView||ue.parentWindow:window,fe?(Ie=m.relatedTarget||m.toElement,fe=oe,Ie=Ie?lo(Ie):null,Ie!==null&&(Tt=i(Ie),qe=Ie.tag,Ie!==Tt||qe!==5&&qe!==27&&qe!==6)&&(Ie=null)):(fe=null,Ie=oe),fe!==Ie)){if(qe=d1,ge="onMouseLeave",ie="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(qe=m1,ge="onPointerLeave",ie="onPointerEnter",ae="pointer"),Tt=fe==null?ue:su(fe),se=Ie==null?ue:su(Ie),ue=new qe(ge,ae+"leave",fe,m,pe),ue.target=Tt,ue.relatedTarget=se,ge=null,lo(pe)===oe&&(qe=new qe(ie,ae+"enter",Ie,m,pe),qe.target=se,qe.relatedTarget=Tt,ge=qe),Tt=ge,fe&&Ie)t:{for(qe=xV,ie=fe,ae=Ie,se=0,ge=ie;ge;ge=qe(ge))se++;ge=0;for(var Le=ae;Le;Le=qe(Le))ge++;for(;0<se-ge;)ie=qe(ie),se--;for(;0<ge-se;)ae=qe(ae),ge--;for(;se--;){if(ie===ae||ae!==null&&ie===ae.alternate){qe=ie;break t}ie=qe(ie),ae=qe(ae)}qe=null}else qe=null;fe!==null&&aC(ye,ue,fe,qe,!1),Ie!==null&&Tt!==null&&aC(ye,Tt,Ie,qe,!0)}}e:{if(ue=oe?su(oe):window,fe=ue.nodeName&&ue.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ue.type==="file")var lt=S1;else if(x1(ue))if(w1)lt=j6;else{lt=C6;var Pe=_6}else fe=ue.nodeName,!fe||fe.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?oe&&Qh(oe.elementType)&&(lt=S1):lt=M6;if(lt&&(lt=lt(s,oe))){b1(ye,lt,m,pe);break e}Pe&&Pe(s,ue,oe),s==="focusout"&&oe&&ue.type==="number"&&oe.memoizedProps.value!=null&&Jh(ue,"number",ue.value)}switch(Pe=oe?su(oe):window,s){case"focusin":(x1(Pe)||Pe.contentEditable==="true")&&(vo=Pe,fg=oe,hu=null);break;case"focusout":hu=fg=vo=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,j1(ye,m,pe);break;case"selectionchange":if(k6)break;case"keydown":case"keyup":j1(ye,m,pe)}var We;if(lg)e:{switch(s){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else yo?y1(s,m)&&(rt="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(rt="onCompositionStart");rt&&(p1&&m.locale!=="ko"&&(yo||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&yo&&(We=u1()):(di=pe,rg="value"in di?di.value:di.textContent,yo=!0)),Pe=Gf(oe,rt),0<Pe.length&&(rt=new f1(rt,s,null,m,pe),ye.push({event:rt,listeners:Pe}),We?rt.data=We:(We=v1(m),We!==null&&(rt.data=We)))),(We=w6?A6(s,m):T6(s,m))&&(rt=Gf(oe,"onBeforeInput"),0<rt.length&&(Pe=new f1("onBeforeInput","beforeinput",null,m,pe),ye.push({event:Pe,listeners:rt}),Pe.data=We)),hV(ye,s,oe,m,pe)}nC(ye,l)})}function Bu(s,l,m){return{instance:s,listener:l,currentTarget:m}}function Gf(s,l){for(var m=l+"Capture",g=[];s!==null;){var b=s,E=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||E===null||(b=ou(s,m),b!=null&&g.unshift(Bu(s,b,E)),b=ou(s,l),b!=null&&g.push(Bu(s,b,E))),s.tag===3)return g;s=s.return}return[]}function xV(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aC(s,l,m,g,b){for(var E=l._reactName,O=[];m!==null&&m!==g;){var F=m,Q=F.alternate,oe=F.stateNode;if(F=F.tag,Q!==null&&Q===g)break;F!==5&&F!==26&&F!==27||oe===null||(Q=oe,b?(oe=ou(m,E),oe!=null&&O.unshift(Bu(m,oe,Q))):b||(oe=ou(m,E),oe!=null&&O.push(Bu(m,oe,Q)))),m=m.return}O.length!==0&&s.push({event:l,listeners:O})}var bV=/\r\n?/g,SV=/\u0000|\uFFFD/g;function iC(s){return(typeof s=="string"?s:""+s).replace(bV,`
`).replace(SV,"")}function sC(s,l){return l=iC(l),iC(s)===l}function At(s,l,m,g,b,E){switch(m){case"children":typeof g=="string"?l==="body"||l==="textarea"&&g===""||po(s,g):(typeof g=="number"||typeof g=="bigint")&&l!=="body"&&po(s,""+g);break;case"className":Yd(s,"class",g);break;case"tabIndex":Yd(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Yd(s,m,g);break;case"style":s1(s,g,E);break;case"data":if(l!=="object"){Yd(s,"data",g);break}case"src":case"href":if(g===""&&(l!=="a"||m!=="href")){s.removeAttribute(m);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(m);break}g=Xd(""+g),s.setAttribute(m,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(m==="formAction"?(l!=="input"&&At(s,l,"name",b.name,b,null),At(s,l,"formEncType",b.formEncType,b,null),At(s,l,"formMethod",b.formMethod,b,null),At(s,l,"formTarget",b.formTarget,b,null)):(At(s,l,"encType",b.encType,b,null),At(s,l,"method",b.method,b,null),At(s,l,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(m);break}g=Xd(""+g),s.setAttribute(m,g);break;case"onClick":g!=null&&(s.onclick=Ta);break;case"onScroll":g!=null&&tt("scroll",s);break;case"onScrollEnd":g!=null&&tt("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}m=Xd(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(m,""+g):s.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(m,""):s.removeAttribute(m);break;case"capture":case"download":g===!0?s.setAttribute(m,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(m,g):s.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(m,g):s.removeAttribute(m);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(m):s.setAttribute(m,g);break;case"popover":tt("beforetoggle",s),tt("toggle",s),Kd(s,"popover",g);break;case"xlinkActuate":Aa(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Aa(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Aa(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Aa(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Aa(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Aa(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Aa(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Aa(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Aa(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Kd(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=W$.get(m)||m,Kd(s,m,g))}}function qy(s,l,m,g,b,E){switch(m){case"style":s1(s,g,E);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(r(60));s.innerHTML=m}}break;case"children":typeof g=="string"?po(s,g):(typeof g=="number"||typeof g=="bigint")&&po(s,""+g);break;case"onScroll":g!=null&&tt("scroll",s);break;case"onScrollEnd":g!=null&&tt("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!JE.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(b=m.endsWith("Capture"),l=m.slice(2,b?m.length-7:void 0),E=s[Jn]||null,E=E!=null?E[m]:null,typeof E=="function"&&s.removeEventListener(l,E,b),typeof g=="function")){typeof E!="function"&&E!==null&&(m in s?s[m]=null:s.hasAttribute(m)&&s.removeAttribute(m)),s.addEventListener(l,g,b);break e}m in s?s[m]=g:g===!0?s.setAttribute(m,""):Kd(s,m,g)}}}function Rn(s,l,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",s),tt("load",s);var g=!1,b=!1,E;for(E in m)if(m.hasOwnProperty(E)){var O=m[E];if(O!=null)switch(E){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:At(s,l,E,O,m,null)}}b&&At(s,l,"srcSet",m.srcSet,m,null),g&&At(s,l,"src",m.src,m,null);return;case"input":tt("invalid",s);var F=E=O=b=null,Q=null,oe=null;for(g in m)if(m.hasOwnProperty(g)){var pe=m[g];if(pe!=null)switch(g){case"name":b=pe;break;case"type":O=pe;break;case"checked":Q=pe;break;case"defaultChecked":oe=pe;break;case"value":E=pe;break;case"defaultValue":F=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:At(s,l,g,pe,m,null)}}n1(s,E,F,Q,oe,O,b,!1);return;case"select":tt("invalid",s),g=O=E=null;for(b in m)if(m.hasOwnProperty(b)&&(F=m[b],F!=null))switch(b){case"value":E=F;break;case"defaultValue":O=F;break;case"multiple":g=F;default:At(s,l,b,F,m,null)}l=E,m=O,s.multiple=!!g,l!=null?mo(s,!!g,l,!1):m!=null&&mo(s,!!g,m,!0);return;case"textarea":tt("invalid",s),E=b=g=null;for(O in m)if(m.hasOwnProperty(O)&&(F=m[O],F!=null))switch(O){case"value":g=F;break;case"defaultValue":b=F;break;case"children":E=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:At(s,l,O,F,m,null)}a1(s,g,b,E);return;case"option":for(Q in m)if(m.hasOwnProperty(Q)&&(g=m[Q],g!=null))switch(Q){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:At(s,l,Q,g,m,null)}return;case"dialog":tt("beforetoggle",s),tt("toggle",s),tt("cancel",s),tt("close",s);break;case"iframe":case"object":tt("load",s);break;case"video":case"audio":for(g=0;g<Uu.length;g++)tt(Uu[g],s);break;case"image":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"embed":case"source":case"link":tt("error",s),tt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in m)if(m.hasOwnProperty(oe)&&(g=m[oe],g!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:At(s,l,oe,g,m,null)}return;default:if(Qh(l)){for(pe in m)m.hasOwnProperty(pe)&&(g=m[pe],g!==void 0&&qy(s,l,pe,g,m,void 0));return}}for(F in m)m.hasOwnProperty(F)&&(g=m[F],g!=null&&At(s,l,F,g,m,null))}function wV(s,l,m,g){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,E=null,O=null,F=null,Q=null,oe=null,pe=null;for(fe in m){var ye=m[fe];if(m.hasOwnProperty(fe)&&ye!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":Q=ye;default:g.hasOwnProperty(fe)||At(s,l,fe,null,g,ye)}}for(var ue in g){var fe=g[ue];if(ye=m[ue],g.hasOwnProperty(ue)&&(fe!=null||ye!=null))switch(ue){case"type":E=fe;break;case"name":b=fe;break;case"checked":oe=fe;break;case"defaultChecked":pe=fe;break;case"value":O=fe;break;case"defaultValue":F=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,l));break;default:fe!==ye&&At(s,l,ue,fe,g,ye)}}Xh(s,O,F,Q,oe,pe,E,b);return;case"select":fe=O=F=ue=null;for(E in m)if(Q=m[E],m.hasOwnProperty(E)&&Q!=null)switch(E){case"value":break;case"multiple":fe=Q;default:g.hasOwnProperty(E)||At(s,l,E,null,g,Q)}for(b in g)if(E=g[b],Q=m[b],g.hasOwnProperty(b)&&(E!=null||Q!=null))switch(b){case"value":ue=E;break;case"defaultValue":F=E;break;case"multiple":O=E;default:E!==Q&&At(s,l,b,E,g,Q)}l=F,m=O,g=fe,ue!=null?mo(s,!!m,ue,!1):!!g!=!!m&&(l!=null?mo(s,!!m,l,!0):mo(s,!!m,m?[]:"",!1));return;case"textarea":fe=ue=null;for(F in m)if(b=m[F],m.hasOwnProperty(F)&&b!=null&&!g.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:At(s,l,F,null,g,b)}for(O in g)if(b=g[O],E=m[O],g.hasOwnProperty(O)&&(b!=null||E!=null))switch(O){case"value":ue=b;break;case"defaultValue":fe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==E&&At(s,l,O,b,g,E)}r1(s,ue,fe);return;case"option":for(var Ie in m)if(ue=m[Ie],m.hasOwnProperty(Ie)&&ue!=null&&!g.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:At(s,l,Ie,null,g,ue)}for(Q in g)if(ue=g[Q],fe=m[Q],g.hasOwnProperty(Q)&&ue!==fe&&(ue!=null||fe!=null))switch(Q){case"selected":s.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:At(s,l,Q,ue,g,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in m)ue=m[qe],m.hasOwnProperty(qe)&&ue!=null&&!g.hasOwnProperty(qe)&&At(s,l,qe,null,g,ue);for(oe in g)if(ue=g[oe],fe=m[oe],g.hasOwnProperty(oe)&&ue!==fe&&(ue!=null||fe!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,l));break;default:At(s,l,oe,ue,g,fe)}return;default:if(Qh(l)){for(var Tt in m)ue=m[Tt],m.hasOwnProperty(Tt)&&ue!==void 0&&!g.hasOwnProperty(Tt)&&qy(s,l,Tt,void 0,g,ue);for(pe in g)ue=g[pe],fe=m[pe],!g.hasOwnProperty(pe)||ue===fe||ue===void 0&&fe===void 0||qy(s,l,pe,ue,g,fe);return}}for(var ie in m)ue=m[ie],m.hasOwnProperty(ie)&&ue!=null&&!g.hasOwnProperty(ie)&&At(s,l,ie,null,g,ue);for(ye in g)ue=g[ye],fe=m[ye],!g.hasOwnProperty(ye)||ue===fe||ue==null&&fe==null||At(s,l,ye,ue,g,fe)}function oC(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AV(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,m=performance.getEntriesByType("resource"),g=0;g<m.length;g++){var b=m[g],E=b.transferSize,O=b.initiatorType,F=b.duration;if(E&&F&&oC(O)){for(O=0,F=b.responseEnd,g+=1;g<m.length;g++){var Q=m[g],oe=Q.startTime;if(oe>F)break;var pe=Q.transferSize,ye=Q.initiatorType;pe&&oC(ye)&&(Q=Q.responseEnd,O+=pe*(Q<F?1:(F-oe)/(Q-oe)))}if(--g,l+=8*(E+O)/(b.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Uy=null,By=null;function Hf(s){return s.nodeType===9?s:s.ownerDocument}function lC(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uC(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function $y(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Vy=null;function TV(){var s=window.event;return s&&s.type==="popstate"?s===Vy?!1:(Vy=s,!0):(Vy=null,!1)}var cC=typeof setTimeout=="function"?setTimeout:void 0,EV=typeof clearTimeout=="function"?clearTimeout:void 0,dC=typeof Promise=="function"?Promise:void 0,NV=typeof queueMicrotask=="function"?queueMicrotask:typeof dC<"u"?function(s){return dC.resolve(null).then(s).catch(_V)}:cC;function _V(s){setTimeout(function(){throw s})}function Ci(s){return s==="head"}function fC(s,l){var m=l,g=0;do{var b=m.nextSibling;if(s.removeChild(m),b&&b.nodeType===8)if(m=b.data,m==="/$"||m==="/&"){if(g===0){s.removeChild(b),Go(l);return}g--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")g++;else if(m==="html")$u(s.ownerDocument.documentElement);else if(m==="head"){m=s.ownerDocument.head,$u(m);for(var E=m.firstChild;E;){var O=E.nextSibling,F=E.nodeName;E[iu]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&E.rel.toLowerCase()==="stylesheet"||m.removeChild(E),E=O}}else m==="body"&&$u(s.ownerDocument.body);m=b}while(m);Go(l)}function mC(s,l){var m=s;s=0;do{var g=m.nextSibling;if(m.nodeType===1?l?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(l?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),g&&g.nodeType===8)if(m=g.data,m==="/$"){if(s===0)break;s--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||s++;m=g}while(m)}function Fy(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var m=l;switch(l=l.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Fy(m),Yh(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}s.removeChild(m)}}function CV(s,l,m,g){for(;s.nodeType===1;){var b=m;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[iu])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(E!==b.rel||s.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||s.getAttribute("title")!==(b.title==null?null:b.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(b.src==null?null:b.src)||s.getAttribute("type")!==(b.type==null?null:b.type)||s.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&E&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var E=b.name==null?null:""+b.name;if(b.type==="hidden"&&s.getAttribute("name")===E)return s}else return s;if(s=Pr(s.nextSibling),s===null)break}return null}function MV(s,l,m){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!m||(s=Pr(s.nextSibling),s===null))return null;return s}function pC(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Pr(s.nextSibling),s===null))return null;return s}function zy(s){return s.data==="$?"||s.data==="$~"}function Gy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function jV(s,l){var m=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||m.readyState!=="loading")l();else{var g=function(){l(),m.removeEventListener("DOMContentLoaded",g)};m.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function Pr(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Hy=null;function hC(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"||m==="/&"){if(l===0)return Pr(s.nextSibling);l--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||l++}s=s.nextSibling}return null}function gC(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(l===0)return s;l--}else m!=="/$"&&m!=="/&"||l++}s=s.previousSibling}return null}function yC(s,l,m){switch(l=Hf(m),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function $u(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Yh(s)}var Or=new Map,vC=new Set;function Kf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ba=K.d;K.d={f:IV,r:kV,D:PV,C:OV,L:RV,m:DV,X:qV,S:LV,M:UV};function IV(){var s=Ba.f(),l=qf();return s||l}function kV(s){var l=uo(s);l!==null&&l.tag===5&&l.type==="form"?RN(l):Ba.r(s)}var Vo=typeof document>"u"?null:document;function xC(s,l,m){var g=Vo;if(g&&typeof l=="string"&&l){var b=Nr(l);b='link[rel="'+s+'"][href="'+b+'"]',typeof m=="string"&&(b+='[crossorigin="'+m+'"]'),vC.has(b)||(vC.add(b),s={rel:s,crossOrigin:m,href:l},g.querySelector(b)===null&&(l=g.createElement("link"),Rn(l,"link",s),An(l),g.head.appendChild(l)))}}function PV(s){Ba.D(s),xC("dns-prefetch",s,null)}function OV(s,l){Ba.C(s,l),xC("preconnect",s,l)}function RV(s,l,m){Ba.L(s,l,m);var g=Vo;if(g&&s&&l){var b='link[rel="preload"][as="'+Nr(l)+'"]';l==="image"&&m&&m.imageSrcSet?(b+='[imagesrcset="'+Nr(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(b+='[imagesizes="'+Nr(m.imageSizes)+'"]')):b+='[href="'+Nr(s)+'"]';var E=b;switch(l){case"style":E=Fo(s);break;case"script":E=zo(s)}Or.has(E)||(s=h({rel:"preload",href:l==="image"&&m&&m.imageSrcSet?void 0:s,as:l},m),Or.set(E,s),g.querySelector(b)!==null||l==="style"&&g.querySelector(Vu(E))||l==="script"&&g.querySelector(Fu(E))||(l=g.createElement("link"),Rn(l,"link",s),An(l),g.head.appendChild(l)))}}function DV(s,l){Ba.m(s,l);var m=Vo;if(m&&s){var g=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Nr(g)+'"][href="'+Nr(s)+'"]',E=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=zo(s)}if(!Or.has(E)&&(s=h({rel:"modulepreload",href:s},l),Or.set(E,s),m.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Fu(E)))return}g=m.createElement("link"),Rn(g,"link",s),An(g),m.head.appendChild(g)}}}function LV(s,l,m){Ba.S(s,l,m);var g=Vo;if(g&&s){var b=co(g).hoistableStyles,E=Fo(s);l=l||"default";var O=b.get(E);if(!O){var F={loading:0,preload:null};if(O=g.querySelector(Vu(E)))F.loading=5;else{s=h({rel:"stylesheet",href:s,"data-precedence":l},m),(m=Or.get(E))&&Ky(s,m);var Q=O=g.createElement("link");An(Q),Rn(Q,"link",s),Q._p=new Promise(function(oe,pe){Q.onload=oe,Q.onerror=pe}),Q.addEventListener("load",function(){F.loading|=1}),Q.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Yf(O,l,g)}O={type:"stylesheet",instance:O,count:1,state:F},b.set(E,O)}}}function qV(s,l){Ba.X(s,l);var m=Vo;if(m&&s){var g=co(m).hoistableScripts,b=zo(s),E=g.get(b);E||(E=m.querySelector(Fu(b)),E||(s=h({src:s,async:!0},l),(l=Or.get(b))&&Yy(s,l),E=m.createElement("script"),An(E),Rn(E,"link",s),m.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function UV(s,l){Ba.M(s,l);var m=Vo;if(m&&s){var g=co(m).hoistableScripts,b=zo(s),E=g.get(b);E||(E=m.querySelector(Fu(b)),E||(s=h({src:s,async:!0,type:"module"},l),(l=Or.get(b))&&Yy(s,l),E=m.createElement("script"),An(E),Rn(E,"link",s),m.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},g.set(b,E))}}function bC(s,l,m,g){var b=(b=xe.current)?Kf(b):null;if(!b)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(l=Fo(m.href),m=co(b).hoistableStyles,g=m.get(l),g||(g={type:"style",instance:null,count:0,state:null},m.set(l,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){s=Fo(m.href);var E=co(b).hoistableStyles,O=E.get(s);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,O),(E=b.querySelector(Vu(s)))&&!E._p&&(O.instance=E,O.state.loading=5),Or.has(s)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Or.set(s,m),E||BV(b,s,m,O.state))),l&&g===null)throw Error(r(528,""));return O}if(l&&g!==null)throw Error(r(529,""));return null;case"script":return l=m.async,m=m.src,typeof m=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=zo(m),m=co(b).hoistableScripts,g=m.get(l),g||(g={type:"script",instance:null,count:0,state:null},m.set(l,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Fo(s){return'href="'+Nr(s)+'"'}function Vu(s){return'link[rel="stylesheet"]['+s+"]"}function SC(s){return h({},s,{"data-precedence":s.precedence,precedence:null})}function BV(s,l,m,g){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?g.loading=1:(l=s.createElement("link"),g.preload=l,l.addEventListener("load",function(){return g.loading|=1}),l.addEventListener("error",function(){return g.loading|=2}),Rn(l,"link",m),An(l),s.head.appendChild(l))}function zo(s){return'[src="'+Nr(s)+'"]'}function Fu(s){return"script[async]"+s}function wC(s,l,m){if(l.count++,l.instance===null)switch(l.type){case"style":var g=s.querySelector('style[data-href~="'+Nr(m.href)+'"]');if(g)return l.instance=g,An(g),g;var b=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),An(g),Rn(g,"style",b),Yf(g,m.precedence,s),l.instance=g;case"stylesheet":b=Fo(m.href);var E=s.querySelector(Vu(b));if(E)return l.state.loading|=4,l.instance=E,An(E),E;g=SC(m),(b=Or.get(b))&&Ky(g,b),E=(s.ownerDocument||s).createElement("link"),An(E);var O=E;return O._p=new Promise(function(F,Q){O.onload=F,O.onerror=Q}),Rn(E,"link",g),l.state.loading|=4,Yf(E,m.precedence,s),l.instance=E;case"script":return E=zo(m.src),(b=s.querySelector(Fu(E)))?(l.instance=b,An(b),b):(g=m,(b=Or.get(E))&&(g=h({},m),Yy(g,b)),s=s.ownerDocument||s,b=s.createElement("script"),An(b),Rn(b,"link",g),s.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(g=l.instance,l.state.loading|=4,Yf(g,m.precedence,s));return l.instance}function Yf(s,l,m){for(var g=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,E=b,O=0;O<g.length;O++){var F=g[O];if(F.dataset.precedence===l)E=F;else if(E!==b)break}E?E.parentNode.insertBefore(s,E.nextSibling):(l=m.nodeType===9?m.head:m,l.insertBefore(s,l.firstChild))}function Ky(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Yy(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Wf=null;function AC(s,l,m){if(Wf===null){var g=new Map,b=Wf=new Map;b.set(m,g)}else b=Wf,g=b.get(m),g||(g=new Map,b.set(m,g));if(g.has(s))return g;for(g.set(s,null),m=m.getElementsByTagName(s),b=0;b<m.length;b++){var E=m[b];if(!(E[iu]||E[In]||s==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var O=E.getAttribute(l)||"";O=s+O;var F=g.get(O);F?F.push(E):g.set(O,[E])}}return g}function TC(s,l,m){s=s.ownerDocument||s,s.head.insertBefore(m,l==="title"?s.querySelector("head > title"):null)}function $V(s,l,m){if(m===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function EC(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function VV(s,l,m,g){if(m.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var b=Fo(g.href),E=l.querySelector(Vu(b));if(E){l=E._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=Xf.bind(s),l.then(s,s)),m.state.loading|=4,m.instance=E,An(E);return}E=l.ownerDocument||l,g=SC(g),(b=Or.get(b))&&Ky(g,b),E=E.createElement("link"),An(E);var O=E;O._p=new Promise(function(F,Q){O.onload=F,O.onerror=Q}),Rn(E,"link",g),m.instance=E}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(m,l),(l=m.state.preload)&&(m.state.loading&3)===0&&(s.count++,m=Xf.bind(s),l.addEventListener("load",m),l.addEventListener("error",m))}}var Wy=0;function FV(s,l){return s.stylesheets&&s.count===0&&Qf(s,s.stylesheets),0<s.count||0<s.imgCount?function(m){var g=setTimeout(function(){if(s.stylesheets&&Qf(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+l);0<s.imgBytes&&Wy===0&&(Wy=62500*AV());var b=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Qf(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes>Wy?50:800)+l);return s.unsuspend=m,function(){s.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function Xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Jf=null;function Qf(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Jf=new Map,l.forEach(zV,s),Jf=null,Xf.call(s))}function zV(s,l){if(!(l.state.loading&4)){var m=Jf.get(s);if(m)var g=m.get(null);else{m=new Map,Jf.set(s,m);for(var b=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<b.length;E++){var O=b[E];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(m.set(O.dataset.precedence,O),g=O)}g&&m.set(null,g)}b=l.instance,O=b.getAttribute("data-precedence"),E=m.get(O)||g,E===g&&m.set(null,b),m.set(O,b),this.count++,g=Xf.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),E?E.parentNode.insertBefore(b,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(b,s.firstChild)),l.state.loading|=4}}var zu={$$typeof:_,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function GV(s,l,m,g,b,E,O,F,Q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=an(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=an(0),this.hiddenUpdates=an(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=E,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function NC(s,l,m,g,b,E,O,F,Q,oe,pe,ye){return s=new GV(s,l,m,O,Q,oe,pe,ye,F),l=1,E===!0&&(l|=24),E=dr(3,null,null,l),s.current=E,E.stateNode=s,l=Cg(),l.refCount++,s.pooledCache=l,l.refCount++,E.memoizedState={element:g,isDehydrated:m,cache:l},kg(E),s}function _C(s){return s?(s=So,s):So}function CC(s,l,m,g,b,E){b=_C(b),g.context===null?g.context=b:g.pendingContext=b,g=yi(l),g.payload={element:m},E=E===void 0?null:E,E!==null&&(g.callback=E),m=vi(s,g,l),m!==null&&(rr(m,s,l),wu(m,s,l))}function MC(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<l?m:l}}function Xy(s,l){MC(s,l),(s=s.alternate)&&MC(s,l)}function jC(s){if(s.tag===13||s.tag===31){var l=is(s,67108864);l!==null&&rr(l,s,67108864),Xy(s,67108864)}}function IC(s){if(s.tag===13||s.tag===31){var l=gr();l=au(l);var m=is(s,l);m!==null&&rr(m,s,l),Xy(s,l)}}var Zf=!0;function HV(s,l,m,g){var b=B.T;B.T=null;var E=K.p;try{K.p=2,Jy(s,l,m,g)}finally{K.p=E,B.T=b}}function KV(s,l,m,g){var b=B.T;B.T=null;var E=K.p;try{K.p=8,Jy(s,l,m,g)}finally{K.p=E,B.T=b}}function Jy(s,l,m,g){if(Zf){var b=Qy(g);if(b===null)Ly(s,l,g,em,m),PC(s,g);else if(WV(b,s,l,m,g))g.stopPropagation();else if(PC(s,g),l&4&&-1<YV.indexOf(s)){for(;b!==null;){var E=uo(b);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var O=Ge(E.pendingLanes);if(O!==0){var F=E;for(F.pendingLanes|=2,F.entangledLanes|=2;O;){var Q=1<<31-gn(O);F.entanglements[1]|=Q,O&=~Q}ca(E),(pt&6)===0&&(Df=ne()+500,qu(0))}}break;case 31:case 13:F=is(E,2),F!==null&&rr(F,E,2),qf(),Xy(E,2)}if(E=Qy(g),E===null&&Ly(s,l,g,em,m),E===b)break;b=E}b!==null&&g.stopPropagation()}else Ly(s,l,g,null,m)}}function Qy(s){return s=eg(s),Zy(s)}var em=null;function Zy(s){if(em=null,s=lo(s),s!==null){var l=i(s);if(l===null)s=null;else{var m=l.tag;if(m===13){if(s=o(l),s!==null)return s;s=null}else if(m===31){if(s=u(l),s!==null)return s;s=null}else if(m===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return em=s,null}function kC(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case we:return 2;case Ee:return 8;case me:case Me:return 32;case kt:return 268435456;default:return 32}default:return 32}}var ev=!1,Mi=null,ji=null,Ii=null,Gu=new Map,Hu=new Map,ki=[],YV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PC(s,l){switch(s){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Gu.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(l.pointerId)}}function Ku(s,l,m,g,b,E){return s===null||s.nativeEvent!==E?(s={blockedOn:l,domEventName:m,eventSystemFlags:g,nativeEvent:E,targetContainers:[b]},l!==null&&(l=uo(l),l!==null&&jC(l)),s):(s.eventSystemFlags|=g,l=s.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),s)}function WV(s,l,m,g,b){switch(l){case"focusin":return Mi=Ku(Mi,s,l,m,g,b),!0;case"dragenter":return ji=Ku(ji,s,l,m,g,b),!0;case"mouseover":return Ii=Ku(Ii,s,l,m,g,b),!0;case"pointerover":var E=b.pointerId;return Gu.set(E,Ku(Gu.get(E)||null,s,l,m,g,b)),!0;case"gotpointercapture":return E=b.pointerId,Hu.set(E,Ku(Hu.get(E)||null,s,l,m,g,b)),!0}return!1}function OC(s){var l=lo(s.target);if(l!==null){var m=i(l);if(m!==null){if(l=m.tag,l===13){if(l=o(m),l!==null){s.blockedOn=l,YE(s.priority,function(){IC(m)});return}}else if(l===31){if(l=u(m),l!==null){s.blockedOn=l,YE(s.priority,function(){IC(m)});return}}else if(l===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tm(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var m=Qy(s.nativeEvent);if(m===null){m=s.nativeEvent;var g=new m.constructor(m.type,m);Zh=g,m.target.dispatchEvent(g),Zh=null}else return l=uo(m),l!==null&&jC(l),s.blockedOn=m,!1;l.shift()}return!0}function RC(s,l,m){tm(s)&&m.delete(l)}function XV(){ev=!1,Mi!==null&&tm(Mi)&&(Mi=null),ji!==null&&tm(ji)&&(ji=null),Ii!==null&&tm(Ii)&&(Ii=null),Gu.forEach(RC),Hu.forEach(RC)}function nm(s,l){s.blockedOn===l&&(s.blockedOn=null,ev||(ev=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,XV)))}var rm=null;function DC(s){rm!==s&&(rm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rm===s&&(rm=null);for(var l=0;l<s.length;l+=3){var m=s[l],g=s[l+1],b=s[l+2];if(typeof g!="function"){if(Zy(g||m)===null)continue;break}var E=uo(m);E!==null&&(s.splice(l,3),l-=3,Qg(E,{pending:!0,data:b,method:m.method,action:g},g,b))}}))}function Go(s){function l(Q){return nm(Q,s)}Mi!==null&&nm(Mi,s),ji!==null&&nm(ji,s),Ii!==null&&nm(Ii,s),Gu.forEach(l),Hu.forEach(l);for(var m=0;m<ki.length;m++){var g=ki[m];g.blockedOn===s&&(g.blockedOn=null)}for(;0<ki.length&&(m=ki[0],m.blockedOn===null);)OC(m),m.blockedOn===null&&ki.shift();if(m=(s.ownerDocument||s).$$reactFormReplay,m!=null)for(g=0;g<m.length;g+=3){var b=m[g],E=m[g+1],O=b[Jn]||null;if(typeof E=="function")O||DC(m);else if(O){var F=null;if(E&&E.hasAttribute("formAction")){if(b=E,O=E[Jn]||null)F=O.formAction;else if(Zy(b)!==null)continue}else F=O.action;typeof F=="function"?m[g+1]=F:(m.splice(g,3),g-=3),DC(m)}}}function LC(){function s(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),g||setTimeout(m,20)}function m(){if(!g&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(m,100),function(){g=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function tv(s){this._internalRoot=s}am.prototype.render=tv.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var m=l.current,g=gr();CC(m,g,s,l,null,null)},am.prototype.unmount=tv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;CC(s.current,2,null,s,null,null),qf(),l[oo]=null}};function am(s){this._internalRoot=s}am.prototype.unstable_scheduleHydration=function(s){if(s){var l=Hd();s={blockedOn:null,target:s,priority:l};for(var m=0;m<ki.length&&l!==0&&l<ki[m].priority;m++);ki.splice(m,0,s),m===0&&OC(s)}};var qC=e.version;if(qC!=="19.2.0")throw Error(r(527,qC,"19.2.0"));K.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(l),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var JV={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var im=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!im.isDisabled&&im.supportsFiber)try{at=im.inject(JV),$t=im}catch{}}return Wu.createRoot=function(s,l){if(!a(s))throw Error(r(299));var m=!1,g="",b=GN,E=HN,O=KN;return l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=NC(s,1,!1,null,null,m,g,null,b,E,O,LC),s[oo]=l.current,Dy(s),new tv(l)},Wu.hydrateRoot=function(s,l,m){if(!a(s))throw Error(r(299));var g=!1,b="",E=GN,O=HN,F=KN,Q=null;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(b=m.identifierPrefix),m.onUncaughtError!==void 0&&(E=m.onUncaughtError),m.onCaughtError!==void 0&&(O=m.onCaughtError),m.onRecoverableError!==void 0&&(F=m.onRecoverableError),m.formState!==void 0&&(Q=m.formState)),l=NC(s,1,!0,l,m??null,g,b,Q,E,O,F,LC),l.context=_C(null),m=l.current,g=gr(),g=au(g),b=yi(g),b.callback=null,vi(m,b,g),m=g,l.current.lanes=m,jn(l,m),ca(l),s[oo]=l.current,Dy(s),new am(l)},Wu.version="19.2.0",Wu}var YC;function oF(){if(YC)return av.exports;YC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),av.exports=sF(),av.exports}var lF=oF();const uF=ht(lF);var sq=iq();const cF=ht(sq);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tc.apply(this,arguments)}var Bi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bi||(Bi={}));const WC="popstate";function dF(t){t===void 0&&(t={});function e(a,i){let{pathname:o="/",search:u="",hash:f=""}=Ks(a.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),$S("",{pathname:o,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),u="";if(o&&o.getAttribute("href")){let f=a.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof i=="string"?i:oq(i))}function r(a,i){WA(a.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return mF(e,n,r,t)}function fn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WA(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fF(){return Math.random().toString(36).substr(2,8)}function XC(t,e){return{usr:t.state,key:t.key,idx:e}}function $S(t,e,n,r){return n===void 0&&(n=null),Tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ks(e):e,{state:n,key:e&&e.key||r||fF()})}function oq(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ks(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mF(t,e,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,o=a.history,u=Bi.Pop,f=null,d=p();d==null&&(d=0,o.replaceState(Tc({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function h(){u=Bi.Pop;let A=p(),C=A==null?null:A-d;d=A,f&&f({action:u,location:w.location,delta:C})}function y(A,C){u=Bi.Push;let j=$S(w.location,A,C);n&&n(j,A),d=p()+1;let _=XC(j,d),M=w.createHref(j);try{o.pushState(_,"",M)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(M)}i&&f&&f({action:u,location:w.location,delta:1})}function x(A,C){u=Bi.Replace;let j=$S(w.location,A,C);n&&n(j,A),d=p();let _=XC(j,d),M=w.createHref(j);o.replaceState(_,"",M),i&&f&&f({action:u,location:w.location,delta:0})}function T(A){let C=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof A=="string"?A:oq(A);return j=j.replace(/ $/,"%20"),fn(C,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,C)}let w={get action(){return u},get location(){return t(a,o)},listen(A){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(WC,h),f=A,()=>{a.removeEventListener(WC,h),f=null}},createHref(A){return e(a,A)},createURL:T,encodeLocation(A){let C=T(A);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(A){return o.go(A)}};return w}var JC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(JC||(JC={}));function pF(t,e,n){return n===void 0&&(n="/"),hF(t,e,n)}function hF(t,e,n,r){let a=typeof e=="string"?Ks(e):e,i=cq(a.pathname||"/",n);if(i==null)return null;let o=lq(t);gF(o);let u=null;for(let f=0;u==null&&f<o.length;++f){let d=CF(i);u=EF(o[f],d)}return u}function lq(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,o,u)=>{let f={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};f.relativePath.startsWith("/")&&(fn(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let d=Ps([r,f.relativePath]),p=n.concat(f);i.children&&i.children.length>0&&(fn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),lq(i.children,e,p,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:AF(d,i.index),routesMeta:p})};return t.forEach((i,o)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,o);else for(let f of uq(i.path))a(i,o,f)}),e}function uq(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let o=uq(r.join("/")),u=[];return u.push(...o.map(f=>f===""?i:[i,f].join("/"))),a&&u.push(...o),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function gF(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:TF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yF=/^:[\w-]+$/,vF=3,xF=2,bF=1,SF=10,wF=-2,QC=t=>t==="*";function AF(t,e){let n=t.split("/"),r=n.length;return n.some(QC)&&(r+=wF),e&&(r+=xF),n.filter(a=>!QC(a)).reduce((a,i)=>a+(yF.test(i)?vF:i===""?bF:SF),r)}function TF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function EF(t,e,n){let{routesMeta:r}=t,a={},i="/",o=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,p=i==="/"?e:e.slice(i.length)||"/",h=NF({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),y=f.route;if(!h)return null;Object.assign(a,h.params),o.push({params:a,pathname:Ps([i,h.pathname]),pathnameBase:kF(Ps([i,h.pathnameBase])),route:y}),h.pathnameBase!=="/"&&(i=Ps([i,h.pathnameBase]))}return o}function NF(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=_F(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((d,p,h)=>{let{paramName:y,isOptional:x}=p;if(y==="*"){let w=u[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=u[h];return x&&!T?d[y]=void 0:d[y]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function _F(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),WA(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function CF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WA(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cq(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ks(t):t;return{pathname:n?n.startsWith("/")?n:jF(n,e):e,search:PF(r),hash:OF(a)}}function jF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dq(t,e){let n=IF(t);return e?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fq(t,e,n,r){r===void 0&&(r=!1);let a;typeof t=="string"?a=Ks(t):(a=Tc({},t),fn(!a.pathname||!a.pathname.includes("?"),lv("?","pathname","search",a)),fn(!a.pathname||!a.pathname.includes("#"),lv("#","pathname","hash",a)),fn(!a.search||!a.search.includes("#"),lv("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,u;if(o==null)u=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),h-=1;a.pathname=y.join("/")}u=h>=0?e[h]:"/"}let f=MF(a,u),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}const Ps=t=>t.join("/").replace(/\/\/+/g,"/"),kF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mq=["post","put","patch","delete"];new Set(mq);const DF=["get",...mq];new Set(DF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ec.apply(this,arguments)}const XA=I.createContext(null),LF=I.createContext(null),xd=I.createContext(null),Jp=I.createContext(null),Ki=I.createContext({outlet:null,matches:[],isDataRoute:!1}),pq=I.createContext(null);function bd(){return I.useContext(Jp)!=null}function Sd(){return bd()||fn(!1),I.useContext(Jp).location}function hq(t){I.useContext(xd).static||I.useLayoutEffect(t)}function gq(){let{isDataRoute:t}=I.useContext(Ki);return t?XF():qF()}function qF(){bd()||fn(!1);let t=I.useContext(XA),{basename:e,future:n,navigator:r}=I.useContext(xd),{matches:a}=I.useContext(Ki),{pathname:i}=Sd(),o=JSON.stringify(dq(a,n.v7_relativeSplatPath)),u=I.useRef(!1);return hq(()=>{u.current=!0}),I.useCallback(function(d,p){if(p===void 0&&(p={}),!u.current)return;if(typeof d=="number"){r.go(d);return}let h=fq(d,JSON.parse(o),i,p.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ps([e,h.pathname])),(p.replace?r.replace:r.push)(h,p.state,p)},[e,r,o,i,t])}function $r(){let{matches:t}=I.useContext(Ki),e=t[t.length-1];return e?e.params:{}}function UF(t,e){return BF(t,e)}function BF(t,e,n,r){bd()||fn(!1);let{navigator:a}=I.useContext(xd),{matches:i}=I.useContext(Ki),o=i[i.length-1],u=o?o.params:{};o&&o.pathname;let f=o?o.pathnameBase:"/";o&&o.route;let d=Sd(),p;if(e){var h;let A=typeof e=="string"?Ks(e):e;f==="/"||(h=A.pathname)!=null&&h.startsWith(f)||fn(!1),p=A}else p=d;let y=p.pathname||"/",x=y;if(f!=="/"){let A=f.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(A.length).join("/")}let T=pF(t,{pathname:x}),w=GF(T&&T.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Ps([f,a.encodeLocation?a.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?f:Ps([f,a.encodeLocation?a.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),i,n,r);return e&&w?I.createElement(Jp.Provider,{value:{location:Ec({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Bi.Pop}},w):w}function $F(){let t=WF(),e=RF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,null)}const VF=I.createElement($F,null);class FF extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(Ki.Provider,{value:this.props.routeContext},I.createElement(pq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zF(t){let{routeContext:e,match:n,children:r}=t,a=I.useContext(XA);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(Ki.Provider,{value:e},r)}function GF(t,e,n,r){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,u=(a=n)==null?void 0:a.errors;if(u!=null){let p=o.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);p>=0||fn(!1),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let h=o[p];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=p),h.route.id){let{loaderData:y,errors:x}=n,T=h.route.loader&&y[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||T){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,h,y)=>{let x,T=!1,w=null,A=null;n&&(x=u&&h.route.id?u[h.route.id]:void 0,w=h.route.errorElement||VF,f&&(d<0&&y===0?(JF("route-fallback"),T=!0,A=null):d===y&&(T=!0,A=h.route.hydrateFallbackElement||null)));let C=e.concat(o.slice(0,y+1)),j=()=>{let _;return x?_=w:T?_=A:h.route.Component?_=I.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=p,I.createElement(zF,{match:h,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||y===0)?I.createElement(FF,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:j(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):j()},null)}var yq=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(yq||{}),vq=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(vq||{});function HF(t){let e=I.useContext(XA);return e||fn(!1),e}function KF(t){let e=I.useContext(LF);return e||fn(!1),e}function YF(t){let e=I.useContext(Ki);return e||fn(!1),e}function xq(t){let e=YF(),n=e.matches[e.matches.length-1];return n.route.id||fn(!1),n.route.id}function WF(){var t;let e=I.useContext(pq),n=KF(),r=xq();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function XF(){let{router:t}=HF(yq.UseNavigateStable),e=xq(vq.UseNavigateStable),n=I.useRef(!1);return hq(()=>{n.current=!0}),I.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,Ec({fromRouteId:e},i)))},[t,e])}const ZC={};function JF(t,e,n){ZC[t]||(ZC[t]=!0)}function QF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function vn(t){let{to:e,replace:n,state:r,relative:a}=t;bd()||fn(!1);let{future:i,static:o}=I.useContext(xd),{matches:u}=I.useContext(Ki),{pathname:f}=Sd(),d=gq(),p=fq(e,dq(u,i.v7_relativeSplatPath),f,a==="path"),h=JSON.stringify(p);return I.useEffect(()=>d(JSON.parse(h),{replace:n,state:r,relative:a}),[d,h,a,n,r]),null}function Qe(t){fn(!1)}function ZF(t){let{basename:e="/",children:n=null,location:r,navigationType:a=Bi.Pop,navigator:i,static:o=!1,future:u}=t;bd()&&fn(!1);let f=e.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:f,navigator:i,static:o,future:Ec({v7_relativeSplatPath:!1},u)}),[f,u,i,o]);typeof r=="string"&&(r=Ks(r));let{pathname:p="/",search:h="",hash:y="",state:x=null,key:T="default"}=r,w=I.useMemo(()=>{let A=cq(p,f);return A==null?null:{location:{pathname:A,search:h,hash:y,state:x,key:T},navigationType:a}},[f,p,h,y,x,T,a]);return w==null?null:I.createElement(xd.Provider,{value:d},I.createElement(Jp.Provider,{children:n,value:w}))}function ez(t){let{children:e,location:n}=t;return UF(VS(e),n)}new Promise(()=>{});function VS(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,a)=>{if(!I.isValidElement(r))return;let i=[...e,a];if(r.type===I.Fragment){n.push.apply(n,VS(r.props.children,i));return}r.type!==Qe&&fn(!1),!r.props.index||!r.props.children||fn(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=VS(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function tz(t,e){let n=FS(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(i=>{n.append(a,i)})}),n}const nz="6";try{window.__reactRouterVersion=nz}catch{}const rz="startTransition",eM=YA[rz];function az(t){let{basename:e,children:n,future:r,window:a}=t,i=I.useRef();i.current==null&&(i.current=dF({window:a,v5Compat:!0}));let o=i.current,[u,f]=I.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=I.useCallback(h=>{d&&eM?eM(()=>f(h)):f(h)},[f,d]);return I.useLayoutEffect(()=>o.listen(p),[o,p]),I.useEffect(()=>QF(r),[r]),I.createElement(ZF,{basename:e,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}var tM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tM||(tM={}));var nM;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nM||(nM={}));function iz(t){let e=I.useRef(FS(t)),n=I.useRef(!1),r=Sd(),a=I.useMemo(()=>tz(r.search,n.current?null:e.current),[r.search]),i=gq(),o=I.useCallback((u,f)=>{const d=FS(typeof u=="function"?u(a):u);n.current=!0,i("?"+d,f)},[i,a]);return[a,o]}var ze=(t=>(t.ASSIGN="Attribuer un équipement",t.RETURN="Retourner un équipement",t))(ze||{}),De=(t=>(t.AVAILABLE="Disponible",t.ASSIGNED="Attribué",t.PENDING_VALIDATION="En attente de validation",t.IN_REPAIR="En réparation",t.IN_STORAGE="En stock",t.DECOMMISSIONED="Désaffecté",t))(De||{}),Bt=(t=>(t.PENDING="En attente",t.APPROVED="Approuvé",t.REJECTED="Rejeté",t))(Bt||{}),Ne=(t=>(t.ADMIN="Admin TI",t.MANAGER="Responsable",t.EMPLOYEE="Employé",t))(Ne||{});const JA=I.createContext({});function QA(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const ZA=typeof window<"u",bq=ZA?I.useLayoutEffect:I.useEffect,Qp=I.createContext(null);function eT(t,e){t.indexOf(e)===-1&&t.push(e)}function tT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wa=(t,e,n)=>n>e?e:n<t?t:n;let nT=()=>{};const Xa={},Sq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function wq(t){return typeof t=="object"&&t!==null}const Aq=t=>/^0[^.\s]+$/u.test(t);function rT(t){let e;return()=>(e===void 0&&(e=t()),e)}const zr=t=>t,sz=(t,e)=>n=>e(t(n)),wd=(...t)=>t.reduce(sz),Nc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class aT{constructor(){this.subscriptions=[]}add(e){return eT(this.subscriptions,e),()=>tT(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pa=t=>t*1e3,Vr=t=>t/1e3;function Tq(t,e){return e?t*(1e3/e):0}const Eq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oz=1e-7,lz=12;function uz(t,e,n,r,a){let i,o,u=0;do o=e+(n-e)/2,i=Eq(o,r,a)-t,i>0?n=o:e=o;while(Math.abs(i)>oz&&++u<lz);return o}function Ad(t,e,n,r){if(t===e&&n===r)return zr;const a=i=>uz(i,0,1,t,n);return i=>i===0||i===1?i:Eq(a(i),e,r)}const Nq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,_q=t=>e=>1-t(1-e),Cq=Ad(.33,1.53,.69,.99),iT=_q(Cq),Mq=Nq(iT),jq=t=>(t*=2)<1?.5*iT(t):.5*(2-Math.pow(2,-10*(t-1))),sT=t=>1-Math.sin(Math.acos(t)),Iq=_q(sT),kq=Nq(sT),cz=Ad(.42,0,1,1),dz=Ad(0,0,.58,1),Pq=Ad(.42,0,.58,1),fz=t=>Array.isArray(t)&&typeof t[0]!="number",Oq=t=>Array.isArray(t)&&typeof t[0]=="number",mz={linear:zr,easeIn:cz,easeInOut:Pq,easeOut:dz,circIn:sT,circInOut:kq,circOut:Iq,backIn:iT,backInOut:Mq,backOut:Cq,anticipate:jq},pz=t=>typeof t=="string",rM=t=>{if(Oq(t)){nT(t.length===4);const[e,n,r,a]=t;return Ad(e,n,r,a)}else if(pz(t))return mz[t];return t},om=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function hz(t,e){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(p){o.has(p)&&(d.schedule(p),t()),p(u)}const d={schedule:(p,h=!1,y=!1)=>{const T=y&&a?n:r;return h&&o.add(p),T.has(p)||T.add(p),p},cancel:p=>{r.delete(p),o.delete(p)},process:p=>{if(u=p,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(f),n.clear(),a=!1,i&&(i=!1,d.process(p))}};return d}const gz=40;function Rq(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=om.reduce((_,M)=>(_[M]=hz(i),_),{}),{setup:u,read:f,resolveKeyframes:d,preUpdate:p,update:h,preRender:y,render:x,postRender:T}=o,w=()=>{const _=Xa.useManualTiming?a.timestamp:performance.now();n=!1,Xa.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(_-a.timestamp,gz),1)),a.timestamp=_,a.isProcessing=!0,u.process(a),f.process(a),d.process(a),p.process(a),h.process(a),y.process(a),x.process(a),T.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(w))},A=()=>{n=!0,r=!0,a.isProcessing||t(w)};return{schedule:om.reduce((_,M)=>{const N=o[M];return _[M]=(k,P=!1,R=!1)=>(n||A(),N.schedule(k,P,R)),_},{}),cancel:_=>{for(let M=0;M<om.length;M++)o[om[M]].cancel(_)},state:a,steps:o}}const{schedule:Ft,cancel:Gi,state:Ln,steps:uv}=Rq(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0);let Dm;function yz(){Dm=void 0}const sr={now:()=>(Dm===void 0&&sr.set(Ln.isProcessing||Xa.useManualTiming?Ln.timestamp:performance.now()),Dm),set:t=>{Dm=t,queueMicrotask(yz)}},Dq=t=>e=>typeof e=="string"&&e.startsWith(t),oT=Dq("--"),vz=Dq("var(--"),lT=t=>vz(t)?xz.test(t.split("/*")[0].trim()):!1,xz=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},_c={...Gl,transform:t=>Wa(0,1,t)},lm={...Gl,default:1},fc=t=>Math.round(t*1e5)/1e5,uT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bz(t){return t==null}const Sz=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cT=(t,e)=>n=>!!(typeof n=="string"&&Sz.test(n)&&n.startsWith(t)||e&&!bz(n)&&Object.prototype.hasOwnProperty.call(n,e)),Lq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,u]=r.match(uT);return{[t]:parseFloat(a),[e]:parseFloat(i),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},wz=t=>Wa(0,255,t),cv={...Gl,transform:t=>Math.round(wz(t))},Ns={test:cT("rgb","red"),parse:Lq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cv.transform(t)+", "+cv.transform(e)+", "+cv.transform(n)+", "+fc(_c.transform(r))+")"};function Az(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const zS={test:cT("#"),parse:Az,transform:Ns.transform},Td=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Di=Td("deg"),ha=Td("%"),Ve=Td("px"),Tz=Td("vh"),Ez=Td("vw"),aM={...ha,parse:t=>ha.parse(t)/100,transform:t=>ha.transform(t*100)},Zo={test:cT("hsl","hue"),parse:Lq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ha.transform(fc(e))+", "+ha.transform(fc(n))+", "+fc(_c.transform(r))+")"},dn={test:t=>Ns.test(t)||zS.test(t)||Zo.test(t),parse:t=>Ns.test(t)?Ns.parse(t):Zo.test(t)?Zo.parse(t):zS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ns.transform(t):Zo.transform(t),getAnimatableNone:t=>{const e=dn.parse(t);return e.alpha=0,dn.transform(e)}},Nz=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _z(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(uT))==null?void 0:e.length)||0)+(((n=t.match(Nz))==null?void 0:n.length)||0)>0}const qq="number",Uq="color",Cz="var",Mz="var(",iM="${}",jz=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const u=e.replace(jz,f=>(dn.test(f)?(r.color.push(i),a.push(Uq),n.push(dn.parse(f))):f.startsWith(Mz)?(r.var.push(i),a.push(Cz),n.push(f)):(r.number.push(i),a.push(qq),n.push(parseFloat(f))),++i,iM)).split(iM);return{values:n,split:u,indexes:r,types:a}}function Bq(t){return Cc(t).values}function $q(t){const{split:e,types:n}=Cc(t),r=e.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],a[o]!==void 0){const u=n[o];u===qq?i+=fc(a[o]):u===Uq?i+=dn.transform(a[o]):i+=a[o]}return i}}const Iz=t=>typeof t=="number"?0:dn.test(t)?dn.getAnimatableNone(t):t;function kz(t){const e=Bq(t);return $q(t)(e.map(Iz))}const Hi={test:_z,parse:Bq,createTransformer:$q,getAnimatableNone:kz};function dv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pz({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,i=0,o=0;if(!e)a=i=o=n;else{const u=n<.5?n*(1+e):n+e-n*e,f=2*n-u;a=dv(f,u,t+1/3),i=dv(f,u,t),o=dv(f,u,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function zm(t,e){return n=>n>0?e:t}const Ht=(t,e,n)=>t+(e-t)*n,fv=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},Oz=[zS,Ns,Zo],Rz=t=>Oz.find(e=>e.test(t));function sM(t){const e=Rz(t);if(!e)return!1;let n=e.parse(t);return e===Zo&&(n=Pz(n)),n}const oM=(t,e)=>{const n=sM(t),r=sM(e);if(!n||!r)return zm(t,e);const a={...n};return i=>(a.red=fv(n.red,r.red,i),a.green=fv(n.green,r.green,i),a.blue=fv(n.blue,r.blue,i),a.alpha=Ht(n.alpha,r.alpha,i),Ns.transform(a))},GS=new Set(["none","hidden"]);function Dz(t,e){return GS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Lz(t,e){return n=>Ht(t,e,n)}function dT(t){return typeof t=="number"?Lz:typeof t=="string"?lT(t)?zm:dn.test(t)?oM:Bz:Array.isArray(t)?Vq:typeof t=="object"?dn.test(t)?oM:qz:zm}function Vq(t,e){const n=[...t],r=n.length,a=t.map((i,o)=>dT(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function qz(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=dT(t[a])(t[a],e[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Uz(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][r[i]],u=t.values[o]??0;n[a]=u,r[i]++}return n}const Bz=(t,e)=>{const n=Hi.createTransformer(e),r=Cc(t),a=Cc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?GS.has(t)&&!a.values.length||GS.has(e)&&!r.values.length?Dz(t,e):wd(Vq(Uz(r,a),a.values),n):zm(t,e)};function Fq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ht(t,e,n):dT(t)(t,e)}const $z=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ft.update(e,n),stop:()=>Gi(e),now:()=>Ln.isProcessing?Ln.timestamp:sr.now()}},zq=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let i=0;i<a;i++)r+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Gm=2e4;function fT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Gm;)e+=n,r=t.next(e);return e>=Gm?1/0:e}function Vz(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(fT(r),Gm);return{type:"keyframes",ease:i=>r.next(a*i).value/e,duration:Vr(a)}}const Fz=5;function Gq(t,e,n){const r=Math.max(e-Fz,0);return Tq(n-t(r),e-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mv=.001;function zz({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let a,i,o=1-e;o=Wa(Xt.minDamping,Xt.maxDamping,o),t=Wa(Xt.minDuration,Xt.maxDuration,Vr(t)),o<1?(a=d=>{const p=d*o,h=p*t,y=p-n,x=HS(d,o),T=Math.exp(-h);return mv-y/x*T},i=d=>{const h=d*o*t,y=h*n+n,x=Math.pow(o,2)*Math.pow(d,2)*t,T=Math.exp(-h),w=HS(Math.pow(d,2),o);return(-a(d)+mv>0?-1:1)*((y-x)*T)/w}):(a=d=>{const p=Math.exp(-d*t),h=(d-n)*t+1;return-mv+p*h},i=d=>{const p=Math.exp(-d*t),h=(n-d)*(t*t);return p*h});const u=5/t,f=Hz(a,i,u);if(t=pa(t),isNaN(f))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const d=Math.pow(f,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const Gz=12;function Hz(t,e,n){let r=n;for(let a=1;a<Gz;a++)r=r-t(r)/e(r);return r}function HS(t,e){return t*Math.sqrt(1-e*e)}const Kz=["duration","bounce"],Yz=["stiffness","damping","mass"];function lM(t,e){return e.some(n=>t[n]!==void 0)}function Wz(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!lM(t,Yz)&&lM(t,Kz))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*Wa(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Xt.mass,stiffness:a,damping:i}}else{const n=zz(t);e={...e,...n,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function Hm(t=Xt.visualDuration,e=Xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:i},{stiffness:f,damping:d,mass:p,duration:h,velocity:y,isResolvedFromDuration:x}=Wz({...n,velocity:-Vr(n.velocity||0)}),T=y||0,w=d/(2*Math.sqrt(f*p)),A=o-i,C=Vr(Math.sqrt(f/p)),j=Math.abs(A)<5;r||(r=j?Xt.restSpeed.granular:Xt.restSpeed.default),a||(a=j?Xt.restDelta.granular:Xt.restDelta.default);let _;if(w<1){const N=HS(C,w);_=k=>{const P=Math.exp(-w*C*k);return o-P*((T+w*C*A)/N*Math.sin(N*k)+A*Math.cos(N*k))}}else if(w===1)_=N=>o-Math.exp(-C*N)*(A+(T+C*A)*N);else{const N=C*Math.sqrt(w*w-1);_=k=>{const P=Math.exp(-w*C*k),R=Math.min(N*k,300);return o-P*((T+w*C*A)*Math.sinh(R)+N*A*Math.cosh(R))/N}}const M={calculatedDuration:x&&h||null,next:N=>{const k=_(N);if(x)u.done=N>=h;else{let P=N===0?T:0;w<1&&(P=N===0?pa(T):Gq(_,N,k));const R=Math.abs(P)<=r,L=Math.abs(o-k)<=a;u.done=R&&L}return u.value=u.done?o:k,u},toString:()=>{const N=Math.min(fT(M),Gm),k=zq(P=>M.next(N*P).value,N,30);return N+"ms "+k},toTransition:()=>{}};return M}Hm.applyToOptions=t=>{const e=Vz(t,100,Hm);return t.ease=e.ease,t.duration=pa(e.duration),t.type="keyframes",t};function KS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:u,max:f,restDelta:d=.5,restSpeed:p}){const h=t[0],y={done:!1,value:h},x=R=>u!==void 0&&R<u||f!==void 0&&R>f,T=R=>u===void 0?f:f===void 0||Math.abs(u-R)<Math.abs(f-R)?u:f;let w=n*e;const A=h+w,C=o===void 0?A:o(A);C!==A&&(w=C-h);const j=R=>-w*Math.exp(-R/r),_=R=>C+j(R),M=R=>{const L=j(R),U=_(R);y.done=Math.abs(L)<=d,y.value=y.done?C:U};let N,k;const P=R=>{x(y.value)&&(N=R,k=Hm({keyframes:[y.value,T(y.value)],velocity:Gq(_,R,y.value),damping:a,stiffness:i,restDelta:d,restSpeed:p}))};return P(0),{calculatedDuration:null,next:R=>{let L=!1;return!k&&N===void 0&&(L=!0,M(R),P(R)),N!==void 0&&R>=N?k.next(R-N):(!L&&M(R),y)}}}function Xz(t,e,n){const r=[],a=n||Xa.mix||Fq,i=t.length-1;for(let o=0;o<i;o++){let u=a(t[o],t[o+1]);if(e){const f=Array.isArray(e)?e[o]||zr:e;u=wd(f,u)}r.push(u)}return r}function Jz(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const i=t.length;if(nT(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Xz(e,r,a),f=u.length,d=p=>{if(o&&p<t[0])return e[0];let h=0;if(f>1)for(;h<t.length-2&&!(p<t[h+1]);h++);const y=Nc(t[h],t[h+1],p);return u[h](y)};return n?p=>d(Wa(t[0],t[i-1],p)):d}function Qz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Nc(0,e,r);t.push(Ht(n,1,a))}}function Zz(t){const e=[0];return Qz(e,t.length-1),e}function eG(t,e){return t.map(n=>n*e)}function tG(t,e){return t.map(()=>e||Pq).splice(0,t.length-1)}function mc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=fz(r)?r.map(rM):rM(r),i={done:!1,value:e[0]},o=eG(n&&n.length===e.length?n:Zz(e),t),u=Jz(o,e,{ease:Array.isArray(a)?a:tG(e,a)});return{calculatedDuration:t,next:f=>(i.value=u(f),i.done=f>=t,i)}}const nG=t=>t!==null;function mT(t,{repeat:e,repeatType:n="loop"},r,a=1){const i=t.filter(nG),u=a<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!u||r===void 0?i[u]:r}const rG={decay:KS,inertia:KS,tween:mc,keyframes:mc,spring:Hm};function Hq(t){typeof t.type=="string"&&(t.type=rG[t.type])}class pT{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const aG=t=>t/100;class hT extends pT{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==sr.now()&&this.tick(sr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Hq(e);const{type:n=mc,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:u}=e;const f=n||mc;f!==mc&&typeof u[0]!="number"&&(this.mixKeyframes=wd(aG,Fq(u[0],u[1])),u=[0,100]);const d=f({...e,keyframes:u});i==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...u].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=fT(d));const{calculatedDuration:p}=d;this.calculatedDuration=p,this.resolvedDuration=p+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:p,repeat:h,repeatType:y,repeatDelay:x,type:T,onUpdate:w,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-d*(this.playbackSpeed>=0?1:-1),j=this.playbackSpeed>=0?C<0:C>a;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,M=r;if(h){const R=Math.min(this.currentTime,a)/u;let L=Math.floor(R),U=R%1;!U&&R>=1&&(U=1),U===1&&L--,L=Math.min(L,h+1),!!(L%2)&&(y==="reverse"?(U=1-U,x&&(U-=x/u)):y==="mirror"&&(M=o)),_=Wa(0,1,U)*u}const N=j?{done:!1,value:p[0]}:M.next(_);i&&(N.value=i(N.value));let{done:k}=N;!j&&f!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&T!==KS&&(N.value=mT(p,this.options,A,this.speed)),w&&w(N.value),P&&this.finish(),N}then(e,n){return this.finished.then(e,n)}get duration(){return Vr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vr(e)}get time(){return Vr(this.currentTime)}set time(e){var n;e=pa(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(sr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vr(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:e=$z,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function iG(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const _s=t=>t*180/Math.PI,YS=t=>{const e=_s(Math.atan2(t[1],t[0]));return WS(e)},sG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:YS,rotateZ:YS,skewX:t=>_s(Math.atan(t[1])),skewY:t=>_s(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},WS=t=>(t=t%360,t<0&&(t+=360),t),uM=YS,cM=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),dM=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),oG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cM,scaleY:dM,scale:t=>(cM(t)+dM(t))/2,rotateX:t=>WS(_s(Math.atan2(t[6],t[5]))),rotateY:t=>WS(_s(Math.atan2(-t[2],t[0]))),rotateZ:uM,rotate:uM,skewX:t=>_s(Math.atan(t[4])),skewY:t=>_s(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function XS(t){return t.includes("scale")?1:0}function JS(t,e){if(!t||t==="none")return XS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=oG,a=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=sG,a=u}if(!a)return XS(e);const i=r[e],o=a[1].split(",").map(uG);return typeof i=="function"?i(o):o[i]}const lG=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return JS(n,e)};function uG(t){return parseFloat(t.trim())}const Hl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kl=new Set(Hl),fM=t=>t===Gl||t===Ve,cG=new Set(["x","y","z"]),dG=Hl.filter(t=>!cG.has(t));function fG(t){const e=[];return dG.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Os={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>JS(e,"x"),y:(t,{transform:e})=>JS(e,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const Rs=new Set;let QS=!1,ZS=!1,ew=!1;function Kq(){if(ZS){const t=Array.from(Rs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=fG(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var u;(u=r.getValue(i))==null||u.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ZS=!1,QS=!1,Rs.forEach(t=>t.complete(ew)),Rs.clear()}function Yq(){Rs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ZS=!0)})}function mG(){ew=!0,Yq(),Kq(),ew=!1}class gT{constructor(e,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Rs.add(this),QS||(QS=!0,Ft.read(Yq),Ft.resolveKeyframes(Kq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const i=a==null?void 0:a.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const u=r.readValue(n,o);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}iG(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Rs.delete(this)}cancel(){this.state==="scheduled"&&(Rs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const pG=t=>t.startsWith("--");function hG(t,e,n){pG(e)?t.style.setProperty(e,n):t.style[e]=n}const gG=rT(()=>window.ScrollTimeline!==void 0),yG={};function vG(t,e){const n=rT(t);return()=>yG[e]??n()}const Wq=vG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oc([0,.65,.55,1]),circOut:oc([.55,0,1,.45]),backIn:oc([.31,.01,.66,-.59]),backOut:oc([.33,1.53,.69,.99])};function Xq(t,e){if(t)return typeof t=="function"?Wq()?zq(t,e):"ease-out":Oq(t)?oc(t):Array.isArray(t)?t.map(n=>Xq(n,e)||mM.easeOut):mM[t]}function xG(t,e,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:u="easeOut",times:f}={},d=void 0){const p={[e]:n};f&&(p.offset=f);const h=Xq(u,a);Array.isArray(h)&&(p.easing=h);const y={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(y.pseudoElement=d),t.animate(p,y)}function Jq(t){return typeof t=="function"&&"applyToOptions"in t}function bG({type:t,...e}){return Jq(t)&&Wq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class SG extends pT{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:u,onComplete:f}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,nT(typeof e.type!="string");const d=bG(e);this.animation=xG(n,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=mT(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):hG(n,r,p),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Vr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vr(e)}get time(){return Vr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=pa(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&gG()?(this.animation.timeline=e,zr):n(this)}}const Qq={anticipate:jq,backInOut:Mq,circInOut:kq};function wG(t){return t in Qq}function AG(t){typeof t.ease=="string"&&wG(t.ease)&&(t.ease=Qq[t.ease])}const pM=10;class TG extends SG{constructor(e){AG(e),Hq(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new hT({...o,autoplay:!1}),f=pa(this.finishedTime??this.time);n.setWithVelocity(u.sample(f-pM).value,u.sample(f).value,pM),u.stop()}}const hM=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Hi.test(t)||t==="0")&&!t.startsWith("url("));function EG(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function NG(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=hM(a,e),u=hM(i,e);return!o||!u?!1:EG(t)||(n==="spring"||Jq(n))&&r}function tw(t){t.duration=0,t.type="keyframes"}const _G=new Set(["opacity","clipPath","filter","transform"]),CG=rT(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MG(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=t;if(!(((p=e==null?void 0:e.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return CG()&&n&&_G.has(n)&&(n!=="transform"||!d)&&!f&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const jG=40;class IG extends pT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:u,name:f,motionValue:d,element:p,...h}){var T;super(),this.stop=()=>{var w,A;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=sr.now();const y={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:f,motionValue:d,element:p,...h},x=(p==null?void 0:p.KeyframeResolver)||gT;this.keyframeResolver=new x(u,(w,A,C)=>this.onKeyframesResolved(w,A,y,!C),f,d,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:u,delay:f,isHandoff:d,onUpdate:p}=r;this.resolvedAt=sr.now(),NG(e,i,o,u)||((Xa.instantAnimations||!f)&&(p==null||p(mT(e,r,n))),e[0]=e[e.length-1],tw(r),r.repeat=0);const y={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>jG?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!d&&MG(y)?new TG({...y,element:y.motionValue.owner.current}):new hT(y);x.finished.then(()=>this.notifyFinished()).catch(zr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),mG()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const kG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function PG(t){const e=kG.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function Zq(t,e,n=1){const[r,a]=PG(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Sq(o)?parseFloat(o):o}return lT(a)?Zq(a,e,n+1):a}function yT(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const e4=new Set(["width","height","top","left","right","bottom",...Hl]),OG={test:t=>t==="auto",parse:t=>t},t4=t=>e=>e.test(t),n4=[Gl,Ve,ha,Di,Ez,Tz,OG],gM=t=>n4.find(t4(t));function RG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Aq(t):!0}const DG=new Set(["brightness","contrast","saturate","opacity"]);function LG(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uT)||[];if(!r)return t;const a=n.replace(r,"");let i=DG.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+a+")"}const qG=/\b([a-z-]*)\(.*?\)/gu,nw={...Hi,getAnimatableNone:t=>{const e=t.match(qG);return e?e.map(LG).join(" "):t}},yM={...Gl,transform:Math.round},UG={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:lm,scaleX:lm,scaleY:lm,scaleZ:lm,skew:Di,skewX:Di,skewY:Di,distance:Ve,translateX:Ve,translateY:Ve,translateZ:Ve,x:Ve,y:Ve,z:Ve,perspective:Ve,transformPerspective:Ve,opacity:_c,originX:aM,originY:aM,originZ:Ve},vT={borderWidth:Ve,borderTopWidth:Ve,borderRightWidth:Ve,borderBottomWidth:Ve,borderLeftWidth:Ve,borderRadius:Ve,radius:Ve,borderTopLeftRadius:Ve,borderTopRightRadius:Ve,borderBottomRightRadius:Ve,borderBottomLeftRadius:Ve,width:Ve,maxWidth:Ve,height:Ve,maxHeight:Ve,top:Ve,right:Ve,bottom:Ve,left:Ve,padding:Ve,paddingTop:Ve,paddingRight:Ve,paddingBottom:Ve,paddingLeft:Ve,margin:Ve,marginTop:Ve,marginRight:Ve,marginBottom:Ve,marginLeft:Ve,backgroundPositionX:Ve,backgroundPositionY:Ve,...UG,zIndex:yM,fillOpacity:_c,strokeOpacity:_c,numOctaves:yM},BG={...vT,color:dn,backgroundColor:dn,outlineColor:dn,fill:dn,stroke:dn,borderColor:dn,borderTopColor:dn,borderRightColor:dn,borderBottomColor:dn,borderLeftColor:dn,filter:nw,WebkitFilter:nw},r4=t=>BG[t];function a4(t,e){let n=r4(t);return n!==nw&&(n=Hi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const $G=new Set(["auto","none","0"]);function VG(t,e,n){let r=0,a;for(;r<t.length&&!a;){const i=t[r];typeof i=="string"&&!$G.has(i)&&Cc(i).values.length&&(a=t[r]),r++}if(a&&n)for(const i of e)t[i]=a4(n,a)}class FG extends gT{constructor(e,n,r,a,i){super(e,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),lT(d))){const p=Zq(d,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!e4.has(r)||e.length!==2)return;const[a,i]=e,o=gM(a),u=gM(i);if(o!==u)if(fM(o)&&fM(u))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else Os[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||RG(e[a]))&&r.push(a);r.length&&VG(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Os[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([f,d])=>{e.getValue(f).set(d)}),this.resolveNoneKeyframes()}}function zG(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const i4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function s4(t){return wq(t)&&"offsetHeight"in t}const vM=30,GG=t=>!isNaN(parseFloat(t));class HG{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const a=sr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=sr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=GG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new aT);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>vM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,vM);return Tq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new HG(t,e)}const{schedule:xT}=Rq(queueMicrotask,!1),Zr={x:!1,y:!1};function o4(){return Zr.x||Zr.y}function KG(t){return t==="x"||t==="y"?Zr[t]?null:(Zr[t]=!0,()=>{Zr[t]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}function l4(t,e){const n=zG(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function xM(t){return!(t.pointerType==="touch"||o4())}function YG(t,e,n={}){const[r,a,i]=l4(t,n),o=u=>{if(!xM(u))return;const{target:f}=u,d=e(f,u);if(typeof d!="function"||!f)return;const p=h=>{xM(h)&&(d(h),f.removeEventListener("pointerleave",p))};f.addEventListener("pointerleave",p,a)};return r.forEach(u=>{u.addEventListener("pointerenter",o,a)}),i}const u4=(t,e)=>e?t===e?!0:u4(t,e.parentElement):!1,bT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,WG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XG(t){return WG.has(t.tagName)||t.tabIndex!==-1}const Lm=new WeakSet;function bM(t){return e=>{e.key==="Enter"&&t(e)}}function pv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const JG=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=bM(()=>{if(Lm.has(n))return;pv(n,"down");const a=bM(()=>{pv(n,"up")}),i=()=>pv(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function SM(t){return bT(t)&&!o4()}function QG(t,e,n={}){const[r,a,i]=l4(t,n),o=u=>{const f=u.currentTarget;if(!SM(u))return;Lm.add(f);const d=e(f,u),p=(x,T)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",y),Lm.has(f)&&Lm.delete(f),SM(x)&&typeof d=="function"&&d(x,{success:T})},h=x=>{p(x,f===window||f===document||n.useGlobalTarget||u4(f,x.target))},y=x=>{p(x,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",y,a)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,a),s4(u)&&(u.addEventListener("focus",d=>JG(d,a)),!XG(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),i}function c4(t){return wq(t)&&"ownerSVGElement"in t}function ZG(t){return c4(t)&&t.tagName==="svg"}const Fn=t=>!!(t&&t.getVelocity),e8=[...n4,dn,Hi],t8=t=>e8.find(t4(t)),ST=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function wM(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function n8(...t){return e=>{let n=!1;const r=t.map(a=>{const i=wM(a,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():wM(t[a],null)}}}}function r8(...t){return I.useCallback(n8(...t),t)}class a8 extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=s4(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function i8({children:t,isPresent:e,anchorX:n,root:r}){const a=I.useId(),i=I.useRef(null),o=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=I.useContext(ST),f=r8(i,t==null?void 0:t.ref);return I.useInsertionEffect(()=>{const{width:d,height:p,top:h,left:y,right:x}=o.current;if(e||!i.current||!d||!p)return;const T=n==="left"?`left: ${y}`:`right: ${x}`;i.current.dataset.motionPopId=a;const w=document.createElement("style");u&&(w.nonce=u);const A=r??document.head;return A.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${p}px !important;
            ${T}px !important;
            top: ${h}px !important;
          }
        `),()=>{A.contains(w)&&A.removeChild(w)}},[e]),c.jsx(a8,{isPresent:e,childRef:i,sizeRef:o,children:I.cloneElement(t,{ref:f})})}const s8=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:u,root:f})=>{const d=QA(o8),p=I.useId();let h=!0,y=I.useMemo(()=>(h=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:x=>{d.set(x,!0);for(const T of d.values())if(!T)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return i&&h&&(y={...y}),I.useMemo(()=>{d.forEach((x,T)=>d.set(T,!1))},[n]),I.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),o==="popLayout"&&(t=c.jsx(i8,{isPresent:n,anchorX:u,root:f,children:t})),c.jsx(Qp.Provider,{value:y,children:t})};function o8(){return new Map}function d4(t=!0){const e=I.useContext(Qp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,i=I.useId();I.useEffect(()=>{if(t)return a(i)},[t]);const o=I.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const um=t=>t.key||"";function AM(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Ys=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:u="left",root:f})=>{const[d,p]=d4(o),h=I.useMemo(()=>AM(t),[t]),y=o&&!d?[]:h.map(um),x=I.useRef(!0),T=I.useRef(h),w=QA(()=>new Map),[A,C]=I.useState(h),[j,_]=I.useState(h);bq(()=>{x.current=!1,T.current=h;for(let k=0;k<j.length;k++){const P=um(j[k]);y.includes(P)?w.delete(P):w.get(P)!==!0&&w.set(P,!1)}},[j,y.length,y.join("-")]);const M=[];if(h!==A){let k=[...h];for(let P=0;P<j.length;P++){const R=j[P],L=um(R);y.includes(L)||(k.splice(P,0,R),M.push(R))}return i==="wait"&&M.length&&(k=M),_(AM(k)),C(h),null}const{forceRender:N}=I.useContext(JA);return c.jsx(c.Fragment,{children:j.map(k=>{const P=um(k),R=o&&!d?!1:h===j||y.includes(P),L=()=>{if(w.has(P))w.set(P,!0);else return;let U=!0;w.forEach(q=>{q||(U=!1)}),U&&(N==null||N(),_(T.current),o&&(p==null||p()),r&&r())};return c.jsx(s8,{isPresent:R,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:f,onExitComplete:R?void 0:L,anchorX:u,children:k},P)})})},f4=I.createContext({strict:!1}),TM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xl={};for(const t in TM)xl[t]={isEnabled:e=>TM[t].some(n=>!!e[n])};function l8(t){for(const e in t)xl[e]={...xl[e],...t[e]}}const u8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Km(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||u8.has(t)}let m4=t=>!Km(t);function c8(t){typeof t=="function"&&(m4=e=>e.startsWith("on")?!Km(e):t(e))}try{c8(require("@emotion/is-prop-valid").default)}catch{}function d8(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(m4(a)||n===!0&&Km(a)||!e&&!Km(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}const Zp=I.createContext({});function eh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Mc(t){return typeof t=="string"||Array.isArray(t)}const wT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],AT=["initial",...wT];function th(t){return eh(t.animate)||AT.some(e=>Mc(t[e]))}function p4(t){return!!(th(t)||t.variants)}function f8(t,e){if(th(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Mc(n)?n:void 0,animate:Mc(r)?r:void 0}}return t.inherit!==!1?e:{}}function m8(t){const{initial:e,animate:n}=f8(t,I.useContext(Zp));return I.useMemo(()=>({initial:e,animate:n}),[EM(e),EM(n)])}function EM(t){return Array.isArray(t)?t.join(" "):t}const jc={};function p8(t){for(const e in t)jc[e]=t[e],oT(e)&&(jc[e].isCSSVariable=!0)}function h4(t,{layout:e,layoutId:n}){return Kl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!jc[t]||t==="opacity")}const h8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},g8=Hl.length;function y8(t,e,n){let r="",a=!0;for(let i=0;i<g8;i++){const o=Hl[i],u=t[o];if(u===void 0)continue;let f=!0;if(typeof u=="number"?f=u===(o.startsWith("scale")?1:0):f=parseFloat(u)===0,!f||n){const d=i4(u,vT[o]);if(!f){a=!1;const p=h8[o]||o;r+=`${p}(${d}) `}n&&(e[o]=d)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function TT(t,e,n){const{style:r,vars:a,transformOrigin:i}=t;let o=!1,u=!1;for(const f in e){const d=e[f];if(Kl.has(f)){o=!0;continue}else if(oT(f)){a[f]=d;continue}else{const p=i4(d,vT[f]);f.startsWith("origin")?(u=!0,i[f]=p):r[f]=p}}if(e.transform||(o||n?r.transform=y8(e,t.transform,n):r.transform&&(r.transform="none")),u){const{originX:f="50%",originY:d="50%",originZ:p=0}=i;r.transformOrigin=`${f} ${d} ${p}`}}const ET=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function g4(t,e,n){for(const r in e)!Fn(e[r])&&!h4(r,n)&&(t[r]=e[r])}function v8({transformTemplate:t},e){return I.useMemo(()=>{const n=ET();return TT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function x8(t,e){const n=t.style||{},r={};return g4(r,n,t),Object.assign(r,v8(t,e)),r}function b8(t,e){const n={},r=x8(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const S8={offset:"stroke-dashoffset",array:"stroke-dasharray"},w8={offset:"strokeDashoffset",array:"strokeDasharray"};function A8(t,e,n=1,r=0,a=!0){t.pathLength=1;const i=a?S8:w8;t[i.offset]=Ve.transform(-r);const o=Ve.transform(e),u=Ve.transform(n);t[i.array]=`${o} ${u}`}function y4(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...u},f,d,p){if(TT(t,u,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:y}=t;h.transform&&(y.transform=h.transform,delete h.transform),(y.transform||h.transformOrigin)&&(y.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&A8(h,a,i,o,!1)}const v4=()=>({...ET(),attrs:{}}),x4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function T8(t,e,n,r){const a=I.useMemo(()=>{const i=v4();return y4(i,e,x4(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};g4(i,t.style,t),a.style={...i,...a.style}}return a}const E8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function NT(t){return typeof t!="string"||t.includes("-")?!1:!!(E8.indexOf(t)>-1||/[A-Z]/u.test(t))}function N8(t,e,n,{latestValues:r},a,i=!1){const u=(NT(t)?T8:b8)(e,r,a,t),f=d8(e,typeof t=="string",i),d=t!==I.Fragment?{...f,...u,ref:n}:{},{children:p}=e,h=I.useMemo(()=>Fn(p)?p.get():p,[p]);return I.createElement(t,{...d,children:h})}function NM(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function _T(t,e,n,r){if(typeof e=="function"){const[a,i]=NM(r);e=e(n!==void 0?n:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=NM(r);e=e(n!==void 0?n:t.custom,a,i)}return e}function qm(t){return Fn(t)?t.get():t}function _8({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:C8(n,r,a,t),renderState:e()}}function C8(t,e,n,r){const a={},i=r(t,{});for(const y in i)a[y]=qm(i[y]);let{initial:o,animate:u}=t;const f=th(t),d=p4(t);e&&d&&!f&&t.inherit!==!1&&(o===void 0&&(o=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||o===!1;const h=p?u:o;if(h&&typeof h!="boolean"&&!eh(h)){const y=Array.isArray(h)?h:[h];for(let x=0;x<y.length;x++){const T=_T(t,y[x]);if(T){const{transitionEnd:w,transition:A,...C}=T;for(const j in C){let _=C[j];if(Array.isArray(_)){const M=p?_.length-1:0;_=_[M]}_!==null&&(a[j]=_)}for(const j in w)a[j]=w[j]}}}return a}const b4=t=>(e,n)=>{const r=I.useContext(Zp),a=I.useContext(Qp),i=()=>_8(t,e,r,a);return n?i():QA(i)};function CT(t,e,n){var i;const{style:r}=t,a={};for(const o in r)(Fn(r[o])||e.style&&Fn(e.style[o])||h4(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const M8=b4({scrapeMotionValuesFromProps:CT,createRenderState:ET});function S4(t,e,n){const r=CT(t,e,n);for(const a in t)if(Fn(t[a])||Fn(e[a])){const i=Hl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=t[a]}return r}const j8=b4({scrapeMotionValuesFromProps:S4,createRenderState:v4}),I8=Symbol.for("motionComponentSymbol");function el(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function k8(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):el(n)&&(n.current=r))},[e])}const MT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),P8="framerAppearId",w4="data-"+MT(P8),A4=I.createContext({});function O8(t,e,n,r,a){var w,A;const{visualElement:i}=I.useContext(Zp),o=I.useContext(f4),u=I.useContext(Qp),f=I.useContext(ST).reducedMotion,d=I.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const p=d.current,h=I.useContext(A4);p&&!p.projection&&a&&(p.type==="html"||p.type==="svg")&&R8(d.current,n,a,h);const y=I.useRef(!1);I.useInsertionEffect(()=>{p&&y.current&&p.update(n,u)});const x=n[w4],T=I.useRef(!!x&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,x))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,x)));return bq(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),T.current&&p.animationState&&p.animationState.animateChanges())}),I.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,x)}),T.current=!1),p.enteringChildren=void 0)}),p}function R8(t,e,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:u,layoutScroll:f,layoutRoot:d,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:T4(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||u&&el(u),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:f,layoutRoot:d})}function T4(t){if(t)return t.options.allowProjection!==!1?t.projection:T4(t.parent)}function hv(t,{forwardMotionProps:e=!1}={},n,r){n&&l8(n);const a=NT(t)?j8:M8;function i(u,f){let d;const p={...I.useContext(ST),...u,layoutId:D8(u)},{isStatic:h}=p,y=m8(u),x=a(u,h);if(!h&&ZA){L8();const T=q8(p);d=T.MeasureLayout,y.visualElement=O8(t,x,p,r,T.ProjectionNode)}return c.jsxs(Zp.Provider,{value:y,children:[d&&y.visualElement?c.jsx(d,{visualElement:y.visualElement,...p}):null,N8(t,u,k8(x,y.visualElement,f),x,h,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=I.forwardRef(i);return o[I8]=t,o}function D8({layoutId:t}){const e=I.useContext(JA).id;return e&&t!==void 0?e+"-"+t:t}function L8(t,e){I.useContext(f4).strict}function q8(t){const{drag:e,layout:n}=xl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function U8(t,e){if(typeof Proxy>"u")return hv;const n=new Map,r=(i,o)=>hv(i,o,t,e),a=(i,o)=>r(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,hv(o,void 0,t,e)),n.get(o))})}function E4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function B8({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function $8(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gv(t){return t===void 0||t===1}function rw({scale:t,scaleX:e,scaleY:n}){return!gv(t)||!gv(e)||!gv(n)}function ws(t){return rw(t)||N4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function N4(t){return _M(t.x)||_M(t.y)}function _M(t){return t&&t!=="0%"}function Ym(t,e,n){const r=t-n,a=e*r;return n+a}function CM(t,e,n,r,a){return a!==void 0&&(t=Ym(t,a,r)),Ym(t,n,r)+e}function aw(t,e=0,n=1,r,a){t.min=CM(t.min,e,n,r,a),t.max=CM(t.max,e,n,r,a)}function _4(t,{x:e,y:n}){aw(t.x,e.translate,e.scale,e.originPoint),aw(t.y,n.translate,n.scale,n.originPoint)}const MM=.999999999999,jM=1.0000000000001;function V8(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let i,o;for(let u=0;u<a;u++){i=n[u],o=i.projectionDelta;const{visualElement:f}=i.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nl(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,_4(t,o)),r&&ws(i.latestValues)&&nl(t,i.latestValues))}e.x<jM&&e.x>MM&&(e.x=1),e.y<jM&&e.y>MM&&(e.y=1)}function tl(t,e){t.min=t.min+e,t.max=t.max+e}function IM(t,e,n,r,a=.5){const i=Ht(t.min,t.max,a);aw(t,e,n,i,r)}function nl(t,e){IM(t.x,e.x,e.scaleX,e.scale,e.originX),IM(t.y,e.y,e.scaleY,e.scale,e.originY)}function C4(t,e){return E4($8(t.getBoundingClientRect(),e))}function F8(t,e,n){const r=C4(t,n),{scroll:a}=e;return a&&(tl(r.x,a.offset.x),tl(r.y,a.offset.y)),r}const kM=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:kM(),y:kM()}),PM=()=>({min:0,max:0}),nn=()=>({x:PM(),y:PM()}),iw={current:null},M4={current:!1};function z8(){if(M4.current=!0,!!ZA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iw.current=t.matches;t.addEventListener("change",e),e()}else iw.current=!1}const G8=new WeakMap;function H8(t,e,n){for(const r in e){const a=e[r],i=n[r];if(Fn(a))t.addValue(r,a);else if(Fn(i))t.addValue(r,vl(a,{owner:t}));else if(i!==a)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(r);t.addValue(r,vl(o!==void 0?o:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const OM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class K8{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=gT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=sr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ft.render(this.render,!1,!0))};const{latestValues:f,renderState:d}=o;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=d,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!i,this.isControllingVariants=th(n),this.isVariantNode=p4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in h){const x=h[y];f[y]!==void 0&&Fn(x)&&x.set(f[y])}}mount(e){var n;this.current=e,G8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),M4.current||z8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:iw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gi(this.notifyUpdate),Gi(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Kl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xl){const n=xl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OM.length;r++){const a=OM[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=H8(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Sq(r)||Aq(r))?r=parseFloat(r):!t8(r)&&Hi.test(n)&&(r=a4(e,n)),this.setBaseTarget(e,Fn(r)?r.get():r)),Fn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=_T(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Fn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new aT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){xT.render(this.render)}}class j4 extends K8{constructor(){super(...arguments),this.KeyframeResolver=FG}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function I4(t,{style:e,vars:n},r,a){const i=t.style;let o;for(o in e)i[o]=e[o];a==null||a.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function Y8(t){return window.getComputedStyle(t)}class W8 extends j4{constructor(){super(...arguments),this.type="html",this.renderInstance=I4}readValueFromInstance(e,n){var r;if(Kl.has(n))return(r=this.projection)!=null&&r.isProjecting?XS(n):lG(e,n);{const a=Y8(e),i=(oT(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C4(e,n)}build(e,n,r){TT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return CT(e,n,r)}}const k4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function X8(t,e,n,r){I4(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(k4.has(a)?a:MT(a),e.attrs[a])}class J8 extends j4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Kl.has(n)){const r=r4(n);return r&&r.default||0}return n=k4.has(n)?n:MT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return S4(e,n,r)}build(e,n,r){y4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){X8(e,n,r,a)}mount(e){this.isSVGTag=x4(e.tagName),super.mount(e)}}const Q8=(t,e)=>NT(t)?new J8(e):new W8(e,{allowProjection:t!==I.Fragment});function cl(t,e,n){const r=t.getProps();return _T(r,e,n!==void 0?n:r.custom,t)}const sw=t=>Array.isArray(t);function Z8(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function eH(t){return sw(t)?t[t.length-1]||0:t}function tH(t,e){const n=cl(t,e);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const u=eH(i[o]);Z8(t,o,u)}}function nH(t){return!!(Fn(t)&&t.add)}function ow(t,e){const n=t.getValue("willChange");if(nH(n))return n.add(e);if(!n&&Xa.WillChange){const r=new Xa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function P4(t){return t.props[w4]}const rH=t=>t!==null;function aH(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(rH),i=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[i]}const iH={type:"spring",stiffness:500,damping:25,restSpeed:10},sH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),oH={type:"keyframes",duration:.8},lH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uH=(t,{keyframes:e})=>e.length>2?oH:Kl.has(t)?t.startsWith("scale")?sH(e[1]):iH:lH;function cH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:u,from:f,elapsed:d,...p}){return!!Object.keys(p).length}const jT=(t,e,n,r={},a,i)=>o=>{const u=yT(r,t)||{},f=u.delay||r.delay||0;let{elapsed:d=0}=r;d=d-pa(f);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-d,onUpdate:y=>{e.set(y),u.onUpdate&&u.onUpdate(y)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:i?void 0:a};cH(u)||Object.assign(p,uH(t,p)),p.duration&&(p.duration=pa(p.duration)),p.repeatDelay&&(p.repeatDelay=pa(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(tw(p),p.delay===0&&(h=!0)),(Xa.instantAnimations||Xa.skipAnimations)&&(h=!0,tw(p),p.delay=0),p.allowFlatten=!u.type&&!u.ease,h&&!i&&e.get()!==void 0){const y=aH(p.keyframes,u);if(y!==void 0){Ft.update(()=>{p.onUpdate(y),p.onComplete()});return}}return u.isSync?new hT(p):new IG(p)};function dH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function O4(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...u}=e;r&&(i=r);const f=[],d=a&&t.animationState&&t.animationState.getState()[a];for(const p in u){const h=t.getValue(p,t.latestValues[p]??null),y=u[p];if(y===void 0||d&&dH(d,p))continue;const x={delay:n,...yT(i||{},p)},T=h.get();if(T!==void 0&&!h.isAnimating&&!Array.isArray(y)&&y===T&&!x.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const C=P4(t);if(C){const j=window.MotionHandoffAnimation(C,p,Ft);j!==null&&(x.startTime=j,w=!0)}}ow(t,p),h.start(jT(p,h,y,t.shouldReduceMotion&&e4.has(p)?{type:!1}:x,t,w));const A=h.animation;A&&f.push(A)}return o&&Promise.all(f).then(()=>{Ft.update(()=>{o&&tH(t,o)})}),f}function R4(t,e,n,r=0,a=1){const i=Array.from(t).sort((d,p)=>d.sortNodePosition(p)).indexOf(e),o=t.size,u=(o-1)*r;return typeof n=="function"?n(i,o):a===1?i*r:u-i*r}function lw(t,e,n={}){var f;const r=cl(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(O4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:y}=a;return fH(t,e,d,p,h,y,n)}:()=>Promise.resolve(),{when:u}=a;if(u){const[d,p]=u==="beforeChildren"?[i,o]:[o,i];return d().then(()=>p())}else return Promise.all([i(),o(n.delay)])}function fH(t,e,n=0,r=0,a=0,i=1,o){const u=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),u.push(lw(f,e,{...o,delay:n+(typeof r=="function"?0:r)+R4(t.variantChildren,f,r,a,i)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(u)}function mH(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(i=>lw(t,i,n));r=Promise.all(a)}else if(typeof e=="string")r=lw(t,e,n);else{const a=typeof e=="function"?cl(t,e,n.custom):e;r=Promise.all(O4(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function D4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const pH=AT.length;function L4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?L4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<pH;n++){const r=AT[n],a=t.props[r];(Mc(a)||a===!1)&&(e[r]=a)}return e}const hH=[...wT].reverse(),gH=wT.length;function yH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>mH(t,n,r)))}function vH(t){let e=yH(t),n=RM(),r=!0;const a=f=>(d,p)=>{var y;const h=cl(t,p,f==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(h){const{transition:x,transitionEnd:T,...w}=h;d={...d,...w,...T}}return d};function i(f){e=f(t)}function o(f){const{props:d}=t,p=L4(t.parent)||{},h=[],y=new Set;let x={},T=1/0;for(let A=0;A<gH;A++){const C=hH[A],j=n[C],_=d[C]!==void 0?d[C]:p[C],M=Mc(_),N=C===f?j.isActive:null;N===!1&&(T=A);let k=_===p[C]&&_!==d[C]&&M;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),j.protectedKeys={...x},!j.isActive&&N===null||!_&&!j.prevProp||eh(_)||typeof _=="boolean")continue;const P=xH(j.prevProp,_);let R=P||C===f&&j.isActive&&!k&&M||A>T&&M,L=!1;const U=Array.isArray(_)?_:[_];let q=U.reduce(a(C),{});N===!1&&(q={});const{prevResolvedValues:D={}}=j,$={...D,...q},H=K=>{R=!0,y.has(K)&&(L=!0,y.delete(K)),j.needsAnimating[K]=!0;const W=t.getValue(K);W&&(W.liveStyle=!1)};for(const K in $){const W=q[K],re=D[K];if(x.hasOwnProperty(K))continue;let X=!1;sw(W)&&sw(re)?X=!D4(W,re):X=W!==re,X?W!=null?H(K):y.add(K):W!==void 0&&y.has(K)?H(K):j.protectedKeys[K]=!0}j.prevProp=_,j.prevResolvedValues=q,j.isActive&&(x={...x,...q}),r&&t.blockInitialAnimation&&(R=!1);const J=k&&P;R&&(!J||L)&&h.push(...U.map(K=>{const W={type:C};if(typeof K=="string"&&r&&!J&&t.manuallyAnimateOnMount&&t.parent){const{parent:re}=t,X=cl(re,K);if(re.enteringChildren&&X){const{delayChildren:V}=X.transition||{};W.delay=R4(re.enteringChildren,t,V)}}return{animation:K,options:W}}))}if(y.size){const A={};if(typeof d.initial!="boolean"){const C=cl(t,Array.isArray(d.initial)?d.initial[0]:d.initial);C&&C.transition&&(A.transition=C.transition)}y.forEach(C=>{const j=t.getBaseTarget(C),_=t.getValue(C);_&&(_.liveStyle=!0),A[C]=j??null}),h.push({animation:A})}let w=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(h):Promise.resolve()}function u(f,d){var h;if(n[f].isActive===d)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(y=>{var x;return(x=y.animationState)==null?void 0:x.setActive(f,d)}),n[f].isActive=d;const p=o(f);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:o,setActive:u,setAnimateFunction:i,getState:()=>n,reset:()=>{n=RM()}}}function xH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!D4(e,t):!1}function vs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RM(){return{animate:vs(!0),whileInView:vs(),whileHover:vs(),whileTap:vs(),whileDrag:vs(),whileFocus:vs(),exit:vs()}}class Yi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class bH extends Yi{constructor(e){super(e),e.animationState||(e.animationState=vH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();eh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let SH=0;class wH extends Yi{constructor(){super(...arguments),this.id=SH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const AH={animation:{Feature:bH},exit:{Feature:wH}};function Ic(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ed(t){return{point:{x:t.pageX,y:t.pageY}}}const TH=t=>e=>bT(e)&&t(e,Ed(e));function pc(t,e,n,r){return Ic(t,e,TH(n),r)}const q4=1e-4,EH=1-q4,NH=1+q4,U4=.01,_H=0-U4,CH=0+U4;function Kn(t){return t.max-t.min}function MH(t,e,n){return Math.abs(t-e)<=n}function DM(t,e,n,r=.5){t.origin=r,t.originPoint=Ht(e.min,e.max,t.origin),t.scale=Kn(n)/Kn(e),t.translate=Ht(n.min,n.max,t.origin)-t.originPoint,(t.scale>=EH&&t.scale<=NH||isNaN(t.scale))&&(t.scale=1),(t.translate>=_H&&t.translate<=CH||isNaN(t.translate))&&(t.translate=0)}function hc(t,e,n,r){DM(t.x,e.x,n.x,r?r.originX:void 0),DM(t.y,e.y,n.y,r?r.originY:void 0)}function LM(t,e,n){t.min=n.min+e.min,t.max=t.min+Kn(e)}function jH(t,e,n){LM(t.x,e.x,n.x),LM(t.y,e.y,n.y)}function qM(t,e,n){t.min=e.min-n.min,t.max=t.min+Kn(e)}function gc(t,e,n){qM(t.x,e.x,n.x),qM(t.y,e.y,n.y)}function Ur(t){return[t("x"),t("y")]}const B4=({current:t})=>t?t.ownerDocument.defaultView:null,UM=(t,e)=>Math.abs(t-e);function IH(t,e){const n=UM(t.x,e.x),r=UM(t.y,e.y);return Math.sqrt(n**2+r**2)}class $4{constructor(e,n,{transformPagePoint:r,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=vv(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,T=IH(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!T)return;const{point:w}=y,{timestamp:A}=Ln;this.history.push({...w,timestamp:A});const{onStart:C,onMove:j}=this.handlers;x||(C&&C(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=yv(x,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:T,onSessionEnd:w,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=vv(y.type==="pointercancel"?this.lastMoveEventInfo:yv(x,this.transformPagePoint),this.history);this.startEvent&&T&&T(y,C),w&&w(y,C)},!bT(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=a||window;const u=Ed(e),f=yv(u,this.transformPagePoint),{point:d}=f,{timestamp:p}=Ln;this.history=[{...d,timestamp:p}];const{onSessionStart:h}=n;h&&h(e,vv(f,this.history)),this.removeListeners=wd(pc(this.contextWindow,"pointermove",this.handlePointerMove),pc(this.contextWindow,"pointerup",this.handlePointerUp),pc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gi(this.updatePoint)}}function yv(t,e){return e?{point:e(t.point)}:t}function BM(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vv({point:t},e){return{point:t,delta:BM(t,V4(e)),offset:BM(t,kH(e)),velocity:PH(e,.1)}}function kH(t){return t[0]}function V4(t){return t[t.length-1]}function PH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=V4(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>pa(e)));)n--;if(!r)return{x:0,y:0};const i=Vr(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function OH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ht(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ht(n,t,r.max):Math.min(t,n)),t}function $M(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RH(t,{top:e,left:n,bottom:r,right:a}){return{x:$M(t.x,n,a),y:$M(t.y,e,r)}}function VM(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function DH(t,e){return{x:VM(t.x,e.x),y:VM(t.y,e.y)}}function LH(t,e){let n=.5;const r=Kn(t),a=Kn(e);return a>r?n=Nc(e.min,e.max-r,t.min):r>a&&(n=Nc(t.min,t.max-a,e.min)),Wa(0,1,n)}function qH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uw=.35;function UH(t=uw){return t===!1?t=0:t===!0&&(t=uw),{x:FM(t,"left","right"),y:FM(t,"top","bottom")}}function FM(t,e,n){return{min:zM(t,e),max:zM(t,n)}}function zM(t,e){return typeof t=="number"?t:t[e]||0}const BH=new WeakMap;class $H{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ed(h).point)},o=(h,y)=>{const{drag:x,dragPropagation:T,onDragStart:w}=this.getProps();if(x&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KG(x),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ur(C=>{let j=this.getAxisMotionValue(C).get()||0;if(ha.test(j)){const{projection:_}=this.visualElement;if(_&&_.layout){const M=_.layout.layoutBox[C];M&&(j=Kn(M)*(parseFloat(j)/100))}}this.originPoint[C]=j}),w&&Ft.postRender(()=>w(h,y)),ow(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y;const{dragPropagation:x,dragDirectionLock:T,onDirectionLock:w,onDrag:A}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=y;if(T&&this.currentDirection===null){this.currentDirection=VH(C),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",y.point,C),this.updateAxis("y",y.point,C),this.visualElement.render(),A&&A(h,y)},f=(h,y)=>{this.latestPointerEvent=h,this.latestPanInfo=y,this.stop(h,y),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Ur(h=>{var y;return this.getAnimationState(h)==="paused"&&((y=this.getAxisMotionValue(h).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new $4(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:B4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,a=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!r)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&Ft.postRender(()=>u(r,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!cm(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=OH(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;e&&el(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=RH(r.layoutBox,e):this.constraints=!1,this.elastic=UH(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ur(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qH(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!el(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=F8(r,a.root,this.visualElement.getTransformPagePoint());let o=DH(a.layout.layoutBox,i);if(n){const u=n(B8(o));this.hasMutatedConstraints=!!u,u&&(o=E4(u))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),f=this.constraints||{},d=Ur(p=>{if(!cm(p,n,this.currentDirection))return;let h=f&&f[p]||{};o&&(h={min:0,max:0});const y=a?200:1e6,x=a?40:1e7,T={type:"inertia",velocity:r?e[p]:0,bounceStiffness:y,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(p,T)});return Promise.all(d).then(u)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ow(this.visualElement,e),r.start(jT(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ur(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ur(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ur(n=>{const{drag:r}=this.getProps();if(!cm(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:u}=a.layout.layoutBox[n];i.set(e[n]-Ht(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!el(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ur(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const f=u.get();a[o]=LH({min:f,max:f},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ur(o=>{if(!cm(o,e,null))return;const u=this.getAxisMotionValue(o),{min:f,max:d}=this.constraints[o];u.set(Ht(f,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;BH.set(this.visualElement,this);const e=this.visualElement.current,n=pc(e,"pointerdown",f=>{const{drag:d,dragListener:p=!0}=this.getProps();d&&p&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();el(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ft.read(r);const o=Ic(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ur(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=f[p].translate,h.set(h.get()+f[p].translate))}),this.visualElement.render())}));return()=>{o(),n(),i(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=uw,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:u}}}function cm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function VH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FH extends Yi{constructor(e){super(e),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new $H(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const GM=t=>(e,n)=>{t&&Ft.postRender(()=>t(e,n))};class zH extends Yi{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(e){this.session=new $4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:B4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:GM(e),onStart:GM(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&Ft.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=pc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Um={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function HM(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ve.test(t))t=parseFloat(t);else return t;const n=HM(t,e.target.x),r=HM(t,e.target.y);return`${n}% ${r}%`}},GH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Hi.parse(t);if(a.length>5)return r;const i=Hi.createTransformer(t),o=typeof a[0]!="number"?1:0,u=n.x.scale*e.x,f=n.y.scale*e.y;a[0+o]/=u,a[1+o]/=f;const d=Ht(u,f,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};let xv=!1;class HH extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=e;p8(KH),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),xv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Um.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,xv=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Ft.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;xv=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function F4(t){const[e,n]=d4(),r=I.useContext(JA);return c.jsx(HH,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(A4),isPresent:e,safeToRemove:n})}const KH={borderRadius:{...Xu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xu,borderTopRightRadius:Xu,borderBottomLeftRadius:Xu,borderBottomRightRadius:Xu,boxShadow:GH};function YH(t,e,n){const r=Fn(t)?t:vl(t);return r.start(jT("",r,e,n)),r.animation}const WH=(t,e)=>t.depth-e.depth;class XH{constructor(){this.children=[],this.isDirty=!1}add(e){eT(this.children,e),this.isDirty=!0}remove(e){tT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WH),this.isDirty=!1,this.children.forEach(e)}}function JH(t,e){const n=sr.now(),r=({timestamp:a})=>{const i=a-n;i>=e&&(Gi(r),t(i-e))};return Ft.setup(r,!0),()=>Gi(r)}const z4=["TopLeft","TopRight","BottomLeft","BottomRight"],QH=z4.length,KM=t=>typeof t=="string"?parseFloat(t):t,YM=t=>typeof t=="number"||Ve.test(t);function ZH(t,e,n,r,a,i){a?(t.opacity=Ht(0,n.opacity??1,e9(r)),t.opacityExit=Ht(e.opacity??1,0,t9(r))):i&&(t.opacity=Ht(e.opacity??1,n.opacity??1,r));for(let o=0;o<QH;o++){const u=`border${z4[o]}Radius`;let f=WM(e,u),d=WM(n,u);if(f===void 0&&d===void 0)continue;f||(f=0),d||(d=0),f===0||d===0||YM(f)===YM(d)?(t[u]=Math.max(Ht(KM(f),KM(d),r),0),(ha.test(d)||ha.test(f))&&(t[u]+="%")):t[u]=d}(e.rotate||n.rotate)&&(t.rotate=Ht(e.rotate||0,n.rotate||0,r))}function WM(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const e9=G4(0,.5,Iq),t9=G4(.5,.95,zr);function G4(t,e,n){return r=>r<t?0:r>e?1:n(Nc(t,e,r))}function XM(t,e){t.min=e.min,t.max=e.max}function Rr(t,e){XM(t.x,e.x),XM(t.y,e.y)}function JM(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function QM(t,e,n,r,a){return t-=e,t=Ym(t,1/n,r),a!==void 0&&(t=Ym(t,1/a,r)),t}function n9(t,e=0,n=1,r=.5,a,i=t,o=t){if(ha.test(e)&&(e=parseFloat(e),e=Ht(o.min,o.max,e/100)-o.min),typeof e!="number")return;let u=Ht(i.min,i.max,r);t===i&&(u-=e),t.min=QM(t.min,e,n,u,a),t.max=QM(t.max,e,n,u,a)}function ZM(t,e,[n,r,a],i,o){n9(t,e[n],e[r],e[a],e.scale,i,o)}const r9=["x","scaleX","originX"],a9=["y","scaleY","originY"];function ej(t,e,n,r){ZM(t.x,e,r9,n?n.x:void 0,r?r.x:void 0),ZM(t.y,e,a9,n?n.y:void 0,r?r.y:void 0)}function tj(t){return t.translate===0&&t.scale===1}function H4(t){return tj(t.x)&&tj(t.y)}function nj(t,e){return t.min===e.min&&t.max===e.max}function i9(t,e){return nj(t.x,e.x)&&nj(t.y,e.y)}function rj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function K4(t,e){return rj(t.x,e.x)&&rj(t.y,e.y)}function aj(t){return Kn(t.x)/Kn(t.y)}function ij(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class s9{constructor(){this.members=[]}add(e){eT(this.members,e),e.scheduleRender()}remove(e){if(tT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function o9(t,e,n){let r="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:p,rotateX:h,rotateY:y,skewX:x,skewY:T}=n;d&&(r=`perspective(${d}px) ${r}`),p&&(r+=`rotate(${p}deg) `),h&&(r+=`rotateX(${h}deg) `),y&&(r+=`rotateY(${y}deg) `),x&&(r+=`skewX(${x}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=t.x.scale*e.x,f=t.y.scale*e.y;return(u!==1||f!==1)&&(r+=`scale(${u}, ${f})`),r||"none"}const bv=["","X","Y","Z"],l9=1e3;let u9=0;function Sv(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Y4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=P4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(a||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Y4(r)}function W4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},u=e==null?void 0:e()){this.id=u9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(f9),this.nodes.forEach(g9),this.nodes.forEach(y9),this.nodes.forEach(m9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new XH)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aT),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const f=this.eventHandlers.get(o);f&&f.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=c4(o)&&!ZG(o),this.instance=o;const{layoutId:u,layout:f,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||u)&&(this.isLayoutDirty=!0),t){let p,h=0;const y=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{h=window.innerWidth}),t(o,()=>{const x=window.innerWidth;x!==h&&(h=x,this.root.updateBlockedByResize=!0,p&&p(),p=JH(y,250),Um.hasAnimatedSinceResize&&(Um.hasAnimatedSinceResize=!1,this.nodes.forEach(lj)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&d&&(u||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:h,hasRelativeLayoutChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||d.getDefaultTransition()||w9,{onLayoutAnimationStart:w,onLayoutAnimationComplete:A}=d.getProps(),C=!this.targetLayout||!K4(this.targetLayout,x),j=!h&&y;if(this.options.layoutRoot||this.resumeFrom||j||h&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...yT(T,"layout"),onPlay:w,onComplete:A};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(p,j)}else h||lj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(v9),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Y4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:u,layout:f}=this.options;if(u===void 0&&!f)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(h9),this.nodes.forEach(c9),this.nodes.forEach(d9)):this.nodes.forEach(oj),this.clearAllSnapshots();const u=sr.now();Ln.delta=Wa(0,1e3/60,u-Ln.timestamp),Ln.timestamp=u,Ln.isProcessing=!0,uv.update.process(Ln),uv.preRender.process(Ln),uv.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p9),this.sharedNodes.forEach(x9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kn(this.snapshot.measuredBox.x)&&!Kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!H4(this.projectionDelta),f=this.getTransformTemplate(),d=f?f(this.latestValues,""):void 0,p=d!==this.prevTransformTemplateValue;o&&this.instance&&(u||ws(this.latestValues)||p)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let f=this.removeElementScroll(u);return o&&(f=this.removeTransform(f)),A9(f),{animationId:this.root.animationId,measuredBox:u,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return nn();const u=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(T9))){const{scroll:p}=this.root;p&&(tl(u.x,p.offset.x),tl(u.y,p.offset.y))}return u}removeElementScroll(o){var f;const u=nn();if(Rr(u,o),(f=this.scroll)!=null&&f.wasRoot)return u;for(let d=0;d<this.path.length;d++){const p=this.path[d],{scroll:h,options:y}=p;p!==this.root&&h&&y.layoutScroll&&(h.wasRoot&&Rr(u,o),tl(u.x,h.offset.x),tl(u.y,h.offset.y))}return u}applyTransform(o,u=!1){const f=nn();Rr(f,o);for(let d=0;d<this.path.length;d++){const p=this.path[d];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&nl(f,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),ws(p.latestValues)&&nl(f,p.latestValues)}return ws(this.latestValues)&&nl(f,this.latestValues),f}removeTransform(o){const u=nn();Rr(u,o);for(let f=0;f<this.path.length;f++){const d=this.path[f];if(!d.instance||!ws(d.latestValues))continue;rw(d.latestValues)&&d.updateSnapshot();const p=nn(),h=d.measurePageBox();Rr(p,h),ej(u,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,p)}return ws(this.latestValues)&&ej(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var y;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:h}=this.options;if(!(!this.layout||!(p||h))){if(this.resolvedRelativeTargetAt=Ln.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),gc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nn(),this.targetWithTransforms=nn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),jH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Rr(this.target,this.layout.layoutBox),_4(this.target,this.targetDelta)):Rr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nn(),this.relativeTargetOrigin=nn(),gc(this.relativeTargetOrigin,this.target,x.target),Rr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||rw(this.parent.latestValues)||N4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(f=!1),f)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Rr(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,y=this.treeScale.y;V8(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=nn());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JM(this.prevProjectionDelta.x,this.projectionDelta.x),JM(this.prevProjectionDelta.y,this.projectionDelta.y)),hc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==y||!ij(this.projectionDelta.x,this.prevProjectionDelta.x)||!ij(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(o,u=!1){const f=this.snapshot,d=f?f.latestValues:{},p={...this.latestValues},h=rl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const y=nn(),x=f?f.source:void 0,T=this.layout?this.layout.source:void 0,w=x!==T,A=this.getStack(),C=!A||A.members.length<=1,j=!!(w&&!C&&this.options.crossfade===!0&&!this.path.some(S9));this.animationProgress=0;let _;this.mixTargetDelta=M=>{const N=M/1e3;uj(h.x,o.x,N),uj(h.y,o.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),b9(this.relativeTarget,this.relativeTargetOrigin,y,N),_&&i9(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=nn()),Rr(_,this.relativeTarget)),w&&(this.animationValues=p,ZH(p,d,this.latestValues,N,j,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,f,d;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(d=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Gi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{Um.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=YH(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),o.onUpdate&&o.onUpdate(p)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(l9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:f,layout:d,latestValues:p}=o;if(!(!u||!f||!d)){if(this!==o&&this.layout&&d&&X4(this.options.animationType,this.layout.layoutBox,d.layoutBox)){f=this.target||nn();const h=Kn(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+h;const y=Kn(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+y}Rr(u,f),nl(u,p),hc(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new s9),this.sharedNodes.get(o).add(u);const d=u.options.initialPromotionConfig;u.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:f}={}){const d=this.getStack();d&&d.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(u=!0),!u)return;const d={};f.z&&Sv("z",o,d,this.animationValues);for(let p=0;p<bv.length;p++)Sv(`rotate${bv[p]}`,o,d,this.animationValues),Sv(`skew${bv[p]}`,o,d,this.animationValues);o.render();for(const p in d)o.setStaticValue(p,d[p]),this.animationValues&&(this.animationValues[p]=d[p]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=qm(u==null?void 0:u.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=qm(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ws(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const p=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=o9(this.projectionDeltaWithTransform,this.treeScale,p);f&&(h=f(p,h)),o.transform=h;const{x:y,y:x}=this.projectionDelta;o.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:o.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in jc){if(p[T]===void 0)continue;const{correct:w,applyTo:A,isCSSVariable:C}=jc[T],j=h==="none"?p[T]:w(p[T],d);if(A){const _=A.length;for(let M=0;M<_;M++)o[A[M]]=j}else C?this.options.visualElement.renderState.vars[T]=j:o[T]=j}this.options.layoutId&&(o.pointerEvents=d===this?qm(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(sj),this.root.sharedNodes.clear()}}}function c9(t){t.updateLayout()}function d9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ur(h=>{const y=o?e.measuredBox[h]:e.layoutBox[h],x=Kn(y);y.min=r[h].min,y.max=y.min+x}):X4(i,e.layoutBox,r)&&Ur(h=>{const y=o?e.measuredBox[h]:e.layoutBox[h],x=Kn(r[h]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+x)});const u=rl();hc(u,r,e.layoutBox);const f=rl();o?hc(f,t.applyTransform(a,!0),e.measuredBox):hc(f,r,e.layoutBox);const d=!H4(u);let p=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:y,layout:x}=h;if(y&&x){const T=nn();gc(T,e.layoutBox,y.layoutBox);const w=nn();gc(w,r,x.layoutBox),K4(T,w)||(p=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:f,layoutDelta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function f9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function m9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function p9(t){t.clearSnapshot()}function sj(t){t.clearMeasurements()}function oj(t){t.isLayoutDirty=!1}function h9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function g9(t){t.resolveTargetDelta()}function y9(t){t.calcProjection()}function v9(t){t.resetSkewAndRotation()}function x9(t){t.removeLeadSnapshot()}function uj(t,e,n){t.translate=Ht(e.translate,0,n),t.scale=Ht(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function cj(t,e,n,r){t.min=Ht(e.min,n.min,r),t.max=Ht(e.max,n.max,r)}function b9(t,e,n,r){cj(t.x,e.x,n.x,r),cj(t.y,e.y,n.y,r)}function S9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const w9={duration:.45,ease:[.4,0,.1,1]},dj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fj=dj("applewebkit/")&&!dj("chrome/")?Math.round:zr;function mj(t){t.min=fj(t.min),t.max=fj(t.max)}function A9(t){mj(t.x),mj(t.y)}function X4(t,e,n){return t==="position"||t==="preserve-aspect"&&!MH(aj(e),aj(n),.2)}function T9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const E9=W4({attachResizeListener:(t,e)=>Ic(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wv={current:void 0},J4=W4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wv.current){const t=new E9({});t.mount(window),t.setOptions({layoutScroll:!0}),wv.current=t}return wv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),N9={pan:{Feature:zH},drag:{Feature:FH,ProjectionNode:J4,MeasureLayout:F4}};function pj(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&Ft.postRender(()=>i(e,Ed(e)))}class _9 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=YG(e,(n,r)=>(pj(this.node,r,"Start"),a=>pj(this.node,a,"End"))))}unmount(){}}class C9 extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wd(Ic(this.node.current,"focus",()=>this.onFocus()),Ic(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hj(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&Ft.postRender(()=>i(e,Ed(e)))}class M9 extends Yi{mount(){const{current:e}=this.node;e&&(this.unmount=QG(e,(n,r)=>(hj(this.node,r,"Start"),(a,{success:i})=>hj(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cw=new WeakMap,Av=new WeakMap,j9=t=>{const e=cw.get(t.target);e&&e(t)},I9=t=>{t.forEach(j9)};function k9({root:t,...e}){const n=t||document;Av.has(n)||Av.set(n,{});const r=Av.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(I9,{root:t,...e})),r[a]}function P9(t,e,n){const r=k9(e);return cw.set(t,n),r.observe(t),()=>{cw.delete(t),r.unobserve(t)}}const O9={some:0,all:1};class R9 extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:O9[a]},u=f=>{const{isIntersecting:d}=f;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),y=d?p:h;y&&y(f)};return P9(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(D9(e,n))&&this.startObserver()}unmount(){}}function D9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const L9={inView:{Feature:R9},tap:{Feature:M9},focus:{Feature:C9},hover:{Feature:_9}},q9={layout:{ProjectionNode:J4,MeasureLayout:F4}},U9={...AH,...L9,...N9,...q9},Ke=U8(U9,Q8),gj=3e3,B9=({id:t,message:e,type:n,onDismiss:r,actionLabel:a,onAction:i})=>{const[o,u]=I.useState(!0);I.useEffect(()=>{const p=setTimeout(()=>u(!1),gj);return()=>clearTimeout(p)},[]),I.useEffect(()=>{if(o)return;const p=setTimeout(()=>r(t),400);return()=>clearTimeout(p)},[o,t,r]);const d={success:{icon:"check_circle",container:"bg-status-success-50 dark:bg-status-success-900/30",iconColor:"text-status-success-500 dark:text-status-success-300",progress:"bg-status-success-400"},error:{icon:"error",container:"bg-status-danger-50 dark:bg-status-danger-900/30",iconColor:"text-status-danger-500 dark:text-status-danger-300",progress:"bg-status-danger-400"},info:{icon:"info",container:"bg-status-info-50 dark:bg-status-info-900/30",iconColor:"text-status-info-500 dark:text-status-info-300",progress:"bg-status-info-400"}}[n];return c.jsx(Ys,{children:o&&c.jsxs(Ke.div,{initial:{opacity:0,y:20,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}},className:`relative flex w-full max-w-sm items-center gap-4 overflow-hidden rounded-lg p-4 shadow-lg ring-1 ring-black/5 dark:ring-white/10 ${d.container}`,onAnimationComplete:p=>{p==="exit"&&r(t)},children:[c.jsx("span",{className:`material-symbols-outlined text-2xl ${d.iconColor}`,children:d.icon}),c.jsx("p",{className:"flex-1 text-sm font-medium text-gray-800 dark:text-gray-100",children:e}),a&&c.jsx(Ke.button,{onClick:()=>{try{i&&i()}finally{u(!1)}},className:"rounded-md px-2 py-1 text-xs font-semibold text-primary-700 hover:text-primary-800 dark:text-primary-300 dark:hover:text-primary-200 focus:outline-none focus:ring-2 focus:ring-primary-400",whileTap:{scale:.95},whileHover:{scale:1.05},transition:{type:"spring",stiffness:320,damping:24},children:a}),c.jsx(Ke.button,{onClick:()=>u(!1),className:"flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400","aria-label":"Fermer",whileTap:{scale:.95},whileHover:{scale:1.1},transition:{type:"spring",stiffness:320,damping:24},children:c.jsx("span",{className:"material-symbols-outlined",children:"close"})}),c.jsx(Ke.div,{className:`absolute bottom-0 left-0 h-1 ${d.progress}`,initial:{width:"100%"},animate:{width:"0%",transition:{duration:gj/1e3,ease:"linear"}}})]},t)})},Q4=I.createContext(void 0),Xn=()=>{const t=I.useContext(Q4);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},$9=({children:t})=>{const[e,n]=I.useState([]),r=I.useRef(0),a=I.useCallback((o,u,f)=>{r.current+=1;const d=`toast-${Date.now()}-${r.current}`;n(p=>[...p,{id:d,message:o,type:u,actionLabel:f==null?void 0:f.actionLabel,onAction:f==null?void 0:f.onAction}])},[]),i=I.useCallback(o=>{n(u=>u.filter(f=>f.id!==o))},[]);return c.jsxs(Q4.Provider,{value:{addToast:a},children:[t,c.jsx("div",{"aria-live":"polite",role:"status",className:"fixed bottom-4 left-1/2 -translate-x-1/2 lg:bottom-auto lg:top-6 lg:left-auto lg:right-6 lg:translate-x-0 z-50 w-full max-w-sm p-4 lg:p-0 space-y-3",children:e.map(o=>c.jsx(B9,{...o,onDismiss:i},o.id))})]})},V9=[{id:"user-1",name:"Alice Admin",role:Ne.ADMIN,department:"IT",avatarUrl:"https://i.pravatar.cc/150?u=user-1",employeeId:"10001",email:"alice.admin@example.com",pin:"111111"},{id:"user-2",name:"Robert Brown",role:Ne.MANAGER,department:"Management",avatarUrl:"https://i.pravatar.cc/150?u=user-2",employeeId:"10002",email:"robert.brown@example.com",managerId:"user-1",pin:"222222"},{id:"user-3",name:"Jane Smith",role:Ne.EMPLOYEE,department:"Engineering",avatarUrl:"https://i.pravatar.cc/150?u=user-3",employeeId:"10003",email:"jane.smith@example.com",managerId:"user-2",pin:"333333"},{id:"user-4",name:"Ethan Harper",role:Ne.EMPLOYEE,department:"Engineering",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuDmWVYY7jD-zGHMzq1Lzg6BgvHf3MWGcsvW1pXKV3aoCLgnOxO6cX3qS-3owD9gSMolAN9ewLJWoxNgtPlj4GyMsL0dN0QzHL77Idz7lOJYmddCQlKD0zADsCYaLGWt5vcsvZKwh71XhFgKdlmBSwdRe_KghJuw8vjiwQOPM0-NZ6r8VgdQMgFK15vxnRwZkAYrvIvuOb17TQznj8VLrfZUdlXk6WiGfWVQSDGFDMDiA3jB4Slm7Hjr6u7Eu36QXmsSy55YXP9Uvfc",employeeId:"10004",email:"ethan.harper@example.com",managerId:"user-2",pin:"444444"},{id:"user-5",name:"Olivia Bennett",role:Ne.EMPLOYEE,department:"Design",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuACrRsvIIpt8jOUyxmn3wpRi23xKcBfJChepkixKdNwlXv4ldRndthYv-dyY12roM5CTGn6n2q-cZtLZYAIoyQNWrERGCQBjJdDdYtiHLnavpy22U0aQD49Nyzu92u-IDgW440C-JK5KsS8UyXNX450CQfTKqSeSupZJvcSilKSTqw5sDMx2Eca11txTShMCWSuUzqODFzTmRWZICClwl8GU2vwtLMMzAFJNrklj1cuzHsGCbj6ahh9KJIaybYjUQbsBrmFXj8E31M",employeeId:"10005",email:"olivia.bennett@example.com",managerId:"user-2",pin:"555555"},{id:"user-6",name:"Sophia Bennett",role:Ne.EMPLOYEE,department:"Marketing",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuDhhKqhQPmMwD36aqc1mNMiPDyf8XfA5xkQAP1KfE6MX2VLASFw-dMZd9lfFhVznTD-1rup8t0bYWZztu9G4rYmSi4z8PHmPc6A6b4Nq05H6FuVmQ-ei7a1GxBEWpORky6gasfcagjU8wTIptm_Mj4R2A32sQOHT7jIemiNrRyn-OJWWFtSi9n8z7sg7_HKGo-5XTJJexnIsDMvDj8N8cPfIHAp1as1gHHp1mQxgbgOLvKrEfBk6Gx7aWPawDbQaKartni2xBMjAXY",employeeId:"10006",email:"sophia.bennett@example.com",managerId:"user-2",pin:"666666"},{id:"user-7",name:"Liam Carter",role:Ne.EMPLOYEE,department:"Sales",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBDkrWWg53fJ6JOgk_4NUskNPrK6-7rNwiJM55-nr39icoAysQuSwaERoNR6usPSlvsNBOx8iZIgMv6MhOLoOFEQx07aSWz3mL2Balw_9_UwQXtmamLfxd7GMBJ7jDKhhX_x9iFCEyciA59167NqHxp00DQS_J1bXCau6zy52CJGcW0dMgKJsb36EYuNQ1jj8szCPIXNLGbMCSwmxGR_ECP76KQ53y2vvj5Rx1ZnyoSCoj0G5tvHcjS2tWkbgM6fAx9PL7rB-DF0ZI",employeeId:"10007",email:"liam.carter@example.com",managerId:"user-2",pin:"777777"},{id:"user-8",name:"Olivia Davis",role:Ne.EMPLOYEE,department:"Product",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuArZFBtrVrTItNSv4R3QPf__AGyhDhOS92M6avoJie54rIaKP83vXZOZyro0wZxtimcmwJaCyeiVpGIP4vWrCatDWfomEDC5hc8-usu9Bm4Y0r4hdvxi_wp8fDQSEN_-BjBQoYrK2A07s0Nl3BeiD4qFNm-jMKye4h1e_NiA-cUWduuDz2oVVrKxMLF2y1Iv2I4jNsSVybBzoYa93bTJ1o6uEBi3mnPiOMqavrrYtzH35w4MUVb7rq6VNlY6Sa6UTLa_wo2rl41hIQ",employeeId:"10008",email:"olivia.davis@example.com",managerId:"user-2",pin:"888888"},{id:"user-9",name:"Noah Evans",role:Ne.EMPLOYEE,department:"HR",avatarUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBElGyrcCxsOWCfh8I5XmW4Q_roCtDm_tGLofQGMX3Z8rBDjfsYMFVFJsFJQ70ltIScW_yqrglPipNiN-f9ggwJhJele_XXUS4JVhphZjhoKHKetzQXDTUZmWWu5PQdc5726ZkNYuAns6FFupzTHDYBogd1EF10omnlwP3DXcWCADV-P6DpUEYQvNXVpibLYD-pzJ4keVIPYfH-kuoo6ctdK7TMJrEmf3NICo38HOOOwQQZz1gszNJXgfMoDGU5iPPqfx3NLKkEFQ8",employeeId:"10009",email:"noah.evans@example.com",managerId:"user-2",pin:"999999"}],F9=[{id:"cat-1",name:"Laptop",icon:"laptop_chromebook"},{id:"cat-2",name:"Monitor",icon:"desktop_windows"},{id:"cat-3",name:"Keyboard",icon:"keyboard"},{id:"cat-4",name:"Mouse",icon:"mouse"},{id:"cat-5",name:"Docking Station",icon:"dock"},{id:"cat-6",name:"Headphones",icon:"headphones"},{id:"cat-8",name:"Desktop",icon:"desktop_mac"},{id:"cat-9",name:"Printer",icon:"print"},{id:"cat-7",name:"Other",icon:"devices_other"}],z9=[{id:"model-1",name:"Dell Latitude 7420",modelNumber:"LAT7420-123X",brand:"Dell",categoryId:"cat-1",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuB-Q0jBf8S22TbU-pCgoOC2mE2OpF__sBSwhI1FFPspN4oRJIc0YmdsbKaCNN_tgbiMVLKBQrQ7wYMm94NhgxUKe7wKndVnUZu_3JZGWnM-PvJdJhD8lpMlCILPHsmGTn6oCeQiLYM7NPPI_IWVJ1gGkWnwsW6o3jDRWQ49qcqy2FRCafdIGRNqjjfUV9dZXM9Tl7q7PC6F0RVODEnXp7DQ9fPcRVOiFFSeamk22xzs81BNtYyq-yVf4HHcxdLtUNq_fAckwvvza5U"},{id:"model-2",name:"Dell U2721DE",modelNumber:"U2721DE",brand:"Dell",categoryId:"cat-2",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBBksvGlhFH7ySiqCM4Sqfb64GdIXFuKlifKUsbQ4kRjcuTyhToOL0s51icZooX9vINv9TMNu-SRmIgOg_v_5SZ8MKscjneXzod1_seZYW0AOUz2bqFe8JGTsZNeef2YXSeNR79ORIGG5RNV6Bu_Mo1GpZvYPeXRsUHyBtMIbaACEubJ2uK5VHGB1wAjFUecnSZcrCWmjC7KxCwAjXz4GAZrKmHwi3PEbCJHFfvUvsoCQgKeTEK7JNdoRDaoHq2mep8IwcyZuSyx0s"},{id:"model-3",name:'MacBook Pro 14"',modelNumber:"A2442",brand:"Apple",categoryId:"cat-1",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuB-Q0jBf8S22TbU-pCgoOC2mE2OpF__sBSwhI1FFPspN4oRJIc0YmdsbKaCNN_tgbiMVLKBQrQ7wYMm94NhgxUKe7wKndVnUZu_3JZGWnM-PvJdJhD8lpMlCILPHsmGTn6oCeQiLYM7NPPI_IWVJ1gGkWnwsW6o3jDRWQ49qcqy2FRCafdIGRNqjjfUV9dZXM9Tl7q7PC6F0RVODEnXp7DQ9fPcRVOiFFSeamk22xzs81BNtYyq-yVf4HHcxdLtUNq_fAckwvvza5U"},{id:"model-4",name:"Logitech MX Keys",modelNumber:"920-009295",brand:"Logitech",categoryId:"cat-3",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuCAqd0p6tDArTI3qqzauzYjcW22PXuhxZmsQWMIPYELbVWOGF5eHMlEYcNKuiMOXlBuarJ9m9LW8cQIqtjFcqIlORBDxqw6vIg6PIDX8ANArawoiHvSyhsuMP3B06thIu_c-ihhI3ppc9Wzj1HWulaalx7VYDNOdDbT1yU1WSMGklhtxESWA9XK0BCV7s12KjtciV5NUsIEVQK4D0dc6Tmg9kvKW6sQzyLByeXXb99-q9X4W6lEgDreJ99g_C2bwpEu0DewdN8qZhY"},{id:"model-5",name:"LG UltraFine 5K",modelNumber:"27MD5KL-B",brand:"LG",categoryId:"cat-2",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuBBksvGlhFH7ySiqCM4Sqfb64GdIXFuKlifKUsbQ4kRjcuTyhToOL0s51icZooX9vINv9TMNu-SRmIgOg_v_5SZ8MKscjneXzod1_seZYW0AOUz2bqFe8JGTsZNeef2YXSeNR79ORIGG5RNV6Bu_Mo1GpZvYPeXRsUHyBtMIbaACEubJ2uK5VHGB1wAjFUecnSZcrCWmjC7KxCwAjXz4GAZrKmHwi3PEbCJHFfvUvsoCQgKeTEK7JNdoRDaoHq2mep8IwcyZuSyx0s"},{id:"model-6",name:"Logitech MX Master 3",modelNumber:"910-005694",brand:"Logitech",categoryId:"cat-4",imageUrl:"https://lh3.googleusercontent.com/aida-public/AB6AXuA-9_X36E6Mh0GoQKbDbsR6maaTewkpEacma7FeboVSYP9eWagtnmDRwlUxVouRhP1hF_SGGeaiAL0T2x9T2WD2WcE9L6FH0oKOD3VE5d7U9MT9JWdwTL1FQqF_BLDhjyxaPCAa0t_f6q8OpaYV0gJbfawhTRFlTpjeMtFLLU8oss9vF5dqWUbjfXQNtFL579bTwDS11r_-gmLngroSeKGS9eNxc9Yk6R3a3j5vNNlPsewUsAhapFbyeIXtEiStQp4B1CbXb2yLZqs"}],G9=[{id:"country-1",name:"Togo"},{id:"country-2",name:"France"},{id:"country-3",name:"Sénégal"}],H9=[{id:"site-1",name:"Siège Lomé",countryId:"country-1"},{id:"site-2",name:"Agence Kara",countryId:"country-1"},{id:"site-3",name:"Bureau Paris",countryId:"country-2"},{id:"site-4",name:"Hub Dakar",countryId:"country-3"}],K9=[{id:"dept-1",name:"Finance",siteId:"site-1"},{id:"dept-2",name:"IT",siteId:"site-1"},{id:"dept-3",name:"Commercial",siteId:"site-2"},{id:"dept-4",name:"Marketing Europe",siteId:"site-3"}],Y9=[{id:"eq-1",modelId:"model-1",name:"LPT-FIN-01",assetTag:"ASSET-12345",status:De.AVAILABLE,siteId:"site-1",departmentId:"dept-1",purchaseDate:"2023-01-15",warrantyStartDate:"2023-01-15",warrantyEndDate:"2026-01-14",os:"Windows 11 Pro",ram:"16 Go",storage:"512 Go SSD",operationalStatus:"Actif"},{id:"eq-2",modelId:"model-2",assetTag:"ASSET-12346",status:De.AVAILABLE,siteId:"site-2",purchaseDate:"2023-02-20",warrantyStartDate:"2023-02-20",warrantyEndDate:"2025-02-19",operationalStatus:"Actif"},{id:"eq-3",modelId:"model-3",name:"MBP-JSMITH",assetTag:"ASSET-22001",status:De.ASSIGNED,siteId:"site-3",purchaseDate:"2023-05-10",warrantyStartDate:"2023-05-10",warrantyEndDate:"2026-05-09",os:"macOS Sonoma",ram:"16 Go",storage:"512 Go SSD",agentS1:"23.3.4.12",agentM42:"Oui",agentME:"Oui",operationalStatus:"Actif"},{id:"eq-4",modelId:"model-4",assetTag:"ASSET-22002",status:De.ASSIGNED,siteId:"site-3",operationalStatus:"Actif"},{id:"eq-5",modelId:"model-5",assetTag:"ASSET-12347",status:De.IN_REPAIR,siteId:"site-1",departmentId:"dept-2",purchaseDate:"2022-11-01",warrantyStartDate:"2022-11-01",warrantyEndDate:"2024-10-31",operationalStatus:"En réparation"},{id:"eq-6",modelId:"model-6",assetTag:"ASSET-22003",status:De.ASSIGNED,siteId:"site-3",operationalStatus:"Actif"}],W9=[{id:"as-1",action:ze.ASSIGN,equipmentId:"eq-3",date:"2023-10-26",userId:"user-3",managerId:"user-2",signature:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",validation:{it:!0,manager:!0,user:!0},status:Bt.APPROVED},{id:"as-2",action:ze.ASSIGN,equipmentId:"eq-4",date:"2023-10-28",userId:"user-4",managerId:"user-2",signature:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",validation:{it:!0,manager:!0,user:!0},status:Bt.APPROVED},{id:"as-3",action:ze.ASSIGN,equipmentId:"eq-6",date:"2023-10-27",userId:"user-5",managerId:"user-2",signature:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=",validation:{it:!0,manager:!0,user:!0},status:Bt.APPROVED}],X9=[{id:"log-1",timestamp:new Date(Date.now()-2880*60*1e3).toISOString(),user:"Alice Admin",action:"create",entityType:"model",entityName:"Dell Latitude 7420"},{id:"log-2",timestamp:new Date(Date.now()-1440*60*1e3).toISOString(),user:"Alice Admin",action:"create",entityType:"equipment",entityName:"Dell Latitude 7420 (ASSET-12345)"},{id:"log-3",timestamp:new Date(Date.now()-4320*60*1e3).toISOString(),user:"Alice Admin",action:"create",entityType:"category",entityName:"Laptop"}],J9={currentUser:null,assignments:W9,equipment:Y9,users:V9,categories:F9,models:z9,auditLog:X9,editHistory:[],countries:G9,sites:H9,departments:K9,auditSessions:[]},Q9=(t,e)=>{switch(e.type){case"LOGIN_SUCCESS":return{...t,currentUser:e.payload};case"LOGOUT":return{...t,currentUser:null};case"SET_CURRENT_USER":return{...t,currentUser:e.payload};case"SAVE_ASSIGNMENT":{const n={...e.payload,id:`as-${Date.now()}`,status:Bt.PENDING};return{...t,assignments:[n,...t.assignments],equipment:t.equipment.map(r=>r.id===n.equipmentId?{...r,status:De.PENDING_VALIDATION,pendingAssignmentId:n.id}:r)}}case"SAVE_EQUIPMENT":{const n=e.payload,r=!!n.id;let a=t.editHistory;if(r&&n.id&&t.currentUser){const o=t.equipment.find(u=>u.id===n.id);if(o){const u=[],f=(p,h)=>{const y=p==null?"":String(p),x=h==null?"":String(h);return y!==x};["name","assetTag","purchaseDate","warrantyStartDate","warrantyEndDate","status","siteId","departmentId","os","ram","storage","agentS1","agentM42","agentME","notes","operationalStatus"].forEach(p=>{p in n&&f(o[p],n[p])&&u.push({field:p,oldValue:o[p],newValue:n[p]})}),u.length>0&&(a=[{id:`hist-${Date.now()}`,timestamp:new Date().toISOString(),userId:t.currentUser.id,entityType:"equipment",entityId:n.id,changes:u},...t.editHistory])}}const i=r?t.equipment.map(o=>o.id===n.id?{...o,...n}:o):[{...n,id:`eq-${Date.now()}`},...t.equipment];return{...t,equipment:i,editHistory:a}}case"IMPORT_EQUIPMENT":{const n=e.payload.map((r,a)=>({...r,id:`eq-${Date.now()}-${a}`}));return{...t,equipment:[...n,...t.equipment]}}case"IMPORT_USERS":{const n=e.payload.map((r,a)=>({...r,id:`user-${Date.now()}-${a}`}));return{...t,users:[...n,...t.users]}}case"SAVE_USER":{const n=e.payload,r=!!n.id;let a=t.editHistory;if(r&&n.id&&t.currentUser){const o=t.users.find(u=>u.id===n.id);if(o){const u=[],f=(p,h)=>{const y=p==null?"":String(p),x=h==null?"":String(h);return y!==x};["name","role","department","email","managerId"].forEach(p=>{p in n&&f(o[p],n[p])&&u.push({field:p,oldValue:o[p],newValue:n[p]})}),u.length>0&&(a=[{id:`hist-${Date.now()}`,timestamp:new Date().toISOString(),userId:t.currentUser.id,entityType:"user",entityId:n.id,changes:u},...t.editHistory])}}const i=r?t.users.map(o=>o.id===n.id?{...o,...n}:o):[{...n,id:`user-${Date.now()}`},...t.users];return{...t,users:i,editHistory:a}}case"SAVE_PIN":return{...t,users:t.users.map(n=>n.id===e.payload.userId?{...n,pin:e.payload.pin}:n)};case"SAVE_WEBAUTHN_CREDENTIAL":return{...t,users:t.users.map(n=>n.id===e.payload.userId?{...n,webauthnCredentialId:e.payload.credentialId||void 0}:n)};case"SAVE_CATEGORY":{const n=e.payload;if(!!n.id)return{...t,categories:t.categories.map(a=>a.id===n.id?{...a,...n}:a)};{const a={id:`cat-${Date.now()}`,name:n.name,description:n.description,icon:n.icon};return{...t,categories:[a,...t.categories]}}}case"SAVE_MODEL":{const n=e.payload;if(!!n.id)return{...t,models:t.models.map(a=>a.id===n.id?{...a,name:n.modelName,brand:n.brand,categoryId:n.type,specifications:n.specifications,modelNumber:n.modelNumber,imageUrl:n.imageUrl}:a)};{const a={id:`model-${Date.now()}`,name:n.modelName,brand:n.brand,categoryId:n.type,specifications:n.specifications,modelNumber:n.modelNumber,imageUrl:n.imageUrl};return{...t,models:[a,...t.models]}}}case"IMPORT_MODELS":{const n=e.payload.map((r,a)=>({...r,id:`model-${Date.now()}-${a}`}));return{...t,models:[...n,...t.models]}}case"DELETE_EQUIPMENT":return{...t,equipment:t.equipment.filter(n=>n.id!==e.payload)};case"DELETE_USER":return{...t,users:t.users.filter(n=>n.id!==e.payload)};case"DELETE_CATEGORY":return{...t,categories:t.categories.filter(n=>n.id!==e.payload)};case"DELETE_MODEL":return{...t,models:t.models.filter(n=>n.id!==e.payload)};case"BULK_DELETE_EQUIPMENT":return{...t,equipment:t.equipment.filter(n=>!e.payload.includes(n.id))};case"BULK_DELETE_USERS":return{...t,users:t.users.filter(n=>!e.payload.includes(n.id))};case"BULK_UPDATE_STATUS":return{...t,equipment:t.equipment.map(n=>e.payload.ids.includes(n.id)?{...n,status:e.payload.status}:n)};case"BULK_UPDATE_LOCATION":return{...t,equipment:t.equipment.map(n=>e.payload.ids.includes(n.id)?{...n,location:e.payload.location}:n)};case"APPROVE_ASSIGNMENT":{const{assignmentId:n,currentUser:r,actor:a}=e.payload,i=t.assignments.find(C=>C.id===n);if(!i||!i.validation)return t;let o={...i.validation},u=null;if(a?u=a:r.id===i.managerId?u="manager":r.id===i.userId?u="user":r.role===Ne.ADMIN&&(u="it"),!u)return t;const f=i.validation;let d=!1;const p={...i.validatedBy||{}},h={...i.validatedAt||{}},y=new Date().toISOString(),x=i.action===ze.ASSIGN;if(u==="manager"){const C=x?f.it:f.it&&f.user;!f.manager&&C&&(o.manager=!0,d=!0,p.manager=r.id,h.manager=y)}else if(u==="user"){const C=x?f.it&&f.manager:f.it;!f.user&&C&&(o.user=!0,d=!0,p.user=r.id,h.user=y)}else u==="it"&&(f.it||(o.it=!0,d=!0,p.it=r.id,h.it=y));if(!d)return t;const T=o.it&&o.manager&&o.user,w=T?Bt.APPROVED:i.status,A=T?i.action===ze.ASSIGN?De.ASSIGNED:De.AVAILABLE:De.PENDING_VALIDATION;return{...t,assignments:t.assignments.map(C=>C.id===n?{...C,validation:o,status:w,validatedBy:p,validatedAt:h}:C),equipment:T?t.equipment.map(C=>C.id===i.equipmentId?{...C,status:A,pendingAssignmentId:void 0}:C):t.equipment}}case"REJECT_ASSIGNMENT":{const{assignmentId:n,reason:r}=e.payload,a=t.assignments.find(i=>i.id===n);return a?{...t,assignments:t.assignments.map(i=>i.id===n?{...i,status:Bt.REJECTED,rejectionReason:r}:i),equipment:t.equipment.map(i=>i.id===a.equipmentId?{...i,status:De.AVAILABLE,pendingAssignmentId:void 0}:i)}:t}case"REVERT_ASSIGNMENT_VALIDATION":{const{assignmentId:n,actor:r}=e.payload,a=t.assignments.find(h=>h.id===n);if(!a||!a.validation)return t;const i=a.validation.it&&a.validation.manager&&a.validation.user,o={...a.validation},u={...a.validatedBy||{}},f={...a.validatedAt||{}};r==="it"?(o.it=!1,u&&delete u.it,f&&delete f.it):r==="manager"?(o.manager=!1,u&&delete u.manager,f&&delete f.manager):r==="user"&&(o.user=!1,u&&delete u.user,f&&delete f.user);const d=o.it&&o.manager&&o.user,p=d?Bt.APPROVED:Bt.PENDING;return{...t,assignments:t.assignments.map(h=>h.id===n?{...h,validation:o,validatedBy:u,validatedAt:f,status:p}:h),equipment:i&&!d?t.equipment.map(h=>h.id===a.equipmentId?{...h,status:De.PENDING_VALIDATION,pendingAssignmentId:n}:h):t.equipment}}case"RESTORE_REJECTED_ASSIGNMENT":{const{assignmentId:n}=e.payload,r=t.assignments.find(a=>a.id===n);return r?{...t,assignments:t.assignments.map(a=>a.id===n?{...a,status:Bt.PENDING,rejectionReason:void 0}:a),equipment:t.equipment.map(a=>a.id===r.equipmentId?{...a,status:De.PENDING_VALIDATION,pendingAssignmentId:n}:a)}:t}case"LOG_AUDIT_EVENT":{const{user:n,action:r,entityType:a,entityName:i}=e.payload,o={id:`log-${Date.now()}`,timestamp:new Date().toISOString(),user:n.name,action:r,entityType:a,entityName:i};return{...t,auditLog:[o,...t.auditLog]}}case"SAVE_COUNTRY":{const{id:n,name:r}=e.payload;if(n)return{...t,countries:t.countries.map(a=>a.id===n?{...a,name:r}:a)};{const a={id:`country-${Date.now()}`,name:r};return{...t,countries:[...t.countries,a]}}}case"DELETE_COUNTRY":return{...t,countries:t.countries.filter(n=>n.id!==e.payload)};case"SAVE_SITE":{const{id:n,name:r,countryId:a}=e.payload;if(n)return{...t,sites:t.sites.map(i=>i.id===n?{...i,name:r,countryId:a}:i)};{const i={id:`site-${Date.now()}`,name:r,countryId:a};return{...t,sites:[...t.sites,i]}}}case"DELETE_SITE":return{...t,sites:t.sites.filter(n=>n.id!==e.payload)};case"SAVE_DEPARTMENT":{const{id:n,name:r,siteId:a}=e.payload;if(n)return{...t,departments:t.departments.map(i=>i.id===n?{...i,name:r,siteId:a}:i)};{const i={id:`dept-${Date.now()}`,name:r,siteId:a};return{...t,departments:[...t.departments,i]}}}case"DELETE_DEPARTMENT":return{...t,departments:t.departments.filter(n=>n.id!==e.payload)};case"IMPORT_LOCATIONS":{const{countries:n,sites:r,departments:a}=e.payload,i=n.map((f,d)=>({...f,id:`country-${Date.now()}-${d}`})),o=r.map((f,d)=>({...f,id:`site-${Date.now()}-${d}`})),u=a.map((f,d)=>({...f,id:`dept-${Date.now()}-${d}`}));return{...t,countries:[...t.countries,...i],sites:[...t.sites,...o],departments:[...t.departments,...u]}}case"START_AUDIT_SESSION":{const{departmentId:n,userId:r}=e.payload,a=t.auditSessions.find(i=>i.departmentId===n&&(i.status==="in-progress"||i.status==="paused"));if(a)return{...t,auditSessions:t.auditSessions.map(i=>i.id===a.id?{...i,status:"in-progress",updatedAt:new Date().toISOString()}:i)};{const i={id:`audit-${Date.now()}`,departmentId:n,startedByUserId:r,status:"in-progress",scannedItemIds:[],unexpectedItems:[],startedAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return{...t,auditSessions:[i,...t.auditSessions]}}}case"PAUSE_AUDIT_SESSION":return{...t,auditSessions:t.auditSessions.map(n=>n.id===e.payload.sessionId?{...n,status:"paused",updatedAt:new Date().toISOString()}:n)};case"CANCEL_AUDIT_SESSION":return{...t,auditSessions:t.auditSessions.filter(n=>n.id!==e.payload.sessionId)};case"COMPLETE_AUDIT_SESSION":return{...t,auditSessions:t.auditSessions.map(n=>n.id===e.payload.sessionId?{...n,status:"completed",updatedAt:new Date().toISOString()}:n)};case"UPDATE_AUDIT_SESSION_SCAN":{const{sessionId:n,scannedItemId:r,unexpectedItem:a}=e.payload;return{...t,auditSessions:t.auditSessions.map(i=>{if(i.id===n){const o={...i,updatedAt:new Date().toISOString()};return r&&!i.scannedItemIds.includes(r)&&(o.scannedItemIds=[...i.scannedItemIds,r]),a&&(o.unexpectedItems=[...i.unexpectedItems,a]),o}return i})}}default:return t}},Z4=I.createContext(void 0),Z9=({children:t})=>{const[e,n]=I.useReducer(Q9,J9);return c.jsx(Z4.Provider,{value:{state:e,dispatch:n},children:t})},e3=()=>{const t=I.useContext(Z4);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t},t3=I.createContext(void 0),n3=()=>{const t=I.useContext(t3);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},e7=({children:t})=>{const[e,n]=I.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),r=i=>{localStorage.setItem("theme",i),n(i)},a=()=>{r(e==="light"?"dark":"light")};return I.useEffect(()=>{const i=window.document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[e]),c.jsx(t3.Provider,{value:{theme:e,setTheme:r,toggleTheme:a},children:t})},ti=({content:t,children:e,align:n="top",disabled:r=!1})=>{const[a,i]=I.useState(!1),o=I.useId();if(r)return c.jsx(c.Fragment,{children:e});const u={top:"bottom-full left-1/2 -translate-x-1/2 mb-2",right:"top-1/2 -translate-y-1/2 left-full ml-3"},f={top:"absolute top-full left-1/2 -translate-x-1/2 h-0 w-0 border-x-4 border-x-transparent border-t-4 border-t-secondary-900 dark:border-t-secondary-100",right:"absolute top-1/2 -translate-y-1/2 -left-1 h-0 w-0 border-y-4 border-y-transparent border-r-4 border-r-secondary-900 dark:border-r-secondary-100"},d=()=>i(!0),p=()=>i(!1),h=te.isValidElement(e)?te.cloneElement(e,{"aria-describedby":a?o:void 0}):e,y={type:"spring",stiffness:260,damping:22};return c.jsxs("div",{className:"relative flex items-center",onMouseEnter:d,onMouseLeave:p,onFocusCapture:d,onBlurCapture:p,onTouchStart:d,onTouchEnd:p,onTouchCancel:p,onKeyDown:x=>{x.key==="Escape"&&p()},role:"presentation",children:[h,c.jsx(Ys,{children:a&&c.jsxs(Ke.div,{id:o,initial:{opacity:0,scale:.95,y:n==="top"?6:0,x:n==="right"?-6:0},animate:{opacity:1,scale:1,x:0,y:0,transition:y},exit:{opacity:0,scale:.95,y:n==="top"?6:0,x:n==="right"?-6:0,transition:{duration:.15}},className:`pointer-events-none absolute w-auto whitespace-nowrap rounded-[var(--radius-card)] bg-gradient-to-br from-secondary-900 via-gray-900 to-secondary-800/95 dark:from-secondary-200 dark:via-secondary-100 dark:to-white px-3 py-1.5 text-center text-sm font-semibold text-white dark:text-secondary-900 shadow-[var(--shadow-elev-3)] backdrop-blur-sm border border-secondary-700/60 dark:border-secondary-200/50 z-50 ${u[n]}`,children:[t,c.jsx("div",{className:f[n]})]},"tooltip")})]})},Jr=({icon:t,label:e,isActive:n,isCollapsed:r,onClick:a,id:i,badgeCount:o})=>c.jsx(ti,{content:e,align:"right",disabled:!r,children:c.jsxs("button",{id:i,onClick:a,className:`flex items-center w-full px-4 py-3 text-left rounded-lg text-sm font-semibold transition-colors ${n?"bg-primary-100 dark:bg-primary-500/20 text-primary-900 dark:text-primary-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"} ${r?"justify-center":""}`,"aria-label":e,children:[c.jsx("span",{className:`material-symbols-outlined pointer-events-none ${r?"":"mr-3"}`,children:t}),!r&&c.jsx("span",{className:"pointer-events-none transition-opacity duration-200 whitespace-nowrap flex-1 flex items-center",children:e}),!r&&!!o&&o>0&&c.jsx("span",{className:"ml-auto inline-flex items-center justify-center rounded-full bg-red-600 text-white text-[10px] px-2 py-0.5 min-w-[20px]",children:o})]})}),t7=({currentUser:t,activeHash:e,isCollapsed:n,onToggle:r,onOpenSettings:a,onLogout:i,pendingApprovalsCount:o=0})=>{const u=t.role===Ne.ADMIN,f=t.role===Ne.MANAGER,d=e.substring(1)||"/dashboard",[p,h]=I.useState(!1),y=I.useRef(null);return I.useEffect(()=>{const x=T=>{y.current&&!y.current.contains(T.target)&&h(!1)};return p&&document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[p]),c.jsxs("aside",{className:`hidden lg:flex flex-col bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen sticky top-0 transition-all duration-300 ease-in-out ${n?"w-20":"w-64"}`,children:[c.jsxs("button",{onClick:r,className:`flex items-center w-full h-16 flex-shrink-0 hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors ${n?"justify-center px-2":"justify-between px-4"}`,"aria-label":n?"Agrandir la barre latérale":"Réduire la barre latérale",children:[!n&&c.jsx("h1",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 transition-opacity duration-200 whitespace-nowrap truncate",children:"Neemba Tracker"}),c.jsx("span",{className:"material-symbols-outlined text-gray-500 transition-transform duration-300",children:n?"keyboard_double_arrow_right":"keyboard_double_arrow_left"})]}),c.jsxs("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto overflow-x-hidden",children:[c.jsx(Jr,{icon:"grid_view",label:"Dashboard",isCollapsed:n,isActive:d.startsWith("/dashboard")||d==="/",onClick:()=>window.location.hash="#/dashboard"}),u&&c.jsxs(c.Fragment,{children:[c.jsx(Jr,{id:"nav-equipment",icon:"devices",label:"Équipement",isCollapsed:n,isActive:d.startsWith("/inventory")||d.startsWith("/categories")||d.startsWith("/models"),onClick:()=>window.location.hash="#/inventory"}),c.jsx(Jr,{id:"nav-users",icon:"group",label:"Utilisateurs",isCollapsed:n,isActive:d.startsWith("/users"),onClick:()=>window.location.hash="#/users"}),c.jsx(Jr,{id:"nav-approvals",icon:"pending_actions",label:"Approbations",isCollapsed:n,isActive:d.startsWith("/pending-approvals"),onClick:()=>window.location.hash="#/pending-approvals",badgeCount:o}),c.jsx(Jr,{id:"nav-management",icon:"category",label:"Gestion",isCollapsed:n,isActive:d.startsWith("/management"),onClick:()=>window.location.hash="#/management"}),c.jsx(Jr,{id:"nav-locations",icon:"pin_drop",label:"Emplacements",isCollapsed:n,isActive:d.startsWith("/locations"),onClick:()=>window.location.hash="#/locations"}),c.jsx(Jr,{id:"nav-audit",icon:"checklist",label:"Audit",isCollapsed:n,isActive:d.startsWith("/audit"),onClick:()=>window.location.hash="#/audit"}),c.jsx(Jr,{id:"nav-reports",icon:"summarize",label:"Rapports",isCollapsed:n,isActive:d.startsWith("/reports"),onClick:()=>window.location.hash="#/reports"})]}),f&&c.jsxs(c.Fragment,{children:[c.jsx(Jr,{id:"nav-team",icon:"group",label:"Mon équipe",isCollapsed:n,isActive:d.startsWith("/users"),onClick:()=>window.location.hash="#/users"}),c.jsx(Jr,{id:"nav-approvals",icon:"pending_actions",label:"Approbations",isCollapsed:n,isActive:d.startsWith("/pending-approvals"),onClick:()=>window.location.hash="#/pending-approvals",badgeCount:o})]}),!u&&!f&&c.jsx(c.Fragment,{children:c.jsx(Jr,{id:"nav-approvals",icon:"pending_actions",label:"Approbations",isCollapsed:n,isActive:d.startsWith("/pending-approvals"),onClick:()=>window.location.hash="#/pending-approvals",badgeCount:o})})]}),c.jsxs("div",{className:"mt-auto",children:[c.jsx("div",{className:"p-2",children:c.jsx(ti,{content:"Paramètres",align:"right",disabled:!n,children:c.jsxs("button",{onClick:a,className:`flex items-center w-full p-2 rounded-lg text-sm font-semibold transition-colors text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100 ${n?"justify-center":""}`,"aria-label":"Paramètres",children:[c.jsx("span",{className:`material-symbols-outlined pointer-events-none ${n?"":"mr-3"}`,children:"settings"}),!n&&c.jsx("span",{className:"pointer-events-none transition-opacity duration-200 whitespace-nowrap",children:"Paramètres"})]})})}),c.jsxs("div",{ref:y,className:"relative p-2",children:[p&&c.jsxs("div",{className:`absolute bottom-full mb-2 w-64 bg-white dark:bg-gray-800 rounded-xl shadow-lg ring-1 ring-black/5 dark:ring-white/10 p-2 animate-fade-in ${n?"left-1/2 -translate-x-1/2":"left-2"}`,style:{animationDuration:"150ms"},children:[c.jsxs("div",{className:"flex items-center gap-3 p-2",children:[c.jsx("img",{src:t.avatarUrl,alt:t.name,className:"size-10 rounded-full"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-sm text-gray-900 dark:text-gray-100",children:t.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.email})]})]}),c.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-600"}),c.jsx("a",{href:"#/profile",onClick:()=>h(!1),className:"block w-full text-left px-2 py-1.5 rounded-md text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Mon profil"}),c.jsx("button",{onClick:i,className:"block w-full text-left px-2 py-1.5 rounded-md text-sm text-status-danger-700 dark:text-status-danger-400 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Se déconnecter"}),c.jsx("hr",{className:"my-1 border-gray-200 dark:border-gray-600"}),c.jsxs("div",{className:"px-2 py-1 text-xs text-gray-400 dark:text-gray-500",children:[c.jsx("a",{href:"#",className:"hover:underline",children:"Confidentialité"})," • ",c.jsx("a",{href:"#",className:"hover:underline",children:"Termes"})]})]}),c.jsxs("button",{onClick:()=>h(x=>!x),className:`flex items-center w-full rounded-lg transition-colors p-2 ${p?"bg-gray-100 dark:bg-gray-700":"hover:bg-gray-100 dark:hover:bg-gray-700"} ${n?"justify-center":""}`,"aria-haspopup":"true","aria-expanded":p,"aria-label":"Menu utilisateur",children:[c.jsx("img",{src:t.avatarUrl,alt:t.name,className:"size-8 rounded-full flex-shrink-0"}),!n&&c.jsx("span",{className:"ml-3 font-semibold text-sm text-gray-700 dark:text-gray-300 truncate transition-opacity",children:t.name})]})]})]})]})},n7=[{id:"dashboard",icon:"grid_view",label:"Dashboard",hash:"#/dashboard"},{id:"inventory",icon:"devices",label:"Équipement",hash:"#/inventory"},{id:"users",icon:"group",label:"Utilisateurs",hash:"#/users"},{id:"pending-approvals",icon:"pending_actions",label:"Approbations",hash:"#/pending-approvals"}],r7=[{id:"dashboard",icon:"grid_view",label:"Dashboard",hash:"#/dashboard"},{id:"users",icon:"group",label:"Mon équipe",hash:"#/users"},{id:"pending-approvals",icon:"pending_actions",label:"Approbations",hash:"#/pending-approvals"}],a7=["management","locations","audit","reports"],i7=({activeHash:t,showFullNav:e,role:n,onMoreClick:r,pendingApprovalsCount:a=0})=>{const i=t.substring(1)||"/dashboard",o=n===Ne.ADMIN?n7:r7,u=n===Ne.ADMIN,f="relative flex flex-1 flex-col items-center justify-center gap-1 py-2 rounded-[var(--radius-card)] transition-colors min-w-[72px] focus-visible:outline-none focus-visible:ring-0",d="text-primary-700 dark:text-primary-200",p="text-gray-500 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700/70",h={scale:.94},y={scale:1.02},x={type:"spring",stiffness:320,damping:22},T=w=>w==="dashboard"?i.startsWith("/dashboard")||i==="/":w==="inventory"?i.startsWith("/inventory")||i.startsWith("/categories")||i.startsWith("/models"):w==="users"?i.startsWith("/users"):w==="pending-approvals"?i.startsWith("/pending-approvals"):w==="more"?a7.some(A=>i.startsWith(`/${A}`)):i.startsWith(`/${w}`);return e?c.jsx(Ke.footer,{className:"fixed bottom-0 left-0 right-0 z-10 lg:hidden",initial:{y:24,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:24},children:c.jsxs(Ke.div,{className:"flex items-stretch gap-1 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/95 px-2 py-2 backdrop-blur-sm shadow-[var(--shadow-elev-1)]",layout:!0,children:[o.map(w=>c.jsxs(Ke.button,{id:`mobile-nav-${w.id}`,onClick:()=>window.location.hash=w.hash,"aria-label":w.label,className:`${f} ${T(w.id)?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:w.icon}),c.jsx("span",{className:"text-xs font-medium",children:w.label}),w.id==="pending-approvals"&&a>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center rounded-full bg-red-600 text-white text-[10px] px-1.5 py-0.5 min-w-[18px]",children:a})]},w.id)),u&&c.jsxs(Ke.button,{onClick:r,"aria-label":"Plus",className:`${f} ${T("more")?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"more_horiz"}),c.jsx("span",{className:"text-xs font-medium",children:"Plus"})]})]})}):c.jsx(Ke.footer,{className:"fixed bottom-0 left-0 right-0 z-10 lg:hidden",initial:{y:24,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:180,damping:24},children:c.jsxs(Ke.div,{className:"flex items-stretch gap-1 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900/95 px-2 py-2 backdrop-blur-sm shadow-[var(--shadow-elev-1)]",layout:!0,children:[c.jsxs(Ke.button,{onClick:()=>window.location.hash="#/dashboard","aria-label":"Dashboard",className:`${f} ${T("dashboard")?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"grid_view"}),c.jsx("span",{className:"text-xs font-medium",children:"Dashboard"})]}),c.jsxs(Ke.button,{onClick:()=>window.location.hash="#/pending-approvals","aria-label":"Approbations",className:`${f} ${T("pending-approvals")?d:p}`,whileTap:h,whileHover:y,transition:x,children:[c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pending_actions"}),c.jsx("span",{className:"text-xs font-medium",children:"Approbations"}),a>0&&c.jsx("span",{className:"absolute top-1 right-1 inline-flex items-center justify-center rounded-full bg-red-600 text-white text-[10px] px-1.5 py-0.5 min-w-[18px]",children:a})]})]})})},Wt=({className:t})=>c.jsx("div",{className:`rounded-md animate-pulse bg-gradient-to-r from-secondary-100 via-secondary-50 to-secondary-100 dark:from-secondary-800 dark:via-secondary-700 dark:to-secondary-800 ${t}`}),s7=()=>c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{children:[c.jsx(Wt,{className:"h-8 w-48 mb-4 ml-4"}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[c.jsx(Wt,{className:"h-24 rounded-xl"}),c.jsx(Wt,{className:"h-24 rounded-xl"}),c.jsx(Wt,{className:"h-24 rounded-xl"}),c.jsx(Wt,{className:"h-24 rounded-xl"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsx(Wt,{className:"h-72 rounded-lg"}),c.jsx(Wt,{className:"h-72 rounded-lg"})]}),c.jsxs("div",{children:[c.jsx(Wt,{className:"h-8 w-40 mb-4 ml-4"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Wt,{className:"h-20 rounded-lg"}),c.jsx(Wt,{className:"h-20 rounded-lg"}),c.jsx(Wt,{className:"h-20 rounded-lg"})]})]})]}),o7=()=>c.jsx("div",{className:"space-y-3 px-4",children:[...Array(5)].map((t,e)=>c.jsxs("div",{className:"flex items-center gap-4 rounded-xl p-3 surface-card surface-card-gradient",children:[c.jsx(Wt,{className:"h-5 w-5 rounded flex-shrink-0"}),c.jsx(Wt,{className:"size-16 rounded-lg flex-shrink-0"}),c.jsxs("div",{className:"flex-1 overflow-hidden space-y-2",children:[c.jsx(Wt,{className:"h-5 w-3/4"}),c.jsx(Wt,{className:"h-4 w-1/2"}),c.jsx(Wt,{className:"h-3 w-1/3"})]}),c.jsx(Wt,{className:"h-6 w-24 rounded-full"}),c.jsx(Wt,{className:"size-8 rounded-full"})]},e))}),l7=()=>c.jsx("div",{className:"divide-y divide-secondary-100 dark:divide-secondary-800 surface-card overflow-hidden",children:[...Array(6)].map((t,e)=>c.jsxs("div",{className:"flex items-center gap-4 p-3",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[c.jsx(Wt,{className:"size-12 rounded-full flex-shrink-0"}),c.jsxs("div",{className:"flex flex-col justify-center space-y-2 flex-1",children:[c.jsx(Wt,{className:"h-5 w-1/2"}),c.jsx(Wt,{className:"h-4 w-1/3"})]})]}),c.jsx("div",{className:"shrink-0",children:c.jsx(Wt,{className:"size-6 rounded"})})]},e))});function Ws(t,e){const n=te.useRef(null);te.useEffect(()=>{var r;if(e){n.current=document.activeElement;const a=(r=t.current)==null?void 0:r.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(a&&a.length>0){const i=a[0],o=a[a.length-1];setTimeout(()=>i.focus(),50);const u=f=>{f.key!=="Escape"&&f.key==="Tab"&&(f.shiftKey?document.activeElement===i&&(o.focus(),f.preventDefault()):document.activeElement===o&&(i.focus(),f.preventDefault()))};return document.addEventListener("keydown",u),()=>{var f;document.removeEventListener("keydown",u),(f=n.current)==null||f.focus()}}}},[e,t])}const jt=({title:t,subtitle:e,onBack:n,children:r})=>c.jsxs("header",{className:"sticky top-0 z-40 flex h-auto min-h-16 flex-shrink-0 items-center justify-between gap-2 border-b border-gray-200 dark:border-gray-700 bg-white/85 dark:bg-gray-800/85 px-4 py-2 md:px-6 backdrop-blur-sm shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"flex flex-1 basis-0 items-center justify-start",children:n&&c.jsx("button",{onClick:n,className:"flex size-10 items-center justify-center rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700","aria-label":"Retour",children:c.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})})}),c.jsxs("div",{className:"flex flex-col items-center justify-center px-2 min-w-0 max-w-full text-center",children:[c.jsx("h1",{className:"text-balance text-center text-lg font-bold leading-tight text-gray-900 dark:text-gray-100",children:t}),e&&c.jsx("p",{className:"mt-0.5 text-balance text-center text-xs leading-snug text-gray-500 dark:text-gray-400",children:e})]}),c.jsx("div",{className:"flex flex-1 basis-0 justify-end items-center gap-2",children:r})]}),r3=({count:t,onCancel:e,onDelete:n})=>c.jsxs("header",{className:"sticky top-0 z-10 flex h-16 flex-shrink-0 items-center justify-between gap-2 border-b border-gray-700 bg-gray-900 text-white px-4 md:px-6 shadow-[var(--shadow-elev-2)]",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:e,className:"flex size-10 items-center justify-center rounded-full text-white hover:bg-gray-700","aria-label":"Annuler la sélection",children:c.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),c.jsx("span",{className:"text-xl font-bold",children:t})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("button",{onClick:n,className:"flex size-10 items-center justify-center rounded-full text-white hover:bg-gray-700","aria-label":"Supprimer la sélection",children:c.jsx("span",{className:"material-symbols-outlined",children:"delete"})})})]}),ba=({actions:t,hideOnMobile:e=!1})=>{const[n,r]=I.useState(!1),a=I.useRef(null);return I.useEffect(()=>{const i=o=>{a.current&&!a.current.contains(o.target)&&r(!1)};return n&&document.addEventListener("mousedown",i),()=>document.removeEventListener("mousedown",i)},[n]),Ws(a,n),I.useEffect(()=>{if(!n)return;const i=o=>{o.key==="Escape"&&r(!1)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[n]),!t||t.length===0?null:c.jsx("div",{className:`${e?"hidden lg:inline-flex":"inline-flex"}`,ref:a,children:c.jsxs("div",{className:"relative",children:[c.jsx("button",{type:"button",onClick:()=>r(i=>!i),className:"flex h-10 w-10 items-center justify-center rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700","aria-haspopup":"true","aria-expanded":n,"aria-label":"Plus d'options",children:c.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})}),n&&c.jsx("div",{className:"absolute top-full right-0 mt-2 w-56 origin-top-right rounded-[var(--radius-card)] bg-white dark:bg-gray-800 shadow-[var(--shadow-elev-3)] ring-1 ring-black/5 dark:ring-white/10 focus:outline-none z-20 animate-fade-in",style:{animationDuration:"100ms"},role:"menu","aria-orientation":"vertical",children:c.jsx("div",{className:"py-1",children:t.map((i,o)=>c.jsxs("button",{onClick:u=>{i.onClick(u),r(!1)},disabled:i.disabled,title:i.disabled?i.title:i.label,className:`w-full text-left flex items-center px-4 py-2 text-sm ${i.isDestructive?"text-status-danger-700 dark:text-status-danger-400":"text-gray-700 dark:text-gray-200"} hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed`,role:"menuitem",children:[c.jsx("span",{className:"material-symbols-outlined mr-3",children:i.icon}),i.label]},o))})})]})})},Nd=({children:t,contentClassName:e})=>c.jsx("footer",{className:"sticky bottom-0 z-10 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-4 border-t border-gray-200 dark:border-gray-700 lg:static",children:c.jsx("div",{className:`flex justify-end gap-4 ${e||"max-w-full"}`,children:t})}),Qo=({title:t,icon:e,children:n,className:r})=>c.jsxs("div",{className:`bg-white dark:bg-gray-800 p-4 rounded-[var(--radius-card)] shadow-[var(--shadow-elev-1)] ${r||""}`,children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:e}),t]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2",children:n})]}),ar=({label:t,value:e})=>{const n=(()=>{if(e==null)return"N/A";if(typeof e=="string"){const a=e.trim();return a.length>0?a:"N/A"}return e})(),r=typeof n=="string"||typeof n=="number";return c.jsxs("div",{className:"py-1",children:[c.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:t}),r?c.jsx("p",{className:"text-base text-gray-900 dark:text-gray-100",children:n}):c.jsx("div",{className:"text-base text-gray-900 dark:text-gray-100",children:n})]})},a3=({tabs:t,activeTab:e,onTabClick:n})=>c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 sticky top-0 z-10",children:c.jsx("nav",{className:"-mb-px flex space-x-4 px-4","aria-label":"Tabs",children:t.map(r=>{const a=e===r.id;return c.jsxs(Ke.button,{type:"button",onClick:()=>n(r.id),className:`relative flex items-center gap-2 whitespace-nowrap py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-transparent text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,"aria-current":a?"page":void 0,whileTap:{scale:.96},transition:{type:"spring",stiffness:320,damping:28},children:[r.icon&&c.jsx("span",{className:"material-symbols-outlined !text-base",children:r.icon}),c.jsx("span",{children:r.label}),a&&c.jsx(Ke.span,{layoutId:"tab-active-indicator",className:"absolute inset-x-0 bottom-0 h-[3px] rounded-full bg-primary-500 dark:bg-primary-400",transition:{type:"spring",stiffness:260,damping:24}})]},r.id)})})}),Ds=({id:t,imageUrl:e,imageShape:n="square",title:r,details:a,statusBadge:i,isSelected:o,onCardClick:u,selectionModeActive:f,onLongPress:d,onSelectToggle:p,actions:h,isPopoverOpen:y,onActionsClick:x,onMobileActionsClick:T,popoverRef:w,popoverPosition:A,footerActions:C,fullHeight:j})=>{const _=n==="round"?"size-12":"size-14",M=n==="round"?"rounded-full":"rounded-[var(--radius-card)]",N=`relative surface-card surface-card-gradient overflow-hidden border ${o?"border-primary-400 ring-2 ring-primary-200 dark:ring-primary-500/30":"border-transparent dark:border-transparent"} hover:-translate-y-0.5 transition-all duration-200 ${j?"h-full":""}`,k=I.useRef(null),P=I.useRef(!1),R=D=>{D.pointerType==="mouse"&&D.button!==0||!d||(P.current=!1,k.current=window.setTimeout(()=>{d(t),P.current=!0},500))},L=()=>{k.current&&clearTimeout(k.current)},U=D=>{if(P.current){D.preventDefault(),D.stopPropagation();return}u&&!f?u(t):f&&p&&p(D)},q=c.jsxs("div",{className:"flex items-center gap-3 w-full h-full p-2.5",children:[c.jsx("div",{className:`flex-shrink-0 flex items-center justify-center transition-all duration-300 ease-in-out ${f?"w-10":"w-0"}`,"aria-hidden":!f,onClick:D=>D.stopPropagation(),children:c.jsx("input",{type:"checkbox",checked:!!o,onChange:D=>p==null?void 0:p(D),className:`h-5 w-5 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500 cursor-pointer transition-opacity duration-150 ${f?"opacity-100":"opacity-0 pointer-events-none"}`,tabIndex:f?0:-1,"aria-label":`Sélectionner ${r}`})}),e&&c.jsx("div",{className:`flex-shrink-0 ${_} ${M} bg-gray-100 dark:bg-gray-700 overflow-hidden`,children:c.jsx("img",{src:e,alt:"",className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-semibold text-gray-800 dark:text-gray-100 truncate",children:r}),a&&a.length>0&&c.jsx("div",{className:"flex items-center gap-x-3 gap-y-1 flex-wrap text-sm text-gray-500 dark:text-gray-400 mt-1",children:a.map((D,$)=>D.text?c.jsxs("div",{className:"flex items-center gap-1.5",children:[D.icon&&c.jsx("span",{className:"material-symbols-outlined !text-base",children:D.icon}),c.jsx("span",{className:"truncate",children:D.text})]},$):null)})]}),c.jsxs("div",{className:"flex items-center gap-2 pl-2 min-w-0",children:[i&&c.jsx("div",{className:"min-w-0",children:i}),h&&x&&c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:D=>x(D,t),className:"hidden lg:flex size-8 items-center justify-center rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-haspopup":"true","aria-expanded":y,"aria-label":"Actions",children:c.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})}),c.jsx("button",{onClick:D=>T&&T(D,t),className:"flex lg:hidden size-8 items-center justify-center rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":"Actions",children:c.jsx("span",{className:"material-symbols-outlined",children:"more_vert"})}),c.jsx(Ys,{children:y&&w&&c.jsx(Ke.div,{ref:w,className:`absolute top-full right-0 mt-2 w-48 origin-top-right rounded-md bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black dark:ring-gray-700 ring-opacity-5 focus:outline-none z-10 ${A==="top"?"bottom-full top-auto mb-2":""}`,initial:{opacity:0,y:-8,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{opacity:0,y:-6,scale:.96,transition:{duration:.18}},children:c.jsx("div",{className:"py-1",role:"menu","aria-orientation":"vertical",children:h.map(D=>c.jsx(ti,{content:D.disabledTooltip||"",disabled:!D.disabled||!D.disabledTooltip,children:c.jsxs(Ke.button,{onClick:D.onClick,disabled:D.disabled,className:`w-full text-left flex items-center px-4 py-2 text-sm ${D.isDestructive?"text-red-600":"text-gray-700 dark:text-gray-200"} hover:bg-gray-100 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed`,role:"menuitem",whileTap:{scale:D.disabled?1:.97},whileHover:{scale:D.disabled?1:1.02},transition:{type:"spring",stiffness:320,damping:24},children:[c.jsx("span",{className:"material-symbols-outlined mr-3",children:D.icon}),D.label]})},D.label))})})})]})]})]});return c.jsxs("div",{className:N,children:[c.jsx("div",{className:`${u?"cursor-pointer":""} ${C?"":"h-full"}`,onClick:U,onPointerDown:R,onPointerUp:L,onPointerLeave:L,children:q}),C&&c.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 border-t border-gray-200 dark:border-gray-700",children:C})]})},nh=({actions:t,id:e,mainIcon:n,className:r=""})=>{const[a,i]=I.useState(!1),o=I.useRef(null);if(I.useEffect(()=>{const d=p=>{o.current&&!o.current.contains(p.target)&&i(!1)};return a&&document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[a]),!t||t.length===0)return null;const u=t.length>1,f=t[0];return c.jsxs("div",{ref:o,className:`fixed bottom-24 right-4 z-20 flex flex-col items-end ${r}`,children:[c.jsx(Ys,{children:a&&u&&c.jsx(Ke.div,{initial:{opacity:0,y:12,scale:.95},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:20}},exit:{opacity:0,y:12,scale:.95,transition:{duration:.15}},className:"mb-4 bg-white dark:bg-gray-800 rounded-xl shadow-2xl ring-1 ring-black/5 dark:ring-white/10 w-64 backdrop-blur",children:c.jsx("div",{className:"p-2",children:t.map(d=>c.jsxs(Ke.button,{onClick:p=>{d.onClick(p),i(!1)},className:"w-full flex items-center gap-4 text-left p-3 rounded-lg text-sm font-semibold text-gray-800 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":d.label,whileTap:{scale:.98},whileHover:{scale:1.01},children:[c.jsx("span",{className:"material-symbols-outlined text-gray-600 dark:text-gray-400",children:d.icon}),c.jsx("span",{children:d.label})]},d.label))})},"fab-menu")}),c.jsx(Ke.button,{id:e,onClick:u?()=>i(d=>!d):f.onClick,className:`flex items-center justify-center size-16 rounded-full shadow-lg transition-colors duration-200 ${a?"bg-primary-600":"bg-primary-500 hover:bg-primary-600"}`,"aria-haspopup":u,"aria-expanded":a,whileTap:{scale:.92},animate:{rotate:a?45:0,scale:a?1.05:1,transition:{type:"spring",stiffness:260,damping:18}},children:c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-900",children:n||f.icon})})]})},Xs=({title:t,subtitle:e,children:n,className:r="",onShowMore:a})=>c.jsxs("div",{className:`surface-card surface-card-gradient flex flex-col h-full p-5 ${r}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-4 flex-shrink-0",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 tracking-tight",children:t}),e&&c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-300",children:e})]}),a&&c.jsx("button",{type:"button",onClick:a,"aria-label":"Voir plus",className:"inline-flex items-center justify-center size-9 rounded-full text-primary-600 dark:text-primary-300 hover:text-primary-700 dark:hover:text-primary-200 transition-colors",children:c.jsx("span",{className:"material-symbols-outlined text-lg",children:"open_in_new"})})]}),c.jsx("div",{className:"flex-grow overflow-hidden",children:n})]}),u7=({count:t,onClick:e})=>c.jsxs("button",{type:"button",onClick:e,className:"group relative w-full overflow-hidden text-left surface-card surface-card-gradient p-4 transition-all hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"absolute left-0 top-0 h-full w-1.5 bg-gradient-to-b from-primary-400 to-status-warning-400"}),c.jsxs("div",{className:"ml-4 flex items-center gap-4",children:[c.jsx("div",{className:"flex shrink-0 items-center justify-center size-12 rounded-full bg-status-warning-200/80 dark:bg-status-warning-900/50 backdrop-blur",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-status-warning-800 dark:text-status-warning-300",children:"pending_actions"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Approbations en attente"}),c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:[t," article(s) requiert/requièrent votre attention."]})]}),c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-200 transition-transform group-hover:translate-x-1",children:"chevron_right"})]})]}),c7=({equipment:t})=>{const e=t.filter(i=>i.status===De.ASSIGNED).length,n=t.filter(i=>i.status===De.AVAILABLE).length,r=t.filter(i=>i.status===De.IN_REPAIR).length,a=t.filter(i=>i.status===De.PENDING_VALIDATION).length;return c.jsx(Xs,{title:"Statut des équipements",children:c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"Attribué"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:e})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"Disponible"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:n})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"En attente"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:a})]}),c.jsxs("div",{className:"flex flex-col items-center justify-center gap-1 rounded-lg bg-transparent p-3 text-center",children:[c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm font-medium leading-normal",children:"En réparation"}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-3xl font-semibold",children:r})]})]})})},d7=({equipment:t,models:e,categories:n,onCategoryClick:r,onShowMore:a,chartType:i,onChartTypeChange:o})=>{const{data:u,total:f}=I.useMemo(()=>{const T={},w=new Map(e.map(M=>[M.id,M.categoryId]));for(const M of t){const N=w.get(M.modelId);N&&(T[N]=(T[N]||0)+1)}const A=Object.values(T).reduce((M,N)=>M+N,0),C=Object.entries(T).map(([M,N])=>({category:n.find(k=>k.id===M),count:N,percentage:A>0?N/A*100:0})).filter(M=>!!M.category).sort((M,N)=>N.count-M.count),j=5;let _=C;if(C.length>j){const M=C.slice(0,j),N=C.slice(j),k=N.reduce((L,U)=>L+U.count,0),P=N.reduce((L,U)=>L+U.percentage,0),R={category:{id:"other",name:"Autres",icon:"devices_other"},count:k,percentage:P};_=[...M,R]}return{data:_,total:A}},[t,e,n]),d=["#FFCA18","#6366F1","#10B981","#F97316","#EF4444","#8B5CF6"],p=()=>i==="bar"?"donut_small":i==="donut"?"view_list":"bar_chart",h=()=>c.jsx("div",{className:"space-y-3 pr-2 h-full overflow-y-auto",children:u.map((T,w)=>c.jsxs("div",{onClick:()=>T.category.id!=="other"&&r(T.category.id),onKeyDown:A=>{(A.key==="Enter"||A.key===" ")&&T.category.id!=="other"&&r(T.category.id)},role:"button",tabIndex:T.category.id!=="other"?0:-1,className:`w-full text-left group rounded-md p-1 ${T.category.id!=="other"?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50":"cursor-default"}`,"aria-label":`${T.category.name}: ${T.count} articles, ${T.percentage.toFixed(0)}%`,children:[c.jsxs("div",{className:"flex justify-between items-center mb-1 text-sm",children:[c.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:T.category.name}),c.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:[T.count," (",T.percentage.toFixed(0),"%)"]})]}),c.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:c.jsx("div",{className:"h-2.5 rounded-full transition-all duration-500 ease-out",style:{width:`${T.percentage}%`,backgroundColor:d[w%d.length]}})})]},T.category.id))}),y=()=>{const C=2*Math.PI*55;let j=0;return c.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[c.jsxs("div",{className:"relative w-48 h-48",children:[c.jsxs("svg",{viewBox:"0 0 200 200",className:"transform -rotate-90",children:[c.jsx("circle",{cx:"100",cy:"100",r:55,fill:"none",stroke:"#e5e7eb",strokeWidth:25,className:"dark:stroke-gray-700"}),u.map((_,M)=>{const N=_.percentage/100*C,k=j/100*C;return j+=_.percentage,c.jsx("circle",{cx:"100",cy:"100",r:55,fill:"none",stroke:d[M%d.length],strokeWidth:25,strokeDasharray:`${N} ${C}`,strokeDashoffset:-k,className:"transition-all duration-500 ease-out"},_.category.id)})]}),c.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[c.jsx("span",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:f}),c.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"articles"})]})]}),c.jsx("div",{className:"mt-2 grid grid-cols-2 gap-x-6 gap-y-2 w-full px-4 text-sm",children:u.map((_,M)=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center min-w-0",children:[c.jsx("span",{className:"size-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:d[M%d.length]}}),c.jsx("span",{className:"text-gray-700 dark:text-gray-300 truncate",children:_.category.name})]}),c.jsxs("span",{className:"font-medium text-gray-600 dark:text-gray-400 flex-shrink-0",children:[_.count," (",_.percentage.toFixed(0),"%)"]})]},_.category.id))})]})},x=()=>c.jsx("div",{className:"space-y-2 pr-2 h-full overflow-y-auto",children:u.map((T,w)=>c.jsxs("div",{onClick:()=>T.category.id!=="other"&&r(T.category.id),className:`flex justify-between items-center p-2 rounded-md ${T.category.id!=="other"?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50":"cursor-default"}`,children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("span",{className:"size-2 rounded-full mr-3",style:{backgroundColor:d[w%d.length]}}),c.jsx("span",{className:"font-medium text-gray-800 dark:text-gray-200",children:T.category.name})]}),c.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[T.count," (",T.percentage.toFixed(0),"%)"]})]},T.category.id))});return c.jsx(Xs,{title:"Équipements par catégorie",subtitle:`(${f} articles)`,className:"h-full",onShowMore:a,children:u.length===0?c.jsx("div",{className:"flex-grow flex items-center justify-center text-gray-500 dark:text-gray-400 h-full",children:"Aucun équipement à afficher."}):c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsxs("div",{className:"flex-grow min-h-0 animate-fade-in",children:[i==="bar"&&h(),i==="donut"&&y(),i==="list"&&x()]},i),c.jsx("div",{className:"flex-shrink-0 pt-4",children:c.jsx(ti,{content:"Changer le type de graphique",align:"right",children:c.jsx("button",{onClick:o,className:"flex items-center justify-center size-8 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":"Changer le type de graphique",children:c.jsx("span",{className:"material-symbols-outlined !text-base",children:p()})})})})]})})},f7=({equipment:t,models:e,onSelectEquipment:n,onShowMore:r})=>{const a=I.useMemo(()=>{const u=new Date,f=new Date;return f.setDate(u.getDate()+30),t.filter(d=>d.warrantyEndDate).map(d=>({...d,warrantyEndDate:new Date(d.warrantyEndDate)})).filter(d=>d.warrantyEndDate>u&&d.warrantyEndDate<=f).sort((d,p)=>d.warrantyEndDate.getTime()-p.warrantyEndDate.getTime())},[t]),i=new Map(e.map(u=>[u.id,u])),o=new Date;return c.jsx(Xs,{title:"Garanties expirant bientôt",onShowMore:r,children:a.length===0?c.jsx("div",{className:"flex-grow flex items-center justify-center text-gray-500 dark:text-gray-400 h-full",children:"Aucune garantie n'expire bientôt."}):c.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 max-h-40",children:a.map(u=>{var p;const f=Math.ceil((u.warrantyEndDate.getTime()-o.getTime())/864e5),d=f<=7;return c.jsxs("button",{type:"button",onClick:()=>n(u.id),className:"w-full text-left flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.jsx("div",{className:`flex items-center justify-center size-10 rounded-full ${d?"bg-status-danger-100 dark:bg-status-danger-900/50":"bg-status-warning-100 dark:bg-status-warning-900/50"}`,children:c.jsx("span",{className:`material-symbols-outlined ${d?"text-status-danger-700 dark:text-status-danger-400":"text-status-warning-700 dark:text-status-warning-400"}`,children:"shield"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm text-gray-800 dark:text-gray-200",children:(p=i.get(u.modelId))==null?void 0:p.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:u.assetTag})]}),c.jsxs("div",{className:`text-sm font-semibold ${d?"text-status-danger-700 dark:text-status-danger-400":"text-status-warning-700 dark:text-status-warning-400"}`,children:[f," jours"]})]},u.id)})})})},m7=({equipment:t,models:e,onSelectEquipment:n,onShowMore:r})=>{const a=I.useMemo(()=>t.filter(o=>o.status===De.IN_REPAIR),[t]),i=new Map(e.map(o=>[o.id,o]));return c.jsx(Xs,{title:"Articles en réparation",subtitle:`(${a.length} articles)`,onShowMore:r,children:a.length===0?c.jsx("div",{className:"flex-grow flex items-center justify-center text-gray-500 dark:text-gray-400 h-full",children:"Aucun article en réparation."}):c.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 max-h-40",children:a.map(o=>{var u;return c.jsxs("button",{type:"button",onClick:()=>n(o.id),className:"w-full text-left flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-status-warning-100 dark:bg-status-warning-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-status-warning-700 dark:text-status-warning-400",children:"build"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-sm text-gray-800 dark:text-gray-200",children:(u=i.get(o.modelId))==null?void 0:u.name}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:o.assetTag})]})]},o.id)})})})},p7=({teamMembers:t,assignments:e,equipment:n,models:r,categories:a,onSelectUser:i,onShowMore:o})=>{const u=new Map(n.map(h=>[h.id,h])),f=new Map(r.map(h=>[h.id,h])),d=new Map(a.map(h=>[h.id,h])),p=h=>{const y=new Map;for(const x of e){if(x.userId!==h)continue;const T=y.get(x.equipmentId);(!T||new Date(x.date)>new Date(T.date))&&y.set(x.equipmentId,x)}return Array.from(y.values()).filter(x=>x.action===ze.ASSIGN&&x.status===Bt.APPROVED).map(x=>u.get(x.equipmentId)).filter(x=>x!==void 0)};return c.jsx(Xs,{title:"Mon équipe",onShowMore:o,children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(h=>{const y=p(h.id);return c.jsxs("button",{type:"button",onClick:()=>i(h.id),className:"w-full text-left bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 cursor-pointer hover:ring-2 hover:ring-primary-300 dark:hover:ring-primary-500 transition-all border border-gray-200 dark:border-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[c.jsx("img",{src:h.avatarUrl,alt:h.name,className:"size-12 rounded-full"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-100",children:h.name}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h.department})]})]}),c.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:[c.jsx("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2",children:"Équipement attribué"}),y.length>0?c.jsx("ul",{className:"space-y-2",children:y.map(x=>{const T=f.get(x.modelId),w=T?d.get(T.categoryId):null;return c.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300",children:[c.jsx("span",{className:"material-symbols-outlined text-base text-gray-400 dark:text-gray-500",children:(w==null?void 0:w.icon)||"devices"}),c.jsx("span",{children:(T==null?void 0:T.name)||x.assetTag})]},x.id)})}):c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:"Aucun équipement attribué."})]})]},h.id)})})})},h7=({currentUser:t,assignments:e,auditLog:n,users:r,equipment:a,models:i,categories:o,onShowMore:u})=>{const f=I.useMemo(()=>new Map(r.map(A=>[A.id,A])),[r]),d=I.useMemo(()=>new Map(r.map(A=>[A.name,A])),[r]),p=I.useMemo(()=>new Map(a.map(A=>[A.id,A])),[a]),h=I.useMemo(()=>new Map(i.map(A=>[A.id,A])),[i]),y=I.useMemo(()=>{const A=e.map(M=>{const N=r.find(L=>L.role===Ne.ADMIN),k=f.get(M.userId),P=p.get(M.equipmentId),R=P?h.get(P.modelId):null;return{id:`assign-${M.id}`,date:new Date(M.date),actor:N,type:M.action===ze.ASSIGN?"ASSIGN":"RETURN",targetUser:k,targetName:(R==null?void 0:R.name)||"équipement",targetId:P==null?void 0:P.id,targetType:"equipment"}}),C=n.map(M=>{const N=d.get(M.user);let k=null,P;if(M.entityType==="equipment"){const R=a.find(L=>L.assetTag&&M.entityName.includes(L.assetTag));if(R){k=R.id;const L=e.filter(U=>U.equipmentId===R.id&&U.action===ze.ASSIGN&&U.status===Bt.APPROVED).sort((U,q)=>new Date(q.date).getTime()-new Date(U.date).getTime())[0];L&&(P=f.get(L.userId))}}else if(M.entityType==="user"){const R=r.find(L=>L.name===M.entityName);R&&(k=R.id,P=R)}else if(M.entityType==="category"){const R=o.find(L=>L.name===M.entityName);R&&(k=R.id)}else if(M.entityType==="model"){const R=i.find(L=>L.name===M.entityName);R&&(k=R.id)}return{id:`audit-${M.id}`,date:new Date(M.timestamp),actor:N,type:M.action.toUpperCase(),targetUser:P,targetName:M.entityName,targetId:k,targetType:M.entityType}});return[...A,...C].filter(M=>{var N,k;if(!M.actor)return!1;if(t.role===Ne.ADMIN)return!0;if(t.role===Ne.MANAGER){const P=((N=M.targetUser)==null?void 0:N.managerId)===t.id;return M.actor.id===t.id||P||M.targetType!=="equipment"&&M.targetType!=="user"}return t.role===Ne.EMPLOYEE?((k=M.targetUser)==null?void 0:k.id)===t.id:!1}).sort((M,N)=>N.date.getTime()-M.date.getTime()).slice(0,4)},[e,n,r,a,i,t,f,d,p,h,o]),x=A=>{if(!A.targetId)return;let C="";switch(A.targetType){case"equipment":C=`#/equipment/${A.targetId}`;break;case"user":C=`#/users/${A.targetId}`;break;case"category":C=`#/categories/${A.targetId}`;break;case"model":C=`#/models/${A.targetId}`;break;default:return}window.location.hash=C},T=A=>{switch(A){case"ASSIGN":return{icon:"person_add",color:"primary",isPrimary:!0};case"RETURN":return{icon:"undo",color:"action",isPrimary:!1};case"CREATE":return{icon:"add_circle",color:"success",isPrimary:!1};case"UPDATE":return{icon:"edit",color:"info",isPrimary:!1};case"DELETE":return{icon:"delete",color:"danger",isPrimary:!1};default:return{icon:"info",color:"gray",isPrimary:!1}}},w=A=>{const C=t.id===A.actor.id,j=C?"Vous":A.actor.name,_=c.jsx("span",{className:"font-bold",children:j}),M=C?"avez":"a",N=c.jsx("span",{className:"font-bold",children:A.targetName});switch(A.type){case"ASSIGN":const k=A.targetUser?A.targetUser.name:"un utilisateur",P=c.jsx("span",{className:"font-bold",children:k});return c.jsxs(c.Fragment,{children:[_," ",M," attribué ",N," à ",P,"."]});case"RETURN":const R=A.targetUser?A.targetUser.name:"un utilisateur",L=c.jsx("span",{className:"font-bold",children:R});return c.jsxs(c.Fragment,{children:[_," ",M," enregistré le retour de ",N," par ",L,"."]});case"CREATE":return c.jsxs(c.Fragment,{children:[_," ",M," créé ",A.targetType," ",N,"."]});case"UPDATE":return c.jsxs(c.Fragment,{children:[_," ",M," mis à jour ",A.targetType," ",N,"."]});case"DELETE":return c.jsxs(c.Fragment,{children:[_," ",M," supprimé ",A.targetType," ",N,"."]});default:return"Activité inconnue."}};return c.jsx(Xs,{title:"Activité récente",onShowMore:u,children:c.jsxs("div",{className:"relative pl-4 pt-2",children:[c.jsx("div",{className:"absolute left-8 top-5 bottom-5 w-1 rounded-full bg-gradient-to-b from-primary-200/50 via-secondary-200/30 to-transparent dark:from-primary-500/30 dark:via-secondary-500/20 dark:to-transparent"}),c.jsx("ul",{className:"space-y-3",children:y.length>0?y.map(A=>{const{icon:C,color:j,isPrimary:_}=T(A.type);let M,N;return j==="gray"?(M="bg-gray-100 dark:bg-gray-700",N="text-gray-500 dark:text-gray-400"):_?(M="bg-primary-100 dark:bg-primary-900/50",N="text-primary-600 dark:text-primary-400"):(M=`bg-status-${j}-100 dark:bg-status-${j}-900/50`,N=`text-status-${j}-600 dark:text-status-${j}-400`),c.jsx("li",{children:c.jsxs("button",{type:"button",onClick:()=>x(A),disabled:!A.targetId,className:"group w-full text-left relative flex items-start gap-4 p-3 -m-2 rounded-xl transition-all duration-300 ease-[var(--ease-fluid)] hover:bg-white/60 dark:hover:bg-gray-800/60 hover:backdrop-blur-sm hover:shadow-[var(--shadow-elev-1)] hover:-translate-y-0.5 disabled:cursor-not-allowed disabled:hover:bg-transparent dark:disabled:hover:bg-transparent disabled:hover:transform-none","aria-label":`Voir les détails de: ${A.targetName}`,children:[c.jsx("div",{className:"absolute left-2 top-3 flex items-center",children:c.jsxs("div",{className:"relative",children:[c.jsx("img",{src:A.actor.avatarUrl,alt:A.actor.name,className:"size-10 rounded-full ring-4 ring-white dark:ring-gray-800 shadow-[var(--shadow-elev-1)] transition-transform duration-300 group-hover:scale-105"}),c.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 flex items-center justify-center size-6 rounded-full ${M} ring-2 ring-white dark:ring-gray-800 shadow-sm transition-transform duration-300 group-hover:scale-110`,children:c.jsx("span",{className:`material-symbols-outlined !text-sm ${N}`,children:C})})]})}),c.jsxs("div",{className:"ml-14 pt-1 min-h-[4rem] flex-1",children:[c.jsx("p",{className:"text-sm leading-relaxed text-gray-800 dark:text-gray-200 font-medium",children:w(A)}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs text-gray-400 dark:text-gray-500",children:"schedule"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(A.date).toLocaleString("fr-FR",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]})]})]})},A.id)}):c.jsxs("li",{className:"relative flex items-start gap-4 p-4 rounded-xl bg-gray-50/50 dark:bg-gray-800/30 border border-gray-200/50 dark:border-gray-700/50",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-gray-100 dark:bg-gray-700",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-400 dark:text-gray-500",children:"inbox"})}),c.jsxs("div",{className:"flex-1 pt-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucune activité récente"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Les événements apparaîtront ici"})]})]})})]})})},g7=({onAssign:t,onReturn:e})=>c.jsx(Xs,{title:"Actions rapides",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{onClick:t,className:"flex flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 p-4 transition-colors hover:bg-primary-50 dark:hover:bg-primary-500/10",children:[c.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900/50 text-primary-800 dark:text-primary-300",children:c.jsx("span",{className:"material-symbols-outlined text-3xl",children:"person_add"})}),c.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:"Attribuer"})]}),c.jsxs("button",{onClick:e,className:"flex flex-col items-center justify-center gap-2 rounded-lg bg-gray-50 dark:bg-gray-700/50 p-4 transition-colors hover:bg-status-action-50 dark:hover:bg-status-action-500/10",children:[c.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-status-action-100 dark:bg-status-action-900/50 text-status-action-700 dark:text-status-action-300",children:c.jsx("span",{className:"material-symbols-outlined text-3xl",children:"undo"})}),c.jsx("p",{className:"text-sm font-bold text-gray-800 dark:text-gray-200",children:"Retourner"})]})]})}),y7=t=>{const{currentUser:e,assignments:n,equipment:r,users:a,models:i,categories:o,auditLog:u,onShowPendingApprovals:f,isLoading:d,onOpenSettings:p}=t,[h,y]=I.useState(!1),[x,T]=I.useState([]),[w,A]=I.useState(null),[C,j]=I.useState(null),_=I.useRef(null),M=I.useRef(null),[N,k]=I.useState(!1),P=I.useRef(null),[R,L]=I.useState("bar"),U=I.useRef(null);I.useRef(null);const q=I.useRef(null),D=I.useRef(null),$=I.useRef("");I.useEffect(()=>{const ne=ve=>{P.current&&!P.current.contains(ve.target)&&k(!1)};return N&&document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[N]);const H=I.useCallback(()=>k(!1),[]),J=I.useCallback(ne=>{T(ne),localStorage.setItem(`dashboardConfig_${e.id}`,JSON.stringify(ne)),U.current=ne},[e.id]),B=I.useCallback(()=>{U.current=x,y(!0),A(null),j(null),H()},[x,H]),K=I.useCallback(()=>{U.current&&U.current.length>0&&T(U.current),y(!1),A(null),j(null),H()},[H]),W=I.useCallback(()=>{J(x),y(!1),A(null),j(null),H()},[x,J,H]);I.useEffect(()=>{const ne=localStorage.getItem(`categoryChartType_${e.id}`);(ne==="bar"||ne==="donut"||ne==="list")&&L(ne)},[e.id]);const re=I.useCallback(()=>{const ne=["bar","donut","list"];L(ve=>{const we=ne.indexOf(ve),Ee=ne[(we+1)%ne.length];return localStorage.setItem(`categoryChartType_${e.id}`,Ee),Ee})},[e.id]),X=I.useMemo(()=>e.role!==Ne.MANAGER?[]:a.filter(ne=>ne.managerId===e.id),[e.role,a]),V=I.useMemo(()=>n.filter(ne=>{const ve=r.find(we=>we.id===ne.equipmentId);if((ve==null?void 0:ve.status)!==De.PENDING_VALIDATION||ne.status!==Bt.PENDING||!ne.validation)return!1;if(ne.action===ze.ASSIGN){if(e.id===ne.managerId&&!ne.validation.manager||e.id===ne.userId&&ne.validation.manager&&!ne.validation.user)return!0}else if(e.id===ne.userId&&!ne.validation.user||e.id===ne.managerId&&ne.validation.user&&!ne.validation.manager)return!0;return!1}).length,[n,r,e]),z=I.useMemo(()=>[{component:c7,props:{equipment:r},roles:[Ne.ADMIN],className:"col-span-1 md:col-span-2"},{component:g7,props:{onAssign:()=>window.location.hash="#/assign",onReturn:()=>window.location.hash="#/return"},roles:[Ne.ADMIN],className:"col-span-1"},{component:d7,props:{equipment:r,models:i,categories:o,onCategoryClick:ne=>window.location.hash=`#/inventory?category=${ne}`,onShowMore:()=>window.location.hash="#/management",chartType:R,onChartTypeChange:re},roles:[Ne.ADMIN,Ne.MANAGER],className:"col-span-1 md:col-span-2 lg:col-span-1"},{component:f7,props:{equipment:r,models:i,onSelectEquipment:ne=>window.location.hash=`#/equipment/${ne}`,onShowMore:()=>window.location.hash="#/inventory"},roles:[Ne.ADMIN,Ne.MANAGER],className:"col-span-1 md:col-span-2 lg:col-span-1"},{component:m7,props:{equipment:r,models:i,onSelectEquipment:ne=>window.location.hash=`#/equipment/${ne}`,onShowMore:()=>window.location.hash="#/inventory"},roles:[Ne.ADMIN,Ne.MANAGER],className:"col-span-1 md:col-span-2 lg:col-span-1"},{component:p7,props:{teamMembers:X,assignments:n,equipment:r,models:i,categories:o,onSelectUser:ne=>window.location.hash=`#/users/${ne}`,onShowMore:()=>window.location.hash="#/users"},roles:[Ne.MANAGER],className:"col-span-1 md:col-span-3"},{component:h7,props:{currentUser:e,assignments:n,auditLog:u,users:a,equipment:r,models:i,categories:o,onShowMore:()=>{}},roles:[Ne.ADMIN,Ne.MANAGER,Ne.EMPLOYEE],className:"col-span-1 md:col-span-3"}],[r,i,o,R,re,X,n,e,u,a]),Y=I.useCallback(ne=>ne.component.name,[]);I.useEffect(()=>{const ne=`dashboardConfig_${e.id}`;let ve=null;try{const me=localStorage.getItem(ne);me&&(ve=JSON.parse(me))}catch(me){console.error("Failed to parse dashboard config:",me)}const we=z.filter(me=>me.roles.includes(e.role)),Ee=we.map(Y);if(ve&&Array.isArray(ve)){const me=ve.filter(Pt=>Ee.includes(Pt.id)),Me=we.filter(Pt=>!me.some(at=>at.id===Y(Pt))),pn=[...[...me,...Me.map(Pt=>({id:Y(Pt),visible:!0}))]].sort((Pt,at)=>{const $t=(ve==null?void 0:ve.findIndex(gn=>gn.id===Pt.id))??-1,hn=(ve==null?void 0:ve.findIndex(gn=>gn.id===at.id))??-1;return $t===-1&&hn===-1?0:$t===-1?1:hn===-1?-1:$t-hn});U.current=pn,T(pn)}else{const me=we.map(Me=>({id:Y(Me),visible:!0}));U.current=me,T(me)}},[e.id,e.role,z,Y]);const ee=I.useMemo(()=>x.map(ne=>{const ve=z.find(we=>Y(we)===ne.id);return ve?{config:ne,widget:ve}:null}).filter(ne=>ne!==null),[x,z,Y]),le=I.useMemo(()=>ee.filter(({config:ne})=>ne.visible),[ee]),xe=h?ee:le,Te=ne=>{const ve=x.map(we=>we.id===ne?{...we,visible:!we.visible}:we);T(ve)},_e=(ne,ve)=>{if(A(ve),j(ve),ne.dataTransfer.effectAllowed="move",ne.dataTransfer.setData("text/html",ve),ne.dataTransfer.setDragImage&&ne.currentTarget){const we=ne.currentTarget.cloneNode(!0);we.style.opacity="0.5",ne.dataTransfer.setDragImage(ne.currentTarget,0,0)}},ce=(ne,ve)=>{if(!ne||!ve||ne===ve)return;const we=le.map(({widget:Pt})=>Y(Pt)),Ee=we.indexOf(ne),me=we.indexOf(ve);if(Ee===-1||me===-1)return;const Me=[...we],[kt]=Me.splice(Ee,1);Me.splice(me,0,kt);const pn=[...x].sort((Pt,at)=>{const $t=Me.indexOf(Pt.id),hn=Me.indexOf(at.id);return $t===-1&&hn===-1?0:$t===-1?1:hn===-1?-1:$t-hn});T(pn)},Ce=(ne,ve)=>{ne.preventDefault(),ne.dataTransfer.dropEffect="move",C!==ve&&j(ve)},G=(ne,ve)=>{ne.preventDefault(),w&&(ce(w,ve),A(null),j(null),"vibrate"in navigator&&navigator.vibrate(50))},Z=ne=>{const ve=ne.getBoundingClientRect(),we=document.createElement("div");we.className="pointer-events-none fixed inset-0 z-[60] flex items-center justify-center";const Ee=ne.cloneNode(!0);Ee.style.width=`${ve.width}px`,Ee.style.height=`${ve.height}px`,Ee.style.opacity="0.92",Ee.style.boxShadow="0 35px 60px -15px rgba(15, 23, 42, 0.45)",Ee.style.borderRadius="1rem",Ee.style.overflow="hidden",Ee.classList.add("bg-white","dark:bg-gray-800"),Ee.style.transform="scale(1.02)",Ee.style.pointerEvents="none";const me=document.createElement("div");return me.style.position="absolute",me.style.left=`${ve.left}px`,me.style.top=`${ve.top}px`,me.style.width=`${ve.width}px`,me.style.height=`${ve.height}px`,me.style.transform="translate(-50%, -50%)",me.appendChild(Ee),we.appendChild(me),document.body.appendChild(we),q.current=we,$.current=document.body.style.overflow,document.body.style.overflow="hidden",me},de=ne=>{const ve=q.current;if(!ve)return;const we=ve.firstElementChild;we&&(we.style.left=`${ne.clientX}px`,we.style.top=`${ne.clientY}px`)},Se=ne=>{const ve=document.scrollingElement||document.documentElement,we=80,Ee=20;D.current&&(window.clearInterval(D.current),D.current=null),ne.clientY<we?D.current=window.setInterval(()=>{ve.scrollBy({top:-Ee,behavior:"auto"})},16):window.innerHeight-ne.clientY<we&&(D.current=window.setInterval(()=>{ve.scrollBy({top:Ee,behavior:"auto"})},16))},Oe=()=>{D.current&&(window.clearInterval(D.current),D.current=null)},$e=()=>{Oe(),q.current&&(q.current.remove(),q.current=null),document.body.style.overflow=$.current,$.current=""},Je=(ne,ve)=>{if(_.current=ne,M.current=ne,A(ne),j(ne),"vibrate"in navigator&&navigator.vibrate(30),ve){const we=ve.querySelector("[data-widget-content]");we&&Z(we)}},vt=ne=>{if(!_.current)return;const ve=ne.touches[0];if(!ve)return;const{clientX:we,clientY:Ee}=ve;de({clientX:we,clientY:Ee}),Se({clientY:Ee});const me=document.elementFromPoint(we,Ee),Me=me==null?void 0:me.closest("[data-widget-id]");if(Me!=null&&Me.dataset.widgetId){const kt=Me.dataset.widgetId;M.current!==kt&&(M.current=kt,j(kt),"vibrate"in navigator&&navigator.vibrate(10))}},It=()=>{$e();const ne=_.current,ve=M.current;ne&&ve&&(ce(ne,ve),"vibrate"in navigator&&navigator.vibrate([30,20,30])),_.current=null,M.current=null,A(null),j(null)};I.useEffect(()=>()=>{$e()},[]);const Qt=()=>{A(null),j(null)};if(d)return c.jsx(s7,{});const Gn=h?[{label:"Annuler",icon:"close",onClick:()=>K()},{label:"Sauvegarder",icon:"check",onClick:()=>W()}]:[{label:"Réorganiser",icon:"edit",onClick:()=>B()},{label:"Paramètres",icon:"settings",onClick:p}];return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[c.jsx(jt,{title:"Tableau de bord",subtitle:`Bienvenue, ${e.name}`,children:c.jsx(ba,{actions:Gn})}),c.jsxs("main",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-24 md:p-6 space-y-6",children:[h&&c.jsx("div",{className:"surface-card surface-card-gradient rounded-2xl p-4 border-l-4 border-primary-500 shadow-lg animate-in fade-in slide-in-from-top-2 duration-300",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-full bg-primary-100 dark:bg-primary-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-300",children:"info"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Mode réorganisation"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Glissez-déposez les widgets pour les réorganiser. Cliquez sur l'icône œil pour les masquer/afficher."})]})]})}),V>0&&c.jsx(u7,{count:V,onClick:f}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:xe.map(({config:ne,widget:ve})=>{const we=ve.component,Ee=Y(ve),me=ne.visible;return c.jsxs("div",{draggable:h&&ne.visible,onDragStart:Me=>_e(Me,Ee),onDragOver:Me=>Ce(Me,Ee),onDrop:Me=>G(Me,Ee),onDragEnd:Qt,"data-widget-id":Ee,className:`${ve.className} transition-all duration-300 ${h?"relative rounded-xl p-1 touch-none cursor-grab":""} ${w===Ee?"opacity-30 scale-95 cursor-grabbing":""} ${C===Ee&&w!==Ee&&h?"ring-4 ring-primary-400 ring-opacity-50 scale-105 shadow-2xl":""}`,children:[h&&c.jsx("div",{className:`pointer-events-none absolute inset-0 rounded-xl border-2 border-dashed transition-all duration-300 ${C===Ee&&w!==Ee?"border-primary-500 bg-primary-50/20 dark:bg-primary-900/20":"border-primary-400"}`,children:C===Ee&&w!==Ee&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("div",{className:"bg-primary-500 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-lg animate-pulse",children:"Déposer ici"})})}),c.jsxs("div",{className:`${h?"relative rounded-xl bg-white dark:bg-gray-800 shadow-sm overflow-hidden":""}`,"data-widget-content":!0,children:[h&&c.jsxs("div",{className:"absolute inset-x-0 top-0 flex items-center justify-between px-4 py-2 bg-gray-100/90 dark:bg-gray-800/80 backdrop-blur-sm z-10",children:[c.jsxs("button",{type:"button",draggable:h&&me,onDragStart:Me=>{Me.stopPropagation(),_e(Me,Ee)},onTouchStart:Me=>{Me.stopPropagation(),Je(Ee,Me.currentTarget.closest("[data-widget-id]"))},onTouchMove:Me=>{Me.stopPropagation(),vt(Me)},onTouchEnd:Me=>{Me.stopPropagation(),It()},onTouchCancel:()=>It(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-primary-100 dark:bg-primary-900/40 text-primary-700 dark:text-primary-300 hover:bg-primary-200 dark:hover:bg-primary-800/50 transition-all hover:scale-105 active:scale-95 cursor-grab active:cursor-grabbing","aria-label":"Déplacer ce widget",children:[c.jsx("span",{className:"material-symbols-outlined text-lg leading-none",children:"drag_indicator"}),c.jsx("span",{className:"text-xs font-semibold",children:"Déplacer"})]}),c.jsx("button",{type:"button",onClick:()=>Te(ne.id),className:`flex items-center justify-center size-8 rounded-full transition-colors ${me?"bg-gray-100 text-gray-700 hover:bg-gray-200/90 dark:bg-gray-700/70 dark:text-gray-100 dark:hover:bg-gray-600/70":"bg-primary-100 text-primary-800 hover:bg-primary-200 dark:bg-primary-900/40 dark:text-primary-200 dark:hover:bg-primary-800/40"}`,"aria-label":me?"Masquer ce widget":"Afficher ce widget",children:c.jsx("span",{className:"material-symbols-outlined text-base leading-none",children:me?"visibility":"visibility_off"})})]}),c.jsx("div",{className:h?"pt-12":"",children:c.jsx(we,{...ve.props})})]})]},Ee)})})]})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let v7,x7;function b7(){return{geminiUrl:v7,vertexUrl:x7}}function S7(t,e,n,r){var a,i;if(!(t!=null&&t.baseUrl)){const o=b7();return e?(a=o.vertexUrl)!==null&&a!==void 0?a:n:(i=o.geminiUrl)!==null&&i!==void 0?i:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Js{}function ke(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const i=e[a];return i!=null?String(i):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function S(t,e,n){for(let i=0;i<e.length-1;i++){const o=e[i];if(o.endsWith("[]")){const u=o.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(t[u])){const f=t[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const p=f[d];S(p,e.slice(i+1),n[d])}else for(const d of f)S(d,e.slice(i+1),n)}return}else if(o.endsWith("[0]")){const u=o.slice(0,-3);u in t||(t[u]=[{}]);const f=t[u];S(f[0],e.slice(i+1),n);return}(!t[o]||typeof t[o]!="object")&&(t[o]={}),t=t[o]}const r=e[e.length-1],a=t[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function v(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const a=e[r];if(a.endsWith("[]")){const i=a.slice(0,-2);if(i in t){const o=t[i];return Array.isArray(o)?o.map(u=>v(u,e.slice(r+1),n)):n}else return n}else t=t[a]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IT(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w7(t){const e={},n=v(t,["operationName"]);n!=null&&S(e,["operationName"],n);const r=v(t,["resourceName"]);return r!=null&&S(e,["_url","resourceName"],r),e}function A7(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response","generateVideoResponse"]);return o!=null&&S(e,["response"],E7(o)),e}function T7(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response"]);return o!=null&&S(e,["response"],N7(o)),e}function E7(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>_7(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function N7(t){const e={},n=v(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>C7(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function _7(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],I7(n)),e}function C7(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],k7(n)),e}function M7(t){const e={},n=v(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function j7(t){const e={},n=v(t,["operationName"]);return n!=null&&S(e,["_url","operationName"],n),e}function I7(t){const e={},n=v(t,["video","uri"]);n!=null&&S(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&S(e,["videoBytes"],IT(r));const a=v(t,["encoding"]);return a!=null&&S(e,["mimeType"],a),e}function k7(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],IT(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yj;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(yj||(yj={}));var vj;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(vj||(vj={}));var _t;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(_t||(_t={}));var xj;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(xj||(xj={}));var bj;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(bj||(bj={}));var Sj;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Sj||(Sj={}));var wj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(wj||(wj={}));var Aj;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Aj||(Aj={}));var Tj;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Tj||(Tj={}));var Ej;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ej||(Ej={}));var Nj;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(Nj||(Nj={}));var _j;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_j||(_j={}));var Cj;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cj||(Cj={}));var Mj;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(Mj||(Mj={}));var jj;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(jj||(jj={}));var Wm;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wm||(Wm={}));var Ij;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ij||(Ij={}));var dw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(dw||(dw={}));var kj;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(kj||(kj={}));var Pj;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Pj||(Pj={}));var Oj;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V"})(Oj||(Oj={}));var Rj;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Rj||(Rj={}));var Dj;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Dj||(Dj={}));var Lj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Lj||(Lj={}));var qj;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(qj||(qj={}));var Uj;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Uj||(Uj={}));var Bj;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Bj||(Bj={}));var $j;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})($j||($j={}));var Vj;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Vj||(Vj={}));var Fj;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Fj||(Fj={}));var zj;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(zj||(zj={}));var Gj;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Gj||(Gj={}));var Hj;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Hj||(Hj={}));var Kj;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Kj||(Kj={}));var Yj;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Yj||(Yj={}));var Wj;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Wj||(Wj={}));var Xj;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(Xj||(Xj={}));var Jj;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Jj||(Jj={}));var Qj;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Qj||(Qj={}));var Zj;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zj||(Zj={}));var eI;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(eI||(eI={}));var tI;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(tI||(tI={}));var nI;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nI||(nI={}));var rI;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rI||(rI={}));var aI;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(aI||(aI={}));var iI;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(iI||(iI={}));var sI;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sI||(sI={}));var oI;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(oI||(oI={}));var al;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(al||(al={}));class fw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Ju{get text(){var e,n,r,a,i,o,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",p=!1;const h=[];for(const y of(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[x,T]of Object.entries(y))x!=="text"&&x!=="thought"&&(T!==null||T!==void 0)&&h.push(x);if(typeof y.text=="string"){if(typeof y.thought=="boolean"&&y.thought)continue;p=!0,d+=y.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?d:void 0}get data(){var e,n,r,a,i,o,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const p=[];for(const h of(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[y,x]of Object.entries(h))y!=="inlineData"&&(x!==null||x!==void 0)&&p.push(y);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,a,i,o,u,f;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,a,i,o,u,f,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,a,i,o,u,f,d;if(((a=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(f=(u=(o=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((p==null?void 0:p.length)!==0)return(d=p==null?void 0:p[0])===null||d===void 0?void 0:d.output}}class lI{}class uI{}class P7{}class O7{}class R7{}class D7{}class cI{}class dI{}class fI{}class L7{}class Xm{_fromAPIResponse({apiResponse:e,isVertexAI:n}){const r=new Xm;let a;const i=e;return n?a=T7(i):a=A7(i),Object.assign(r,a),r}}class mI{}class pI{}class hI{}class q7{}class U7{}class B7{}class gI{}class $7{get text(){var e,n,r;let a="",i=!1;const o=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&o.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,a+=u.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?a:void 0}get data(){var e,n,r;let a="";const i=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(o))u!=="inlineData"&&f!==null&&i.push(u);o.inlineData&&typeof o.inlineData.data=="string"&&(a+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class V7{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dt(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function i3(t,e){const n=dt(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function s3(t){return Array.isArray(t)?t.map(e=>Jm(e)):[Jm(t)]}function Jm(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function o3(t){const e=Jm(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function l3(t){const e=Jm(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function yI(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function u3(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>yI(e)):[yI(t)]}function mw(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function vI(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xI(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function zn(t){if(t==null)throw new Error("ContentUnion is required");return mw(t)?t:{role:"user",parts:u3(t)}}function kT(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=zn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=zn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>zn(n)):[zn(e)]}function Gr(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(vI(t)||xI(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[zn(t)]}const e=[],n=[],r=mw(t[0]);for(const a of t){const i=mw(a);if(i!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)e.push(a);else{if(vI(a)||xI(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||e.push({role:"user",parts:u3(n)}),e}function F7(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(_t).includes(n[0].toUpperCase())?n[0].toUpperCase():_t.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(_t).includes(r.toUpperCase())?r.toUpperCase():_t.TYPE_UNSPECIFIED})}}function dl(t){const e={},n=["items"],r=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=t.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(e.nullable=!0,t=i[1]):i[1].type==="null"&&(e.nullable=!0,t=i[0])),t.type instanceof Array&&F7(t.type,e);for(const[o,u]of Object.entries(t))if(u!=null)if(o=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(_t).includes(u.toUpperCase())?u.toUpperCase():_t.TYPE_UNSPECIFIED}else if(n.includes(o))e[o]=dl(u);else if(r.includes(o)){const f=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}f.push(dl(d))}e[o]=f}else if(a.includes(o)){const f={};for(const[d,p]of Object.entries(u))f[d]=dl(p);e[o]=f}else{if(o==="additionalProperties")continue;e[o]=u}return e}function PT(t){return dl(t)}function OT(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function RT(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Yl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=dl(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=dl(e.response));return t}function Wl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function z7(t,e,n,r=1){const a=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:a?`${n}/${e}`:e}function ni(t,e){if(typeof e!="string")throw new Error("name must be a string");return z7(t,e,"cachedContents")}function c3(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wi(t){return IT(t)}function G7(t){return t!=null&&typeof t=="object"&&"name"in t}function H7(t){return t!=null&&typeof t=="object"&&"video"in t}function K7(t){return t!=null&&typeof t=="object"&&"uri"in t}function d3(t){var e;let n;if(G7(t)&&(n=t.name),!(K7(t)&&(n=t.uri,n===void 0))&&!(H7(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function f3(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function m3(t){for(const e of["models","tunedModels","publisherModels"])if(Y7(t,e))return t[e];return[]}function Y7(t,e){return t!==null&&typeof t=="object"&&e in t}function W7(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function X7(t,e={}){const n=[],r=new Set;for(const a of t){const i=a.name;if(r.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);r.add(i);const o=W7(a,e);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function p3(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function J7(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function h3(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let i=!1;for(const o of a){if(typeof o!="object"||o===null)continue;const f=o.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){i=!0;break}}return i&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Xl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function g3(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Q7(t){const e={},n=v(t,["responsesFile"]);n!=null&&S(e,["fileName"],n);const r=v(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>_K(o))),S(e,["inlinedResponses"],i)}const a=v(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["inlinedEmbedContentResponses"],i)}return e}function Z7(t){const e={},n=v(t,["predictionsFormat"]);n!=null&&S(e,["format"],n);const r=v(t,["gcsDestination","outputUriPrefix"]);r!=null&&S(e,["gcsUri"],r);const a=v(t,["bigqueryDestination","outputUri"]);return a!=null&&S(e,["bigqueryUri"],a),e}function eK(t){const e={},n=v(t,["format"]);n!=null&&S(e,["predictionsFormat"],n);const r=v(t,["gcsUri"]);r!=null&&S(e,["gcsDestination","outputUriPrefix"],r);const a=v(t,["bigqueryUri"]);if(a!=null&&S(e,["bigqueryDestination","outputUri"],a),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(v(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function lc(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata","displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["metadata","state"]);a!=null&&S(e,["state"],g3(a));const i=v(t,["metadata","createTime"]);i!=null&&S(e,["createTime"],i);const o=v(t,["metadata","endTime"]);o!=null&&S(e,["endTime"],o);const u=v(t,["metadata","updateTime"]);u!=null&&S(e,["updateTime"],u);const f=v(t,["metadata","model"]);f!=null&&S(e,["model"],f);const d=v(t,["metadata","output"]);return d!=null&&S(e,["dest"],Q7(h3(d))),e}function pw(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["state"]);a!=null&&S(e,["state"],g3(a));const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["createTime"]);o!=null&&S(e,["createTime"],o);const u=v(t,["startTime"]);u!=null&&S(e,["startTime"],u);const f=v(t,["endTime"]);f!=null&&S(e,["endTime"],f);const d=v(t,["updateTime"]);d!=null&&S(e,["updateTime"],d);const p=v(t,["model"]);p!=null&&S(e,["model"],p);const h=v(t,["inputConfig"]);h!=null&&S(e,["src"],tK(h));const y=v(t,["outputConfig"]);return y!=null&&S(e,["dest"],Z7(h3(y))),e}function tK(t){const e={},n=v(t,["instancesFormat"]);n!=null&&S(e,["format"],n);const r=v(t,["gcsSource","uris"]);r!=null&&S(e,["gcsUri"],r);const a=v(t,["bigquerySource","inputUri"]);return a!=null&&S(e,["bigqueryUri"],a),e}function nK(t,e){const n={};if(v(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(v(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=v(e,["fileName"]);r!=null&&S(n,["fileName"],r);const a=v(e,["inlinedRequests"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>NK(t,o))),S(n,["requests","requests"],i)}return n}function rK(t){const e={},n=v(t,["format"]);n!=null&&S(e,["instancesFormat"],n);const r=v(t,["gcsUri"]);r!=null&&S(e,["gcsSource","uris"],r);const a=v(t,["bigqueryUri"]);if(a!=null&&S(e,["bigquerySource","inputUri"],a),v(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(v(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function aK(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function iK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Xl(t,r)),n}function sK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Xl(t,r)),n}function oK(t){const e={},n=v(t,["content"]);n!=null&&S(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],lK(r));const a=v(t,["tokenCount"]);a!=null&&S(e,["tokenCount"],a);const i=v(t,["finishReason"]);i!=null&&S(e,["finishReason"],i);const o=v(t,["urlContextMetadata"]);o!=null&&S(e,["urlContextMetadata"],o);const u=v(t,["avgLogprobs"]);u!=null&&S(e,["avgLogprobs"],u);const f=v(t,["groundingMetadata"]);f!=null&&S(e,["groundingMetadata"],f);const d=v(t,["index"]);d!=null&&S(e,["index"],d);const p=v(t,["logprobsResult"]);p!=null&&S(e,["logprobsResult"],p);const h=v(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),S(e,["safetyRatings"],y)}return e}function lK(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["citations"],r)}return e}function y3(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>OK(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function uK(t,e){const n={},r=v(t,["displayName"]);if(e!==void 0&&r!=null&&S(e,["batch","displayName"],r),v(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function cK(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const a=v(t,["dest"]);return e!==void 0&&a!=null&&S(e,["outputConfig"],eK(J7(a))),n}function bI(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["src"]);a!=null&&S(n,["batch","inputConfig"],nK(t,p3(t,a)));const i=v(e,["config"]);return i!=null&&uK(i,n),n}function dK(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["model"],dt(t,r));const a=v(e,["src"]);a!=null&&S(n,["inputConfig"],rK(p3(t,a)));const i=v(e,["config"]);return i!=null&&cK(i,n),n}function fK(t,e){const n={},r=v(t,["displayName"]);return e!==void 0&&r!=null&&S(e,["batch","displayName"],r),n}function Tv(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["src"]);a!=null&&S(n,["batch","inputConfig"],xK(t,a));const i=v(e,["config"]);return i!=null&&fK(i,n),n}function mK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Xl(t,r)),n}function pK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Xl(t,r)),n}function hK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);return i!=null&&S(e,["error"],i),e}function gK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);return i!=null&&S(e,["error"],i),e}function yK(t,e){const n={},r=v(e,["contents"]);if(r!=null){let i=kT(t,r);Array.isArray(i)&&(i=i.map(o=>o)),S(n,["requests[]","request","content"],i)}const a=v(e,["config"]);return a!=null&&S(n,["_self"],vK(a,n)),n}function vK(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const a=v(t,["title"]);e!==void 0&&a!=null&&S(e,["requests[]","title"],a);const i=v(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&S(e,["requests[]","outputDimensionality"],i),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xK(t,e){const n={},r=v(e,["fileName"]);r!=null&&S(n,["file_name"],r);const a=v(e,["inlinedRequests"]);return a!=null&&S(n,["requests"],yK(t,a)),n}function bK(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function SK(t,e,n){const r={},a=v(e,["systemInstruction"]);n!==void 0&&a!=null&&S(n,["systemInstruction"],y3(zn(a)));const i=v(e,["temperature"]);i!=null&&S(r,["temperature"],i);const o=v(e,["topP"]);o!=null&&S(r,["topP"],o);const u=v(e,["topK"]);u!=null&&S(r,["topK"],u);const f=v(e,["candidateCount"]);f!=null&&S(r,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&S(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&S(r,["logprobs"],y);const x=v(e,["presencePenalty"]);x!=null&&S(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&S(r,["frequencyPenalty"],T);const w=v(e,["seed"]);w!=null&&S(r,["seed"],w);const A=v(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],PT(C));const j=v(e,["responseJsonSchema"]);if(j!=null&&S(r,["responseJsonSchema"],j),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=v(e,["safetySettings"]);if(n!==void 0&&_!=null){let D=_;Array.isArray(D)&&(D=D.map($=>RK($))),S(n,["safetySettings"],D)}const M=v(e,["tools"]);if(n!==void 0&&M!=null){let D=Wl(M);Array.isArray(D)&&(D=D.map($=>DK(Yl($)))),S(n,["tools"],D)}const N=v(e,["toolConfig"]);if(n!==void 0&&N!=null&&S(n,["toolConfig"],N),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=v(e,["cachedContent"]);n!==void 0&&k!=null&&S(n,["cachedContent"],ni(t,k));const P=v(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const R=v(e,["mediaResolution"]);R!=null&&S(r,["mediaResolution"],R);const L=v(e,["speechConfig"]);if(L!=null&&S(r,["speechConfig"],OT(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=v(e,["thinkingConfig"]);U!=null&&S(r,["thinkingConfig"],U);const q=v(e,["imageConfig"]);return q!=null&&S(r,["imageConfig"],q),r}function wK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>oK(d))),S(e,["candidates"],f)}const a=v(t,["modelVersion"]);a!=null&&S(e,["modelVersion"],a);const i=v(t,["promptFeedback"]);i!=null&&S(e,["promptFeedback"],i);const o=v(t,["responseId"]);o!=null&&S(e,["responseId"],o);const u=v(t,["usageMetadata"]);return u!=null&&S(e,["usageMetadata"],u),e}function AK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Xl(t,r)),n}function TK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],Xl(t,r)),n}function EK(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function NK(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["request","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>y3(u))),S(n,["request","contents"],o)}const i=v(e,["config"]);return i!=null&&S(n,["request","generationConfig"],SK(t,i,v(n,["request"],{}))),n}function _K(t){const e={},n=v(t,["response"]);n!=null&&S(e,["response"],wK(n));const r=v(t,["error"]);return r!=null&&S(e,["error"],r),e}function CK(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);if(e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),v(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function MK(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const i=v(t,["filter"]);return e!==void 0&&i!=null&&S(e,["_query","filter"],i),n}function jK(t){const e={},n=v(t,["config"]);return n!=null&&CK(n,e),e}function IK(t){const e={},n=v(t,["config"]);return n!=null&&MK(n,e),e}function kK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["operations"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>lc(o))),S(e,["batchJobs"],i)}return e}function PK(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["batchPredictionJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>pw(o))),S(e,["batchJobs"],i)}return e}function OK(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],aK(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],bK(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function RK(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&S(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function DK(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],EK(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bs;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Bs||(Bs={}));class _d{constructor(e,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,a)}init(e,n,r){var a,i;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!r||Object.keys(r).length===0?o={config:{}}:typeof r=="object"?o=Object.assign({},r):o=r,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(i=(a=o.config)===null||a===void 0?void 0:a.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LK extends Js{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{var r,a;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(n.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(n);const u=this.createInlinedEmbedContentRequest(n),f=u.path,d=u.body,p=Tv(this.apiClient,n)._query||{};return this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()).then(y=>lc(y))},this.list=async(n={})=>new _d(Bs.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=bI(this.apiClient,e),r=n._url,a=ke("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const p of f){const h=Object.assign({},p);if(h.systemInstruction){const y=h.systemInstruction;delete h.systemInstruction;const x=h.request;x.systemInstruction=y,h.request=x}d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:a,body:n}}createInlinedEmbedContentRequest(e){const n=Tv(this.apiClient,e),r=n._url,a=ke("{model}:asyncBatchEmbedContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];delete u.config;for(const p of f){const h=Object.assign({},p),y=h.request;for(const x in h)x!=="request"&&(y[x]=h[x],delete h[x]);d.push(h)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const i=this.getGcsUri(e),o=this.getBigqueryUri(e);if(i)i.endsWith(".jsonl")?r.dest=`${i.slice(0,-6)}/dest`:r.dest=`${i}_dest_${a}`;else if(o)r.dest=`${o}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=dK(this.apiClient,e);return u=ke("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>pw(p))}else{const d=bI(this.apiClient,e);return u=ke("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>lc(p))}}async createEmbeddingsInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tv(this.apiClient,e);return i=ke("{model}:asyncBatchEmbedContent",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>lc(f))}}async get(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=TK(this.apiClient,e);return u=ke("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>pw(p))}else{const d=AK(this.apiClient,e);return u=ke("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>lc(p))}}async cancel(e){var n,r,a,i;let o="",u={};if(this.apiClient.isVertexAI()){const f=sK(this.apiClient,e);o=ke("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=iK(this.apiClient,e);o=ke("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=IK(e);return u=ke("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=PK(p),y=new gI;return Object.assign(y,h),y})}else{const d=jK(e);return u=ke("batches",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=kK(p),y=new gI;return Object.assign(y,h),y})}}async delete(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=pK(this.apiClient,e);return u=ke("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>gK(p))}else{const d=mK(this.apiClient,e);return u=ke("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>hK(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qK(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function SI(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>aY(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function UK(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);e!==void 0&&a!=null&&S(e,["expireTime"],a);const i=v(t,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let p=Gr(o);Array.isArray(p)&&(p=p.map(h=>SI(h))),S(e,["contents"],p)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&S(e,["systemInstruction"],SI(zn(u)));const f=v(t,["tools"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>iY(h))),S(e,["tools"],p)}const d=v(t,["toolConfig"]);if(e!==void 0&&d!=null&&S(e,["toolConfig"],d),v(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function BK(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);e!==void 0&&a!=null&&S(e,["expireTime"],a);const i=v(t,["displayName"]);e!==void 0&&i!=null&&S(e,["displayName"],i);const o=v(t,["contents"]);if(e!==void 0&&o!=null){let h=Gr(o);Array.isArray(h)&&(h=h.map(y=>y)),S(e,["contents"],h)}const u=v(t,["systemInstruction"]);e!==void 0&&u!=null&&S(e,["systemInstruction"],zn(u));const f=v(t,["tools"]);if(e!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>sY(y))),S(e,["tools"],h)}const d=v(t,["toolConfig"]);e!==void 0&&d!=null&&S(e,["toolConfig"],d);const p=v(t,["kmsKeyName"]);return e!==void 0&&p!=null&&S(e,["encryption_spec","kmsKeyName"],p),n}function $K(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["model"],i3(t,r));const a=v(e,["config"]);return a!=null&&UK(a,n),n}function VK(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["model"],i3(t,r));const a=v(e,["config"]);return a!=null&&BK(a,n),n}function FK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ni(t,r)),n}function zK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ni(t,r)),n}function GK(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function HK(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function KK(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function YK(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&S(e,["description"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["parameters"]);a!=null&&S(e,["parameters"],a);const i=v(t,["parametersJsonSchema"]);i!=null&&S(e,["parametersJsonSchema"],i);const o=v(t,["response"]);o!=null&&S(e,["response"],o);const u=v(t,["responseJsonSchema"]);return u!=null&&S(e,["responseJsonSchema"],u),e}function WK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ni(t,r)),n}function XK(t,e){const n={},r=v(e,["name"]);return r!=null&&S(n,["_url","name"],ni(t,r)),n}function JK(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function QK(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);return e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),n}function ZK(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);return e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),n}function eY(t){const e={},n=v(t,["config"]);return n!=null&&QK(n,e),e}function tY(t){const e={},n=v(t,["config"]);return n!=null&&ZK(n,e),e}function nY(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["cachedContents"],i)}return e}function rY(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["cachedContents"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["cachedContents"],i)}return e}function aY(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],qK(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],KK(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function iY(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],JK(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}function sY(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>YK(y))),S(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const a=v(t,["googleSearch"]);a!=null&&S(e,["googleSearch"],a);const i=v(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=v(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const f=v(t,["urlContext"]);f!=null&&S(e,["urlContext"],f);const d=v(t,["computerUse"]);d!=null&&S(e,["computerUse"],d);const p=v(t,["codeExecution"]);return p!=null&&S(e,["codeExecution"],p),e}function oY(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);return e!==void 0&&a!=null&&S(e,["expireTime"],a),n}function lY(t,e){const n={},r=v(t,["ttl"]);e!==void 0&&r!=null&&S(e,["ttl"],r);const a=v(t,["expireTime"]);return e!==void 0&&a!=null&&S(e,["expireTime"],a),n}function uY(t,e){const n={},r=v(e,["name"]);r!=null&&S(n,["_url","name"],ni(t,r));const a=v(e,["config"]);return a!=null&&oY(a,n),n}function cY(t,e){const n={},r=v(e,["name"]);r!=null&&S(n,["_url","name"],ni(t,r));const a=v(e,["config"]);return a!=null&&lY(a,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dY extends Js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _d(Bs.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=VK(this.apiClient,e);return u=ke("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=$K(this.apiClient,e);return u=ke("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=XK(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=WK(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=zK(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=HK(p),y=new pI;return Object.assign(y,h),y})}else{const d=FK(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=GK(p),y=new pI;return Object.assign(y,h),y})}}async update(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=cY(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const d=uY(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=tY(e);return u=ke("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=rY(p),y=new hI;return Object.assign(y,h),y})}else{const d=eY(e);return u=ke("cachedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=nY(p),y=new hI;return Object.assign(y,h),y})}}}function wI(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qt(t){return this instanceof qt?(this.v=t,this):new qt(t)}function fl(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(x){return function(T){return Promise.resolve(T).then(x,h)}}function u(x,T){r[x]&&(a[x]=function(w){return new Promise(function(A,C){i.push([x,w,A,C])>1||f(x,w)})},T&&(a[x]=T(a[x])))}function f(x,T){try{d(r[x](T))}catch(w){y(i[0][3],w)}}function d(x){x.value instanceof qt?Promise.resolve(x.value.v).then(p,h):y(i[0][2],x)}function p(x){f("next",x)}function h(x){f("throw",x)}function y(x,T){x(T),i.shift(),i.length&&f(i[0][0],i[0][1])}}function yc(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof wI=="function"?wI(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(o){return new Promise(function(u,f){o=t[i](o),a(u,f,o.done,o.value)})}}function a(i,o,u,f){Promise.resolve(f).then(function(d){i({value:d,done:u})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fY(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:v3(n)}function v3(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function mY(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function AI(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const a=[];let i=!0;for(;r<n&&t[r].role==="model";)a.push(t[r]),i&&!v3(t[r])&&(i=!1),r++;i?e.push(...a):e.pop()}return e}class pY{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new hY(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class hY{constructor(e,n,r,a={},i=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=a,this.history=i,this.sendPromise=Promise.resolve(),mY(i)}async sendMessage(e){var n;await this.sendPromise;const r=zn(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var i,o,u;const f=await a,d=(o=(i=f.candidates)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.content,p=f.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let y=[];p!=null&&(y=(u=p.slice(h))!==null&&u!==void 0?u:[]);const x=d?[d]:[];this.recordHistory(r,x,y)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var n;await this.sendPromise;const r=zn(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const i=await a;return this.processStreamResponse(i,r)}getHistory(e=!1){const n=e?AI(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,a;return fl(this,arguments,function*(){var o,u,f,d;const p=[];try{for(var h=!0,y=yc(e),x;x=yield qt(y.next()),o=x.done,!o;h=!0){d=x.value,h=!1;const T=d;if(fY(T)){const w=(a=(r=T.candidates)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.content;w!==void 0&&p.push(w)}yield yield qt(T)}}catch(T){u={error:T}}finally{try{!h&&!o&&(f=y.return)&&(yield qt(f.call(y)))}finally{if(u)throw u.error}}this.recordHistory(n,p)})}recordHistory(e,n,r){let a=[];n.length>0&&n.every(i=>i.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...AI(r)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rh extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,rh.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gY(t){const e={},n=v(t,["file"]);return n!=null&&S(e,["file"],n),e}function yY(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function vY(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","file"],d3(n)),e}function xY(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function bY(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","file"],d3(n)),e}function SY(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);return e!==void 0&&a!=null&&S(e,["_query","pageToken"],a),n}function wY(t){const e={},n=v(t,["config"]);return n!=null&&SY(n,e),e}function AY(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["files"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TY extends Js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new _d(Bs.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wY(e);return i=ke("files",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=AY(f),p=new q7;return Object.assign(p,d),p})}}async createInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gY(e);return i=ke("upload/v1beta/files",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const d=yY(f),p=new U7;return Object.assign(p,d),p})}}async get(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bY(e);return i=ke("files/{file}",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vY(e);return i=ke("files/{file}",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=xY(f),p=new B7;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bm(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function EY(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>UY(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function NY(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function _Y(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&S(e,["description"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["parameters"]);a!=null&&S(e,["parameters"],a);const i=v(t,["parametersJsonSchema"]);i!=null&&S(e,["parametersJsonSchema"],i);const o=v(t,["response"]);o!=null&&S(e,["response"],o);const u=v(t,["responseJsonSchema"]);return u!=null&&S(e,["responseJsonSchema"],u),e}function CY(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=v(t,["audioTimestamp"]);r!=null&&S(e,["audioTimestamp"],r);const a=v(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const i=v(t,["enableAffectiveDialog"]);i!=null&&S(e,["enableAffectiveDialog"],i);const o=v(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=v(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const f=v(t,["maxOutputTokens"]);f!=null&&S(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&S(e,["mediaResolution"],d);const p=v(t,["presencePenalty"]);p!=null&&S(e,["presencePenalty"],p);const h=v(t,["responseJsonSchema"]);h!=null&&S(e,["responseJsonSchema"],h);const y=v(t,["responseLogprobs"]);y!=null&&S(e,["responseLogprobs"],y);const x=v(t,["responseMimeType"]);x!=null&&S(e,["responseMimeType"],x);const T=v(t,["responseModalities"]);T!=null&&S(e,["responseModalities"],T);const w=v(t,["responseSchema"]);w!=null&&S(e,["responseSchema"],w);const A=v(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const C=v(t,["seed"]);C!=null&&S(e,["seed"],C);const j=v(t,["speechConfig"]);j!=null&&S(e,["speechConfig"],x3(j));const _=v(t,["stopSequences"]);_!=null&&S(e,["stopSequences"],_);const M=v(t,["temperature"]);M!=null&&S(e,["temperature"],M);const N=v(t,["thinkingConfig"]);N!=null&&S(e,["thinkingConfig"],N);const k=v(t,["topK"]);k!=null&&S(e,["topK"],k);const P=v(t,["topP"]);return P!=null&&S(e,["topP"],P),e}function MY(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function jY(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const a=v(t,["responseModalities"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","responseModalities"],a);const i=v(t,["temperature"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","temperature"],i);const o=v(t,["topP"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topP"],o);const u=v(t,["topK"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&S(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],RT(h));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","thinkingConfig"],y);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&S(e,["setup","systemInstruction"],EY(zn(T)));const w=v(t,["tools"]);if(e!==void 0&&w!=null){let k=Wl(w);Array.isArray(k)&&(k=k.map(P=>$Y(Yl(P)))),S(e,["setup","tools"],k)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],BY(A));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const j=v(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&S(e,["setup","outputAudioTranscription"],j);const _=v(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&S(e,["setup","realtimeInputConfig"],_);const M=v(t,["contextWindowCompression"]);e!==void 0&&M!=null&&S(e,["setup","contextWindowCompression"],M);const N=v(t,["proactivity"]);return e!==void 0&&N!=null&&S(e,["setup","proactivity"],N),n}function IY(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],CY(r));const a=v(t,["responseModalities"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","responseModalities"],a);const i=v(t,["temperature"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","temperature"],i);const o=v(t,["topP"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topP"],o);const u=v(t,["topK"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&S(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],x3(RT(h)));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","thinkingConfig"],y);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&S(e,["setup","systemInstruction"],zn(T));const w=v(t,["tools"]);if(e!==void 0&&w!=null){let k=Wl(w);Array.isArray(k)&&(k=k.map(P=>VY(Yl(P)))),S(e,["setup","tools"],k)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],A);const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const j=v(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&S(e,["setup","outputAudioTranscription"],j);const _=v(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&S(e,["setup","realtimeInputConfig"],_);const M=v(t,["contextWindowCompression"]);e!==void 0&&M!=null&&S(e,["setup","contextWindowCompression"],M);const N=v(t,["proactivity"]);return e!==void 0&&N!=null&&S(e,["setup","proactivity"],N),n}function kY(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["setup","model"],dt(t,r));const a=v(e,["config"]);return a!=null&&S(n,["config"],jY(a,n)),n}function PY(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["setup","model"],dt(t,r));const a=v(e,["config"]);return a!=null&&S(n,["config"],IY(a,n)),n}function OY(t){const e={},n=v(t,["musicGenerationConfig"]);return n!=null&&S(e,["musicGenerationConfig"],n),e}function RY(t){const e={},n=v(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["weightedPrompts"],r)}return e}function DY(t){const e={},n=v(t,["media"]);if(n!=null){let d=s3(n);Array.isArray(d)&&(d=d.map(p=>Bm(p))),S(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&S(e,["audio"],Bm(l3(r)));const a=v(t,["audioStreamEnd"]);a!=null&&S(e,["audioStreamEnd"],a);const i=v(t,["video"]);i!=null&&S(e,["video"],Bm(o3(i)));const o=v(t,["text"]);o!=null&&S(e,["text"],o);const u=v(t,["activityStart"]);u!=null&&S(e,["activityStart"],u);const f=v(t,["activityEnd"]);return f!=null&&S(e,["activityEnd"],f),e}function LY(t){const e={},n=v(t,["media"]);if(n!=null){let d=s3(n);Array.isArray(d)&&(d=d.map(p=>p)),S(e,["mediaChunks"],d)}const r=v(t,["audio"]);r!=null&&S(e,["audio"],l3(r));const a=v(t,["audioStreamEnd"]);a!=null&&S(e,["audioStreamEnd"],a);const i=v(t,["video"]);i!=null&&S(e,["video"],o3(i));const o=v(t,["text"]);o!=null&&S(e,["text"],o);const u=v(t,["activityStart"]);u!=null&&S(e,["activityStart"],u);const f=v(t,["activityEnd"]);return f!=null&&S(e,["activityEnd"],f),e}function qY(t){const e={},n=v(t,["setupComplete"]);n!=null&&S(e,["setupComplete"],n);const r=v(t,["serverContent"]);r!=null&&S(e,["serverContent"],r);const a=v(t,["toolCall"]);a!=null&&S(e,["toolCall"],a);const i=v(t,["toolCallCancellation"]);i!=null&&S(e,["toolCallCancellation"],i);const o=v(t,["usageMetadata"]);o!=null&&S(e,["usageMetadata"],FY(o));const u=v(t,["goAway"]);u!=null&&S(e,["goAway"],u);const f=v(t,["sessionResumptionUpdate"]);return f!=null&&S(e,["sessionResumptionUpdate"],f),e}function UY(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],Bm(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],NY(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function BY(t){const e={},n=v(t,["handle"]);if(n!=null&&S(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function x3(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&S(e,["voiceConfig"],n),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&S(e,["languageCode"],r),e}function $Y(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],MY(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}function VY(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>_Y(y))),S(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const a=v(t,["googleSearch"]);a!=null&&S(e,["googleSearch"],a);const i=v(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=v(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const f=v(t,["urlContext"]);f!=null&&S(e,["urlContext"],f);const d=v(t,["computerUse"]);d!=null&&S(e,["computerUse"],d);const p=v(t,["codeExecution"]);return p!=null&&S(e,["codeExecution"],p),e}function FY(t){const e={},n=v(t,["promptTokenCount"]);n!=null&&S(e,["promptTokenCount"],n);const r=v(t,["cachedContentTokenCount"]);r!=null&&S(e,["cachedContentTokenCount"],r);const a=v(t,["candidatesTokenCount"]);a!=null&&S(e,["responseTokenCount"],a);const i=v(t,["toolUsePromptTokenCount"]);i!=null&&S(e,["toolUsePromptTokenCount"],i);const o=v(t,["thoughtsTokenCount"]);o!=null&&S(e,["thoughtsTokenCount"],o);const u=v(t,["totalTokenCount"]);u!=null&&S(e,["totalTokenCount"],u);const f=v(t,["promptTokensDetails"]);if(f!=null){let x=f;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["promptTokensDetails"],x)}const d=v(t,["cacheTokensDetails"]);if(d!=null){let x=d;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["cacheTokensDetails"],x)}const p=v(t,["candidatesTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["responseTokensDetails"],x)}const h=v(t,["toolUsePromptTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(T=>T)),S(e,["toolUsePromptTokensDetails"],x)}const y=v(t,["trafficType"]);return y!=null&&S(e,["trafficType"],y),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zY(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function GY(t){const e={},n=v(t,["content"]);n!=null&&S(e,["content"],n);const r=v(t,["citationMetadata"]);r!=null&&S(e,["citationMetadata"],HY(r));const a=v(t,["tokenCount"]);a!=null&&S(e,["tokenCount"],a);const i=v(t,["finishReason"]);i!=null&&S(e,["finishReason"],i);const o=v(t,["urlContextMetadata"]);o!=null&&S(e,["urlContextMetadata"],o);const u=v(t,["avgLogprobs"]);u!=null&&S(e,["avgLogprobs"],u);const f=v(t,["groundingMetadata"]);f!=null&&S(e,["groundingMetadata"],f);const d=v(t,["index"]);d!=null&&S(e,["index"],d);const p=v(t,["logprobsResult"]);p!=null&&S(e,["logprobsResult"],p);const h=v(t,["safetyRatings"]);if(h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>x)),S(e,["safetyRatings"],y)}return e}function HY(t){const e={},n=v(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["citations"],r)}return e}function KY(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let i=Gr(a);Array.isArray(i)&&(i=i.map(o=>o)),S(n,["contents"],i)}return n}function YY(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["tokensInfo"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>i)),S(e,["tokensInfo"],a)}return e}function WY(t){const e={},n=v(t,["values"]);n!=null&&S(e,["values"],n);const r=v(t,["statistics"]);return r!=null&&S(e,["statistics"],XY(r)),e}function XY(t){const e={},n=v(t,["truncated"]);n!=null&&S(e,["truncated"],n);const r=v(t,["token_count"]);return r!=null&&S(e,["tokenCount"],r),e}function ah(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>eX(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function JY(t){const e={},n=v(t,["controlType"]);n!=null&&S(e,["controlType"],n);const r=v(t,["enableControlImageComputation"]);return r!=null&&S(e,["computeControl"],r),e}function QY(t){const e={};if(v(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(v(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(v(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ZY(t,e){const n={},r=v(t,["systemInstruction"]);e!==void 0&&r!=null&&S(e,["systemInstruction"],zn(r));const a=v(t,["tools"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>T3(u))),S(e,["tools"],o)}const i=v(t,["generationConfig"]);return e!==void 0&&i!=null&&S(e,["generationConfig"],VW(i)),n}function eW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>ah(u))),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&QY(i),n}function tW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&ZY(i,n),n}function nW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);r!=null&&S(e,["totalTokens"],r);const a=v(t,["cachedContentTokenCount"]);return a!=null&&S(e,["cachedContentTokenCount"],a),e}function rW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["totalTokens"]);return r!=null&&S(e,["totalTokens"],r),e}function aW(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],dt(t,r)),n}function iW(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],dt(t,r)),n}function sW(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function oW(t){const e={},n=v(t,["sdkHttpResponse"]);return n!=null&&S(e,["sdkHttpResponse"],n),e}function lW(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const a=v(t,["negativePrompt"]);e!==void 0&&a!=null&&S(e,["parameters","negativePrompt"],a);const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&S(e,["parameters","sampleCount"],i);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&S(e,["parameters","aspectRatio"],o);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&S(e,["parameters","guidanceScale"],u);const f=v(t,["seed"]);e!==void 0&&f!=null&&S(e,["parameters","seed"],f);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&S(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&S(e,["parameters","personGeneration"],p);const h=v(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const y=v(t,["includeRaiReason"]);e!==void 0&&y!=null&&S(e,["parameters","includeRaiReason"],y);const x=v(t,["language"]);e!==void 0&&x!=null&&S(e,["parameters","language"],x);const T=v(t,["outputMimeType"]);e!==void 0&&T!=null&&S(e,["parameters","outputOptions","mimeType"],T);const w=v(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","compressionQuality"],w);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const C=v(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const j=v(t,["editMode"]);e!==void 0&&j!=null&&S(e,["parameters","editMode"],j);const _=v(t,["baseSteps"]);return e!==void 0&&_!=null&&S(e,["parameters","editConfig","baseSteps"],_),n}function uW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(f=>sX(f))),S(n,["instances[0]","referenceImages"],u)}const o=v(e,["config"]);return o!=null&&lW(o,n),n}function cW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>ih(i))),S(e,["generatedImages"],a)}return e}function dW(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&S(e,["requests[]","taskType"],r);const a=v(t,["title"]);e!==void 0&&a!=null&&S(e,["requests[]","title"],a);const i=v(t,["outputDimensionality"]);if(e!==void 0&&i!=null&&S(e,["requests[]","outputDimensionality"],i),v(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(v(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fW(t,e){const n={},r=v(t,["taskType"]);e!==void 0&&r!=null&&S(e,["instances[]","task_type"],r);const a=v(t,["title"]);e!==void 0&&a!=null&&S(e,["instances[]","title"],a);const i=v(t,["outputDimensionality"]);e!==void 0&&i!=null&&S(e,["parameters","outputDimensionality"],i);const o=v(t,["mimeType"]);e!==void 0&&o!=null&&S(e,["instances[]","mimeType"],o);const u=v(t,["autoTruncate"]);return e!==void 0&&u!=null&&S(e,["parameters","autoTruncate"],u),n}function mW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let u=kT(t,a);Array.isArray(u)&&(u=u.map(f=>f)),S(n,["requests[]","content"],u)}const i=v(e,["config"]);i!=null&&dW(i,n);const o=v(e,["model"]);return o!==void 0&&S(n,["requests[]","model"],dt(t,o)),n}function pW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let o=kT(t,a);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["instances[]","content"],o)}const i=v(e,["config"]);return i!=null&&fW(i,n),n}function hW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),S(e,["embeddings"],i)}const a=v(t,["metadata"]);return a!=null&&S(e,["metadata"],a),e}function gW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions[]","embeddings"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>WY(o))),S(e,["embeddings"],i)}const a=v(t,["metadata"]);return a!=null&&S(e,["metadata"],a),e}function yW(t){const e={},n=v(t,["endpoint"]);n!=null&&S(e,["name"],n);const r=v(t,["deployedModelId"]);return r!=null&&S(e,["deployedModelId"],r),e}function vW(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function xW(t){const e={};if(v(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=v(t,["description"]);n!=null&&S(e,["description"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["parameters"]);a!=null&&S(e,["parameters"],a);const i=v(t,["parametersJsonSchema"]);i!=null&&S(e,["parametersJsonSchema"],i);const o=v(t,["response"]);o!=null&&S(e,["response"],o);const u=v(t,["responseJsonSchema"]);return u!=null&&S(e,["responseJsonSchema"],u),e}function bW(t,e,n){const r={},a=v(e,["systemInstruction"]);n!==void 0&&a!=null&&S(n,["systemInstruction"],ah(zn(a)));const i=v(e,["temperature"]);i!=null&&S(r,["temperature"],i);const o=v(e,["topP"]);o!=null&&S(r,["topP"],o);const u=v(e,["topK"]);u!=null&&S(r,["topK"],u);const f=v(e,["candidateCount"]);f!=null&&S(r,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&S(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&S(r,["logprobs"],y);const x=v(e,["presencePenalty"]);x!=null&&S(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&S(r,["frequencyPenalty"],T);const w=v(e,["seed"]);w!=null&&S(r,["seed"],w);const A=v(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],PT(C));const j=v(e,["responseJsonSchema"]);if(j!=null&&S(r,["responseJsonSchema"],j),v(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(v(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=v(e,["safetySettings"]);if(n!==void 0&&_!=null){let D=_;Array.isArray(D)&&(D=D.map($=>oX($))),S(n,["safetySettings"],D)}const M=v(e,["tools"]);if(n!==void 0&&M!=null){let D=Wl(M);Array.isArray(D)&&(D=D.map($=>mX(Yl($)))),S(n,["tools"],D)}const N=v(e,["toolConfig"]);if(n!==void 0&&N!=null&&S(n,["toolConfig"],N),v(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=v(e,["cachedContent"]);n!==void 0&&k!=null&&S(n,["cachedContent"],ni(t,k));const P=v(e,["responseModalities"]);P!=null&&S(r,["responseModalities"],P);const R=v(e,["mediaResolution"]);R!=null&&S(r,["mediaResolution"],R);const L=v(e,["speechConfig"]);if(L!=null&&S(r,["speechConfig"],OT(L)),v(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const U=v(e,["thinkingConfig"]);U!=null&&S(r,["thinkingConfig"],U);const q=v(e,["imageConfig"]);return q!=null&&S(r,["imageConfig"],q),r}function SW(t,e,n){const r={},a=v(e,["systemInstruction"]);n!==void 0&&a!=null&&S(n,["systemInstruction"],zn(a));const i=v(e,["temperature"]);i!=null&&S(r,["temperature"],i);const o=v(e,["topP"]);o!=null&&S(r,["topP"],o);const u=v(e,["topK"]);u!=null&&S(r,["topK"],u);const f=v(e,["candidateCount"]);f!=null&&S(r,["candidateCount"],f);const d=v(e,["maxOutputTokens"]);d!=null&&S(r,["maxOutputTokens"],d);const p=v(e,["stopSequences"]);p!=null&&S(r,["stopSequences"],p);const h=v(e,["responseLogprobs"]);h!=null&&S(r,["responseLogprobs"],h);const y=v(e,["logprobs"]);y!=null&&S(r,["logprobs"],y);const x=v(e,["presencePenalty"]);x!=null&&S(r,["presencePenalty"],x);const T=v(e,["frequencyPenalty"]);T!=null&&S(r,["frequencyPenalty"],T);const w=v(e,["seed"]);w!=null&&S(r,["seed"],w);const A=v(e,["responseMimeType"]);A!=null&&S(r,["responseMimeType"],A);const C=v(e,["responseSchema"]);C!=null&&S(r,["responseSchema"],PT(C));const j=v(e,["responseJsonSchema"]);j!=null&&S(r,["responseJsonSchema"],j);const _=v(e,["routingConfig"]);_!=null&&S(r,["routingConfig"],_);const M=v(e,["modelSelectionConfig"]);M!=null&&S(r,["modelConfig"],M);const N=v(e,["safetySettings"]);if(n!==void 0&&N!=null){let B=N;Array.isArray(B)&&(B=B.map(K=>K)),S(n,["safetySettings"],B)}const k=v(e,["tools"]);if(n!==void 0&&k!=null){let B=Wl(k);Array.isArray(B)&&(B=B.map(K=>T3(Yl(K)))),S(n,["tools"],B)}const P=v(e,["toolConfig"]);n!==void 0&&P!=null&&S(n,["toolConfig"],P);const R=v(e,["labels"]);n!==void 0&&R!=null&&S(n,["labels"],R);const L=v(e,["cachedContent"]);n!==void 0&&L!=null&&S(n,["cachedContent"],ni(t,L));const U=v(e,["responseModalities"]);U!=null&&S(r,["responseModalities"],U);const q=v(e,["mediaResolution"]);q!=null&&S(r,["mediaResolution"],q);const D=v(e,["speechConfig"]);D!=null&&S(r,["speechConfig"],A3(OT(D)));const $=v(e,["audioTimestamp"]);$!=null&&S(r,["audioTimestamp"],$);const H=v(e,["thinkingConfig"]);H!=null&&S(r,["thinkingConfig"],H);const J=v(e,["imageConfig"]);return J!=null&&S(r,["imageConfig"],J),r}function TI(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>ah(u))),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&S(n,["generationConfig"],bW(t,i,n)),n}function EI(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["contents"]);if(a!=null){let o=Gr(a);Array.isArray(o)&&(o=o.map(u=>u)),S(n,["contents"],o)}const i=v(e,["config"]);return i!=null&&S(n,["generationConfig"],SW(t,i,n)),n}function NI(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>GY(d))),S(e,["candidates"],f)}const a=v(t,["modelVersion"]);a!=null&&S(e,["modelVersion"],a);const i=v(t,["promptFeedback"]);i!=null&&S(e,["promptFeedback"],i);const o=v(t,["responseId"]);o!=null&&S(e,["responseId"],o);const u=v(t,["usageMetadata"]);return u!=null&&S(e,["usageMetadata"],u),e}function _I(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(p=>p)),S(e,["candidates"],d)}const a=v(t,["createTime"]);a!=null&&S(e,["createTime"],a);const i=v(t,["modelVersion"]);i!=null&&S(e,["modelVersion"],i);const o=v(t,["promptFeedback"]);o!=null&&S(e,["promptFeedback"],o);const u=v(t,["responseId"]);u!=null&&S(e,["responseId"],u);const f=v(t,["usageMetadata"]);return f!=null&&S(e,["usageMetadata"],f),e}function wW(t,e){const n={};if(v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const a=v(t,["aspectRatio"]);e!==void 0&&a!=null&&S(e,["parameters","aspectRatio"],a);const i=v(t,["guidanceScale"]);if(e!==void 0&&i!=null&&S(e,["parameters","guidanceScale"],i),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=v(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&S(e,["parameters","safetySetting"],o);const u=v(t,["personGeneration"]);e!==void 0&&u!=null&&S(e,["parameters","personGeneration"],u);const f=v(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&S(e,["parameters","includeSafetyAttributes"],f);const d=v(t,["includeRaiReason"]);e!==void 0&&d!=null&&S(e,["parameters","includeRaiReason"],d);const p=v(t,["language"]);e!==void 0&&p!=null&&S(e,["parameters","language"],p);const h=v(t,["outputMimeType"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","mimeType"],h);const y=v(t,["outputCompressionQuality"]);if(e!==void 0&&y!=null&&S(e,["parameters","outputOptions","compressionQuality"],y),v(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=v(t,["imageSize"]);if(e!==void 0&&x!=null&&S(e,["parameters","sampleImageSize"],x),v(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function AW(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const a=v(t,["negativePrompt"]);e!==void 0&&a!=null&&S(e,["parameters","negativePrompt"],a);const i=v(t,["numberOfImages"]);e!==void 0&&i!=null&&S(e,["parameters","sampleCount"],i);const o=v(t,["aspectRatio"]);e!==void 0&&o!=null&&S(e,["parameters","aspectRatio"],o);const u=v(t,["guidanceScale"]);e!==void 0&&u!=null&&S(e,["parameters","guidanceScale"],u);const f=v(t,["seed"]);e!==void 0&&f!=null&&S(e,["parameters","seed"],f);const d=v(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&S(e,["parameters","safetySetting"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&S(e,["parameters","personGeneration"],p);const h=v(t,["includeSafetyAttributes"]);e!==void 0&&h!=null&&S(e,["parameters","includeSafetyAttributes"],h);const y=v(t,["includeRaiReason"]);e!==void 0&&y!=null&&S(e,["parameters","includeRaiReason"],y);const x=v(t,["language"]);e!==void 0&&x!=null&&S(e,["parameters","language"],x);const T=v(t,["outputMimeType"]);e!==void 0&&T!=null&&S(e,["parameters","outputOptions","mimeType"],T);const w=v(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&S(e,["parameters","outputOptions","compressionQuality"],w);const A=v(t,["addWatermark"]);e!==void 0&&A!=null&&S(e,["parameters","addWatermark"],A);const C=v(t,["labels"]);e!==void 0&&C!=null&&S(e,["labels"],C);const j=v(t,["imageSize"]);e!==void 0&&j!=null&&S(e,["parameters","sampleImageSize"],j);const _=v(t,["enhancePrompt"]);return e!==void 0&&_!=null&&S(e,["parameters","enhancePrompt"],_),n}function TW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["config"]);return i!=null&&wW(i,n),n}function EW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["config"]);return i!=null&&AW(i,n),n}function NW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>qW(o))),S(e,["generatedImages"],i)}const a=v(t,["positivePromptSafetyAttributes"]);return a!=null&&S(e,["positivePromptSafetyAttributes"],S3(a)),e}function _W(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>ih(o))),S(e,["generatedImages"],i)}const a=v(t,["positivePromptSafetyAttributes"]);return a!=null&&S(e,["positivePromptSafetyAttributes"],w3(a)),e}function CW(t,e){const n={},r=v(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r),v(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(v(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=v(t,["durationSeconds"]);if(e!==void 0&&a!=null&&S(e,["parameters","durationSeconds"],a),v(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=v(t,["aspectRatio"]);e!==void 0&&i!=null&&S(e,["parameters","aspectRatio"],i);const o=v(t,["resolution"]);e!==void 0&&o!=null&&S(e,["parameters","resolution"],o);const u=v(t,["personGeneration"]);if(e!==void 0&&u!=null&&S(e,["parameters","personGeneration"],u),v(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=v(t,["negativePrompt"]);e!==void 0&&f!=null&&S(e,["parameters","negativePrompt"],f);const d=v(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&S(e,["parameters","enhancePrompt"],d),v(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=v(t,["lastFrame"]);e!==void 0&&p!=null&&S(e,["instances[0]","lastFrame"],sh(p));const h=v(t,["referenceImages"]);if(e!==void 0&&h!=null){let y=h;Array.isArray(y)&&(y=y.map(x=>NX(x))),S(e,["instances[0]","referenceImages"],y)}if(v(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(v(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function MW(t,e){const n={},r=v(t,["numberOfVideos"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const a=v(t,["outputGcsUri"]);e!==void 0&&a!=null&&S(e,["parameters","storageUri"],a);const i=v(t,["fps"]);e!==void 0&&i!=null&&S(e,["parameters","fps"],i);const o=v(t,["durationSeconds"]);e!==void 0&&o!=null&&S(e,["parameters","durationSeconds"],o);const u=v(t,["seed"]);e!==void 0&&u!=null&&S(e,["parameters","seed"],u);const f=v(t,["aspectRatio"]);e!==void 0&&f!=null&&S(e,["parameters","aspectRatio"],f);const d=v(t,["resolution"]);e!==void 0&&d!=null&&S(e,["parameters","resolution"],d);const p=v(t,["personGeneration"]);e!==void 0&&p!=null&&S(e,["parameters","personGeneration"],p);const h=v(t,["pubsubTopic"]);e!==void 0&&h!=null&&S(e,["parameters","pubsubTopic"],h);const y=v(t,["negativePrompt"]);e!==void 0&&y!=null&&S(e,["parameters","negativePrompt"],y);const x=v(t,["enhancePrompt"]);e!==void 0&&x!=null&&S(e,["parameters","enhancePrompt"],x);const T=v(t,["generateAudio"]);e!==void 0&&T!=null&&S(e,["parameters","generateAudio"],T);const w=v(t,["lastFrame"]);e!==void 0&&w!=null&&S(e,["instances[0]","lastFrame"],aa(w));const A=v(t,["referenceImages"]);if(e!==void 0&&A!=null){let _=A;Array.isArray(_)&&(_=_.map(M=>_X(M))),S(e,["instances[0]","referenceImages"],_)}const C=v(t,["mask"]);e!==void 0&&C!=null&&S(e,["instances[0]","mask"],EX(C));const j=v(t,["compressionQuality"]);return e!==void 0&&j!=null&&S(e,["parameters","compressionQuality"],j),n}function jW(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response","generateVideoResponse"]);return o!=null&&S(e,["response"],OW(o)),e}function IW(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["metadata"]);r!=null&&S(e,["metadata"],r);const a=v(t,["done"]);a!=null&&S(e,["done"],a);const i=v(t,["error"]);i!=null&&S(e,["error"],i);const o=v(t,["response"]);return o!=null&&S(e,["response"],RW(o)),e}function kW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["image"]);i!=null&&S(n,["instances[0]","image"],sh(i));const o=v(e,["video"]);o!=null&&S(n,["instances[0]","video"],E3(o));const u=v(e,["source"]);u!=null&&DW(u,n);const f=v(e,["config"]);return f!=null&&CW(f,n),n}function PW(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["prompt"]);a!=null&&S(n,["instances[0]","prompt"],a);const i=v(e,["image"]);i!=null&&S(n,["instances[0]","image"],aa(i));const o=v(e,["video"]);o!=null&&S(n,["instances[0]","video"],N3(o));const u=v(e,["source"]);u!=null&&LW(u,n);const f=v(e,["config"]);return f!=null&&MW(f,n),n}function OW(t){const e={},n=v(t,["generatedSamples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>BW(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function RW(t){const e={},n=v(t,["videos"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$W(o))),S(e,["generatedVideos"],i)}const r=v(t,["raiMediaFilteredCount"]);r!=null&&S(e,["raiMediaFilteredCount"],r);const a=v(t,["raiMediaFilteredReasons"]);return a!=null&&S(e,["raiMediaFilteredReasons"],a),e}function DW(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["image"]);e!==void 0&&a!=null&&S(e,["instances[0]","image"],sh(a));const i=v(t,["video"]);return e!==void 0&&i!=null&&S(e,["instances[0]","video"],E3(i)),n}function LW(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["image"]);e!==void 0&&a!=null&&S(e,["instances[0]","image"],aa(a));const i=v(t,["video"]);return e!==void 0&&i!=null&&S(e,["instances[0]","video"],N3(i)),n}function qW(t){const e={},n=v(t,["_self"]);n!=null&&S(e,["image"],HW(n));const r=v(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const a=v(t,["_self"]);return a!=null&&S(e,["safetyAttributes"],S3(a)),e}function ih(t){const e={},n=v(t,["_self"]);n!=null&&S(e,["image"],b3(n));const r=v(t,["raiFilteredReason"]);r!=null&&S(e,["raiFilteredReason"],r);const a=v(t,["_self"]);a!=null&&S(e,["safetyAttributes"],w3(a));const i=v(t,["prompt"]);return i!=null&&S(e,["enhancedPrompt"],i),e}function UW(t){const e={},n=v(t,["_self"]);n!=null&&S(e,["mask"],b3(n));const r=v(t,["labels"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>i)),S(e,["labels"],a)}return e}function BW(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],AX(n)),e}function $W(t){const e={},n=v(t,["_self"]);return n!=null&&S(e,["video"],TX(n)),e}function VW(t){const e={},n=v(t,["modelSelectionConfig"]);n!=null&&S(e,["modelConfig"],n);const r=v(t,["audioTimestamp"]);r!=null&&S(e,["audioTimestamp"],r);const a=v(t,["candidateCount"]);a!=null&&S(e,["candidateCount"],a);const i=v(t,["enableAffectiveDialog"]);i!=null&&S(e,["enableAffectiveDialog"],i);const o=v(t,["frequencyPenalty"]);o!=null&&S(e,["frequencyPenalty"],o);const u=v(t,["logprobs"]);u!=null&&S(e,["logprobs"],u);const f=v(t,["maxOutputTokens"]);f!=null&&S(e,["maxOutputTokens"],f);const d=v(t,["mediaResolution"]);d!=null&&S(e,["mediaResolution"],d);const p=v(t,["presencePenalty"]);p!=null&&S(e,["presencePenalty"],p);const h=v(t,["responseJsonSchema"]);h!=null&&S(e,["responseJsonSchema"],h);const y=v(t,["responseLogprobs"]);y!=null&&S(e,["responseLogprobs"],y);const x=v(t,["responseMimeType"]);x!=null&&S(e,["responseMimeType"],x);const T=v(t,["responseModalities"]);T!=null&&S(e,["responseModalities"],T);const w=v(t,["responseSchema"]);w!=null&&S(e,["responseSchema"],w);const A=v(t,["routingConfig"]);A!=null&&S(e,["routingConfig"],A);const C=v(t,["seed"]);C!=null&&S(e,["seed"],C);const j=v(t,["speechConfig"]);j!=null&&S(e,["speechConfig"],A3(j));const _=v(t,["stopSequences"]);_!=null&&S(e,["stopSequences"],_);const M=v(t,["temperature"]);M!=null&&S(e,["temperature"],M);const N=v(t,["thinkingConfig"]);N!=null&&S(e,["thinkingConfig"],N);const k=v(t,["topK"]);k!=null&&S(e,["topK"],k);const P=v(t,["topP"]);return P!=null&&S(e,["topP"],P),e}function FW(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],dt(t,r)),n}function zW(t,e){const n={},r=v(e,["model"]);return r!=null&&S(n,["_url","name"],dt(t,r)),n}function GW(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function HW(t){const e={},n=v(t,["bytesBase64Encoded"]);n!=null&&S(e,["imageBytes"],Wi(n));const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function b3(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&S(e,["imageBytes"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}function sh(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=v(t,["imageBytes"]);n!=null&&S(e,["bytesBase64Encoded"],Wi(n));const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function aa(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["gcsUri"],n);const r=v(t,["imageBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}function KW(t,e,n){const r={},a=v(e,["pageSize"]);n!==void 0&&a!=null&&S(n,["_query","pageSize"],a);const i=v(e,["pageToken"]);n!==void 0&&i!=null&&S(n,["_query","pageToken"],i);const o=v(e,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&S(n,["_url","models_url"],f3(t,u)),r}function YW(t,e,n){const r={},a=v(e,["pageSize"]);n!==void 0&&a!=null&&S(n,["_query","pageSize"],a);const i=v(e,["pageToken"]);n!==void 0&&i!=null&&S(n,["_query","pageToken"],i);const o=v(e,["filter"]);n!==void 0&&o!=null&&S(n,["_query","filter"],o);const u=v(e,["queryBase"]);return n!==void 0&&u!=null&&S(n,["_url","models_url"],f3(t,u)),r}function WW(t,e){const n={},r=v(e,["config"]);return r!=null&&KW(t,r,n),n}function XW(t,e){const n={},r=v(e,["config"]);return r!=null&&YW(t,r,n),n}function JW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["_self"]);if(a!=null){let i=m3(a);Array.isArray(i)&&(i=i.map(o=>hw(o))),S(e,["models"],i)}return e}function QW(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["_self"]);if(a!=null){let i=m3(a);Array.isArray(i)&&(i=i.map(o=>gw(o))),S(e,["models"],i)}return e}function ZW(t){const e={},n=v(t,["maskMode"]);n!=null&&S(e,["maskMode"],n);const r=v(t,["segmentationClasses"]);r!=null&&S(e,["maskClasses"],r);const a=v(t,["maskDilation"]);return a!=null&&S(e,["dilation"],a),e}function hw(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);a!=null&&S(e,["description"],a);const i=v(t,["version"]);i!=null&&S(e,["version"],i);const o=v(t,["_self"]);o!=null&&S(e,["tunedModelInfo"],pX(o));const u=v(t,["inputTokenLimit"]);u!=null&&S(e,["inputTokenLimit"],u);const f=v(t,["outputTokenLimit"]);f!=null&&S(e,["outputTokenLimit"],f);const d=v(t,["supportedGenerationMethods"]);return d!=null&&S(e,["supportedActions"],d),e}function gw(t){const e={},n=v(t,["name"]);n!=null&&S(e,["name"],n);const r=v(t,["displayName"]);r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);a!=null&&S(e,["description"],a);const i=v(t,["versionId"]);i!=null&&S(e,["version"],i);const o=v(t,["deployedModels"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(y=>yW(y))),S(e,["endpoints"],h)}const u=v(t,["labels"]);u!=null&&S(e,["labels"],u);const f=v(t,["_self"]);f!=null&&S(e,["tunedModelInfo"],hX(f));const d=v(t,["defaultCheckpointId"]);d!=null&&S(e,["defaultCheckpointId"],d);const p=v(t,["checkpoints"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(y=>y)),S(e,["checkpoints"],h)}return e}function eX(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],zY(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],vW(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function tX(t){const e={},n=v(t,["productImage"]);return n!=null&&S(e,["image"],aa(n)),e}function nX(t,e){const n={},r=v(t,["numberOfImages"]);e!==void 0&&r!=null&&S(e,["parameters","sampleCount"],r);const a=v(t,["baseSteps"]);e!==void 0&&a!=null&&S(e,["parameters","editConfig","baseSteps"],a);const i=v(t,["outputGcsUri"]);e!==void 0&&i!=null&&S(e,["parameters","storageUri"],i);const o=v(t,["seed"]);e!==void 0&&o!=null&&S(e,["parameters","seed"],o);const u=v(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&S(e,["parameters","safetySetting"],u);const f=v(t,["personGeneration"]);e!==void 0&&f!=null&&S(e,["parameters","personGeneration"],f);const d=v(t,["addWatermark"]);e!==void 0&&d!=null&&S(e,["parameters","addWatermark"],d);const p=v(t,["outputMimeType"]);e!==void 0&&p!=null&&S(e,["parameters","outputOptions","mimeType"],p);const h=v(t,["outputCompressionQuality"]);e!==void 0&&h!=null&&S(e,["parameters","outputOptions","compressionQuality"],h);const y=v(t,["enhancePrompt"]);e!==void 0&&y!=null&&S(e,["parameters","enhancePrompt"],y);const x=v(t,["labels"]);return e!==void 0&&x!=null&&S(e,["labels"],x),n}function rX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["source"]);a!=null&&iX(a,n);const i=v(e,["config"]);return i!=null&&nX(i,n),n}function aX(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>ih(a))),S(e,["generatedImages"],r)}return e}function iX(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["personImage"]);e!==void 0&&a!=null&&S(e,["instances[0]","personImage","image"],aa(a));const i=v(t,["productImages"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(u=>tX(u))),S(e,["instances[0]","productImages"],o)}return n}function sX(t){const e={},n=v(t,["referenceImage"]);n!=null&&S(e,["referenceImage"],aa(n));const r=v(t,["referenceId"]);r!=null&&S(e,["referenceId"],r);const a=v(t,["referenceType"]);a!=null&&S(e,["referenceType"],a);const i=v(t,["maskImageConfig"]);i!=null&&S(e,["maskImageConfig"],ZW(i));const o=v(t,["controlImageConfig"]);o!=null&&S(e,["controlImageConfig"],JY(o));const u=v(t,["styleImageConfig"]);u!=null&&S(e,["styleImageConfig"],u);const f=v(t,["subjectImageConfig"]);return f!=null&&S(e,["subjectImageConfig"],f),e}function S3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const a=v(t,["contentType"]);return a!=null&&S(e,["contentType"],a),e}function w3(t){const e={},n=v(t,["safetyAttributes","categories"]);n!=null&&S(e,["categories"],n);const r=v(t,["safetyAttributes","scores"]);r!=null&&S(e,["scores"],r);const a=v(t,["contentType"]);return a!=null&&S(e,["contentType"],a),e}function oX(t){const e={};if(v(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=v(t,["category"]);n!=null&&S(e,["category"],n);const r=v(t,["threshold"]);return r!=null&&S(e,["threshold"],r),e}function lX(t){const e={},n=v(t,["image"]);return n!=null&&S(e,["image"],aa(n)),e}function uX(t,e){const n={},r=v(t,["mode"]);e!==void 0&&r!=null&&S(e,["parameters","mode"],r);const a=v(t,["maxPredictions"]);e!==void 0&&a!=null&&S(e,["parameters","maxPredictions"],a);const i=v(t,["confidenceThreshold"]);e!==void 0&&i!=null&&S(e,["parameters","confidenceThreshold"],i);const o=v(t,["maskDilation"]);e!==void 0&&o!=null&&S(e,["parameters","maskDilation"],o);const u=v(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&S(e,["parameters","binaryColorThreshold"],u);const f=v(t,["labels"]);return e!==void 0&&f!=null&&S(e,["labels"],f),n}function cX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["source"]);a!=null&&fX(a,n);const i=v(e,["config"]);return i!=null&&uX(i,n),n}function dX(t){const e={},n=v(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>UW(a))),S(e,["generatedMasks"],r)}return e}function fX(t,e){const n={},r=v(t,["prompt"]);e!==void 0&&r!=null&&S(e,["instances[0]","prompt"],r);const a=v(t,["image"]);e!==void 0&&a!=null&&S(e,["instances[0]","image"],aa(a));const i=v(t,["scribbleImage"]);return e!==void 0&&i!=null&&S(e,["instances[0]","scribble"],lX(i)),n}function A3(t){const e={},n=v(t,["voiceConfig"]);if(n!=null&&S(e,["voiceConfig"],n),v(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=v(t,["languageCode"]);return r!=null&&S(e,["languageCode"],r),e}function mX(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],GW(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}function T3(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>xW(y))),S(e,["functionDeclarations"],h)}const r=v(t,["retrieval"]);r!=null&&S(e,["retrieval"],r);const a=v(t,["googleSearch"]);a!=null&&S(e,["googleSearch"],a);const i=v(t,["googleSearchRetrieval"]);i!=null&&S(e,["googleSearchRetrieval"],i);const o=v(t,["enterpriseWebSearch"]);o!=null&&S(e,["enterpriseWebSearch"],o);const u=v(t,["googleMaps"]);u!=null&&S(e,["googleMaps"],u);const f=v(t,["urlContext"]);f!=null&&S(e,["urlContext"],f);const d=v(t,["computerUse"]);d!=null&&S(e,["computerUse"],d);const p=v(t,["codeExecution"]);return p!=null&&S(e,["codeExecution"],p),e}function pX(t){const e={},n=v(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&S(e,["createTime"],r);const a=v(t,["updateTime"]);return a!=null&&S(e,["updateTime"],a),e}function hX(t){const e={},n=v(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["createTime"]);r!=null&&S(e,["createTime"],r);const a=v(t,["updateTime"]);return a!=null&&S(e,["updateTime"],a),e}function gX(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);e!==void 0&&a!=null&&S(e,["description"],a);const i=v(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&S(e,["defaultCheckpointId"],i),n}function yX(t,e){const n={},r=v(t,["displayName"]);e!==void 0&&r!=null&&S(e,["displayName"],r);const a=v(t,["description"]);e!==void 0&&a!=null&&S(e,["description"],a);const i=v(t,["defaultCheckpointId"]);return e!==void 0&&i!=null&&S(e,["defaultCheckpointId"],i),n}function vX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","name"],dt(t,r));const a=v(e,["config"]);return a!=null&&gX(a,n),n}function xX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["config"]);return a!=null&&yX(a,n),n}function bX(t,e){const n={},r=v(t,["outputGcsUri"]);e!==void 0&&r!=null&&S(e,["parameters","storageUri"],r);const a=v(t,["includeRaiReason"]);e!==void 0&&a!=null&&S(e,["parameters","includeRaiReason"],a);const i=v(t,["outputMimeType"]);e!==void 0&&i!=null&&S(e,["parameters","outputOptions","mimeType"],i);const o=v(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&S(e,["parameters","outputOptions","compressionQuality"],o);const u=v(t,["enhanceInputImage"]);e!==void 0&&u!=null&&S(e,["parameters","upscaleConfig","enhanceInputImage"],u);const f=v(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&S(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const d=v(t,["labels"]);e!==void 0&&d!=null&&S(e,["labels"],d);const p=v(t,["numberOfImages"]);e!==void 0&&p!=null&&S(e,["parameters","sampleCount"],p);const h=v(t,["mode"]);return e!==void 0&&h!=null&&S(e,["parameters","mode"],h),n}function SX(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["_url","model"],dt(t,r));const a=v(e,["image"]);a!=null&&S(n,["instances[0]","image"],aa(a));const i=v(e,["upscaleFactor"]);i!=null&&S(n,["parameters","upscaleConfig","upscaleFactor"],i);const o=v(e,["config"]);return o!=null&&bX(o,n),n}function wX(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(i=>ih(i))),S(e,["generatedImages"],a)}return e}function AX(t){const e={},n=v(t,["video","uri"]);n!=null&&S(e,["uri"],n);const r=v(t,["video","encodedVideo"]);r!=null&&S(e,["videoBytes"],Wi(r));const a=v(t,["encoding"]);return a!=null&&S(e,["mimeType"],a),e}function TX(t){const e={},n=v(t,["gcsUri"]);n!=null&&S(e,["uri"],n);const r=v(t,["bytesBase64Encoded"]);r!=null&&S(e,["videoBytes"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}function EX(t){const e={},n=v(t,["image"]);n!=null&&S(e,["_self"],aa(n));const r=v(t,["maskMode"]);return r!=null&&S(e,["maskMode"],r),e}function NX(t){const e={},n=v(t,["image"]);n!=null&&S(e,["image"],sh(n));const r=v(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function _X(t){const e={},n=v(t,["image"]);n!=null&&S(e,["image"],aa(n));const r=v(t,["referenceType"]);return r!=null&&S(e,["referenceType"],r),e}function E3(t){const e={},n=v(t,["uri"]);n!=null&&S(e,["video","uri"],n);const r=v(t,["videoBytes"]);r!=null&&S(e,["video","encodedVideo"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["encoding"],a),e}function N3(t){const e={},n=v(t,["uri"]);n!=null&&S(e,["gcsUri"],n);const r=v(t,["videoBytes"]);r!=null&&S(e,["bytesBase64Encoded"],Wi(r));const a=v(t,["mimeType"]);return a!=null&&S(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CX="Content-Type",MX="X-Server-Timeout",jX="User-Agent",yw="x-goog-api-client",IX="1.23.0",kX=`google-genai-sdk/${IX}`,PX="v1beta1",OX="v1beta",CI=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class RX{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:PX,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:OX,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[o,u]of Object.entries(e.queryParams))a.searchParams.append(o,String(u));let i={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.unaryApiCall(a,i,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[a,i]of Object.entries(n))typeof i=="object"?r[a]=Object.assign(Object.assign({},r[a]),i):i!==void 0&&(r[a]=i);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,n,e.abortSignal),this.streamApiCall(a,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const a=new AbortController,i=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>a.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}r&&r.addEventListener("abort",()=>{a.abort()}),e.signal=i}return n&&n.extraBody!==null&&DX(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await MI(a),new fw(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await MI(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){var n;return fl(this,arguments,function*(){const a=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),i=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let o="";for(;;){const{done:u,value:f}=yield qt(a.read());if(u){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=i.decode(f,{stream:!0});try{const h=JSON.parse(d);if("error"in h){const y=JSON.parse(JSON.stringify(h.error)),x=y.status,T=y.code,w=`got status: ${x}. ${JSON.stringify(h)}`;if(T>=400&&T<600)throw new rh({message:w,status:T})}}catch(h){if(h.name==="ApiError")throw h}o+=d;let p=o.match(CI);for(;p;){const h=p[1];try{const y=new Response(h,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield qt(new fw(y)),o=o.slice(p[0].length),p=o.match(CI)}catch(y){throw new Error(`exception parsing stream chunk ${h}. ${y}`)}}}}finally{a.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=kX+" "+this.clientOptions.userAgentExtra;return e[jX]=n,e[yw]=n,e[CX]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,a]of Object.entries(e.headers))n.append(r,a);e.timeout&&e.timeout>0&&n.append(MX,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);a.sizeBytes=String(o.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:o.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const f=await this.fetchUploadUrl(a,n);return i.upload(e,f,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let a={};n!=null&&n.httpOptions?a=n.httpOptions:a={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},o=await this.request({path:ke("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:a});if(!o||!(o!=null&&o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=o==null?void 0:o.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function MI(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new rh({message:a,status:n}):new Error(a)}}function DX(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const i=JSON.parse(t.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))n=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(i,o){const u=Object.assign({},i);for(const f in o)if(Object.prototype.hasOwnProperty.call(o,f)){const d=o[f],p=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&p&&typeof p=="object"&&!Array.isArray(p)?u[f]=r(p,d):(p&&d&&typeof p!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof p}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const a=r(n,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LX="mcp_used/unknown";let qX=!1;function _3(t){for(const e of t)if(UX(e)||typeof e=="object"&&"inputSchema"in e)return!0;return qX}function C3(t){var e;const n=(e=t[yw])!==null&&e!==void 0?e:"";t[yw]=(n+` ${LX}`).trimStart()}function UX(t){return t!==null&&typeof t=="object"&&t instanceof DT}function BX(t,e=100){return fl(this,arguments,function*(){let r,a=0;for(;a<e;){const i=yield qt(t.listTools({cursor:r}));for(const o of i.tools)yield yield qt(o),a++;if(!i.nextCursor)break;r=i.nextCursor}})}class DT{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new DT(e,n)}async initialize(){var e,n,r,a;if(this.mcpTools.length>0)return;const i={},o=[];for(const p of this.mcpClients)try{for(var u=!0,f=(n=void 0,yc(BX(p))),d;d=await f.next(),e=d.done,!e;u=!0){a=d.value,u=!1;const h=a;o.push(h);const y=h.name;if(i[y])throw new Error(`Duplicate function name ${y} found in MCP tools. Please ensure function names are unique.`);i[y]=p}}catch(h){n={error:h}}finally{try{!u&&!e&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),X7(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const o=await a.callTool({name:r.name,arguments:r.args},void 0,i);n.push({functionResponse:{name:r.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $X(t,e,n){const r=new V7;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(r,a),e(r)}class VX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=GX(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${a}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const p=new Promise(_=>{d=_}),h=e.callbacks,y=function(){d({})},x=this.apiClient,T={onopen:y,onmessage:_=>{$X(x,h.onmessage,_)},onerror:(n=h==null?void 0:h.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=h==null?void 0:h.onclose)!==null&&r!==void 0?r:function(_){}},w=this.webSocketFactory.create(f,zX(o),T);w.connect(),await p;const j={setup:{model:dt(this.apiClient,e.model)}};return w.send(JSON.stringify(j)),new FX(w,this.apiClient)}}class FX{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=RY(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=OY(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(al.PLAY)}pause(){this.sendPlaybackControl(al.PAUSE)}stop(){this.sendPlaybackControl(al.STOP)}resetContext(){this.sendPlaybackControl(al.RESET_CONTEXT)}close(){this.conn.close()}}function zX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function GX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HX="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function KX(t,e,n){const r=new $7;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const i=JSON.parse(a);if(t.isVertexAI()){const o=qY(i);Object.assign(r,o)}else Object.assign(r,i);e(r)}class YX{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new VX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,a,i,o,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let p;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&_3(e.config.tools)&&C3(h);const y=QX(h);if(this.apiClient.isVertexAI())p=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(y);else{const L=this.apiClient.getApiKey();let U="BidiGenerateContent",q="key";L!=null&&L.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),U="BidiGenerateContentConstrained",q="access_token"),p=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${U}?${q}=${L}`}let x=()=>{};const T=new Promise(L=>{x=L}),w=e.callbacks,A=function(){var L;(L=w==null?void 0:w.onopen)===null||L===void 0||L.call(w),x({})},C=this.apiClient,j={onopen:A,onmessage:L=>{KX(C,w.onmessage,L)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(L){}},_=this.webSocketFactory.create(p,JX(y),j);_.connect(),await T;let M=dt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const L=this.apiClient.getProject(),U=this.apiClient.getLocation();M=`projects/${L}/locations/${U}/`+M}let N={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wm.AUDIO]}:e.config.responseModalities=[Wm.AUDIO]),!((i=e.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(u=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[],P=[];for(const L of k)if(this.isCallableTool(L)){const U=L;P.push(await U.tool())}else P.push(L);P.length>0&&(e.config.tools=P);const R={model:M,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?N=PY(this.apiClient,R):N=kY(this.apiClient,R),delete N.config,_.send(JSON.stringify(N)),new XX(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const WX={turnComplete:!0};class XX{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Gr(n.turns),e.isVertexAI()||(r=r.map(a=>ah(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const i of r){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!e.isVertexAI()&&!("id"in i))throw new Error(HX)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},WX),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:LY(e)}:n={realtimeInput:DY(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function JX(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function QX(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jI=10;function II(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const o of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ml(o)){a=!0;break}if(!a)return!0;const i=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function ml(t){return"callTool"in t&&typeof t.callTool=="function"}function ZX(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>ml(a)))!==null&&r!==void 0?r:!1}function eJ(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(a=>!ml(a)))!==null&&r!==void 0?r:!1}function kI(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tJ extends Js{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,a,i,o,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!ZX(n)||II(n.config))return await this.generateContentInternal(f);if(eJ(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,p;const h=Gr(f.contents),y=(i=(a=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&i!==void 0?i:jI;let x=0;for(;x<y&&(d=await this.generateContentInternal(f),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,w=[];for(const A of(u=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&u!==void 0?u:[])if(ml(A)){const j=await A.callTool(d.functionCalls);w.push(...j)}x++,p={role:"user",parts:w},f.contents=Gr(f.contents),f.contents.push(T),f.contents.push(p),kI(f.config)&&(h.push(T),h.push(p))}return kI(f.config)&&(d.automaticFunctionCallingHistory=h),d},this.generateContentStream=async n=>{if(this.maybeMoveToResponseJsonSchem(n),II(n.config)){const r=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let i;const o=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((a=f==null?void 0:f.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?i=f==null?void 0:f.safetyAttributes:o.push(f);let u;return i?u={generatedImages:o,positivePromptSafetyAttributes:i,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:o,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((r=o.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new _d(Bs.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(o),o)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,a;const i=(n=e.config)===null||n===void 0?void 0:n.tools;if(!i)return e;const o=await Promise.all(i.map(async f=>ml(f)?await f.tool():f)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(u.config.tools=o,e.config&&e.config.tools&&_3(e.config.tools)){const f=(a=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),C3(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,a;const i=new Map;for(const o of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ml(o)){const u=o,f=await u.tool();for(const d of(a=f.functionDeclarations)!==null&&a!==void 0?a:[]){if(!d.name)throw new Error("Function declaration name is required.");if(i.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);i.set(d.name,u)}}return i}async processAfcStream(e){var n,r,a;const i=(a=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:jI;let o=!1,u=0;const f=await this.initAfcToolsMap(e);return(function(d,p,h){var y,x;return fl(this,arguments,function*(){for(var T,w,A,C;u<i;){o&&(u++,o=!1);const N=yield qt(d.processParamsMaybeAddMcpUsage(h)),k=yield qt(d.generateContentStreamInternal(N)),P=[],R=[];try{for(var j=!0,_=(w=void 0,yc(k)),M;M=yield qt(_.next()),T=M.done,!T;j=!0){C=M.value,j=!1;const L=C;if(yield yield qt(L),L.candidates&&(!((y=L.candidates[0])===null||y===void 0)&&y.content)){R.push(L.candidates[0].content);for(const U of(x=L.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(u<i&&U.functionCall){if(!U.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(U.functionCall.name)){const q=yield qt(p.get(U.functionCall.name).callTool([U.functionCall]));P.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${U.functionCall.name}`)}}}}catch(L){w={error:L}}finally{try{!j&&!T&&(A=_.return)&&(yield qt(A.call(_)))}finally{if(w)throw w.error}}if(P.length>0){o=!0;const L=new Ju;L.candidates=[{content:{role:"user",parts:P}}],yield yield qt(L);const U=[];U.push(...R),U.push({role:"user",parts:P});const q=Gr(h.contents).concat(U);h.contents=q}else break}})})(this,f,e)}async generateContentInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=EI(this.apiClient,e);return u=ke("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=_I(p),y=new Ju;return Object.assign(y,h),y})}else{const d=TI(this.apiClient,e);return u=ke("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=NI(p),y=new Ju;return Object.assign(y,h),y})}}async generateContentStreamInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=EI(this.apiClient,e);return u=ke("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),o.then(function(h){return fl(this,arguments,function*(){var y,x,T,w;try{for(var A=!0,C=yc(h),j;j=yield qt(C.next()),y=j.done,!y;A=!0){w=j.value,A=!1;const _=w,M=_I(yield qt(_.json()));M.sdkHttpResponse={headers:_.headers};const N=new Ju;Object.assign(N,M),yield yield qt(N)}}catch(_){x={error:_}}finally{try{!A&&!y&&(T=C.return)&&(yield qt(T.call(C)))}finally{if(x)throw x.error}}})})}else{const d=TI(this.apiClient,e);return u=ke("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(h){return fl(this,arguments,function*(){var y,x,T,w;try{for(var A=!0,C=yc(h),j;j=yield qt(C.next()),y=j.done,!y;A=!0){w=j.value,A=!1;const _=w,M=NI(yield qt(_.json()));M.sdkHttpResponse={headers:_.headers};const N=new Ju;Object.assign(N,M),yield yield qt(N)}}catch(_){x={error:_}}finally{try{!A&&!y&&(T=C.return)&&(yield qt(T.call(C)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=pW(this.apiClient,e);return u=ke("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=gW(p),y=new lI;return Object.assign(y,h),y})}else{const d=mW(this.apiClient,e);return u=ke("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=hW(p),y=new lI;return Object.assign(y,h),y})}}async generateImagesInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=EW(this.apiClient,e);return u=ke("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=_W(p),y=new uI;return Object.assign(y,h),y})}else{const d=TW(this.apiClient,e);return u=ke("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=NW(p),y=new uI;return Object.assign(y,h),y})}}async editImageInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=uW(this.apiClient,e);return i=ke("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=cW(f),p=new P7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=SX(this.apiClient,e);return i=ke("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=wX(f),p=new O7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=rX(this.apiClient,e);return i=ke("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const d=aX(f),p=new R7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=cX(this.apiClient,e);return i=ke("{model}:predict",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const d=dX(f),p=new D7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=zW(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>gw(p))}else{const d=FW(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>hw(p))}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=XW(this.apiClient,e);return u=ke("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=QW(p),y=new cI;return Object.assign(y,h),y})}else{const d=WW(this.apiClient,e);return u=ke("{models_url}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=JW(p),y=new cI;return Object.assign(y,h),y})}}async update(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=xX(this.apiClient,e);return u=ke("{model}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>gw(p))}else{const d=vX(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>hw(p))}}async delete(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=iW(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=oW(p),y=new dI;return Object.assign(y,h),y})}else{const d=aW(this.apiClient,e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=sW(p),y=new dI;return Object.assign(y,h),y})}}async countTokens(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=tW(this.apiClient,e);return u=ke("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=rW(p),y=new fI;return Object.assign(y,h),y})}else{const d=eW(this.apiClient,e);return u=ke("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=nW(p),y=new fI;return Object.assign(y,h),y})}}async computeTokens(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=KY(this.apiClient,e);return i=ke("{model}:computeTokens",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>{const d=YY(f),p=new L7;return Object.assign(p,d),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=PW(this.apiClient,e);return u=ke("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o.then(p=>{const h=IW(p),y=new Xm;return Object.assign(y,h),y})}else{const d=kW(this.apiClient,e);return u=ke("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const h=jW(p),y=new Xm;return Object.assign(y,h),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nJ extends Js{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let i;r&&"httpOptions"in r&&(i=r.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:i}});return n._fromAPIResponse({apiResponse:o,isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=j7(e);return u=ke("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),o}else{const d=M7(e);return u=ke("{operationName}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}}async fetchPredictVideosOperationInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=w7(e);return i=ke("{resourceName}:fetchPredictOperation",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rJ(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["data"]);n!=null&&S(e,["data"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function aJ(t){const e={},n=v(t,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(i=>dJ(i))),S(e,["parts"],a)}const r=v(t,["role"]);return r!=null&&S(e,["role"],r),e}function iJ(t,e,n){const r={},a=v(e,["expireTime"]);n!==void 0&&a!=null&&S(n,["expireTime"],a);const i=v(e,["newSessionExpireTime"]);n!==void 0&&i!=null&&S(n,["newSessionExpireTime"],i);const o=v(e,["uses"]);n!==void 0&&o!=null&&S(n,["uses"],o);const u=v(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&S(n,["bidiGenerateContentSetup"],cJ(t,u));const f=v(e,["lockAdditionalFields"]);return n!==void 0&&f!=null&&S(n,["fieldMask"],f),r}function sJ(t,e){const n={},r=v(e,["config"]);return r!=null&&S(n,["config"],iJ(t,r,n)),n}function oJ(t){const e={};if(v(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=v(t,["fileUri"]);n!=null&&S(e,["fileUri"],n);const r=v(t,["mimeType"]);return r!=null&&S(e,["mimeType"],r),e}function lJ(t){const e={},n=v(t,["timeRangeFilter"]);if(n!=null&&S(e,["timeRangeFilter"],n),v(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function uJ(t,e){const n={},r=v(t,["generationConfig"]);e!==void 0&&r!=null&&S(e,["setup","generationConfig"],r);const a=v(t,["responseModalities"]);e!==void 0&&a!=null&&S(e,["setup","generationConfig","responseModalities"],a);const i=v(t,["temperature"]);e!==void 0&&i!=null&&S(e,["setup","generationConfig","temperature"],i);const o=v(t,["topP"]);e!==void 0&&o!=null&&S(e,["setup","generationConfig","topP"],o);const u=v(t,["topK"]);e!==void 0&&u!=null&&S(e,["setup","generationConfig","topK"],u);const f=v(t,["maxOutputTokens"]);e!==void 0&&f!=null&&S(e,["setup","generationConfig","maxOutputTokens"],f);const d=v(t,["mediaResolution"]);e!==void 0&&d!=null&&S(e,["setup","generationConfig","mediaResolution"],d);const p=v(t,["seed"]);e!==void 0&&p!=null&&S(e,["setup","generationConfig","seed"],p);const h=v(t,["speechConfig"]);e!==void 0&&h!=null&&S(e,["setup","generationConfig","speechConfig"],RT(h));const y=v(t,["thinkingConfig"]);e!==void 0&&y!=null&&S(e,["setup","generationConfig","thinkingConfig"],y);const x=v(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&S(e,["setup","generationConfig","enableAffectiveDialog"],x);const T=v(t,["systemInstruction"]);e!==void 0&&T!=null&&S(e,["setup","systemInstruction"],aJ(zn(T)));const w=v(t,["tools"]);if(e!==void 0&&w!=null){let k=Wl(w);Array.isArray(k)&&(k=k.map(P=>mJ(Yl(P)))),S(e,["setup","tools"],k)}const A=v(t,["sessionResumption"]);e!==void 0&&A!=null&&S(e,["setup","sessionResumption"],fJ(A));const C=v(t,["inputAudioTranscription"]);e!==void 0&&C!=null&&S(e,["setup","inputAudioTranscription"],C);const j=v(t,["outputAudioTranscription"]);e!==void 0&&j!=null&&S(e,["setup","outputAudioTranscription"],j);const _=v(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&S(e,["setup","realtimeInputConfig"],_);const M=v(t,["contextWindowCompression"]);e!==void 0&&M!=null&&S(e,["setup","contextWindowCompression"],M);const N=v(t,["proactivity"]);return e!==void 0&&N!=null&&S(e,["setup","proactivity"],N),n}function cJ(t,e){const n={},r=v(e,["model"]);r!=null&&S(n,["setup","model"],dt(t,r));const a=v(e,["config"]);return a!=null&&S(n,["config"],uJ(a,n)),n}function dJ(t){const e={},n=v(t,["videoMetadata"]);n!=null&&S(e,["videoMetadata"],n);const r=v(t,["thought"]);r!=null&&S(e,["thought"],r);const a=v(t,["inlineData"]);a!=null&&S(e,["inlineData"],rJ(a));const i=v(t,["fileData"]);i!=null&&S(e,["fileData"],oJ(i));const o=v(t,["thoughtSignature"]);o!=null&&S(e,["thoughtSignature"],o);const u=v(t,["functionCall"]);u!=null&&S(e,["functionCall"],u);const f=v(t,["codeExecutionResult"]);f!=null&&S(e,["codeExecutionResult"],f);const d=v(t,["executableCode"]);d!=null&&S(e,["executableCode"],d);const p=v(t,["functionResponse"]);p!=null&&S(e,["functionResponse"],p);const h=v(t,["text"]);return h!=null&&S(e,["text"],h),e}function fJ(t){const e={},n=v(t,["handle"]);if(n!=null&&S(e,["handle"],n),v(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function mJ(t){const e={},n=v(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(d=>d)),S(e,["functionDeclarations"],f)}if(v(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=v(t,["googleSearch"]);r!=null&&S(e,["googleSearch"],lJ(r));const a=v(t,["googleSearchRetrieval"]);if(a!=null&&S(e,["googleSearchRetrieval"],a),v(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(v(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");const i=v(t,["urlContext"]);i!=null&&S(e,["urlContext"],i);const o=v(t,["computerUse"]);o!=null&&S(e,["computerUse"],o);const u=v(t,["codeExecution"]);return u!=null&&S(e,["codeExecution"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pJ(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(i=>`${n}.${i}`);e.push(...a)}else e.push(n)}return e.join(",")}function hJ(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const i=r.setup;typeof i=="object"&&i!==null?(t.bidiGenerateContentSetup=i,n=i):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(n){const i=pJ(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)i?t.fieldMask=i:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(d=>o.includes(d)?`generationConfig.${d}`:d));const f=[];i&&f.push(i),u.length>0&&f.push(...u),f.length>0?t.fieldMask=f.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class gJ extends Js{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=sJ(this.apiClient,e);i=ke("auth_tokens",u._url),o=u._query,delete u.config,delete u._url,delete u._query;const f=hJ(u,e.config);return a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),a.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function vJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function xJ(t,e){const n={};if(v(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=v(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&S(e,["displayName"],r),v(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=v(t,["epochCount"]);e!==void 0&&a!=null&&S(e,["tuningTask","hyperparameters","epochCount"],a);const i=v(t,["learningRateMultiplier"]);if(i!=null&&S(n,["tuningTask","hyperparameters","learningRateMultiplier"],i),v(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(v(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(v(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=v(t,["batchSize"]);e!==void 0&&o!=null&&S(e,["tuningTask","hyperparameters","batchSize"],o);const u=v(t,["learningRate"]);if(e!==void 0&&u!=null&&S(e,["tuningTask","hyperparameters","learningRate"],u),v(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return n}function bJ(t,e){const n={},r=v(t,["validationDataset"]);e!==void 0&&r!=null&&S(e,["supervisedTuningSpec"],RJ(r,n));const a=v(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&S(e,["tunedModelDisplayName"],a);const i=v(t,["description"]);e!==void 0&&i!=null&&S(e,["description"],i);const o=v(t,["epochCount"]);e!==void 0&&o!=null&&S(e,["supervisedTuningSpec","hyperParameters","epochCount"],o);const u=v(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&S(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const f=v(t,["exportLastCheckpointOnly"]);e!==void 0&&f!=null&&S(e,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const d=v(t,["adapterSize"]);if(e!==void 0&&d!=null&&S(e,["supervisedTuningSpec","hyperParameters","adapterSize"],d),v(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(v(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=v(t,["labels"]);return e!==void 0&&p!=null&&S(e,["labels"],p),n}function SJ(t){const e={},n=v(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["preTunedModel"]);r!=null&&S(e,["preTunedModel"],r);const a=v(t,["trainingDataset"]);a!=null&&S(e,["tuningTask","trainingData"],kJ(a));const i=v(t,["config"]);return i!=null&&xJ(i,e),e}function wJ(t){const e={},n=v(t,["baseModel"]);n!=null&&S(e,["baseModel"],n);const r=v(t,["preTunedModel"]);r!=null&&S(e,["preTunedModel"],r);const a=v(t,["trainingDataset"]);a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],PJ(a,e));const i=v(t,["config"]);return i!=null&&bJ(i,e),e}function AJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function TJ(t){const e={},n=v(t,["name"]);return n!=null&&S(e,["_url","name"],n),e}function EJ(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const i=v(t,["filter"]);return e!==void 0&&i!=null&&S(e,["_query","filter"],i),n}function NJ(t,e){const n={},r=v(t,["pageSize"]);e!==void 0&&r!=null&&S(e,["_query","pageSize"],r);const a=v(t,["pageToken"]);e!==void 0&&a!=null&&S(e,["_query","pageToken"],a);const i=v(t,["filter"]);return e!==void 0&&i!=null&&S(e,["_query","filter"],i),n}function _J(t){const e={},n=v(t,["config"]);return n!=null&&EJ(n,e),e}function CJ(t){const e={},n=v(t,["config"]);return n!=null&&NJ(n,e),e}function MJ(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["tunedModels"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>M3(o))),S(e,["tuningJobs"],i)}return e}function jJ(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["nextPageToken"]);r!=null&&S(e,["nextPageToken"],r);const a=v(t,["tuningJobs"]);if(a!=null){let i=a;Array.isArray(i)&&(i=i.map(o=>vw(o))),S(e,["tuningJobs"],i)}return e}function IJ(t){const e={},n=v(t,["name"]);n!=null&&S(e,["model"],n);const r=v(t,["name"]);return r!=null&&S(e,["endpoint"],r),e}function kJ(t){const e={};if(v(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(v(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=v(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),S(e,["examples","examples"],r)}return e}function PJ(t,e){const n={},r=v(t,["gcsUri"]);e!==void 0&&r!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],r);const a=v(t,["vertexDatasetResource"]);if(e!==void 0&&a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],a),v(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function M3(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["state"]);a!=null&&S(e,["state"],c3(a));const i=v(t,["createTime"]);i!=null&&S(e,["createTime"],i);const o=v(t,["tuningTask","startTime"]);o!=null&&S(e,["startTime"],o);const u=v(t,["tuningTask","completeTime"]);u!=null&&S(e,["endTime"],u);const f=v(t,["updateTime"]);f!=null&&S(e,["updateTime"],f);const d=v(t,["description"]);d!=null&&S(e,["description"],d);const p=v(t,["baseModel"]);p!=null&&S(e,["baseModel"],p);const h=v(t,["_self"]);h!=null&&S(e,["tunedModel"],IJ(h));const y=v(t,["customBaseModel"]);y!=null&&S(e,["customBaseModel"],y);const x=v(t,["experiment"]);x!=null&&S(e,["experiment"],x);const T=v(t,["labels"]);T!=null&&S(e,["labels"],T);const w=v(t,["outputUri"]);w!=null&&S(e,["outputUri"],w);const A=v(t,["pipelineJob"]);A!=null&&S(e,["pipelineJob"],A);const C=v(t,["serviceAccount"]);C!=null&&S(e,["serviceAccount"],C);const j=v(t,["tunedModelDisplayName"]);j!=null&&S(e,["tunedModelDisplayName"],j);const _=v(t,["veoTuningSpec"]);return _!=null&&S(e,["veoTuningSpec"],_),e}function vw(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["state"]);a!=null&&S(e,["state"],c3(a));const i=v(t,["createTime"]);i!=null&&S(e,["createTime"],i);const o=v(t,["startTime"]);o!=null&&S(e,["startTime"],o);const u=v(t,["endTime"]);u!=null&&S(e,["endTime"],u);const f=v(t,["updateTime"]);f!=null&&S(e,["updateTime"],f);const d=v(t,["error"]);d!=null&&S(e,["error"],d);const p=v(t,["description"]);p!=null&&S(e,["description"],p);const h=v(t,["baseModel"]);h!=null&&S(e,["baseModel"],h);const y=v(t,["tunedModel"]);y!=null&&S(e,["tunedModel"],y);const x=v(t,["preTunedModel"]);x!=null&&S(e,["preTunedModel"],x);const T=v(t,["supervisedTuningSpec"]);T!=null&&S(e,["supervisedTuningSpec"],T);const w=v(t,["tuningDataStats"]);w!=null&&S(e,["tuningDataStats"],w);const A=v(t,["encryptionSpec"]);A!=null&&S(e,["encryptionSpec"],A);const C=v(t,["partnerModelTuningSpec"]);C!=null&&S(e,["partnerModelTuningSpec"],C);const j=v(t,["customBaseModel"]);j!=null&&S(e,["customBaseModel"],j);const _=v(t,["experiment"]);_!=null&&S(e,["experiment"],_);const M=v(t,["labels"]);M!=null&&S(e,["labels"],M);const N=v(t,["outputUri"]);N!=null&&S(e,["outputUri"],N);const k=v(t,["pipelineJob"]);k!=null&&S(e,["pipelineJob"],k);const P=v(t,["serviceAccount"]);P!=null&&S(e,["serviceAccount"],P);const R=v(t,["tunedModelDisplayName"]);R!=null&&S(e,["tunedModelDisplayName"],R);const L=v(t,["veoTuningSpec"]);return L!=null&&S(e,["veoTuningSpec"],L),e}function OJ(t){const e={},n=v(t,["sdkHttpResponse"]);n!=null&&S(e,["sdkHttpResponse"],n);const r=v(t,["name"]);r!=null&&S(e,["name"],r);const a=v(t,["metadata"]);a!=null&&S(e,["metadata"],a);const i=v(t,["done"]);i!=null&&S(e,["done"],i);const o=v(t,["error"]);return o!=null&&S(e,["error"],o),e}function RJ(t,e){const n={},r=v(t,["gcsUri"]);r!=null&&S(n,["validationDatasetUri"],r);const a=v(t,["vertexDatasetResource"]);return e!==void 0&&a!=null&&S(e,["supervisedTuningSpec","trainingDatasetUri"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DJ extends Js{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new _d(Bs.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},n),{preTunedModel:a});return i.baseModel=void 0,await this.tuneInternal(i)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),i=await this.tuneMldevInternal(a);let o="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?o=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(o=i.name.split("/operations/")[0]),{name:o,state:dw.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=TJ(e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>vw(p))}else{const d=AJ(e);return u=ke("{name}",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>M3(p))}}async listInternal(e){var n,r,a,i;let o,u="",f={};if(this.apiClient.isVertexAI()){const d=CJ(e);return u=ke("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=jJ(p),y=new mI;return Object.assign(y,h),y})}else{const d=_J(e);return u=ke("tunedModels",d._url),f=d._query,delete d._url,delete d._query,o=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(h=>{const y=h;return y.sdkHttpResponse={headers:p.headers},y})),o.then(p=>{const h=MJ(p),y=new mI;return Object.assign(y,h),y})}}async cancel(e){var n,r,a,i;let o="",u={};if(this.apiClient.isVertexAI()){const f=vJ(e);o=ke("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=yJ(e);o=ke("{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI()){const u=wJ(e);return i=ke("tuningJobs",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>vw(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let a,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SJ(e);return i=ke("tunedModels",u._url),o=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),a.then(f=>OJ(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LJ{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const qJ=1024*1024*8,UJ=3,BJ=1e3,$J=2,Ev="x-goog-upload-status";async function VJ(t,e,n){var r,a,i;let o=0,u=0,f=new fw(new Response),d="upload";for(o=t.size;u<o;){const h=Math.min(qJ,o-u),y=t.slice(u,u+h);u+h>=o&&(d+=", finalize");let x=0,T=BJ;for(;x<UJ&&(f=await n.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((r=f==null?void 0:f.headers)===null||r===void 0)&&r[Ev]));)x++,await zJ(T),T=T*$J;if(u+=h,((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a[Ev])!=="active")break;if(o<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const p=await(f==null?void 0:f.json());if(((i=f==null?void 0:f.headers)===null||i===void 0?void 0:i[Ev])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return p.file}async function FJ(t){return{size:t.size,type:t.type}}function zJ(t){return new Promise(e=>setTimeout(e,t))}class GJ{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VJ(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await FJ(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HJ{create(e,n,r){return new KJ(e,n,r)}}class KJ{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PI="x-goog-api-key";class YJ{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(PI)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(PI,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WJ="gl-node/";class Cd{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=S7(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const a=new YJ(this.apiKey);this.apiClient=new RX({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:WJ+"web",uploader:new GJ,downloader:new LJ}),this.models=new tJ(this.apiClient),this.live=new YX(this.apiClient,a,new HJ),this.batches=new LK(this.apiClient),this.chats=new pY(this.models,this.apiClient),this.caches=new dY(this.apiClient),this.files=new TY(this.apiClient),this.operations=new nJ(this.apiClient),this.authTokens=new gJ(this.apiClient),this.tunings=new DJ(this.apiClient)}}const j3=({onValidated:t,correctPin:e,userName:n,autoFocus:r=!0})=>{const[a,i]=I.useState("idle"),[o,u]=I.useState(Array(6).fill("")),[f,d]=I.useState(null),p=I.useRef([]),[h,y]=I.useState(null),x=_=>{requestAnimationFrame(()=>{const M=p.current[_];M&&M.focus()})};I.useEffect(()=>{r&&(x(0),y(0))},[r]);const T=(_,M)=>{const{value:N}=_.target;if(/^[0-9]$/.test(N)||N===""){const k=[...o];k[M]=N,u(k),N!==""&&M<5&&(x(M+1),y(M+1)),k.join("").length===6&&A(k.join("")),d(null),i("idle"),N===""&&y(M)}},w=(_,M)=>{_.key==="Backspace"&&(o[M]===""&&M>0?(x(M-1),y(M-1)):y(M))},A=_=>{if(!e){d("Aucun code PIN n'est configuré pour cet utilisateur."),i("error");return}i("validating"),d(null),t(!1),setTimeout(()=>{_===e?(i("success"),t(!0),y(null)):(i("error"),d("Code PIN incorrect. Veuillez réessayer."),u(Array(6).fill("")),typeof navigator<"u"&&typeof navigator.vibrate=="function"&&navigator.vibrate(120),x(0),y(0))},500)},C=()=>{switch(a){case"success":return"border-green-500";case"error":return"border-red-500";default:return"border-gray-300 focus-within:border-primary-500"}},j=(_,M)=>_?h===M?_:"•":"";return c.jsxs("div",{className:"mt-4",children:[c.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-800",children:"Validation par PIN"}),c.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[n?`${n.split(" ")[0]}, veuillez`:"Veuillez"," saisir votre code PIN à 6 chiffres pour confirmer."]}),c.jsx("div",{className:`mb-4 p-4 bg-white border-2 rounded-lg transition-colors ${C()}`,children:c.jsx("div",{className:"mx-auto grid grid-cols-6 gap-2 sm:gap-3 max-w-md",children:o.map((_,M)=>c.jsx("input",{ref:N=>{p.current[M]=N},type:"tel",inputMode:"numeric",pattern:"[0-9]*",value:j(_,M),onChange:N=>T(N,M),onKeyDown:N=>w(N,M),onFocus:()=>y(M),onBlur:()=>y(N=>N===M?null:N),maxLength:1,className:"w-full aspect-square min-w-[2.5rem] text-center text-2xl sm:text-3xl font-bold rounded-md border border-gray-300 focus:ring-primary-500 focus:border-primary-500 disabled:bg-gray-100",disabled:a==="validating"||a==="success","aria-label":`PIN digit ${M+1}`},M))})}),a==="success"&&c.jsx("p",{className:"text-green-600 text-sm mt-2 text-center font-semibold",children:"Validé avec succès !"}),a==="error"&&c.jsx("p",{className:"text-red-600 text-sm mt-2 text-center",children:f}),!e&&c.jsx("p",{className:"text-yellow-700 text-sm mt-2 text-center",children:"Cet utilisateur n'a pas de code PIN configuré. Un administrateur peut en créer un sur la page de détails de l'utilisateur."})]})},Cs=({className:t})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-7 h-7 ${t||""}`.trim(),role:"img","aria-hidden":"true",children:[c.jsx("path",{d:"M17.81 4.94C16.1 3.23 14.05 2 12 2c-2.06 0-4.1 1.23-5.81 2.94-3.3 3.3-3.53 8.96-.54 12.53.36.44 1 .49 1.42.1.37-.35.39-.94.07-1.32-2.39-2.83-2.29-7.11.39-9.79 2.73-2.73 7.17-2.73 9.9 0 2.68 2.68 2.78 6.97.39 9.79-.32.38-.3.96.07 1.32.42.39 1.06.34 1.42-.1 2.99-3.57 2.76-9.23-.54-12.53z"}),c.jsx("path",{d:"M12 6c-1.24 0-2.34.48-3.18 1.32-1.74 1.74-1.92 4.6-.46 6.6.29.4.85.47 1.24.18.37-.28.46-.81.2-1.2-.92-1.26-.79-3.03.32-4.14.94-.94 2.35-1.09 3.48-.45.45.25 1.02.09 1.27-.36.25-.45.09-1.02-.36-1.27-.79-.45-1.64-.68-2.51-.68z"}),c.jsx("path",{d:"M12.26 10.22c-.41-.41-1.1-.39-1.51.02-.41.41-.45 1.09-.09 1.56.2.26.31.58.31.91v5.54c0 .55.45 1 1 1s1-.45 1-1v-5.54c0-.91-.32-1.78-.91-2.49z"})]});function XJ(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4,r=e+"=".repeat(n),a=window.atob(r),i=new ArrayBuffer(a.length),o=new Uint8Array(i);for(let u=0;u<a.length;u++)o[u]=a.charCodeAt(u);return i}const I3=({onValidated:t,userCredentialId:e})=>{const[n,r]=I.useState("idle"),[a,i]=I.useState(null);I.useEffect(()=>{(async()=>{if(t(!1),!window.isSecureContext){r("unsupported"),i("WebAuthn nécessite une connexion sécurisée (HTTPS ou localhost).");return}if(!("PublicKeyCredential"in window)){r("unsupported"),i("WebAuthn n'est pas pris en charge par ce navigateur.");return}try{if(!await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable()){r("unsupported"),i("Aucun capteur d'empreintes digitales disponible sur cet appareil.");return}}catch(p){console.error("Fingerprint availability check failed:",p),r("unsupported"),i("Impossible de vérifier la disponibilité de WebAuthn sur cet appareil.");return}r("idle"),i(null)})()},[t]);const o=async()=>{if(!(n!=="idle"||!e)){if(!navigator.credentials||!navigator.credentials.get){i("WebAuthn n'est pas pris en charge par ce navigateur."),r("unsupported");return}r("scanning"),i(null),t(!1);try{const d=new Uint8Array(32);window.crypto.getRandomValues(d);const p={challenge:d,allowCredentials:[{type:"public-key",id:XJ(e)}],timeout:6e4,userVerification:"required"};if(await navigator.credentials.get({publicKey:p}))r("success"),t(!0);else throw new Error("Assertion failed")}catch(d){console.error("Fingerprint validation error:",d),d.name==="NotAllowedError"?i("Validation annulée."):i("La validation a échoué. Veuillez réessayer."),r("idle"),t(!1)}}},u=()=>{if(!e)return c.jsxs(c.Fragment,{children:[c.jsx(Cs,{className:"text-gray-400"}),c.jsx("span",{className:"ml-2 text-gray-500",children:"Empreinte non enregistrée pour cet utilisateur."})]});switch(n){case"unsupported":return c.jsxs(c.Fragment,{children:[c.jsx(Cs,{className:"text-gray-400"}),c.jsx("span",{className:"ml-2 text-left",children:a||"Le navigateur ne permet pas cette validation."})]});case"scanning":return c.jsxs(c.Fragment,{children:[c.jsx(Cs,{className:"animate-pulse"}),c.jsx("span",{className:"ml-2",children:"Scan en cours..."})]});case"success":return c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),c.jsx("span",{className:"ml-2",children:"Validé"})]});case"error":return c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"material-symbols-outlined",children:"error"}),c.jsx("span",{className:"ml-2",children:a||"Erreur"})]});case"idle":default:return c.jsxs(c.Fragment,{children:[c.jsx(Cs,{}),c.jsx("span",{className:"ml-2",children:"Valider avec l'empreinte digitale"})]})}},f=()=>{let d="w-full font-bold py-3 px-4 rounded-lg flex items-center justify-center shadow-sm transition-colors";if(!e)return`${d} bg-gray-100 text-gray-400 cursor-not-allowed`;switch(n){case"scanning":return`${d} bg-yellow-500 text-white cursor-wait`;case"success":return`${d} bg-green-600 text-white`;case"error":return`${d} bg-red-600 text-white`;case"unsupported":return`${d} bg-gray-100 text-gray-500 cursor-not-allowed`;case"idle":default:return`${d} bg-gray-200 hover:bg-gray-300 text-gray-800`}};return c.jsxs("div",{className:"mt-4",children:[c.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-800",children:"ID par empreinte digitale"}),c.jsx("button",{onClick:o,disabled:!e||n==="unsupported"||n==="scanning",className:f(),"aria-live":"polite",children:u()}),a&&n!=="success"&&n!=="scanning"&&c.jsx("p",{className:"text-red-600 text-sm mt-2 text-center",children:a})]})},JJ={primary:"bg-gradient-to-r from-primary-500 via-primary-500/95 to-primary-600 text-gray-900 hover:brightness-105 disabled:bg-gray-300 disabled:text-gray-500 dark:disabled:bg-gray-700",secondary:"bg-secondary-100 text-secondary-800 hover:bg-secondary-200 dark:bg-secondary-800 dark:text-secondary-100 dark:hover:bg-secondary-700",danger:"bg-status-danger-600 text-white hover:bg-status-danger-500 focus-visible:outline-status-danger-400 disabled:bg-gray-300 dark:disabled:bg-gray-700",ghost:"bg-transparent text-secondary-700 dark:text-secondary-200 hover:bg-secondary-100/60 dark:hover:bg-secondary-800/60"},QJ={sm:"h-9 px-3 text-sm",md:"h-12 px-4 text-base",lg:"h-14 px-6 text-base"},Re=({children:t,variant:e="primary",size:n="md",block:r,loading:a,icon:i,iconPosition:o="left",className:u="",disabled:f,...d})=>{const h=["inline-flex items-center justify-center rounded-[var(--radius-button)] font-semibold transition-all duration-200 ease-out focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary-500 shadow-[var(--shadow-elev-1)] hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5 active:translate-y-0 disabled:hover:translate-y-0 disabled:shadow-none",JJ[e],QJ[n],r?"w-full":"",a?"opacity-80":"",f?"cursor-not-allowed":"",u].filter(Boolean).join(" "),y=i?c.jsx("span",{className:`material-symbols-outlined ${n==="sm"?"!text-base":"!text-xl"} ${t?o==="left"?"mr-2":"ml-2":""}`,children:a?"autorenew":i}):null;return c.jsxs("button",{className:h,disabled:f||a,...d,children:[i&&o==="left"&&y,c.jsx("span",{className:"truncate",children:t}),i&&o==="right"&&y]})},xw=({label:t,className:e="",children:n,...r})=>c.jsxs("label",{className:"block",children:[t&&c.jsx("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),c.jsxs("div",{className:"relative inline-flex",children:[c.jsx("select",{className:["shrink-0 appearance-none rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 py-2 pl-4 pr-10 text-sm font-medium text-gray-700 dark:text-gray-300 focus:border-primary-500 focus:ring-primary-500 cursor-pointer",e].join(" "),...r,children:n}),c.jsx("span",{className:"material-symbols-outlined pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 dark:text-gray-400 !text-base leading-none",children:"expand_more"})]})]});function Vi(t,e,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function OI(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function k3(...t){return e=>{let n=!1;const r=t.map(a=>{const i=OI(a,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<r.length;a++){const i=r[a];typeof i=="function"?i():OI(t[a],null)}}}}function Qs(...t){return I.useCallback(k3(...t),t)}function ZJ(t,e){const n=I.createContext(e),r=i=>{const{children:o,...u}=i,f=I.useMemo(()=>u,Object.values(u));return c.jsx(n.Provider,{value:f,children:o})};r.displayName=t+"Provider";function a(i){const o=I.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,a]}function eQ(t,e=[]){let n=[];function r(i,o){const u=I.createContext(o),f=n.length;n=[...n,o];const d=h=>{var C;const{scope:y,children:x,...T}=h,w=((C=y==null?void 0:y[t])==null?void 0:C[f])||u,A=I.useMemo(()=>T,Object.values(T));return c.jsx(w.Provider,{value:A,children:x})};d.displayName=i+"Provider";function p(h,y){var w;const x=((w=y==null?void 0:y[t])==null?void 0:w[f])||u,T=I.useContext(x);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[d,p]}const a=()=>{const i=n.map(o=>I.createContext(o));return function(u){const f=(u==null?void 0:u[t])||i;return I.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return a.scopeName=t,[r,tQ(a,...e)]}function tQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=r.reduce((u,{useScope:f,scopeName:d})=>{const h=f(i)[`__scope${d}`];return{...u,...h}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var kc=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},nQ=YA[" useId ".trim().toString()]||(()=>{}),rQ=0;function Nv(t){const[e,n]=I.useState(nQ());return kc(()=>{n(r=>r??String(rQ++))},[t]),t||(e?`radix-${e}`:"")}var aQ=YA[" useInsertionEffect ".trim().toString()]||kc;function iQ({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[a,i,o]=sQ({defaultProp:e,onChange:n}),u=t!==void 0,f=u?t:a;{const p=I.useRef(t!==void 0);I.useEffect(()=>{const h=p.current;h!==u&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const d=I.useCallback(p=>{var h;if(u){const y=oQ(p)?p(t):p;y!==t&&((h=o.current)==null||h.call(o,y))}else i(p)},[u,t,i,o]);return[f,d]}function sQ({defaultProp:t,onChange:e}){const[n,r]=I.useState(t),a=I.useRef(n),i=I.useRef(e);return aQ(()=>{i.current=e},[e]),I.useEffect(()=>{var o;a.current!==n&&((o=i.current)==null||o.call(i,n),a.current=n)},[n,a]),[n,r,i]}function oQ(t){return typeof t=="function"}function P3(t){const e=lQ(t),n=I.forwardRef((r,a)=>{const{children:i,...o}=r,u=I.Children.toArray(i),f=u.find(cQ);if(f){const d=f.props.children,p=u.map(h=>h===f?I.Children.count(d)>1?I.Children.only(null):I.isValidElement(d)?d.props.children:null:h);return c.jsx(e,{...o,ref:a,children:I.isValidElement(d)?I.cloneElement(d,void 0,p):null})}return c.jsx(e,{...o,ref:a,children:i})});return n.displayName=`${t}.Slot`,n}function lQ(t){const e=I.forwardRef((n,r)=>{const{children:a,...i}=n;if(I.isValidElement(a)){const o=fQ(a),u=dQ(i,a.props);return a.type!==I.Fragment&&(u.ref=r?k3(r,o):o),I.cloneElement(a,u)}return I.Children.count(a)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uQ=Symbol("radix.slottable");function cQ(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uQ}function dQ(t,e){const n={...e};for(const r in e){const a=t[r],i=e[r];/^on[A-Z]/.test(r)?a&&i?n[r]=(...u)=>{const f=i(...u);return a(...u),f}:a&&(n[r]=a):r==="style"?n[r]={...a,...i}:r==="className"&&(n[r]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function fQ(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ri=mQ.reduce((t,e)=>{const n=P3(`Primitive.${e}`),r=I.forwardRef((a,i)=>{const{asChild:o,...u}=a,f=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(f,{...u,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function pQ(t,e){t&&sq.flushSync(()=>t.dispatchEvent(e))}function Pc(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function hQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pc(t);I.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var gQ="DismissableLayer",bw="dismissableLayer.update",yQ="dismissableLayer.pointerDownOutside",vQ="dismissableLayer.focusOutside",RI,O3=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),R3=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:u,...f}=t,d=I.useContext(O3),[p,h]=I.useState(null),y=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=I.useState({}),T=Qs(e,P=>h(P)),w=Array.from(d.layers),[A]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),C=w.indexOf(A),j=p?w.indexOf(p):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,M=j>=C,N=SQ(P=>{const R=P.target,L=[...d.branches].some(U=>U.contains(R));!M||L||(a==null||a(P),o==null||o(P),P.defaultPrevented||u==null||u())},y),k=wQ(P=>{const R=P.target;[...d.branches].some(U=>U.contains(R))||(i==null||i(P),o==null||o(P),P.defaultPrevented||u==null||u())},y);return hQ(P=>{j===d.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},y),I.useEffect(()=>{if(p)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(RI=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(p)),d.layers.add(p),DI(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=RI)}},[p,y,n,d]),I.useEffect(()=>()=>{p&&(d.layers.delete(p),d.layersWithOutsidePointerEventsDisabled.delete(p),DI())},[p,d]),I.useEffect(()=>{const P=()=>x({});return document.addEventListener(bw,P),()=>document.removeEventListener(bw,P)},[]),c.jsx(ri.div,{...f,ref:T,style:{pointerEvents:_?M?"auto":"none":void 0,...t.style},onFocusCapture:Vi(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Vi(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Vi(t.onPointerDownCapture,N.onPointerDownCapture)})});R3.displayName=gQ;var xQ="DismissableLayerBranch",bQ=I.forwardRef((t,e)=>{const n=I.useContext(O3),r=I.useRef(null),a=Qs(e,r);return I.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ri.div,{...t,ref:a})});bQ.displayName=xQ;function SQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pc(t),r=I.useRef(!1),a=I.useRef(()=>{});return I.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let f=function(){D3(yQ,n,d,{discrete:!0})};const d={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=f,e.addEventListener("click",a.current,{once:!0})):f()}else e.removeEventListener("click",a.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function wQ(t,e=globalThis==null?void 0:globalThis.document){const n=Pc(t),r=I.useRef(!1);return I.useEffect(()=>{const a=i=>{i.target&&!r.current&&D3(vQ,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DI(){const t=new CustomEvent(bw);document.dispatchEvent(t)}function D3(t,e,n,{discrete:r}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&a.addEventListener(t,e,{once:!0}),r?pQ(a,i):a.dispatchEvent(i)}var _v="focusScope.autoFocusOnMount",Cv="focusScope.autoFocusOnUnmount",LI={bubbles:!1,cancelable:!0},AQ="FocusScope",L3=I.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[u,f]=I.useState(null),d=Pc(a),p=Pc(i),h=I.useRef(null),y=Qs(e,w=>f(w)),x=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(r){let w=function(_){if(x.paused||!u)return;const M=_.target;u.contains(M)?h.current=M:Li(h.current,{select:!0})},A=function(_){if(x.paused||!u)return;const M=_.relatedTarget;M!==null&&(u.contains(M)||Li(h.current,{select:!0}))},C=function(_){if(document.activeElement===document.body)for(const N of _)N.removedNodes.length>0&&Li(u)};document.addEventListener("focusin",w),document.addEventListener("focusout",A);const j=new MutationObserver(C);return u&&j.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",A),j.disconnect()}}},[r,u,x.paused]),I.useEffect(()=>{if(u){UI.add(x);const w=document.activeElement;if(!u.contains(w)){const C=new CustomEvent(_v,LI);u.addEventListener(_v,d),u.dispatchEvent(C),C.defaultPrevented||(TQ(MQ(q3(u)),{select:!0}),document.activeElement===w&&Li(u))}return()=>{u.removeEventListener(_v,d),setTimeout(()=>{const C=new CustomEvent(Cv,LI);u.addEventListener(Cv,p),u.dispatchEvent(C),C.defaultPrevented||Li(w??document.body,{select:!0}),u.removeEventListener(Cv,p),UI.remove(x)},0)}}},[u,d,p,x]);const T=I.useCallback(w=>{if(!n&&!r||x.paused)return;const A=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,C=document.activeElement;if(A&&C){const j=w.currentTarget,[_,M]=EQ(j);_&&M?!w.shiftKey&&C===M?(w.preventDefault(),n&&Li(_,{select:!0})):w.shiftKey&&C===_&&(w.preventDefault(),n&&Li(M,{select:!0})):C===j&&w.preventDefault()}},[n,r,x.paused]);return c.jsx(ri.div,{tabIndex:-1,...o,ref:y,onKeyDown:T})});L3.displayName=AQ;function TQ(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Li(r,{select:e}),document.activeElement!==n)return}function EQ(t){const e=q3(t),n=qI(e,t),r=qI(e.reverse(),t);return[n,r]}function q3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function qI(t,e){for(const n of t)if(!NQ(n,{upTo:e}))return n}function NQ(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function _Q(t){return t instanceof HTMLInputElement&&"select"in t}function Li(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&_Q(t)&&e&&t.select()}}var UI=CQ();function CQ(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=BI(t,e),t.unshift(e)},remove(e){var n;t=BI(t,e),(n=t[0])==null||n.resume()}}}function BI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function MQ(t){return t.filter(e=>e.tagName!=="A")}var jQ="Portal",U3=I.forwardRef((t,e)=>{var u;const{container:n,...r}=t,[a,i]=I.useState(!1);kc(()=>i(!0),[]);const o=n||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return o?cF.createPortal(c.jsx(ri.div,{...r,ref:e}),o):null});U3.displayName=jQ;function IQ(t,e){return I.useReducer((n,r)=>e[n][r]??n,t)}var oh=t=>{const{present:e,children:n}=t,r=kQ(e),a=typeof n=="function"?n({present:r.isPresent}):I.Children.only(n),i=Qs(r.ref,PQ(a));return typeof n=="function"||r.isPresent?I.cloneElement(a,{ref:i}):null};oh.displayName="Presence";function kQ(t){const[e,n]=I.useState(),r=I.useRef(null),a=I.useRef(t),i=I.useRef("none"),o=t?"mounted":"unmounted",[u,f]=IQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const d=dm(r.current);i.current=u==="mounted"?d:"none"},[u]),kc(()=>{const d=r.current,p=a.current;if(p!==t){const y=i.current,x=dm(d);t?f("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?f("UNMOUNT"):f(p&&y!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,f]),kc(()=>{if(e){let d;const p=e.ownerDocument.defaultView??window,h=x=>{const w=dm(r.current).includes(CSS.escape(x.animationName));if(x.target===e&&w&&(f("ANIMATION_END"),!a.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",d=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},y=x=>{x.target===e&&(i.current=dm(r.current))};return e.addEventListener("animationstart",y),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{p.clearTimeout(d),e.removeEventListener("animationstart",y),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:I.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function dm(t){return(t==null?void 0:t.animationName)||"none"}function PQ(t){var r,a;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Mv=0;function OQ(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??$I()),document.body.insertAdjacentElement("beforeend",t[1]??$I()),Mv++,()=>{Mv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Mv--}},[])}function $I(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var da=function(){return da=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},da.apply(this,arguments)};function B3(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function RQ(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var $m="right-scroll-bar-position",Vm="width-before-scroll-bar",DQ="with-scroll-bars-hidden",LQ="--removed-body-scroll-bar-size";function jv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function qQ(t,e){var n=I.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=e,n.facade}var UQ=typeof window<"u"?I.useLayoutEffect:I.useEffect,VI=new WeakMap;function BQ(t,e){var n=qQ(null,function(r){return t.forEach(function(a){return jv(a,r)})});return UQ(function(){var r=VI.get(n);if(r){var a=new Set(r),i=new Set(t),o=n.current;a.forEach(function(u){i.has(u)||jv(u,null)}),i.forEach(function(u){a.has(u)||jv(u,o)})}VI.set(n,t)},[t]),n}function $Q(t){return t}function VQ(t,e){e===void 0&&(e=$Q);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(i),o=n}var f=function(){var p=o;o=[],p.forEach(i)},d=function(){return Promise.resolve().then(f)};d(),n={push:function(p){o.push(p),d()},filter:function(p){return o=o.filter(p),n}}}};return a}function FQ(t){t===void 0&&(t={});var e=VQ(null);return e.options=da({async:!0,ssr:!1},t),e}var $3=function(t){var e=t.sideCar,n=B3(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return I.createElement(r,da({},n))};$3.isSideCarExport=!0;function zQ(t,e){return t.useMedium(e),$3}var V3=FQ(),Iv=function(){},lh=I.forwardRef(function(t,e){var n=I.useRef(null),r=I.useState({onScrollCapture:Iv,onWheelCapture:Iv,onTouchMoveCapture:Iv}),a=r[0],i=r[1],o=t.forwardProps,u=t.children,f=t.className,d=t.removeScrollBar,p=t.enabled,h=t.shards,y=t.sideCar,x=t.noRelative,T=t.noIsolation,w=t.inert,A=t.allowPinchZoom,C=t.as,j=C===void 0?"div":C,_=t.gapMode,M=B3(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=y,k=BQ([n,e]),P=da(da({},M),a);return I.createElement(I.Fragment,null,p&&I.createElement(N,{sideCar:V3,removeScrollBar:d,shards:h,noRelative:x,noIsolation:T,inert:w,setCallbacks:i,allowPinchZoom:!!A,lockRef:n,gapMode:_}),o?I.cloneElement(I.Children.only(u),da(da({},P),{ref:k})):I.createElement(j,da({},P,{className:f,ref:k}),u))});lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lh.classNames={fullWidth:Vm,zeroRight:$m};var GQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=GQ();return e&&t.setAttribute("nonce",e),t}function KQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function YQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var WQ=function(){var t=0,e=null;return{add:function(n){t==0&&(e=HQ())&&(KQ(e,n),YQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},XQ=function(){var t=WQ();return function(e,n){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},F3=function(){var t=XQ(),e=function(n){var r=n.styles,a=n.dynamic;return t(r,a),null};return e},JQ={left:0,top:0,right:0,gap:0},kv=function(t){return parseInt(t||"",10)||0},QQ=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[kv(n),kv(r),kv(a)]},ZQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return JQ;var e=QQ(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},eZ=F3(),pl="data-scroll-locked",tZ=function(t,e,n,r){var a=t.left,i=t.top,o=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(DQ,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(pl,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($m,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Vm,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat($m," .").concat($m,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Vm," .").concat(Vm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pl,`] {
    `).concat(LQ,": ").concat(u,`px;
  }
`)},FI=function(){var t=parseInt(document.body.getAttribute(pl)||"0",10);return isFinite(t)?t:0},nZ=function(){I.useEffect(function(){return document.body.setAttribute(pl,(FI()+1).toString()),function(){var t=FI()-1;t<=0?document.body.removeAttribute(pl):document.body.setAttribute(pl,t.toString())}},[])},rZ=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,a=r===void 0?"margin":r;nZ();var i=I.useMemo(function(){return ZQ(a)},[a]);return I.createElement(eZ,{styles:tZ(i,!e,a,n?"":"!important")})},Sw=!1;if(typeof window<"u")try{var fm=Object.defineProperty({},"passive",{get:function(){return Sw=!0,!0}});window.addEventListener("test",fm,fm),window.removeEventListener("test",fm,fm)}catch{Sw=!1}var Ho=Sw?{passive:!1}:!1,aZ=function(t){return t.tagName==="TEXTAREA"},z3=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!aZ(t)&&n[e]==="visible")},iZ=function(t){return z3(t,"overflowY")},sZ=function(t){return z3(t,"overflowX")},zI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=G3(t,r);if(a){var i=H3(t,r),o=i[1],u=i[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},oZ=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},lZ=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},G3=function(t,e){return t==="v"?iZ(e):sZ(e)},H3=function(t,e){return t==="v"?oZ(e):lZ(e)},uZ=function(t,e){return t==="h"&&e==="rtl"?-1:1},cZ=function(t,e,n,r,a){var i=uZ(t,window.getComputedStyle(e).direction),o=i*r,u=n.target,f=e.contains(u),d=!1,p=o>0,h=0,y=0;do{if(!u)break;var x=H3(t,u),T=x[0],w=x[1],A=x[2],C=w-A-i*T;(T||C)&&G3(t,u)&&(h+=C,y+=T);var j=u.parentNode;u=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(p&&Math.abs(h)<1||!p&&Math.abs(y)<1)&&(d=!0),d},mm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GI=function(t){return[t.deltaX,t.deltaY]},HI=function(t){return t&&"current"in t?t.current:t},dZ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},fZ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},mZ=0,Ko=[];function pZ(t){var e=I.useRef([]),n=I.useRef([0,0]),r=I.useRef(),a=I.useState(mZ++)[0],i=I.useState(F3)[0],o=I.useRef(t);I.useEffect(function(){o.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var w=RQ([t.lockRef.current],(t.shards||[]).map(HI),!0).filter(Boolean);return w.forEach(function(A){return A.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var u=I.useCallback(function(w,A){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var C=mm(w),j=n.current,_="deltaX"in w?w.deltaX:j[0]-C[0],M="deltaY"in w?w.deltaY:j[1]-C[1],N,k=w.target,P=Math.abs(_)>Math.abs(M)?"h":"v";if("touches"in w&&P==="h"&&k.type==="range")return!1;var R=zI(P,k);if(!R)return!0;if(R?N=P:(N=P==="v"?"h":"v",R=zI(P,k)),!R)return!1;if(!r.current&&"changedTouches"in w&&(_||M)&&(r.current=N),!N)return!0;var L=r.current||N;return cZ(L,A,w,L==="h"?_:M)},[]),f=I.useCallback(function(w){var A=w;if(!(!Ko.length||Ko[Ko.length-1]!==i)){var C="deltaY"in A?GI(A):mm(A),j=e.current.filter(function(N){return N.name===A.type&&(N.target===A.target||A.target===N.shadowParent)&&dZ(N.delta,C)})[0];if(j&&j.should){A.cancelable&&A.preventDefault();return}if(!j){var _=(o.current.shards||[]).map(HI).filter(Boolean).filter(function(N){return N.contains(A.target)}),M=_.length>0?u(A,_[0]):!o.current.noIsolation;M&&A.cancelable&&A.preventDefault()}}},[]),d=I.useCallback(function(w,A,C,j){var _={name:w,delta:A,target:C,should:j,shadowParent:hZ(C)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(M){return M!==_})},1)},[]),p=I.useCallback(function(w){n.current=mm(w),r.current=void 0},[]),h=I.useCallback(function(w){d(w.type,GI(w),w.target,u(w,t.lockRef.current))},[]),y=I.useCallback(function(w){d(w.type,mm(w),w.target,u(w,t.lockRef.current))},[]);I.useEffect(function(){return Ko.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:y}),document.addEventListener("wheel",f,Ho),document.addEventListener("touchmove",f,Ho),document.addEventListener("touchstart",p,Ho),function(){Ko=Ko.filter(function(w){return w!==i}),document.removeEventListener("wheel",f,Ho),document.removeEventListener("touchmove",f,Ho),document.removeEventListener("touchstart",p,Ho)}},[]);var x=t.removeScrollBar,T=t.inert;return I.createElement(I.Fragment,null,T?I.createElement(i,{styles:fZ(a)}):null,x?I.createElement(rZ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function hZ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const gZ=zQ(V3,pZ);var K3=I.forwardRef(function(t,e){return I.createElement(lh,da({},t,{ref:e,sideCar:gZ}))});K3.classNames=lh.classNames;var yZ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yo=new WeakMap,pm=new WeakMap,hm={},Pv=0,Y3=function(t){return t&&(t.host||Y3(t.parentNode))},vZ=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Y3(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},xZ=function(t,e,n,r){var a=vZ(e,Array.isArray(t)?t:[t]);hm[n]||(hm[n]=new WeakMap);var i=hm[n],o=[],u=new Set,f=new Set(a),d=function(h){!h||u.has(h)||(u.add(h),d(h.parentNode))};a.forEach(d);var p=function(h){!h||f.has(h)||Array.prototype.forEach.call(h.children,function(y){if(u.has(y))p(y);else try{var x=y.getAttribute(r),T=x!==null&&x!=="false",w=(Yo.get(y)||0)+1,A=(i.get(y)||0)+1;Yo.set(y,w),i.set(y,A),o.push(y),w===1&&T&&pm.set(y,!0),A===1&&y.setAttribute(n,"true"),T||y.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",y,C)}})};return p(e),u.clear(),Pv++,function(){o.forEach(function(h){var y=Yo.get(h)-1,x=i.get(h)-1;Yo.set(h,y),i.set(h,x),y||(pm.has(h)||h.removeAttribute(r),pm.delete(h)),x||h.removeAttribute(n)}),Pv--,Pv||(Yo=new WeakMap,Yo=new WeakMap,pm=new WeakMap,hm={})}},bZ=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),a=yZ(t);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),xZ(r,a,n,"aria-hidden")):function(){return null}},uh="Dialog",[W3]=eQ(uh),[SZ,ia]=W3(uh),X3=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,u=I.useRef(null),f=I.useRef(null),[d,p]=iQ({prop:r,defaultProp:a??!1,onChange:i,caller:uh});return c.jsx(SZ,{scope:e,triggerRef:u,contentRef:f,contentId:Nv(),titleId:Nv(),descriptionId:Nv(),open:d,onOpenChange:p,onOpenToggle:I.useCallback(()=>p(h=>!h),[p]),modal:o,children:n})};X3.displayName=uh;var J3="DialogTrigger",wZ=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(J3,n),i=Qs(e,a.triggerRef);return c.jsx(ri.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":UT(a.open),...r,ref:i,onClick:Vi(t.onClick,a.onOpenToggle)})});wZ.displayName=J3;var LT="DialogPortal",[AZ,Q3]=W3(LT,{forceMount:void 0}),Z3=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:a}=t,i=ia(LT,e);return c.jsx(AZ,{scope:e,forceMount:n,children:I.Children.map(r,o=>c.jsx(oh,{present:n||i.open,children:c.jsx(U3,{asChild:!0,container:a,children:o})}))})};Z3.displayName=LT;var Qm="DialogOverlay",eU=I.forwardRef((t,e)=>{const n=Q3(Qm,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=ia(Qm,t.__scopeDialog);return i.modal?c.jsx(oh,{present:r||i.open,children:c.jsx(EZ,{...a,ref:e})}):null});eU.displayName=Qm;var TZ=P3("DialogOverlay.RemoveScroll"),EZ=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(Qm,n);return c.jsx(K3,{as:TZ,allowPinchZoom:!0,shards:[a.contentRef],children:c.jsx(ri.div,{"data-state":UT(a.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$s="DialogContent",tU=I.forwardRef((t,e)=>{const n=Q3($s,t.__scopeDialog),{forceMount:r=n.forceMount,...a}=t,i=ia($s,t.__scopeDialog);return c.jsx(oh,{present:r||i.open,children:i.modal?c.jsx(NZ,{...a,ref:e}):c.jsx(_Z,{...a,ref:e})})});tU.displayName=$s;var NZ=I.forwardRef((t,e)=>{const n=ia($s,t.__scopeDialog),r=I.useRef(null),a=Qs(e,n.contentRef,r);return I.useEffect(()=>{const i=r.current;if(i)return bZ(i)},[]),c.jsx(nU,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vi(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Vi(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&i.preventDefault()}),onFocusOutside:Vi(t.onFocusOutside,i=>i.preventDefault())})}),_Z=I.forwardRef((t,e)=>{const n=ia($s,t.__scopeDialog),r=I.useRef(!1),a=I.useRef(!1);return c.jsx(nU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,u;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{var f,d;(f=t.onInteractOutside)==null||f.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),nU=I.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,u=ia($s,n),f=I.useRef(null),d=Qs(e,f);return OQ(),c.jsxs(c.Fragment,{children:[c.jsx(L3,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:c.jsx(R3,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":UT(u.open),...o,ref:d,onDismiss:()=>u.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(MZ,{titleId:u.titleId}),c.jsx(IZ,{contentRef:f,descriptionId:u.descriptionId})]})]})}),qT="DialogTitle",rU=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(qT,n);return c.jsx(ri.h2,{id:a.titleId,...r,ref:e})});rU.displayName=qT;var aU="DialogDescription",iU=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(aU,n);return c.jsx(ri.p,{id:a.descriptionId,...r,ref:e})});iU.displayName=aU;var sU="DialogClose",CZ=I.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,a=ia(sU,n);return c.jsx(ri.button,{type:"button",...r,ref:e,onClick:Vi(t.onClick,()=>a.onOpenChange(!1))})});CZ.displayName=sU;function UT(t){return t?"open":"closed"}var oU="DialogTitleWarning",[Vve,lU]=ZJ(oU,{contentName:$s,titleName:qT,docsSlug:"dialog"}),MZ=({titleId:t})=>{const e=lU(oU),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},jZ="DialogDescriptionWarning",IZ=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${lU(jZ).contentName}}.`;return I.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},kZ=X3,PZ=Z3,OZ=eU,RZ=tU,DZ=rU,LZ=iU;const qZ={sm:"md:max-w-sm",md:"md:max-w-md",lg:"md:max-w-lg"},Zs=({isOpen:t,onClose:e,title:n,children:r,size:a="md",footer:i})=>c.jsx(kZ,{open:t,onOpenChange:o=>{o||e()},children:c.jsxs(PZ,{children:[c.jsx(OZ,{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm"}),c.jsxs(RZ,{className:`fixed inset-x-0 bottom-0 z-50 mx-auto w-full surface-card surface-card-gradient shadow-2xl border-t-2 md:border-t-0 md:border-2 border-white/60 dark:border-white/10 rounded-t-3xl md:bottom-auto md:top-1/2 md:-translate-y-1/2 md:rounded-3xl ${qZ[a]} md:animate-fade-in animate-slide-up focus:outline-none`,onEscapeKeyDown:o=>{o.preventDefault(),e()},onPointerDownOutside:o=>{o.preventDefault(),e()},onFocusOutside:o=>o.preventDefault(),children:[c.jsx("div",{className:"flex justify-center py-4 md:hidden",children:c.jsx("div",{className:"h-1.5 w-12 rounded-full bg-gradient-to-r from-primary-300 via-primary-400 to-primary-300 dark:from-primary-700 dark:via-primary-600 dark:to-primary-700 shadow-sm"})}),(n||n==="")&&c.jsx(DZ,{className:"px-6 pt-2 md:pt-4 text-center text-xl font-bold text-white tracking-tight md:text-left",children:n}),c.jsx(LZ,{asChild:!0,children:c.jsx("div",{className:"px-6 py-5 text-gray-700 dark:text-secondary-100",children:r})}),i&&c.jsx("div",{className:"px-6 pt-3 pb-5 border-t border-white/40 dark:border-white/5",children:i})]})]})}),ww=({label:t,iconLeft:e,className:n="",...r})=>c.jsxs("label",{className:"block",children:[t&&c.jsx("span",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:t}),c.jsxs("div",{className:"relative",children:[e&&c.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 !text-base",children:e}),c.jsx("input",{className:["w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 shadow-sm focus:border-primary-500 focus:ring-primary-500",e?"pl-9 pr-3 py-2":"px-3 py-2",n].join(" "),...r})]})]});function UZ(t){const e=new Uint8Array(t);let n="";for(const a of e)n+=String.fromCharCode(a);return window.btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}const BZ=({isOpen:t,onClose:e,onSave:n,userId:r,userName:a,existingCredentialId:i})=>{const[o,u]=I.useState("idle"),[f,d]=I.useState(null),[p,h]=I.useState(null),[y,x]=I.useState(!0);I.useEffect(()=>{if(t){if(u("idle"),d(null),h(null),x(!0),!window.isSecureContext){h("WebAuthn nécessite une connexion sécurisée (HTTPS ou localhost)."),x(!1);return}if(!("PublicKeyCredential"in window)){h("WebAuthn n'est pas pris en charge par ce navigateur."),x(!1);return}PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable().then(j=>{j||(h("Aucun capteur biométrique compatible WebAuthn n'a été détecté sur cet appareil."),x(!1))}).catch(j=>{console.error("Fingerprint availability check failed:",j),h("Impossible de vérifier la disponibilité de WebAuthn sur cet appareil."),x(!1)})}},[t]);const T=async()=>{if(y){if(!navigator.credentials||!navigator.credentials.create){d("WebAuthn n'est pas pris en charge par ce navigateur."),u("error");return}u("prompting"),d(null);try{const j=new Uint8Array(32);window.crypto.getRandomValues(j);const _={challenge:j,rp:{name:"Neemba Tracker",id:window.location.hostname},user:{id:new Uint8Array(Array.from(r).map(N=>N.charCodeAt(0))),name:a,displayName:a},pubKeyCredParams:[{alg:-7,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required",requireResidentKey:!0},timeout:6e4,attestation:"none"};u("registering");const M=await navigator.credentials.create({publicKey:_});if(M&&M.rawId){const N=UZ(M.rawId);u("success"),n(N)}else throw new Error("La création des informations d'identification a échoué.")}catch(j){console.error("Erreur d'enregistrement d'empreinte digitale:",j),j.name==="NotAllowedError"?d("L'enregistrement a été annulé."):d("L'enregistrement a échoué. Veuillez réessayer."),u("error")}}},w=()=>{n("")},A=()=>{switch(o){case"prompting":return c.jsx("p",{children:"Veuillez suivre les instructions de votre navigateur pour continuer."});case"registering":return c.jsx("p",{children:"Veuillez toucher le capteur d'empreintes digitales..."});case"success":return c.jsx("p",{className:"text-green-600 font-semibold",children:"Enregistrement réussi !"});case"error":return c.jsx("p",{className:"text-red-600",children:f});case"idle":default:return c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-gray-600",children:i?"Une empreinte est déjà enregistrée. Vous pouvez l'enregistrer à nouveau ou la supprimer.":"Cliquez sur 'Démarrer' pour enregistrer une empreinte digitale pour cet utilisateur."}),p&&c.jsx("p",{className:"mt-3 text-sm text-red-600",children:p})]})}},C=i?c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"danger",onClick:w,children:"Supprimer"}),c.jsx(Re,{onClick:T,disabled:o==="registering"||o==="prompting"||!y,children:"Ré-enregistrer"})]}):c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{onClick:T,disabled:o==="registering"||o==="prompting"||!y,children:"Démarrer"})]});return c.jsx(Zs,{isOpen:t,onClose:e,title:`${i?"Gérer":"Enregistrer"} l'empreinte digitale`,size:"md",footer:C,children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"p-3 bg-primary-100 rounded-full mb-4",children:c.jsx(Cs,{className:"text-primary-600 !w-8 !h-8"})}),c.jsxs("p",{className:"mt-2 text-base text-gray-600 dark:text-gray-300",children:["pour ",a]}),c.jsx("div",{className:"mt-4 h-12 flex items-center justify-center",children:A()})]})})},ai=({isOpen:t,onClose:e,onConfirm:n,title:r,children:a,confirmButtonText:i="Confirmer",confirmButtonVariant:o="danger",icon:u="delete",iconBgColor:f="bg-red-100",iconColor:d="text-red-500"})=>{const p=o==="danger"?"danger":"primary";return c.jsx(Zs,{isOpen:t,onClose:e,title:r,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{variant:p,onClick:n,children:i})]}),children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-white !text-5xl mb-3",children:u}),c.jsx("div",{className:"mt-1 px-2 text-base leading-relaxed text-white/90 font-medium",children:a})]})})},Aw=({isOpen:t,onClose:e,title:n,children:r,primaryButtonText:a,onPrimaryClick:i,secondaryButtonText:o,onSecondaryClick:u,icon:f,iconBgColor:d,iconColor:p})=>c.jsx(Zs,{isOpen:t,onClose:e,title:n,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:o?u:e,children:o||"Annuler"}),c.jsx(Re,{onClick:i,children:a})]}),children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-white !text-5xl mb-3",children:f}),c.jsx("div",{className:"mt-1 text-base text-white/90 font-medium leading-relaxed",children:r})]})}),uU=({isOpen:t,onClose:e,onConfirm:n,title:r="Rejeter la demande",message:a="Veuillez fournir une raison pour le rejet. Ceci sera enregistré dans l'historique."})=>{const[i,o]=I.useState(""),u=()=>{i.trim()&&(n(i),o(""))},f=()=>{o(""),e()};return c.jsxs(Zs,{isOpen:t,onClose:f,title:r,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:f,children:"Annuler"}),c.jsx(Re,{variant:"danger",onClick:u,disabled:!i.trim(),children:"Rejeter"})]}),children:[c.jsx("p",{className:"text-base text-gray-600 dark:text-gray-300 mb-4",children:a}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",htmlFor:"rejection-reason",children:"Raison du rejet"}),c.jsx("textarea",{id:"rejection-reason",value:i,onChange:d=>o(d.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-200 shadow-sm focus:border-primary-500 focus:ring-primary-500",rows:3,placeholder:"Entrez la raison ici..."})]})]})},cU=({isOpen:t,onClose:e,onConfirm:n,assignment:r,equipment:a,userToValidate:i,actorLabel:o,instructions:u})=>{var A,C,j;const[f,d]=I.useState(null),[p,h]=I.useState(!1);I.useEffect(()=>{t||(d(null),h(!1))},[t]),I.useEffect(()=>{if(!t||f)return;const _=!!i.pin,M=typeof window<"u"?window.innerWidth<768:!1;_&&M&&d("pin")},[t,f,i.pin]);const y=r.action===ze.ASSIGN,x=o?`Valider en tant que ${o}`:y?"Confirmer l'attribution":"Confirmer le retour",T=o?`Valider en tant que ${o}`:y?"Confirmer et accepter":"Confirmer le retour",w=_=>{f!==_&&h(!1),d(_)};return c.jsx(Zs,{isOpen:t,onClose:e,title:x,size:"md",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{onClick:n,disabled:!p,children:T})]}),children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"flex items-center justify-center bg-primary-100 rounded-full mb-4 size-14",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 !text-3xl",children:y?"task_alt":"undo"})}),c.jsx("div",{className:"mt-4 w-full text-left",children:c.jsxs("div",{className:"flex items-center gap-4 rounded-lg border border-gray-200 dark:border-gray-700 p-3",children:[c.jsx("img",{src:(A=a.model)==null?void 0:A.imageUrl,alt:((C=a.model)==null?void 0:C.name)||"",className:"size-16 rounded-md object-contain bg-gray-100 dark:bg-gray-800"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:(j=a.model)==null?void 0:j.name}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.assetTag})]})]})}),c.jsxs("div",{className:"mt-4 text-base text-gray-600 dark:text-gray-300 w-full",children:[c.jsx("p",{className:"text-sm text-center mb-4",children:u||"Veuillez valider votre identité pour continuer."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{type:"button",onClick:()=>w("pin"),className:`w-full flex items-center gap-4 rounded-xl border-2 p-3 text-left transition-colors ${f==="pin"?"border-primary-500 bg-primary-50 dark:bg-primary-500/10":"border-gray-300 bg-white hover:border-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-gray-500"}`,children:[c.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400 shrink-0 size-10",children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"pin"})}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-semibold leading-normal flex-1 truncate",children:"Valider par PIN"})]}),c.jsxs("button",{type:"button",onClick:()=>w("fingerprint"),className:`w-full flex items-center gap-4 rounded-xl border-2 p-3 text-left transition-colors ${f==="fingerprint"?"border-primary-500 bg-primary-50 dark:bg-primary-500/10":"border-gray-300 bg-white hover:border-gray-400 dark:border-gray-600 dark:bg-gray-800 dark:hover:border-gray-500"}`,children:[c.jsx("div",{className:"flex items-center justify-center rounded-xl bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400 shrink-0 size-10",children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"fingerprint"})}),c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-semibold leading-normal flex-1 truncate",children:"Valider par Empreinte"})]})]})]}),f==="pin"&&c.jsx("div",{className:"pt-4 animate-fade-in w-full",children:c.jsx(j3,{onValidated:h,correctPin:i.pin,userName:i.name,autoFocus:!0})}),f==="fingerprint"&&c.jsx("div",{className:"pt-4 animate-fade-in w-full",children:c.jsx(I3,{onValidated:h,userCredentialId:i.webauthnCredentialId})})]})})},yr=6,$Z=({isOpen:t,onClose:e,onSave:n,userName:r,existingPin:a})=>{const[i,o]=I.useState(Array(yr).fill("")),[u,f]=I.useState(Array(yr).fill("")),[d,p]=I.useState(""),[h,y]=I.useState(!1),x=I.useRef([]),T=I.useRef([]),[w,A]=I.useState(null);I.useEffect(()=>{t?setTimeout(()=>{var W;(W=x.current[0])==null||W.focus()},120):(o(Array(yr).fill("")),f(Array(yr).fill("")),y(!1),p(""),A(null))},[t]);const C=i.join(""),j=u.join(""),_=C.length===yr,M=j.length===yr,N=C===j&&_&&M,k=h&&M&&_&&!N,P=(W,re,X)=>{const V=X.replace(/\D/g,"").slice(-1),z=W==="new"?o:f,Y=W==="new"?x:T;if(z(ee=>{const le=[...ee];return le[re]=V,le}),p(""),W==="confirm"&&y(!0),V){const ee=re+1;ee<yr?requestAnimationFrame(()=>{var le;return(le=Y.current[ee])==null?void 0:le.focus()}):W==="new"&&requestAnimationFrame(()=>{var le;return(le=T.current[0])==null?void 0:le.focus()})}},R=(W,re,X)=>{var ee,le;const V=W==="new"?x:T,z=W==="new"?i:u,Y=W==="new"?o:f;if(W==="confirm"&&y(!0),X.key==="Backspace"){X.preventDefault(),z[re]?Y(xe=>{const Te=[...xe];return Te[re]="",Te}):re>0&&(Y(xe=>{const Te=[...xe];return Te[re-1]="",Te}),requestAnimationFrame(()=>{var xe;return(xe=V.current[re-1])==null?void 0:xe.focus()}));return}if(X.key==="ArrowLeft"&&re>0){X.preventDefault(),(ee=V.current[re-1])==null||ee.focus();return}X.key==="ArrowRight"&&re<yr-1&&(X.preventDefault(),(le=V.current[re+1])==null||le.focus())},L=(W,re,X)=>{const V=X.clipboardData.getData("text").replace(/\D/g,"");if(!V)return;X.preventDefault();const z=V.slice(0,yr-re).split(""),Y=W==="new"?o:f,ee=W==="new"?x:T;Y(xe=>{const Te=[...xe];return z.forEach((_e,ce)=>{Te[re+ce]=_e}),Te}),W==="confirm"&&y(!0);const le=re+z.length;requestAnimationFrame(()=>{var xe,Te,_e;if(W==="new")le<yr?(xe=ee.current[le])==null||xe.focus():(Te=T.current[0])==null||Te.focus();else{const ce=Math.min(le,yr-1);(_e=ee.current[ce])==null||_e.focus()}})},U=(W,re,X)=>X?(w==null?void 0:w.type)===W&&w.index===re?X:"•":"",q=()=>{if(p(""),!_||!M){p("Le code PIN doit contenir 6 chiffres.");return}if(!N){p("Les codes PIN ne correspondent pas.");return}n(C),o(Array(yr).fill("")),f(Array(yr).fill("")),y(!1),A(null)},D=!!a,$=!!d||k,H=N&&!d,J=d||(k?"Les codes PIN ne correspondent pas.":""),B=`mb-4 p-4 bg-white dark:bg-gray-800 border-2 dark:border-gray-600 rounded-lg transition-colors focus-within:border-primary-500 ${_?"border-primary-400":"border-gray-300 dark:border-gray-600"}`,K=`mb-2 p-4 bg-white dark:bg-gray-800 border-2 dark:border-gray-600 rounded-lg transition-colors focus-within:border-primary-500 ${$?"border-red-500":H?"border-green-500":"border-gray-300 dark:border-gray-600"}`;return c.jsx(Zs,{isOpen:t,onClose:e,title:`${D?"Modifier":"Créer"} le code PIN`,size:"sm",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{onClick:q,disabled:!N,children:"Enregistrer"})]}),children:c.jsxs("div",{className:"pt-0",children:[c.jsxs("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:["Définissez un code PIN à 6 chiffres pour ",r,"."]}),c.jsxs("div",{className:B,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"new-pin-0",children:"Nouveau PIN"}),_&&!$&&!H&&c.jsx("span",{className:"text-xs text-primary-600 font-semibold",children:"Complet"})]}),c.jsx("div",{className:"grid grid-cols-6 gap-2 sm:gap-3 w-full",children:i.map((W,re)=>c.jsx("input",{id:`new-pin-${re}`,ref:X=>{x.current[re]=X},type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"off",value:U("new",re,W),onChange:X=>P("new",re,X.target.value),onKeyDown:X=>R("new",re,X),onPaste:X=>L("new",re,X),onFocus:()=>A({type:"new",index:re}),onBlur:()=>{A(X=>X&&X.type==="new"&&X.index===re?null:X)},maxLength:1,className:"w-full aspect-square min-w-[2.5rem] rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-center text-2xl font-bold text-gray-900 dark:text-gray-100 focus:border-primary-500 focus:ring-primary-500","aria-label":`Chiffre ${re+1} du nouveau PIN`},re))})]}),c.jsxs("div",{className:K,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",htmlFor:"confirm-pin-0",children:"Confirmer le PIN"}),H&&c.jsxs("span",{className:"text-xs text-green-600 font-semibold flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"verified"}),"PIN confirmé"]})]}),c.jsx("div",{className:"grid grid-cols-6 gap-2 sm:gap-3 w-full",children:u.map((W,re)=>c.jsx("input",{id:`confirm-pin-${re}`,ref:X=>{T.current[re]=X},type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"off",value:U("confirm",re,W),onChange:X=>P("confirm",re,X.target.value),onKeyDown:X=>R("confirm",re,X),onPaste:X=>L("confirm",re,X),onFocus:()=>{y(!0),A({type:"confirm",index:re})},onBlur:()=>{A(X=>X&&X.type==="confirm"&&X.index===re?null:X)},maxLength:1,className:`w-full aspect-square min-w-[2.5rem] rounded-md border ${$?"border-red-500 focus:border-red-500 focus:ring-red-400/60":"border-gray-300 dark:border-gray-600 focus:border-primary-500 focus:ring-primary-500"} bg-white dark:bg-gray-800 text-center text-2xl font-bold text-gray-900 dark:text-gray-100`,"aria-label":`Chiffre ${re+1} de confirmation du PIN`},re))})]}),$&&c.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2 text-center",children:J}),!$&&!H&&c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:"Utilisez uniquement des chiffres. Évitez les suites trop évidentes comme 123456."}),H&&c.jsx("p",{className:"text-green-600 dark:text-green-400 text-sm mt-2 text-center font-semibold",children:"Les deux codes PIN correspondent."})]})})},VZ=({info:t,countries:e,sites:n,onClose:r,onSave:a})=>{const{entityType:i,entity:o,parentId:u}=t,[f,d]=I.useState((o==null?void 0:o.name)||""),[p,h]=I.useState(!1),[y,x]=I.useState(()=>{if(u)return u;if(o){if(i==="site")return o.countryId;if(i==="department")return o.siteId}return i==="site"&&e.length>0?e[0].id:i==="department"&&n.length>0?n[0].id:""}),T=()=>{const C=o?"Modifier":"Ajouter";switch(i){case"country":return`${C} un pays`;case"site":return`${C} un site`;case"department":return`${C} un service`}},w=async C=>{if(C.preventDefault(),!p){h(!0);try{await a(i,{id:o==null?void 0:o.id,name:f,parentId:y}),r()}catch{h(!1)}}},A=!!o;return c.jsx(Zs,{isOpen:!!t,onClose:r,title:T(),size:"sm",footer:c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:r,children:"Annuler"}),c.jsx(Re,{type:"submit",form:"location-edit-form",disabled:!f.trim()||p,children:p?"Enregistrement...":"Enregistrer"})]}),children:c.jsxs("form",{id:"location-edit-form",onSubmit:w,className:"space-y-4",children:[i==="site"&&c.jsx("div",{children:c.jsx(xw,{label:"Pays",value:y,onChange:C=>x(C.target.value),disabled:A,children:e.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))})}),i==="department"&&c.jsx("div",{children:c.jsx(xw,{label:"Site",value:y,onChange:C=>x(C.target.value),disabled:A,children:n.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))})}),c.jsx("div",{children:c.jsx(ww,{label:"Nom",id:"location-name",type:"text",value:f,onChange:C=>d(C.target.value),required:!0})})]})})},dU=({onScanSuccess:t,onClose:e})=>{const n=I.useRef(null),[r,a]=I.useState(null),i=te.useRef(null);return Ws(i,!0),I.useEffect(()=>{const o=new Html5Qrcode("qr-reader");n.current=o;const u=(y,x)=>{var T;(T=n.current)!=null&&T.isScanning&&n.current.stop().then(()=>{t(y)}).catch(w=>{console.error("Failed to stop scanner",w),t(y)})},f=y=>{},p={fps:10,qrbox:(y,x)=>{const T=Math.min(y,x),w=Math.floor(T*.75);return{width:w,height:w}},aspectRatio:1};return(async()=>{try{const y=await Html5Qrcode.getCameras();if(y&&y.length){let x=null;const T=y.filter(w=>{const A=w.label.toLowerCase();return A.includes("back")||A.includes("arrière")});if(T.length>0){const w=T.find(A=>{const C=A.label.toLowerCase();return!C.includes("ultra")&&!C.includes("telephoto")&&!C.includes("téléobjectif")&&!C.includes("zoom")});x=w?w.id:T[0].id}else y.length>0&&(x=y[0].id);x?await o.start(x,p,u,f):await o.start({facingMode:"environment"},p,u,f)}else await o.start({facingMode:"environment"},p,u,f)}catch(y){console.error("Unable to start scanning.",y),a("Impossible de démarrer la caméra. Veuillez accorder la permission et rafraîchir.")}})(),()=>{n.current&&n.current.isScanning&&n.current.stop().catch(y=>{console.log("Scanner stop error (ignorable on cleanup):",y)})}},[t]),c.jsxs("div",{ref:i,className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-black/80 backdrop-blur-sm",role:"dialog","aria-modal":"true","aria-labelledby":"qr-scanner-title",children:[c.jsx("div",{id:"qr-reader",className:"w-full max-w-md aspect-square relative overflow-hidden rounded-2xl"}),c.jsxs("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:[c.jsx("div",{className:"w-[75vw] h-[75vw] max-w-[320px] max-h-[320px] border-4 border-dashed border-white/50 rounded-2xl"}),c.jsx("div",{id:"qr-scanner-title",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-[220px] text-white text-lg font-semibold bg-black/30 px-4 py-2 rounded-md",children:"Aligner le QR code dans le cadre"})]}),r&&c.jsx("p",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-red-100 text-red-700 p-4 rounded-lg",children:r}),c.jsx("button",{onClick:e,className:"absolute top-4 right-4 flex items-center justify-center rounded-full size-12 bg-white/20 text-white hover:bg-white/30 transition-colors","aria-label":"Fermer le scanner",children:c.jsx("span",{className:"material-symbols-outlined !text-2xl",children:"close"})})]})},KI={[De.AVAILABLE]:"bg-status-success-100 text-status-success-800 dark:bg-status-success-900/50 dark:text-status-success-300",[De.IN_STORAGE]:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",[De.ASSIGNED]:"bg-status-info-100 text-status-info-800 dark:bg-status-info-900/50 dark:text-status-info-300",[De.PENDING_VALIDATION]:"bg-status-warning-100 text-status-warning-800 dark:bg-status-warning-900/50 dark:text-status-warning-300",[De.IN_REPAIR]:"bg-status-action-100 text-status-action-800 dark:bg-status-action-900/50 dark:text-status-action-300",[De.DECOMMISSIONED]:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},YI={[Ne.ADMIN]:"bg-status-info-100 text-status-info-800 dark:bg-status-info-900/50 dark:text-status-info-300",[Ne.MANAGER]:"bg-status-success-100 text-status-success-800 dark:bg-status-success-900/50 dark:text-status-success-300",[Ne.EMPLOYEE]:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"},fU=t=>KI[t]||KI[De.DECOMMISSIONED],mU=t=>YI[t]||YI[Ne.EMPLOYEE],pU=({status:t,label:e,className:n})=>c.jsx("span",{className:["inline-flex items-center px-2 py-0.5 text-xs font-medium max-w-full","leading-5 whitespace-nowrap rounded-[var(--radius-badge)]",fU(t),n||""].join(" "),title:t,children:c.jsx("span",{className:"truncate",children:e??t})}),hU=({isOpen:t,onClose:e,title:n="",actions:r})=>{const a=I.useRef(null);return Ws(a,t),I.useEffect(()=>{if(!t)return;const i=o=>{o.key==="Escape"&&e()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[t,e]),c.jsx(Ys,{children:t&&c.jsx(Ke.div,{className:"fixed inset-0 z-50 flex flex-col justify-end bg-black/40 backdrop-blur-sm md:hidden",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"dropdown-menu-title",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:c.jsxs(Ke.div,{ref:a,className:"bg-white dark:bg-gray-900 rounded-t-[var(--radius-modal)] w-full shadow-[var(--shadow-elev-2)]",onClick:i=>i.stopPropagation(),initial:{y:40,opacity:0},animate:{y:0,opacity:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{y:40,opacity:0,transition:{duration:.2}},children:[c.jsx("div",{className:"flex justify-center py-3",children:c.jsx("div",{className:"h-1.5 w-10 rounded-full bg-gray-300 dark:bg-gray-600"})}),n&&c.jsx("div",{className:"px-4 pb-2",children:c.jsx("h2",{id:"dropdown-menu-title",className:"text-sm font-semibold text-gray-500 dark:text-gray-400 text-center truncate",children:n})}),c.jsx("div",{className:"p-2",children:c.jsx("div",{className:"bg-white/95 dark:bg-gray-800/90 rounded-[var(--radius-card)] overflow-hidden shadow-[var(--shadow-elev-1)]",children:r.map((i,o)=>{const u=`w-full text-left flex items-center gap-4 px-4 py-3 transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${i.isDestructive?"text-status-danger-700 dark:text-status-danger-400":"text-gray-800 dark:text-gray-200"}`,f=c.jsxs(Ke.button,{onClick:()=>{i.disabled||(i.onClick(),e())},disabled:i.disabled,className:u,whileTap:{scale:i.disabled?1:.97},whileHover:{scale:i.disabled?1:1.02},transition:{type:"spring",stiffness:320,damping:24},children:[c.jsx("span",{className:"material-symbols-outlined text-gray-500 dark:text-gray-400",children:i.icon}),c.jsx("span",{className:"font-medium",children:i.label})]}),d=`w-full ${o>0?"border-t border-gray-200 dark:border-gray-700":""}`;return i.disabled&&i.disabledTooltip?c.jsx("div",{className:d,children:c.jsx(ti,{content:i.disabledTooltip,align:"top",children:c.jsx("div",{className:"cursor-not-allowed",children:f})})},i.label):c.jsx("div",{className:d,children:f},i.label)})})}),c.jsx("div",{className:"p-2",children:c.jsx(Re,{variant:"secondary",block:!0,onClick:e,children:"Annuler"})})]})})})},Oc=({value:t,onChange:e,onSubmit:n,placeholder:r,isSearching:a,showAiButton:i=!0,formClassName:o})=>c.jsx("form",{onSubmit:n,className:o||"flex-1",children:c.jsxs("label",{className:"relative flex h-12 w-full items-center",children:[c.jsx("span",{className:"material-symbols-outlined absolute left-4 text-gray-500 dark:text-gray-400",children:"search"}),c.jsx("input",{className:"form-input w-full rounded-full border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 py-3 pl-12 pr-12 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:r,type:"search",value:t,onChange:e}),i&&c.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2",children:c.jsx(ti,{content:"Posez une question en langage naturel.",align:"right",children:c.jsx("button",{type:"submit",className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-500/20 text-primary-800 dark:text-primary-300 transition-colors hover:bg-primary-200 dark:hover:bg-primary-500/30","aria-label":"Lancer la recherche intelligente avec Gemini",children:a?c.jsx("span",{className:"material-symbols-outlined text-lg animate-spin",children:"autorenew"}):c.jsx("span",{className:"material-symbols-outlined text-lg",children:"auto_awesome"})})})})]})}),FZ=t=>{try{const e=localStorage.getItem(t);if(!e)return[];const n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}},zZ=(t,e)=>{localStorage.setItem(t,JSON.stringify(e))},gU=({filters:t,definitions:e,onFiltersChange:n,savedViewsKey:r,onClearAll:a,className:i=""})=>{const[o,u]=I.useState(()=>FZ(r)),[f,d]=I.useState(!1),[p,h]=I.useState("");I.useEffect(()=>{zZ(r,o)},[o,r]);const y=I.useMemo(()=>e.map(_=>{var N,k;const M=t[_.id];if(_.type==="select"){if(!M||M==="all")return null;const P=((k=(N=_.options)==null?void 0:N.find(R=>R.value===M))==null?void 0:k.label)||String(M);return{id:_.id,label:`${_.label}: ${P}`}}else{if(_.type==="text")return!M||String(M).trim()===""?null:{id:_.id,label:`${_.label}: ${M}`};if(_.type==="boolean")return M?{id:_.id,label:_.label}:null}return null}).filter(Boolean),[e,t]),x=(_,M)=>{n({...t,[_]:M})},T=_=>{const M=e.find(N=>N.id===_);M&&(M.type==="select"?x(_,"all"):M.type==="text"?x(_,""):M.type==="boolean"&&x(_,!1))},w=()=>{const _={...t};e.forEach(M=>{M.type==="select"?_[M.id]="all":M.type==="text"?_[M.id]="":M.type==="boolean"&&(_[M.id]=!1)}),n(_),a==null||a()},A=()=>{const _=p.trim();if(!_)return;const N=o.find(k=>k.name.toLowerCase()===_.toLowerCase())?o.map(k=>k.name.toLowerCase()===_.toLowerCase()?{name:_,filters:t}:k):[...o,{name:_,filters:t}];u(N),h("")},C=_=>{n({...t,..._.filters}),d(!1)},j=_=>{u(o.filter(M=>M.name!==_))};return c.jsxs("div",{className:`flex flex-col gap-4 rounded-[var(--radius-card)] bg-white dark:bg-gray-800 shadow-[var(--shadow-elev-1)] p-3 md:p-4 ${i}`,children:[c.jsxs("div",{className:"flex gap-3 items-end flex-wrap",children:[e.map(_=>{var M;return _.type==="select"?c.jsx("div",{className:"min-w-[220px]",children:c.jsxs(xw,{label:_.label,value:t[_.id]??"all",onChange:N=>x(_.id,N.target.value),children:[c.jsx("option",{value:"all",children:"Tous"}),(M=_.options)==null?void 0:M.map(N=>c.jsx("option",{value:N.value,children:N.label},N.value))]})},_.id):_.type==="text"?c.jsx("div",{className:"min-w-[240px]",children:c.jsx(ww,{label:_.label,placeholder:_.placeholder||"",value:t[_.id]??"",onChange:N=>x(_.id,N.target.value),iconLeft:"search"})},_.id):c.jsxs("label",{className:"flex items-center gap-2 select-none mb-1",children:[c.jsx("input",{type:"checkbox",checked:!!t[_.id],onChange:N=>x(_.id,N.target.checked),className:"h-4 w-4 rounded border-gray-300 dark:border-gray-600 text-primary-600 focus:ring-primary-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:_.label})]},_.id)}),c.jsxs("div",{className:"ml-auto flex items-end gap-2",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Re,{variant:"secondary",size:"sm",onClick:()=>d(_=>!_),icon:"bookmark",iconPosition:"left",children:"Vues"}),c.jsx(Ys,{children:f&&c.jsxs(Ke.div,{initial:{opacity:0,y:-6,scale:.98},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:22}},exit:{opacity:0,y:-6,scale:.97,transition:{duration:.15}},className:"absolute right-0 z-20 mt-2 w-80 rounded-lg bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black/5 dark:ring-white/10 p-3",children:[c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx(ww,{placeholder:"Nom de la vue",value:p,onChange:_=>h(_.target.value),className:"flex-1"}),c.jsx(Re,{size:"sm",onClick:A,icon:"save",children:"Enregistrer"})]}),c.jsx("div",{className:"max-h-60 overflow-auto",children:o.length===0?c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Aucune vue enregistrée."}):c.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map(_=>c.jsxs("li",{className:"py-2 flex items-center justify-between",children:[c.jsx(Ke.button,{className:"text-sm font-medium text-gray-700 dark:text-gray-200 hover:underline",onClick:()=>C(_),whileTap:{scale:.97},whileHover:{scale:1.02},transition:{type:"spring",stiffness:320,damping:24},children:_.name}),c.jsx(Ke.button,{className:"text-sm text-status-danger-600 hover:underline",onClick:()=>j(_.name),whileTap:{scale:.97},whileHover:{scale:1.02},transition:{type:"spring",stiffness:320,damping:24},children:"Supprimer"})]},_.name))})})]},"saved-views")})]}),c.jsx(Re,{variant:"secondary",size:"sm",onClick:w,icon:"close",children:"Tout effacer"})]})]}),y.length>0&&c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mr-1",children:"Filtres:"}),y.map(_=>c.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-primary-100 dark:bg-primary-500/20 px-2.5 py-1 text-xs font-medium text-primary-900 dark:text-primary-300",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"filter_alt"}),c.jsx("span",{className:"truncate max-w-[220px]",children:_.label}),c.jsx("button",{className:"ml-1 rounded-full hover:bg-primary-200/60 dark:hover:bg-primary-500/30",onClick:()=>T(_.id),"aria-label":"Supprimer le filtre",children:c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"close"})})]},_.id))]})]})},GZ=({text:t,highlight:e})=>{if(!e||!e.trim())return c.jsx("span",{children:t});const n=new RegExp(`(${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),r=t.split(n);return c.jsx(c.Fragment,{children:r.map((a,i)=>n.test(a)?c.jsx("mark",{className:"bg-primary-200/70 dark:bg-primary-500/30 rounded-sm px-0.5",children:a},i):c.jsx("span",{children:a},i))})},HZ=({equipment:t,models:e,categories:n,assignments:r,users:a,onAdd:i,onImport:o,canAdd:u,onEdit:f,onDelete:d,selectedIds:p,onSelectedIdsChange:h,onBulkDelete:y,onBulkUpdateStatus:x,onBulkUpdateLocation:T,isLoading:w,currentUser:A})=>{var es;const[C,j]=I.useState(""),[_,M]=I.useState("all"),[N,k]=I.useState("all"),[P,R]=I.useState("all"),[L,U]=I.useState("all"),[q,D]=I.useState(!1),[$,H]=I.useState(null),[J,B]=I.useState("bottom"),K=I.useRef(null),[W,re]=I.useState(!1),[X,V]=I.useState(null),[z,Y]=I.useState(!1),[ee,le]=I.useState(!1),{addToast:xe}=Xn(),[Te,_e]=I.useState(!1),[ce,Ce]=I.useState(null),[G,Z]=I.useState(null),de=I.useRef(null),[Se,Oe]=I.useState(0),[$e,Je]=I.useState(0),vt=88,It=5,Qt=X?"Filtres intelligents actifs. Tapez pour une nouvelle recherche.":"Filtrer ou demander à Gemini...",Gt=p.size>0;Ws(K,!!$),I.useEffect(()=>{const be=Ge=>{Ge.key==="Escape"&&H(null)};return $&&document.addEventListener("keydown",be),()=>{document.removeEventListener("keydown",be)}},[$]),I.useEffect(()=>{const be=()=>{const Ge=window.location.hash,[xt,ot]=Ge.split("?");if(xt==="#/inventory"){const mt=new URLSearchParams(ot||"").get("category");mt&&n.some(an=>an.id===mt)?k(mt):ot||k("all")}};return be(),window.addEventListener("hashchange",be),()=>{window.removeEventListener("hashchange",be)}},[n]),I.useEffect(()=>{const be=Ge=>{K.current&&!K.current.contains(Ge.target)&&H(null)};return document.addEventListener("mousedown",be),()=>{document.removeEventListener("mousedown",be)}},[K]),I.useLayoutEffect(()=>{const be=()=>{de.current&&Je(de.current.offsetHeight)};return be(),window.addEventListener("resize",be),()=>window.removeEventListener("resize",be)},[]);const rn=(be,Ge)=>{if(be.stopPropagation(),$===Ge){H(null);return}const ot=be.currentTarget.getBoundingClientRect(),Zt=100,mt=de.current,an=mt?mt.getBoundingClientRect():{top:0,bottom:window.innerHeight},jn=an.bottom-ot.bottom,ui=ot.top-an.top;jn<Zt&&ui>Zt?B("top"):B("bottom"),H(Ge)},Gn=(be,Ge)=>{be.stopPropagation();const xt=Ee.find(ot=>ot.id===Ge);xt&&Ce(xt)},ne=be=>{Oe(be.currentTarget.scrollTop)},ve=I.useMemo(()=>t.map(be=>{const Ge=e.find(ot=>ot.id===be.modelId),xt=Ge?n.find(ot=>ot.id===Ge.categoryId):null;return{...be,model:Ge,category:xt}}),[t,e,n]),we=I.useMemo(()=>{const be=new Map,Ge=new Map(a.map(xt=>[xt.id,xt.name]));if(r){const xt=new Map;for(const ot of r){const Zt=xt.get(ot.equipmentId);(!Zt||new Date(ot.date)>new Date(Zt.date))&&xt.set(ot.equipmentId,ot)}for(const ot of t)if(ot.status===De.ASSIGNED){const Zt=xt.get(ot.id);if(Zt&&Zt.action===ze.ASSIGN){const mt=Ge.get(Zt.userId);mt&&be.set(ot.id,mt)}}}return be},[r,t,a]),Ee=I.useMemo(()=>ve.filter(be=>{var so;const Ge=_==="all"||be.status===_,xt=N==="all"||((so=be.category)==null?void 0:so.id)===N,ot=P==="all"||be.location===P,Zt=C.toLowerCase(),mt=C===""||be.model&&be.model.name.toLowerCase().includes(Zt)||be.assetTag.toLowerCase().includes(Zt)||be.name&&be.name.toLowerCase().includes(Zt),an=we.get(be.id),jn=an?a.find(Hd=>Hd.name===an):null,ui=!L||L==="all"||L.trim()==="",ur=(L||"").toLowerCase(),zd=ui||jn&&(jn.name.toLowerCase().includes(ur)||jn.department&&jn.department.toLowerCase().includes(ur)),Gd=new Date().getFullYear(),au=!q||be.warrantyEndDate&&new Date(be.warrantyEndDate).getFullYear()===Gd;return Ge&&xt&&ot&&mt&&zd&&au}),[ve,C,_,N,P,L,q,we,a]),{startIndex:me,visibleItems:Me}=I.useMemo(()=>{const be=Math.max(0,Math.floor(Se/vt)-It),Ge=$e>0?Math.ceil($e/vt)+2*It:20,xt=Math.min(Ee.length,be+Ge);return{startIndex:be,visibleItems:Ee.slice(be,xt)}},[Se,$e,Ee]),kt=I.useMemo(()=>Array.from(new Set(t.map(be=>be.location).filter(Boolean))),[t]),pn=I.useMemo(()=>N!=="all"||_!=="all"||P!=="all"||L!=="all"&&L.trim()!==""||q,[N,_,P,L,q]),Pt=be=>{const Ge=new Set(p);Ge.has(be)?Ge.delete(be):Ge.add(be),h(Ge)},at=()=>{V(null),j(""),M("all"),k("all"),U("all"),D(!1)},$t=()=>{X&&!z&&(Y(!0),setTimeout(()=>{V(null),Y(!1)},500))},hn=()=>{$t()},gn=async be=>{if(be.preventDefault(),!!C.trim()){re(!0),xe("Gemini analyse votre recherche...","info");try{const Ge=new Cd({apiKey:void 0}),xt={type:_t.OBJECT,properties:{status:{type:_t.STRING,description:"Filter by equipment status."},category:{type:_t.STRING,description:"Filter by equipment category name."},location:{type:_t.STRING,description:"Filter by physical location/site."},assignedTo:{type:_t.STRING,description:"Filter by the name of the assigned user or a department/team name."},warrantyExpiresThisYear:{type:_t.BOOLEAN,description:"Set to true if filtering for warranties expiring this year."},searchTerm:{type:_t.STRING,description:"General keywords, model names, or asset tags from the query."}}},ot=`You are an expert search query parser for an IT asset management application. Your task is to translate the user's natural language query into a structured JSON object of filters. Infer as much information as possible. For example, if the query is "all macbooks", you should infer that the category is "Laptop" and the searchTerm could be "macbook".

            Here are the available filter options:
            - Statuses: ${Object.values(De).join(", ")}
            - Categories: ${n.map(an=>an.name).join(", ")}
            - Locations: ${kt.join(", ")}
            - Users or Departments: ${a.map(an=>an.name).join(", ")}, Marketing, Engineering, etc.

            Analyze the user's query: "${C}"

            Based on the query, populate the JSON schema. If a field is not mentioned and cannot be inferred, omit it. For 'warrantyExpiresThisYear', set it to true only if the user explicitly asks for warranties expiring in the current year. For 'assignedTo', extract a user's name or a department/team name. For 'searchTerm', include any remaining specific keywords, model names, or asset tags.`,Zt=await Ge.models.generateContent({model:"gemini-2.5-flash",contents:ot,config:{responseMimeType:"application/json",responseSchema:xt}}),mt=JSON.parse(Zt.text.trim());if(j(""),M("all"),k("all"),R("all"),U("all"),D(!1),V(mt),mt.searchTerm&&j(mt.searchTerm),mt.status&&Object.values(De).includes(mt.status)&&M(mt.status),mt.category){const an=n.find(jn=>jn.name.toLowerCase()===mt.category.toLowerCase());an&&k(an.id)}mt.location&&kt.includes(mt.location)&&R(mt.location),mt.assignedTo&&U(mt.assignedTo),mt.warrantyExpiresThisYear&&D(!0),xe("Filtres intelligents appliqués !","success")}catch(Ge){console.error("Error with Gemini search:",Ge),xe("Désolé, je n'ai pas pu traiter cette recherche.","error")}finally{re(!1)}}},Gh=be=>{j(be.target.value),$t()},Hh=be=>{_e(!1);const Ge=t.find(xt=>xt.assetTag===be);Ge?window.location.hash=`#/equipment/${Ge.id}`:xe("Équipement non trouvé","error")},Fd=[{label:"Ajouter manuellement",icon:"edit_note",onClick:()=>i()},{label:"Scanner un équipement",icon:"qr_code_scanner",onClick:()=>_e(!0)},{label:"Importer un CSV",icon:"upload",onClick:()=>o()},...u?[{label:"Sélectionner",icon:"check_circle",onClick:()=>{Ee.length>0&&Pt(Ee[0].id)}}]:[]],io=I.useMemo(()=>{if(!ce)return[];const be=ce.status!==De.ASSIGNED&&ce.status!==De.PENDING_VALIDATION;return[{label:"Modifier",icon:"edit",onClick:()=>f(ce.id)},{label:"Supprimer",icon:"delete",onClick:()=>{ce&&Z({ids:[ce.id],isBulk:!1})},isDestructive:!0,disabled:!be,disabledTooltip:"L'équipement attribué ou en attente ne peut être supprimé."}]},[ce,f,d]);return c.jsxs("div",{className:"relative flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[Gt?c.jsx(r3,{count:p.size,onCancel:()=>h(new Set),onDelete:()=>{u&&Z({ids:Array.from(p),isBulk:!0})}}):c.jsx(jt,{title:"Équipement",children:c.jsx(ba,{actions:Fd})}),c.jsx("div",{className:"p-4 flex-shrink-0",children:c.jsx(Oc,{value:C,onChange:Gh,onSubmit:gn,placeholder:Qt,isSearching:W})}),X&&c.jsxs("div",{className:`px-4 pb-4 flex flex-wrap gap-2 items-center flex-shrink-0 ${z?"animate-shake-and-fade-out":"animate-fade-in"}`,children:[c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mr-2",children:"Filtres intelligents:"}),Object.entries(X).map(([be,Ge])=>Ge&&c.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-primary-100 dark:bg-primary-500/20 px-2.5 py-1 text-xs font-medium text-primary-900 dark:text-primary-300",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"auto_awesome"}),c.jsx("span",{children:`${be}: ${Ge}`})]},be)),c.jsxs("button",{onClick:at,className:"flex items-center gap-1 rounded-full bg-gray-200 dark:bg-gray-700 px-2.5 py-1 text-xs font-semibold text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Effacer les filtres intelligents et la recherche",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"close"}),c.jsx("span",{children:"Tout effacer"})]})]}),c.jsxs("div",{className:"px-4 pb-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3 lg:hidden",children:[pn&&c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-primary-600 dark:text-primary-300",children:"Filtres actifs"}),c.jsx(Re,{variant:"secondary",size:"sm",icon:ee?"close":"tune",iconPosition:"left",onClick:()=>le(be=>!be),"aria-expanded":ee,"aria-controls":"inventory-filters-panel",children:ee?"Masquer":"Filtres"})]}),c.jsx("div",{id:"inventory-filters-panel",className:`${ee?"block":"hidden"} space-y-3 lg:block`,children:c.jsx(gU,{filters:{typeFilter:N,statusFilter:_,locationFilter:P,assignedToFilter:L==="all"?"":L,warrantyFilter:q},definitions:[{id:"typeFilter",label:"Type",type:"select",options:n.map(be=>({label:be.name,value:be.id}))},{id:"statusFilter",label:"Statut",type:"select",options:Object.values(De).map(be=>({label:be,value:be}))},{id:"locationFilter",label:"Emplacement",type:"select",options:kt.map(be=>({label:be,value:be}))},{id:"assignedToFilter",label:"Attribué à",type:"text",placeholder:"Utilisateur ou département"},{id:"warrantyFilter",label:"Garantie (cette année)",type:"boolean"}],onFiltersChange:be=>{k(be.typeFilter??"all"),M(be.statusFilter??"all"),R(be.locationFilter??"all"),U((be.assignedToFilter??"").trim()===""?"all":be.assignedToFilter),D(!!be.warrantyFilter),hn()},savedViewsKey:"inventory-views",onClearAll:hn})})]}),c.jsx("div",{ref:de,onScroll:ne,className:"overflow-y-auto flex-grow px-4 pb-24 md:pb-4",children:w?c.jsx(o7,{}):c.jsx("div",{className:"relative",style:{height:`${Ee.length*vt}px`},children:Ee.length>0?Me.map((be,Ge)=>{var jn,ui;const xt=me+Ge,ot=[{label:"Modifier",icon:"edit",onClick:ur=>{ur.stopPropagation(),f(be.id)},isDestructive:!1},{label:"Supprimer",icon:"delete",onClick:ur=>{ur.stopPropagation(),Z({ids:[be.id],isBulk:!1})},isDestructive:!0,disabled:be.status===De.ASSIGNED||be.status===De.PENDING_VALIDATION,disabledTooltip:"L'équipement attribué ou en attente ne peut être supprimé."}],Zt=[{icon:"tag",text:be.assetTag}];be.status===De.ASSIGNED&&we.get(be.id)&&Zt.push({icon:"person",text:we.get(be.id)});const mt=be.status===De.PENDING_VALIDATION?"En attente":be.status,an=c.jsx(Ds,{id:be.id,imageUrl:(jn=be.model)==null?void 0:jn.imageUrl,title:c.jsx(GZ,{text:be.name||((ui=be.model)==null?void 0:ui.name)||"Modèle inconnu",highlight:C}),details:Zt,statusBadge:c.jsx(pU,{status:be.status,label:mt,className:"max-w-[140px] overflow-hidden"}),selectionModeActive:Gt,isSelected:p.has(be.id),onCardClick:ur=>window.location.hash=`#/equipment/${ur}`,onLongPress:u?Pt:void 0,onSelectToggle:u?()=>Pt(be.id):void 0,actions:u?ot:void 0,isPopoverOpen:$===be.id,onActionsClick:rn,onMobileActionsClick:ur=>Gn(ur,be.id),popoverRef:K,popoverPosition:J,fullHeight:!0});return c.jsx("div",{className:"absolute w-full",style:{height:`${vt}px`,transform:`translateY(${xt*vt}px)`,paddingTop:"4px",paddingBottom:"4px",zIndex:$===be.id?10:"auto"},children:c.jsx("div",{className:"h-full",children:an})},be.id)}):c.jsxs("div",{className:"text-center py-10",children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun équipement trouvé."}),c.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Essayez d'ajuster votre recherche ou vos filtres."})]})})}),Te&&c.jsx(dU,{onScanSuccess:Hh,onClose:()=>_e(!1)}),c.jsx(hU,{isOpen:!!ce,onClose:()=>Ce(null),title:(ce==null?void 0:ce.name)||((es=ce==null?void 0:ce.model)==null?void 0:es.name)||(ce==null?void 0:ce.assetTag)||"",actions:io}),!Gt&&u&&c.jsx(nh,{actions:Fd,id:"fab-inventory",mainIcon:"add",className:"lg:hidden"}),c.jsx(ai,{isOpen:!!G,onClose:()=>Z(null),onConfirm:()=>{G&&(G.isBulk?(y(G.ids),h(new Set)):d(G.ids[0]),Z(null))},title:G!=null&&G.isBulk?"Supprimer les équipements":"Supprimer l'équipement",confirmButtonText:"Supprimer",children:c.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",G!=null&&G.isBulk?`ces ${G.ids.length} équipements`:"cet équipement","? Cette action est irréversible."]})})]})},yU=({role:t,label:e,className:n})=>c.jsx("span",{className:["inline-flex items-center px-2 py-0.5 text-xs font-medium max-w-full","leading-5 whitespace-nowrap rounded-[var(--radius-badge)]",mU(t),n||""].join(" "),title:t,children:c.jsx("span",{className:"truncate",children:e??t})}),KZ=({text:t,highlight:e})=>{if(!e.trim())return c.jsx("span",{children:t});const n=new RegExp(`(${e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),r=t.split(n);return c.jsx("span",{children:r.map((a,i)=>n.test(a)?c.jsx("mark",{className:"bg-primary-200/70 dark:bg-primary-500/30 rounded-sm px-0.5",children:a},i):c.jsx("span",{children:a},i))})},YZ=({users:t,onAdd:e,isLoading:n,canAdd:r,onEdit:a,onDelete:i,currentUser:o,selectedIds:u,onSelectedIdsChange:f,onBulkDelete:d})=>{const[p,h]=I.useState(""),[y,x]=I.useState("all"),[T,w]=I.useState("all"),[A,C]=I.useState(!1),[j,_]=I.useState(null),[M,N]=I.useState(!1),[k,P]=I.useState(!1),{addToast:R}=Xn(),[L,U]=I.useState(null),[q,D]=I.useState("bottom"),$=I.useRef(null),[H,J]=I.useState(null),[B,K]=I.useState(null),W=I.useRef(null),[re,X]=I.useState(0),[V,z]=I.useState(0),Y=88,ee=5,le=u.size>0;Ws($,!!L),I.useEffect(()=>{const me=Me=>{Me.key==="Escape"&&U(null)};return L&&document.addEventListener("keydown",me),()=>{document.removeEventListener("keydown",me)}},[L]),I.useEffect(()=>{const me=Me=>{$.current&&!$.current.contains(Me.target)&&U(null)};return document.addEventListener("mousedown",me),()=>{document.removeEventListener("mousedown",me)}},[$]),I.useLayoutEffect(()=>{const me=()=>{W.current&&z(W.current.offsetHeight)};return me(),window.addEventListener("resize",me),()=>window.removeEventListener("resize",me)},[]);const xe=me=>{X(me.currentTarget.scrollTop)},Te=(me,Me)=>{if(me.stopPropagation(),L===Me){U(null);return}const pn=me.currentTarget.getBoundingClientRect(),Pt=100;window.innerHeight-pn.bottom<Pt&&pn.top>Pt?D("top"):D("bottom"),U(Me)},_e=(me,Me)=>{me.stopPropagation();const kt=$e.find(pn=>pn.id===Me);kt&&J(kt)},ce=I.useMemo(()=>Array.from(new Set(t.map(me=>me.department).filter(me=>!!me))).sort(),[t]),Ce=Object.values(Ne),G=I.useMemo(()=>[{id:"departmentFilter",label:"Département",type:"select",options:ce.map(me=>({label:me,value:me}))},{id:"roleFilter",label:"Rôle",type:"select",options:Ce.map(me=>({label:me,value:me}))}],[ce,Ce]),Z=I.useMemo(()=>({departmentFilter:y,roleFilter:T}),[y,T]),de=I.useMemo(()=>y!=="all"||T!=="all",[y,T]),Se=me=>{x(me.departmentFilter??"all"),w(me.roleFilter??"all"),rn()},Oe=I.useMemo(()=>[...t].sort((me,Me)=>me.name.localeCompare(Me.name)),[t]),$e=I.useMemo(()=>Oe.filter(me=>{var at;const Me=p.toLowerCase(),kt=p===""||me.name.toLowerCase().includes(Me)||((at=me.department)==null?void 0:at.toLowerCase().includes(Me)),pn=y==="all"||me.department===y,Pt=T==="all"||me.role===T;return kt&&pn&&Pt}),[Oe,p,y,T]),{startIndex:Je,visibleItems:vt}=I.useMemo(()=>{const me=Math.max(0,Math.floor(re/Y)-ee),Me=V>0?Math.ceil(V/Y)+2*ee:20,kt=Math.min($e.length,me+Me);return{startIndex:me,visibleItems:$e.slice(me,kt)}},[re,V,$e]),It=me=>{const Me=new Set(u);Me.has(me)?Me.delete(me):Me.add(me),f(Me)},Qt=()=>{_(null),h(""),x("all"),w("all")},Gt=()=>{j&&!M&&(N(!0),setTimeout(()=>{_(null),N(!1)},500))},rn=()=>{Gt()},Gn=me=>{h(me.target.value),Gt()},ne=async me=>{if(me.preventDefault(),!!p.trim()){C(!0),R("Gemini analyse votre recherche...","info");try{const Me=new Cd({apiKey:void 0}),kt={type:_t.OBJECT,properties:{department:{type:_t.STRING,description:"Filter by user's department."},role:{type:_t.STRING,description:"Filter by user's role."},searchTerm:{type:_t.STRING,description:"General keywords for the user's name."}}},pn=`You are an expert search query parser for an IT asset management application. Your task is to translate the user's natural language query into a structured JSON object of filters for a list of users. Infer information when possible. For example, if the query is "all managers", you should infer the role is "${Ne.MANAGER}".

            Here are the available filter options:
            - Departments: ${ce.join(", ")}
            - Roles: ${Ce.join(", ")}

            Analyze the user's query: "${p}"

            Based on the query, populate the JSON schema. If a field is not mentioned and cannot be inferred, omit it. For 'searchTerm', include any keywords that look like a person's name.`,Pt=await Me.models.generateContent({model:"gemini-2.5-flash",contents:pn,config:{responseMimeType:"application/json",responseSchema:kt}}),at=JSON.parse(Pt.text.trim());Qt(),_(at),at.searchTerm&&h(at.searchTerm),at.department&&ce.includes(at.department)&&x(at.department),at.role&&Ce.includes(at.role)&&w(at.role),R("Filtres intelligents appliqués !","success")}catch(Me){console.error("Error with Gemini user search:",Me),R("Désolé, je n'ai pas pu traiter cette recherche.","error")}finally{C(!1)}}},ve=r?[{label:"Ajouter un utilisateur",icon:"person_add",onClick:()=>e()},{label:"Importer un CSV",icon:"upload",onClick:()=>window.location.hash="#/users/import"},{label:"Sélectionner",icon:"check_circle",onClick:()=>{$e.length>0&&It($e[0].id)}}]:[],we=j?"Filtres intelligents actifs. Tapez pour une nouvelle recherche.":"Chercher par nom ou demander à Gemini...",Ee=I.useMemo(()=>{if(!H||!r)return[];const me=H.id===o.id;return[{label:"Modifier",icon:"edit",onClick:()=>a(H.id)},{label:"Supprimer",icon:"delete",onClick:()=>{H&&K({ids:[H.id],isBulk:!1})},isDestructive:!0,disabled:me,disabledTooltip:"Vous ne pouvez pas vous supprimer."}]},[H,o.id,r,a,i]);return c.jsxs("div",{className:"relative flex flex-col h-full bg-gray-100 dark:bg-gray-900","aria-busy":n,children:[le?c.jsx(r3,{count:u.size,onCancel:()=>f(new Set),onDelete:()=>{r&&K({ids:Array.from(u),isBulk:!0})}}):c.jsx(jt,{title:"Utilisateurs",children:c.jsx(ba,{actions:ve})}),c.jsx("div",{className:"p-4 flex-shrink-0",children:c.jsx(Oc,{value:p,onChange:Gn,onSubmit:ne,placeholder:we,isSearching:A})}),j&&c.jsxs("div",{className:`px-4 pb-4 flex flex-wrap gap-2 items-center flex-shrink-0 ${M?"animate-shake-and-fade-out":"animate-fade-in"}`,children:[c.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400 mr-2",children:"Filtres intelligents:"}),Object.entries(j).map(([me,Me])=>Me&&c.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-primary-100 dark:bg-primary-500/20 px-2.5 py-1 text-xs font-medium text-primary-900 dark:text-primary-300",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"auto_awesome"}),c.jsx("span",{children:`${me}: ${Me}`})]},me)),c.jsxs("button",{onClick:Qt,className:"flex items-center gap-1 rounded-full bg-gray-200 dark:bg-gray-700 px-2.5 py-1 text-xs font-semibold text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",title:"Effacer les filtres intelligents et la recherche",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"close"}),c.jsx("span",{children:"Tout effacer"})]})]}),c.jsxs("div",{className:"px-4 pb-4 flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-end gap-2 mb-3 lg:hidden",children:[de&&c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-primary-600 dark:text-primary-300",children:"Filtres actifs"}),c.jsx(Re,{variant:"secondary",size:"sm",icon:k?"close":"tune",iconPosition:"left",onClick:()=>P(me=>!me),"aria-expanded":k,"aria-controls":"users-filters-panel",children:k?"Masquer":"Filtres"})]}),c.jsx("div",{id:"users-filters-panel",className:`${k?"block":"hidden"} space-y-3 lg:block`,children:c.jsx(gU,{filters:Z,definitions:G,onFiltersChange:Se,savedViewsKey:"users-views",onClearAll:rn})})]}),c.jsx("div",{ref:W,onScroll:xe,className:"overflow-y-auto flex-grow px-4 pb-24 lg:pb-4",children:n?c.jsx(l7,{}):c.jsx("div",{className:"relative",style:{height:`${$e.length*Y}px`},children:$e.length>0?vt.map((me,Me)=>{const kt=Je+Me,pn=r?[{label:"Modifier",icon:"edit",onClick:at=>{at.stopPropagation(),a(me.id)},isDestructive:!1},{label:"Supprimer",icon:"delete",onClick:at=>{at.stopPropagation(),K({ids:[me.id],isBulk:!1})},isDestructive:!0,disabled:me.id===o.id,disabledTooltip:"Vous ne pouvez pas vous supprimer."}]:[],Pt=c.jsx(Ds,{id:me.id,imageUrl:me.avatarUrl,imageShape:"round",title:c.jsx(KZ,{text:me.name,highlight:p}),details:[{icon:"work",text:me.department||"N/A"}],statusBadge:c.jsx(yU,{role:me.role,className:"max-w-[140px] overflow-hidden"}),selectionModeActive:le,isSelected:u.has(me.id),onCardClick:at=>window.location.hash=`#/users/${at}`,onLongPress:r?It:void 0,onSelectToggle:r?()=>It(me.id):void 0,actions:pn,isPopoverOpen:L===me.id,onActionsClick:Te,onMobileActionsClick:at=>_e(at,me.id),popoverRef:$,popoverPosition:q,fullHeight:!0});return c.jsx("div",{className:"absolute w-full",style:{height:`${Y}px`,transform:`translateY(${kt*Y}px)`,paddingTop:"4px",paddingBottom:"4px",zIndex:L===me.id?10:"auto"},children:c.jsx("div",{className:"h-full",children:Pt})},me.id)}):c.jsx("div",{className:"text-center py-10",children:c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun utilisateur trouvé."})})})}),c.jsx(hU,{isOpen:!!H,onClose:()=>J(null),title:(H==null?void 0:H.name)||"",actions:Ee}),!le&&r&&c.jsx(nh,{actions:ve,id:"fab-users",mainIcon:"add",className:"lg:hidden"}),c.jsx(ai,{isOpen:!!B,onClose:()=>K(null),onConfirm:()=>{B&&(B.isBulk?d(B.ids):i(B.ids[0]),K(null))},title:B!=null&&B.isBulk?"Supprimer les utilisateurs":"Supprimer l'utilisateur",confirmButtonText:"Supprimer",children:c.jsxs("p",{children:["Êtes-vous sûr de vouloir supprimer ",B!=null&&B.isBulk?`ces ${B.ids.length} utilisateurs`:"cet utilisateur","? Cette action est irréversible."]})})]})},ir=({title:t,children:e})=>c.jsxs("fieldset",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("legend",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:t}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e})]}),ct=({label:t,htmlFor:e,children:n,className:r,help:a})=>c.jsxs("div",{className:r,children:[c.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[c.jsx("label",{htmlFor:e,className:"block text-sm font-medium text-gray-600 dark:text-gray-300",children:t}),a]}),n]}),BT="w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-gray-900 dark:text-gray-100 placeholder-gray-400 dark:placeholder-gray-500 focus:border-primary-500 focus:ring-1 focus:ring-primary-500 disabled:bg-gray-100 dark:disabled:bg-gray-800",$n=({className:t,...e})=>c.jsx("input",{...e,className:`${BT} ${t||""}`}),xr=({children:t,className:e,...n})=>c.jsxs("div",{className:"relative",children:[c.jsx("select",{...n,className:`w-full appearance-none pr-10 ${BT} ${e||""}`,children:t}),c.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400 dark:text-gray-500",children:c.jsx("span",{className:"material-symbols-outlined",children:"expand_more"})})]}),ch=({className:t,...e})=>c.jsx("textarea",{...e,className:`${BT} ${t||""}`}),WI=({onSave:t,onBack:e,categories:n,models:r,countries:a,sites:i,departments:o,initialData:u})=>{const{addToast:f}=Xn(),[d,p]=I.useState({name:"",modelId:"",assetTag:"",purchaseDate:"",warrantyStartDate:"",warrantyEndDate:"",status:De.AVAILABLE,siteId:"",departmentId:"",os:"",ram:"",storage:"",agentS1:"",agentM42:"Non",agentME:"Non",notes:"",operationalStatus:"Actif"}),[h,y]=I.useState(""),[x,T]=I.useState(""),[w,A]=I.useState(!1),[C,j]=I.useState(!1),_=!!(u!=null&&u.id);I.useEffect(()=>{const $=sessionStorage.getItem("new-equipment-from-scan");if($)try{const H=JSON.parse($);p(J=>({...J,assetTag:H.serialNumber,name:H.hostname||"",os:H.os||"",ram:H.ramTotalGB?`${H.ramTotalGB} Go`:""})),f("Pré-rempli à partir du scan QR.","info")}catch(H){console.error("Failed to parse new equipment data from scan",H)}finally{sessionStorage.removeItem("new-equipment-from-scan")}else if(u){const H=r.find(B=>B.id===u.modelId);H&&y(H.categoryId);const J=i.find(B=>B.id===u.siteId);J&&T(J.countryId),p({name:u.name||"",modelId:u.modelId||"",assetTag:u.assetTag||"",purchaseDate:u.purchaseDate||"",warrantyStartDate:u.warrantyStartDate||"",warrantyEndDate:u.warrantyEndDate||"",status:u.status||De.AVAILABLE,siteId:u.siteId||"",departmentId:u.departmentId||"",os:u.os||"",ram:u.ram||"",storage:u.storage||"",agentS1:u.agentS1||"",agentM42:u.agentM42||"Non",agentME:u.agentME||"Non",notes:u.notes||"",operationalStatus:u.operationalStatus||"Actif"})}},[u,r,i,f]);const M=$=>{const{name:H,value:J}=$.target;p(B=>({...B,[H]:J}))},N=$=>{y($.target.value),p(H=>({...H,modelId:""}))},k=$=>{T($.target.value),p(H=>({...H,siteId:"",departmentId:""}))},P=$=>{p(H=>({...H,siteId:$.target.value,departmentId:""}))},R=async()=>{if(!d.assetTag.trim()){f("Veuillez entrer un numéro de série.","info");return}A(!0),f("Recherche des informations sur l'appareil...","info");try{const $=new Cd({apiKey:void 0}),H=n.map(z=>z.name).join(", "),J=`Based on the device serial number "${d.assetTag}", perform a web search to find its specifications. Provide the information you find in a "Key: Value" format on separate lines. Focus on these keys: "Model Name", "Brand", "Warranty End Date", "OS", "RAM", "Storage". If you cannot find a specific piece of information, omit the key.`,K=(await $.models.generateContent({model:"gemini-2.5-flash",contents:J,config:{tools:[{googleSearch:{}}]}})).text,W={},re=K.split(`
`);for(const z of re){const Y=z.indexOf(":");if(Y>0){const ee=z.substring(0,Y).trim(),le=z.substring(Y+1).trim();le&&le.toLowerCase()!=="n/a"&&(W[ee]=le)}}let X=!1;const V={...d};if(W["Model Name"]){const z=r.find(Y=>Y.name.toLowerCase()===W["Model Name"].toLowerCase());z?(V.modelId=z.id,y(z.categoryId),X=!0):f(`Modèle "${W["Model Name"]}" non trouvé dans la base de données.`,"info")}W["Warranty End Date"]&&(isNaN(new Date(W["Warranty End Date"]).getTime())||(V.warrantyEndDate=new Date(W["Warranty End Date"]).toISOString().split("T")[0],X=!0)),W.OS&&(V.os=W.OS,X=!0),W.RAM&&(V.ram=W.RAM,X=!0),W.Storage&&(V.storage=W.Storage,X=!0),p(V),X?f("Détails de l'appareil pré-remplis !","success"):f("Impossible de trouver des détails supplémentaires.","info")}catch($){console.error("Error fetching equipment details:",$),f("Erreur lors de la recherche des détails.","error")}finally{A(!1)}},L=async $=>{if($.preventDefault(),!C&&d.modelId.trim()&&d.assetTag.trim()){j(!0);const H={...d};_&&(H.id=u==null?void 0:u.id);try{await t(H)}catch{f("La sauvegarde a échoué.","error"),j(!1)}}},U=I.useMemo(()=>h?r.filter($=>$.categoryId===h):[],[r,h]),q=I.useMemo(()=>x?i.filter($=>$.countryId===x):[],[i,x]),D=I.useMemo(()=>d.siteId?o.filter($=>$.siteId===d.siteId):[],[o,d.siteId]);return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(jt,{title:_?"Modifier l'équipement":"Ajouter un équipement",onBack:e}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("form",{className:"max-w-4xl mx-auto space-y-8",id:"add-equipment-form",onSubmit:L,children:[c.jsxs(ir,{title:"Informations générales",children:[c.jsx(ct,{label:"Catégorie",htmlFor:"category",children:c.jsxs(xr,{id:"category",name:"category",value:h,onChange:N,children:[c.jsx("option",{value:"",children:"Sélectionner une catégorie"}),n.map($=>c.jsx("option",{value:$.id,children:$.name},$.id))]})}),c.jsx(ct,{label:"Modèle",htmlFor:"modelId",children:c.jsxs(xr,{id:"modelId",name:"modelId",value:d.modelId,onChange:M,disabled:!h,required:!0,children:[c.jsx("option",{value:"",children:"Sélectionner un modèle"}),U.map($=>c.jsx("option",{value:$.id,children:$.name},$.id))]})}),c.jsx(ct,{label:"Numéro de série",htmlFor:"assetTag",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{type:"text",id:"assetTag",name:"assetTag",value:d.assetTag,onChange:M,required:!0,className:"pr-12",placeholder:"N° de série du fabricant"}),c.jsx("button",{type:"button",onClick:R,disabled:w||!d.assetTag.trim(),className:"absolute inset-y-0 right-0 flex items-center justify-center w-12 text-primary-600 hover:bg-primary-50 rounded-r-md disabled:text-gray-400 disabled:cursor-not-allowed",title:"Rechercher les détails avec Gemini","aria-label":"Rechercher les détails avec Gemini",children:w?c.jsx("span",{className:"material-symbols-outlined animate-spin",children:"autorenew"}):c.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"})})]})}),c.jsx(ct,{label:"Nom AD (Hostname)",htmlFor:"name",help:c.jsx(ti,{content:"Le nom réseau de l'appareil (ex: LFW-4CE202CKM5).",children:c.jsx("button",{type:"button",className:"cursor-help","aria-label":"Plus d'informations sur le nom AD (Hostname)",children:c.jsx("span",{className:"material-symbols-outlined text-gray-400 text-base",children:"info"})})}),children:c.jsx($n,{type:"text",id:"name",name:"name",value:d.name,onChange:M,placeholder:"Nom de l'appareil sur le réseau"})})]}),c.jsx(ir,{title:"Acquisition & Garantie",children:c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(ct,{label:"Date d'achat",htmlFor:"purchaseDate",children:c.jsx($n,{type:"date",id:"purchaseDate",name:"purchaseDate",value:d.purchaseDate,onChange:M})}),c.jsx(ct,{label:"Début garantie",htmlFor:"warrantyStartDate",children:c.jsx($n,{type:"date",id:"warrantyStartDate",name:"warrantyStartDate",value:d.warrantyStartDate,onChange:M})}),c.jsx(ct,{label:"Fin garantie",htmlFor:"warrantyEndDate",children:c.jsx($n,{type:"date",id:"warrantyEndDate",name:"warrantyEndDate",value:d.warrantyEndDate,onChange:M})})]})}),c.jsx(ir,{title:"Spécifications techniques",children:c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(ct,{label:"Système d'exploitation",htmlFor:"os",children:c.jsx($n,{type:"text",id:"os",name:"os",value:d.os,onChange:M,placeholder:"ex: Windows 11 Pro"})}),c.jsx(ct,{label:"RAM",htmlFor:"ram",children:c.jsx($n,{type:"text",id:"ram",name:"ram",value:d.ram,onChange:M,placeholder:"ex: 16 Go"})}),c.jsx(ct,{label:"Disque dur",htmlFor:"storage",children:c.jsx($n,{type:"text",id:"storage",name:"storage",value:d.storage,onChange:M,placeholder:"ex: 512 Go SSD"})})]})}),c.jsxs(ir,{title:"Localisation & Statut",children:[c.jsx(ct,{label:"Pays",htmlFor:"countryId",children:c.jsxs(xr,{id:"countryId",name:"countryId",value:x,onChange:k,children:[c.jsx("option",{value:"",children:"Sélectionner un pays"}),a.map($=>c.jsx("option",{value:$.id,children:$.name},$.id))]})}),c.jsx(ct,{label:"Site",htmlFor:"siteId",children:c.jsxs(xr,{id:"siteId",name:"siteId",value:d.siteId,onChange:P,disabled:!x,children:[c.jsx("option",{value:"",children:"Sélectionner un site"}),q.map($=>c.jsx("option",{value:$.id,children:$.name},$.id))]})}),c.jsx(ct,{label:"Service / Département",htmlFor:"departmentId",children:c.jsxs(xr,{id:"departmentId",name:"departmentId",value:d.departmentId,onChange:M,disabled:!d.siteId,children:[c.jsx("option",{value:"",children:"Sélectionner un service"}),D.map($=>c.jsx("option",{value:$.id,children:$.name},$.id))]})}),c.jsx(ct,{label:"Statut d'affectation",htmlFor:"status",children:c.jsx(xr,{id:"status",name:"status",value:d.status,onChange:M,children:Object.values(De).map($=>c.jsx("option",{value:$,children:$},$))})}),c.jsx(ct,{label:"Statut Opérationnel",htmlFor:"operationalStatus",className:"md:col-span-2",children:c.jsxs(xr,{id:"operationalStatus",name:"operationalStatus",value:d.operationalStatus,onChange:M,children:[c.jsx("option",{value:"Actif",children:"Actif"}),c.jsx("option",{value:"Inactif",children:"Inactif"}),c.jsx("option",{value:"En réparation",children:"En réparation"}),c.jsx("option",{value:"En stock",children:"En stock"})]})})]}),c.jsxs(ir,{title:"Agents & Observations",children:[c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(ct,{label:"Agent SentinelOne",htmlFor:"agentS1",children:c.jsx($n,{type:"text",id:"agentS1",name:"agentS1",value:d.agentS1,onChange:M,placeholder:"Version de l'agent"})}),c.jsx(ct,{label:"Agent Matrix42",htmlFor:"agentM42",children:c.jsxs(xr,{id:"agentM42",name:"agentM42",value:d.agentM42,onChange:M,children:[c.jsx("option",{children:"Non"}),c.jsx("option",{children:"Oui"})]})}),c.jsx(ct,{label:"Agent ManageEngine",htmlFor:"agentME",children:c.jsxs(xr,{id:"agentME",name:"agentME",value:d.agentME,onChange:M,children:[c.jsx("option",{children:"Non"}),c.jsx("option",{children:"Oui"})]})})]}),c.jsx(ct,{label:"Observations",htmlFor:"notes",className:"md:col-span-2",children:c.jsx(ch,{id:"notes",name:"notes",value:d.notes,onChange:M,rows:4,placeholder:"Ajouter des notes ou des observations pertinentes..."})})]})]})}),c.jsxs(Nd,{contentClassName:"max-w-4xl mx-auto",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{type:"submit",form:"add-equipment-form",loading:C,disabled:C,children:C?"Sauvegarde...":"Sauvegarder"})]})]})},WZ=["Engineering","Human Resources","Marketing","Sales","Design","Product","Management","IT"],XI=({onSave:t,onBack:e,users:n,initialData:r})=>{const[a,i]=I.useState({name:"",employeeId:"",email:"",department:"",managerId:"",role:Ne.EMPLOYEE}),[o,u]=I.useState(null),[f,d]=I.useState(null),[p,h]=I.useState(!1),{addToast:y}=Xn(),x=!!(r!=null&&r.id);I.useEffect(()=>{r&&(i({name:r.name||"",employeeId:r.employeeId||"",email:r.email||"",department:r.department||"",managerId:r.managerId||"",role:r.role||Ne.EMPLOYEE}),r.avatarUrl&&d(r.avatarUrl))},[r]);const T=j=>{const{name:_,value:M}=j.target;i(N=>({...N,[_]:M}))},w=j=>{if(j.target.files&&j.target.files[0]){const _=j.target.files[0];u(_),d(URL.createObjectURL(_))}},A=async j=>{if(j.preventDefault(),!p&&a.name.trim()&&a.employeeId.trim()&&a.email.trim()){h(!0);try{await t({...a,avatarFile:o,id:r==null?void 0:r.id})}catch{y("La sauvegarde a échoué.","error"),h(!1)}}},C=n.filter(j=>j.role===Ne.ADMIN||j.role===Ne.MANAGER).sort((j,_)=>j.name.localeCompare(_.name));return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 dark:bg-gray-900",children:[c.jsx(jt,{title:x?"Modifier l'utilisateur":"Ajouter un utilisateur",onBack:e}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("form",{className:"max-w-2xl mx-auto space-y-8",id:"add-user-form",onSubmit:A,children:[c.jsx("div",{className:"flex flex-col items-center space-y-4 pt-4",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden border-2 border-white dark:border-gray-600 shadow-md",children:f?c.jsx("img",{src:f,alt:"Avatar Preview",className:"w-full h-full object-cover"}):c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 text-5xl",children:"person"})}),c.jsxs("label",{htmlFor:"avatar-upload",className:"absolute -bottom-2 -right-2 bg-primary-500 text-white rounded-full p-2 cursor-pointer hover:bg-primary-600 shadow-sm transition-transform hover:scale-110",children:[c.jsx("span",{className:"material-symbols-outlined",children:"edit"}),c.jsx("input",{id:"avatar-upload",name:"avatar-upload",type:"file",className:"sr-only",accept:"image/*",onChange:w,"aria-label":"Changer l'avatar"})]})]})}),c.jsxs(ir,{title:"Informations de l'utilisateur",children:[c.jsx(ct,{label:"Nom complet",htmlFor:"name",className:"md:col-span-2",children:c.jsx($n,{type:"text",id:"name",name:"name",value:a.name,onChange:T,required:!0,placeholder:"Entrer le nom complet de l'utilisateur"})}),c.jsx(ct,{label:"Adresse e-mail",htmlFor:"email",children:c.jsx($n,{type:"email",id:"email",name:"email",value:a.email,onChange:T,required:!0,placeholder:"Entrer l'e-mail de l'utilisateur"})}),c.jsx(ct,{label:"ID de l'employé",htmlFor:"employeeId",help:c.jsx(ti,{content:"Le numéro d'identification officiel de l'employé, souvent utilisé pour la paie ou les systèmes internes.",children:c.jsx("button",{type:"button",className:"cursor-help","aria-label":"Plus d'informations sur l'ID de l'employé",children:c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 text-base",children:"info"})})}),children:c.jsx($n,{type:"text",id:"employeeId",name:"employeeId",value:a.employeeId,onChange:T,required:!0,placeholder:"Entrer l'ID de l'employé"})})]}),c.jsxs(ir,{title:"Organisation",children:[c.jsx(ct,{label:"Département",htmlFor:"department",children:c.jsxs(xr,{id:"department",name:"department",value:a.department,onChange:T,children:[c.jsx("option",{value:"",children:"Sélectionner le département"}),WZ.map(j=>c.jsx("option",{value:j,children:j},j))]})}),c.jsx(ct,{label:"Rôle",htmlFor:"role",children:c.jsx(xr,{id:"role",name:"role",value:a.role,onChange:T,children:Object.values(Ne).map(j=>c.jsx("option",{value:j,children:j},j))})}),c.jsx(ct,{label:"Responsable",htmlFor:"managerId",className:"md:col-span-2",children:c.jsxs(xr,{id:"managerId",name:"managerId",value:a.managerId,onChange:T,children:[c.jsx("option",{value:"",children:"Sélectionner le responsable"}),C.map(j=>c.jsx("option",{value:j.id,children:j.name},j.id))]})})]})]})}),c.jsxs(Nd,{contentClassName:"max-w-2xl mx-auto",children:[c.jsx(Re,{variant:"secondary",onClick:e,children:"Annuler"}),c.jsx(Re,{type:"submit",form:"add-user-form",loading:p,disabled:p,children:p?"Sauvegarde...":"Sauvegarder"})]})]})},XZ=({iconName:t})=>c.jsx("span",{className:"material-symbols-outlined",children:t||"device_unknown"}),JZ=({categories:t,onViewCategory:e})=>c.jsxs("div",{className:"px-4 pt-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 tracking-tight mb-4",children:"Catégories"}),c.jsx("div",{className:"space-y-3",children:t.map(n=>c.jsxs("button",{type:"button",onClick:()=>e(n.id),className:"w-full flex items-center gap-4 surface-card surface-card-gradient p-4 cursor-pointer transition-transform hover:-translate-y-0.5 focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-400",children:[c.jsx("div",{className:"flex items-center justify-center rounded-lg bg-secondary-100/90 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-200 shrink-0 size-12",children:c.jsx(XZ,{iconName:n.icon})}),c.jsx("div",{className:"flex-1 text-left",children:c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-medium",children:n.name})}),c.jsx("div",{className:"flex items-center justify-center size-8 rounded-full text-secondary-500 dark:text-secondary-200 transition-transform group-hover:translate-x-1",children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:"chevron_right"})})]},n.id))})]}),QZ=({equipment:t,models:e,categories:n,onSelectModel:r})=>{const[a,i]=I.useState(""),[o,u]=I.useState(!1),[f,d]=I.useState(null),[p,h]=I.useState(!1),[y,x]=I.useState("all"),[T,w]=I.useState("all"),{addToast:A}=Xn(),C=I.useMemo(()=>{const U=t.reduce((q,D)=>(q[D.modelId]=(q[D.modelId]||0)+1,q),{});return e.map(q=>({...q,category:n.find(D=>D.id===q.categoryId),count:U[q.id]||0})).filter(q=>q.count>0).sort((q,D)=>q.name.localeCompare(D.name))},[t,e,n]),j=()=>{d(null),i(""),x("all"),w("all")},_=()=>{f&&!p&&(h(!0),setTimeout(()=>{d(null),h(!1)},500))},M=()=>{_()},N=U=>{i(U.target.value),_()},k=async U=>{if(U.preventDefault(),!!a.trim()){u(!0),A("Gemini analyse votre recherche...","info");try{const q=new Cd({apiKey:void 0}),D={type:_t.OBJECT,properties:{category:{type:_t.STRING,description:"Filter by equipment category name."},brand:{type:_t.STRING,description:"Filter by brand name."},searchTerm:{type:_t.STRING,description:"General keywords for the model name."}}},$=Array.from(new Set(e.map(K=>K.brand))).join(", "),H=`You are an expert search query parser for an IT asset management application. Your task is to translate the user's natural language query into a structured JSON object of filters for a list of equipment models.

            Here are the available filter options:
            - Categories: ${n.map(K=>K.name).join(", ")}
            - Brands: ${$}

            Analyze the user's query: "${a}"

            Based on the query, populate the JSON schema. If a field is not mentioned, omit it. For 'searchTerm', include any keywords that look like a model's name.`,J=await q.models.generateContent({model:"gemini-2.5-flash",contents:H,config:{responseMimeType:"application/json",responseSchema:D}}),B=JSON.parse(J.text.trim());if(j(),d(B),B.searchTerm&&i(B.searchTerm),B.brand&&w(B.brand),B.category){const K=n.find(W=>W.name.toLowerCase()===B.category.toLowerCase());K&&x(K.id)}A("Filtres intelligents appliqués !","success")}catch(q){console.error("Error with Gemini model search:",q),A("Désolé, je n'ai pas pu traiter cette recherche.","error")}finally{u(!1)}}},P=I.useMemo(()=>C.filter(U=>{const q=a.toLowerCase(),D=T.toLowerCase(),$=a===""||U.name.toLowerCase().includes(q)||U.category&&U.category.name.toLowerCase().includes(q),H=y==="all"||U.categoryId===y,J=T==="all"||U.brand.toLowerCase().includes(D);return $&&H&&J}),[C,a,y,T]),R=f?"Filtres intelligents actifs. Tapez pour une nouvelle recherche.":"Rechercher des modèles ou demander à Gemini...",L=I.useMemo(()=>Array.from(new Set(e.map(U=>U.brand))).sort(),[e]);return c.jsxs("div",{className:"p-4",children:[c.jsx("div",{className:"mb-4",children:c.jsx(Oc,{value:a,onChange:N,onSubmit:k,placeholder:R,isSearching:o})}),f&&c.jsxs("div",{className:`pb-4 flex flex-wrap gap-2 items-center ${p?"animate-shake-and-fade-out":"animate-fade-in"}`,children:[Object.entries(f).map(([U,q])=>q&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-primary-100 px-2 py-1 text-xs font-medium text-primary-900",children:c.jsx("span",{children:`${U}: ${q}`})},U)),c.jsx("button",{onClick:j,className:"text-xs text-gray-500 hover:underline",children:"Effacer"})]}),c.jsxs("div",{className:"flex gap-3 pb-4 overflow-x-auto",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:y,onChange:U=>{x(U.target.value),M()},className:"shrink-0 appearance-none rounded-md border border-secondary-200 dark:border-secondary-700 bg-white/90 dark:bg-secondary-900/60 py-2 pl-4 pr-10 text-sm font-medium text-secondary-700 dark:text-secondary-100 focus:border-primary-500 focus:ring-primary-500 cursor-pointer shadow-[var(--shadow-elev-1)]",children:[c.jsx("option",{value:"all",children:"Toutes les catégories"}),n.map(U=>c.jsx("option",{value:U.id,children:U.name},U.id))]}),c.jsx("span",{className:"material-symbols-outlined pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-secondary-500 dark:text-secondary-200 !text-base",children:"expand_more"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("select",{value:T,onChange:U=>{w(U.target.value),M()},className:"shrink-0 appearance-none rounded-md border border-secondary-200 dark:border-secondary-700 bg-white/90 dark:bg-secondary-900/60 py-2 pl-4 pr-10 text-sm font-medium text-secondary-700 dark:text-secondary-100 focus:border-primary-500 focus:ring-primary-500 cursor-pointer shadow-[var(--shadow-elev-1)]",children:[c.jsx("option",{value:"all",children:"Toutes les marques"}),L.map(U=>c.jsx("option",{value:U,children:U},U))]}),c.jsx("span",{className:"material-symbols-outlined pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 text-secondary-500 dark:text-secondary-200 !text-base",children:"expand_more"})]})]}),c.jsx("div",{className:"space-y-3",children:P.length>0?P.map(U=>{var q;return c.jsxs("button",{type:"button",onClick:()=>r(U.id),className:"group w-full flex items-center gap-4 surface-card surface-card-gradient p-4 rounded-xl transition-transform hover:-translate-y-0.5 cursor-pointer focus-visible:outline focus-visible:outline-2 focus-visible:outline-primary-400",children:[c.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-lg size-16 shrink-0 ring-1 ring-secondary-200/60 dark:ring-secondary-800/60",style:{backgroundImage:`url('${U.imageUrl||"https://placehold.co/64x64/e2e8f0/a0aec0/png"}')`}}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-base font-semibold",children:U.name}),c.jsx("p",{className:"text-secondary-600 dark:text-secondary-200 text-sm",children:(q=U.category)==null?void 0:q.name})]}),c.jsxs("div",{className:"text-center pr-2",children:[c.jsx("p",{className:"text-primary-600 dark:text-primary-300 text-xl font-semibold",children:U.count}),c.jsx("p",{className:"text-secondary-500 dark:text-secondary-200 text-xs uppercase tracking-wide",children:"Unités"})]}),c.jsx("span",{className:"material-symbols-outlined p-2 text-secondary-500 dark:text-secondary-200 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},U.id)}):c.jsxs("div",{className:"text-center py-10",children:[c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Aucun modèle trouvé."}),c.jsx("p",{className:"text-gray-500 text-sm",children:"Essayez d'ajuster votre recherche."})]})})]})},ZZ=({categories:t,models:e,equipment:n,onAddCategory:r,onAddModel:a,onViewCategory:i,onSelectModel:o})=>{const[u,f]=I.useState("categories"),d=I.useMemo(()=>[{label:"Ajouter une catégorie",icon:"create_new_folder",onClick:()=>r()},{label:"Ajouter un modèle",icon:"add_box",onClick:()=>a()},{label:"Importer des modèles (CSV)",icon:"upload",onClick:()=>window.location.hash="#/models/import"}],[r,a]),p="flex-1 whitespace-nowrap border-b-2 py-3 text-center text-sm transition-colors",h="border-primary-500 text-primary-600 dark:text-primary-300 font-semibold",y="border-transparent text-secondary-500 dark:text-secondary-300 hover:border-secondary-300 dark:hover:border-secondary-600 hover:text-secondary-700 dark:hover:text-secondary-100 font-medium";return c.jsxs("div",{className:"flex flex-col h-screen bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(jt,{title:"Gestion",children:c.jsx(ba,{actions:d})}),c.jsx("div",{className:"border-b border-secondary-200/70 dark:border-secondary-800 flex-shrink-0 backdrop-blur-sm bg-white/40 dark:bg-secondary-900/40",children:c.jsxs("div",{className:"flex gap-x-4 px-4",children:[c.jsx("button",{onClick:()=>f("categories"),className:`${p} ${u==="categories"?h:y}`,children:"Catégories"}),c.jsx("button",{onClick:()=>f("models"),className:`${p} ${u==="models"?h:y}`,children:"Modèles"})]})}),c.jsxs("main",{className:"flex-1 flex flex-col overflow-y-auto bg-secondary-50/80 dark:bg-[#0f1722] pb-24 lg:pb-6",children:[u==="categories"&&c.jsx("div",{className:"flex-grow",children:c.jsx(JZ,{categories:t,onViewCategory:i})}),u==="models"&&c.jsx("div",{className:"flex-grow",children:c.jsx(QZ,{equipment:n,models:e,categories:t,onSelectModel:o})})]}),c.jsx(nh,{actions:d,id:"fab-management",mainIcon:"add",className:"lg:hidden"})]})},eee=({countries:t,sites:e,departments:n,dispatch:r,logAuditEvent:a})=>{const[i,o]=I.useState(null),[u,f]=I.useState(null),[d,p]=I.useState(null),[h,y]=I.useState(null),[x,T]=I.useState(null),w=async(D,$)=>{await new Promise(X=>setTimeout(X,500));const{id:H,name:J,parentId:B}=$;let K="",W={id:H,name:J},re="location";switch(D){case"country":K="SAVE_COUNTRY";break;case"site":K="SAVE_SITE",W.countryId=B;break;case"department":K="SAVE_DEPARTMENT",W.siteId=B;break}r({type:K,payload:W}),a(H?"update":"create",re,J)},A=(D,$)=>{let H="",J=!1,B="";switch(D){case"country":H="DELETE_COUNTRY",J=e.some(K=>K.countryId===$.id),B="sites";break;case"site":H="DELETE_SITE",J=n.some(K=>K.siteId===$.id),B="services";break;case"department":H="DELETE_DEPARTMENT";break}if(J){f({title:"Suppression impossible",children:`Vous ne pouvez pas supprimer ce ${D} car il contient des ${B}.`,onConfirm:()=>f(null),onClose:()=>f(null),confirmButtonText:"OK",confirmButtonVariant:"primary",icon:"error",iconBgColor:"bg-yellow-100",iconColor:"text-yellow-600"});return}f({title:`Supprimer ${$.name}`,children:c.jsxs(c.Fragment,{children:["Êtes-vous sûr de vouloir supprimer ",c.jsx("strong",{children:$.name}),"? Cette action est irréversible."]}),onConfirm:()=>{r({type:H,payload:$.id}),a("delete","location",$.name),f(null)},onClose:()=>f(null)})},C=[{label:"Ajouter un pays",icon:"public",onClick:()=>o({entityType:"country"})},{label:"Importer des localisations",icon:"upload",onClick:()=>window.location.hash="#/locations/import"}],j=I.useMemo(()=>[...t].sort((D,$)=>D.name.localeCompare($.name)),[t]),_=I.useMemo(()=>[...e].sort((D,$)=>D.name.localeCompare($.name)),[e]),M=I.useMemo(()=>[...n].sort((D,$)=>D.name.localeCompare($.name)),[n]),N=j.find(D=>D.id===d)||null,k=N?_.filter(D=>D.countryId===N.id):[],P=k.find(D=>D.id===h)||null,R=P?M.filter(D=>D.siteId===P.id):[],L=R.find(D=>D.id===x)||null;I.useEffect(()=>{!d&&j.length>0&&p(j[0].id)},[j,d]),I.useEffect(()=>{var D;N?(!P||!k.some($=>$.id===P.id))&&y(((D=k[0])==null?void 0:D.id)??null):y(null)},[N,k,P]),I.useEffect(()=>{var D;P?(!L||!R.some($=>$.id===L.id))&&T(((D=R[0])==null?void 0:D.id)??null):T(null)},[P,R,L]);const U=I.useMemo(()=>L?{title:L.name,type:"Service",metrics:[{label:"Site",value:(P==null?void 0:P.name)||"—"},{label:"Pays",value:(N==null?void 0:N.name)||"—"}],entityType:"department",entity:L}:P?{title:P.name,type:"Site",metrics:[{label:"Pays",value:(N==null?void 0:N.name)||"—"},{label:"Services",value:R.length.toString()}],entityType:"site",entity:P}:N?{title:N.name,type:"Pays",metrics:[{label:"Sites",value:k.length.toString()},{label:"Services",value:M.filter(D=>k.some($=>$.id===D.siteId)).length.toString()}],entityType:"country",entity:N}:null,[N,P,L,k,R,M]),q=({title:D,icon:$,items:H,selectedId:J,onSelect:B,onAdd:K,onEdit:W,onDelete:re,addLabel:X,disabledAdd:V})=>c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-4 flex flex-col min-h-[260px]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-200",children:$}),c.jsx("h2",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100 tracking-tight uppercase",children:D})]}),K&&c.jsx(Re,{size:"sm",variant:"ghost",icon:"add",onClick:K,disabled:V,className:"border border-secondary-200 dark:border-secondary-800 hover:bg-secondary-100/60 dark:hover:bg-secondary-900/50",children:X})]}),c.jsxs("div",{className:"flex-1 space-y-2 overflow-y-auto pr-1",children:[H.length===0&&c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 italic",children:"Aucun élément"}),H.map(z=>{const Y=z.id===J;return c.jsxs("div",{className:`group flex items-center justify-between gap-2 rounded-xl border px-3 py-2 cursor-pointer transition-colors ${Y?"border-secondary-300/80 dark:border-secondary-700/70 bg-secondary-100/80 dark:bg-secondary-900/45 text-secondary-800 dark:text-secondary-100 shadow-[var(--shadow-elev-2)]":"border-transparent hover:bg-secondary-100/50 dark:hover:bg-secondary-900/40 text-gray-900 dark:text-gray-100"}`,onClick:()=>B(z.id),children:[c.jsx("span",{className:"text-sm font-medium truncate",children:z.name}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[W&&c.jsx("button",{onClick:ee=>{ee.stopPropagation(),W(z)},className:"size-9 flex items-center justify-center rounded-full text-secondary-500 hover:text-secondary-800 dark:text-secondary-200 dark:hover:text-secondary-100","aria-label":`Modifier ${z.name}`,children:c.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"})}),re&&c.jsx("button",{onClick:ee=>{ee.stopPropagation(),re(z)},className:"size-9 flex items-center justify-center rounded-full text-status-danger-500 hover:text-status-danger-400 dark:text-status-danger-300 hover:bg-status-danger-500/10","aria-label":`Supprimer ${z.name}`,children:c.jsx("span",{className:"material-symbols-outlined text-base",children:"delete"})})]})]},z.id)})]})]});return c.jsxs("div",{className:"flex flex-col h-screen bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(jt,{title:"Emplacements",children:c.jsx(ba,{actions:C})}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 pb-28 lg:pb-6",children:c.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(q,{title:"Pays",icon:"public",items:j,selectedId:d,onSelect:D=>{p(D),y(null),T(null)},onAdd:()=>o({entityType:"country"}),onEdit:D=>o({entityType:"country",entity:D}),onDelete:D=>A("country",D),addLabel:"Pays"}),c.jsx(q,{title:"Sites",icon:"domain",items:k,selectedId:h,onSelect:D=>{y(D),T(null)},onAdd:()=>N&&o({entityType:"site",parentId:N.id}),onEdit:D=>o({entityType:"site",entity:D}),onDelete:D=>A("site",D),addLabel:"Site",disabledAdd:!N}),c.jsx(q,{title:"Services",icon:"meeting_room",items:R,selectedId:x,onSelect:D=>T(D),onAdd:()=>P&&o({entityType:"department",parentId:P.id}),onEdit:D=>o({entityType:"department",entity:D}),onDelete:D=>A("department",D),addLabel:"Service",disabledAdd:!P})]}),c.jsx("aside",{className:"lg:w-80 xl:w-96 surface-card surface-card-gradient rounded-2xl p-5 h-full",children:U?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs uppercase tracking-wide text-secondary-500 dark:text-secondary-200",children:U.type}),c.jsx("p",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mt-1",children:U.title})]}),c.jsx("div",{className:"space-y-2",children:U.metrics.map(D=>c.jsxs("div",{className:"flex justify-between text-sm text-secondary-600 dark:text-secondary-200",children:[c.jsx("span",{children:D.label}),c.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:D.value})]},D.label))}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Re,{variant:"secondary",size:"sm",icon:"edit",onClick:()=>o({entityType:U.entityType,entity:U.entity}),className:"flex-1",children:"Modifier"}),c.jsx(Re,{variant:"ghost",size:"sm",icon:"delete",onClick:()=>A(U.entityType,U.entity),className:"flex-1 border border-secondary-200 dark:border-secondary-700",children:"Supprimer"})]})]}):c.jsx("div",{className:"text-sm text-secondary-600 dark:text-secondary-200",children:"Sélectionnez un élément pour voir ses détails."})})]})}),i&&c.jsx(VZ,{info:i,countries:t,sites:e,onClose:()=>o(null),onSave:w}),u&&c.jsx(ai,{isOpen:!0,...u}),c.jsx(nh,{actions:C,id:"fab-locations",mainIcon:"add",className:"lg:hidden"})]})},Ov=["laptop_chromebook","desktop_windows","keyboard","mouse","dock","headphones","desktop_mac","print","devices_other","router","camera_alt","smartphone","tablet_mac","scanner","speaker","memory"],JI=({onSave:t,onBack:e,initialData:n})=>{const[r,a]=I.useState(""),[i,o]=I.useState(""),[u,f]=I.useState(Ov[0]),[d,p]=I.useState(!1),{addToast:h}=Xn(),y=!!n;I.useEffect(()=>{n&&(a(n.name),o(n.description||""),f(n.icon||Ov[0]))},[n]);const x=async T=>{if(T.preventDefault(),!d&&r.trim()){p(!0);try{await t({name:r,description:i,icon:u,id:n==null?void 0:n.id})}catch{h("La sauvegarde a échoué.","error"),p(!1)}}};return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(jt,{title:y?"Modifier la catégorie":"Nouvelle catégorie",onBack:e}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto",children:c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("form",{id:"add-category-form",onSubmit:x,className:"space-y-6",children:[c.jsx(ct,{label:"Nom de la catégorie",htmlFor:"category-name",children:c.jsx($n,{id:"category-name",placeholder:"ex: Ordinateurs portables, Moniteurs",type:"text",value:r,onChange:T=>a(T.target.value),required:!0})}),c.jsx(ct,{label:"Description",htmlFor:"description",children:c.jsx(ch,{id:"description",placeholder:"Saisissez une brève description de la catégorie",rows:4,value:i,onChange:T=>o(T.target.value)})}),c.jsxs("div",{children:[c.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:"Icône"}),c.jsx("div",{className:"grid grid-cols-6 md:grid-cols-8 gap-2 rounded-lg border border-gray-300 bg-white p-2",children:Ov.map(T=>c.jsx("button",{type:"button",onClick:()=>f(T),className:`flex items-center justify-center aspect-square rounded-md transition-colors ${u===T?"bg-primary-500 text-gray-900 ring-2 ring-offset-2 ring-primary-500":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,"aria-label":`Sélectionner l'icône ${T}`,title:T.replace(/_/g," "),children:c.jsx("span",{className:"material-symbols-outlined",children:T})},T))})]})]})})}),c.jsx(Nd,{contentClassName:"max-w-2xl mx-auto",children:c.jsx(Re,{type:"submit",form:"add-category-form",disabled:!r.trim()||d,loading:d,children:d?"Enregistrement...":y?"Enregistrer":"Créer"})})]})},QI=({onSave:t,onBack:e,categories:n,initialData:r})=>{const[a,i]=I.useState(""),[o,u]=I.useState(""),[f,d]=I.useState(""),[p,h]=I.useState(""),[y,x]=I.useState(""),[T,w]=I.useState(null),[A,C]=I.useState(!1),[j,_]=I.useState(!1),{addToast:M}=Xn(),N=!!(r!=null&&r.id);I.useEffect(()=>{r&&(i(r.name||""),d(r.brand||""),h(r.categoryId||""),x(r.specifications||""),u(r.modelNumber||""))},[r]);const k=async()=>{if(!a.trim()){M("Veuillez entrer un nom de modèle.","info");return}C(!0),M("Recherche des spécifications...","info");try{const L=new Cd({apiKey:void 0}),U={type:_t.OBJECT,properties:{brand:{type:_t.STRING,description:"La marque de l'appareil (par exemple, Dell, Apple)."},category:{type:_t.STRING,description:"La catégorie générale de l'appareil (par exemple, Laptop, Monitor, Keyboard)."},specifications:{type:_t.STRING,description:"Un bref résumé des spécifications techniques clés (par exemple, 14 pouces, Intel Core i7, 16 Go de RAM, 512 Go SSD)."}},required:["brand","category","specifications"]},D=(await L.models.generateContent({model:"gemini-2.5-flash",contents:`À partir du nom de modèle "${a}", fournissez la marque, la catégorie et un résumé de ses spécifications clés.`,config:{responseMimeType:"application/json",responseSchema:U}})).text.trim(),$=JSON.parse(D);d($.brand||""),x($.specifications||"");const H=($.category||"").toLowerCase(),J=n.find(B=>B.name.toLowerCase()===H);J?h(J.id):M(`Catégorie "${$.category}" non trouvée. Veuillez la sélectionner manuellement.`,"info"),M("Spécifications pré-remplies !","success")}catch(L){console.error("Error fetching model specs:",L),M("Erreur lors de la récupération des spécifications.","error")}finally{C(!1)}},P=async L=>{if(L.preventDefault(),!j&&a.trim()&&f.trim()&&p){_(!0);try{await t({modelName:a,modelNumber:o,brand:f,type:p,specifications:y,image:T,id:r==null?void 0:r.id,imageUrl:r==null?void 0:r.imageUrl})}catch{M("La sauvegarde a échoué.","error"),_(!1)}}},R=a.trim()&&f.trim()&&p;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 font-sans",children:[c.jsxs("div",{className:"flex-grow flex flex-col",children:[c.jsx(jt,{title:N?"Modifier le modèle":"Nouveau modèle",onBack:e}),c.jsx("main",{className:"flex-1 p-4 space-y-6 overflow-y-auto",children:c.jsxs("form",{id:"add-model-form",onSubmit:P,className:"space-y-4 max-w-2xl mx-auto",children:[c.jsx(ct,{label:"Nom du modèle",htmlFor:"model-name",children:c.jsxs("div",{className:"relative",children:[c.jsx($n,{id:"model-name",placeholder:"ex: Dell Latitude 7420",type:"text",value:a,onChange:L=>i(L.target.value)}),c.jsx("button",{type:"button",onClick:k,disabled:A||!a.trim(),className:"absolute inset-y-0 right-0 flex items-center justify-center w-12 text-primary-600 hover:bg-primary-50 rounded-r-md disabled:text-gray-400 disabled:cursor-not-allowed",title:"Remplir automatiquement les spécifications","aria-label":"Remplir automatiquement les spécifications",children:A?c.jsx("span",{className:"material-symbols-outlined animate-spin",children:"autorenew"}):c.jsx("span",{className:"material-symbols-outlined",children:"auto_awesome"})})]})}),c.jsx(ct,{label:"Numéro de modèle",htmlFor:"model-number",children:c.jsx($n,{id:"model-number",placeholder:"ex: 20XLS11C002",type:"text",value:o,onChange:L=>u(L.target.value)})}),c.jsx(ct,{label:"Marque",htmlFor:"brand",children:c.jsx($n,{id:"brand",placeholder:"ex: Apple",type:"text",value:f,onChange:L=>d(L.target.value)})}),c.jsx(ct,{label:"Catégorie",htmlFor:"type",children:c.jsxs(xr,{id:"type",value:p,onChange:L=>h(L.target.value),children:[c.jsx("option",{value:"",disabled:!0,children:"Sélectionner une catégorie"}),n.map(L=>c.jsx("option",{value:L.id,children:L.name},L.id))]})}),c.jsx(ct,{label:"Spécifications",htmlFor:"specifications",children:c.jsx(ch,{id:"specifications",placeholder:"ex: 16 pouces, M2 Pro, 16Go RAM, 512Go SSD",rows:4,value:y,onChange:L=>x(L.target.value)})}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Image"}),c.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md bg-white",children:c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-5xl text-gray-400",children:" cloud_upload "}),c.jsxs("div",{className:"flex text-sm text-gray-600",children:[c.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-700 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",htmlFor:"file-upload",children:[c.jsx("span",{children:"Télécharger un fichier"}),c.jsx("input",{className:"sr-only",id:"file-upload",name:"file-upload",type:"file",onChange:L=>w(L.target.files?L.target.files[0]:null)})]}),c.jsx("p",{className:"pl-1",children:"ou glisser-déposer"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF jusqu'à 10MB"})]})})]})]})})]}),c.jsx(Nd,{contentClassName:"max-w-2xl mx-auto",children:c.jsx(Re,{type:"submit",form:"add-model-form",disabled:!R||j,loading:j,children:j?"Enregistrement...":N?"Enregistrer":"Créer"})})]})},{jsPDF:tee}=jspdf,gm=(t,e)=>{const n=o=>o.map(u=>{const f=String(u??"");return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f}).join(","),r="data:text/csv;charset=utf-8,"+e.map(n).join(`
`),a=encodeURI(r),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",`${t}.csv`),document.body.appendChild(i),i.click(),document.body.removeChild(i)},ym=(t,e,n)=>{const r=new tee;r.text(t,14,15),r.autoTable({startY:20,head:e,body:n,theme:"striped",styles:{fontSize:8},headStyles:{fillColor:[255,202,24]}}),r.save(`${t.toLowerCase().replace(/\s/g,"_")}.pdf`)},vm=({icon:t,title:e,description:n,onCsv:r,onPdf:a})=>c.jsxs("div",{className:"flex flex-col justify-between surface-card surface-card-gradient p-5 rounded-2xl gap-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-secondary-100/90 dark:bg-secondary-900/50 text-secondary-700 dark:text-secondary-200 mb-3 shadow-[var(--shadow-elev-1)]",children:c.jsx("span",{className:"material-symbols-outlined text-3xl",children:t})}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 tracking-tight mb-2",children:e}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-200/90 leading-relaxed",children:n})]}),c.jsxs("div",{className:"mt-auto grid gap-2 sm:flex sm:flex-row",children:[r&&c.jsx(Re,{variant:"secondary",size:"lg",onClick:r,className:"w-full sm:flex-1 bg-white/90 dark:bg-secondary-900/60 text-secondary-800 dark:text-secondary-100 hover:bg-secondary-100 dark:hover:bg-secondary-800",children:"Exporter en CSV"}),a&&c.jsx(Re,{variant:"ghost",size:"lg",onClick:a,className:"w-full sm:flex-1 border border-secondary-200 dark:border-secondary-700 bg-white/40 dark:bg-secondary-900/30 text-secondary-700 dark:text-secondary-100 hover:bg-secondary-100/80 dark:hover:bg-secondary-800/60",children:"Exporter en PDF"})]})]}),nee=({equipment:t,assignments:e,users:n,models:r,categories:a,currentUser:i})=>{const[o,u]=I.useState(!1),[f,d]=I.useState(""),[p,h]=I.useState(null),y=I.useMemo(()=>new Map(r.map(N=>[N.id,N])),[r]),x=I.useMemo(()=>new Map(a.map(N=>[N.id,N])),[a]),T=I.useMemo(()=>new Map(n.map(N=>[N.id,N.name])),[n]),w=I.useMemo(()=>{const N=new Map,k=new Map;for(const P of e){const R=k.get(P.equipmentId);(!R||new Date(P.date)>new Date(R.date))&&k.set(P.equipmentId,P)}for(const P of t)if(P.status===De.ASSIGNED){const R=k.get(P.id);R&&R.action===ze.ASSIGN&&N.set(P.id,T.get(R.userId)||"Utilisateur inconnu")}return N},[e,t,T]),A=()=>{const N=["Catégorie","Modèle","N° d'inventaire","Nom","Statut","Utilisateur attribué","Date d'achat","Fin de garantie"],k=t.map(P=>{const R=y.get(P.modelId),L=R?x.get(R.categoryId):null;return[L==null?void 0:L.name,R==null?void 0:R.name,P.assetTag,P.name,P.status,w.get(P.id),P.purchaseDate?new Date(P.purchaseDate).toLocaleDateString():null,P.warrantyEndDate?new Date(P.warrantyEndDate).toLocaleDateString():null]});return{headers:[N],data:k}},C=()=>{const N=new Date;N.setFullYear(N.getFullYear()-3);const k=t.filter(L=>L.purchaseDate&&new Date(L.purchaseDate)<N),P=["Modèle","N° d'inventaire","Statut","Date d'achat","Âge (ans)"],R=k.map(L=>{const U=y.get(L.modelId),q=L.purchaseDate?((new Date().getTime()-new Date(L.purchaseDate).getTime())/(1e3*60*60*24*365.25)).toFixed(1):null;return[U==null?void 0:U.name,L.assetTag,L.status,new Date(L.purchaseDate).toLocaleDateString(),q]});return{headers:[P],data:R}},j=()=>{const N=new Date,k=new Date;k.setDate(N.getDate()+90);const P=t.filter(U=>U.warrantyEndDate&&new Date(U.warrantyEndDate)>N&&new Date(U.warrantyEndDate)<=k),R=["Modèle","N° d'inventaire","Fin de garantie","Jours restants"],L=P.map(U=>{const q=y.get(U.modelId),D=Math.ceil((new Date(U.warrantyEndDate).getTime()-N.getTime())/(1e3*3600*24));return[q==null?void 0:q.name,U.assetTag,new Date(U.warrantyEndDate).toLocaleDateString(),D]});return{headers:[R],data:L}},_=N=>{const k=n.find(U=>U.id===N);if(!k)return{title:"",headers:[],data:[]};const P=e.filter(U=>U.userId===k.id).sort((U,q)=>new Date(q.date).getTime()-new Date(U.date).getTime()),R=["Date","Action","Modèle","N° d'inventaire"],L=P.map(U=>{const q=t.find($=>$.id===U.equipmentId),D=q?y.get(q.modelId):null;return[new Date(U.date).toLocaleDateString(),U.action,D==null?void 0:D.name,q==null?void 0:q.assetTag]});return{title:`Historique pour ${k.name}`,headers:[R],data:L}},M=()=>{var R;if(!f||!p)return;const{title:N,headers:k,data:P}=_(f);p==="csv"?gm(`historique_${(R=n.find(L=>L.id===f))==null?void 0:R.name.replace(" ","_")}`,[k[0],...P]):ym(N,k,P),u(!1),d(""),h(null)};return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(jt,{title:"Rapports"}),c.jsx("main",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-24 md:p-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[c.jsx(vm,{icon:"inventory_2",title:"Inventaire Complet",description:"Exporter la liste complète de tous les équipements et leurs détails.",onCsv:()=>{const{headers:N,data:k}=A();gm("inventaire_complet",[N[0],...k])},onPdf:()=>{const{headers:N,data:k}=A();ym("Inventaire Complet",N,k)}}),c.jsx(vm,{icon:"person_search",title:"Historique par Utilisateur",description:"Générer un rapport de toutes les attributions et retours pour un utilisateur spécifique.",onCsv:()=>{h("csv"),u(!0)},onPdf:()=>{h("pdf"),u(!0)}}),c.jsx(vm,{icon:"update",title:"Équipement Vieillissant",description:"Lister tous les équipements de plus de 3 ans pour la planification de l'amortissement.",onCsv:()=>{const{headers:N,data:k}=C();gm("equipement_vieillissant",[N[0],...k])},onPdf:()=>{const{headers:N,data:k}=C();ym("Équipement Vieillissant (> 3 ans)",N,k)}}),c.jsx(vm,{icon:"shield",title:"Expiration des Garanties",description:"Voir les équipements dont la garantie expire dans les 90 prochains jours.",onCsv:()=>{const{headers:N,data:k}=j();gm("expiration_garanties",[N[0],...k])},onPdf:()=>{const{headers:N,data:k}=j();ym("Expiration des Garanties (< 90 jours)",N,k)}})]})}),o&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:()=>u(!1),children:c.jsxs("div",{className:"surface-card surface-card-gradient w-full max-w-sm p-6 rounded-2xl animate-slide-up",onClick:N=>N.stopPropagation(),children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 tracking-tight mb-4",children:"Sélectionner un utilisateur"}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-secondary-700 dark:text-secondary-200 mb-2",htmlFor:"user-select",children:"Utilisateur"}),c.jsxs("select",{id:"user-select",value:f,onChange:N=>d(N.target.value),className:"w-full rounded-md border border-secondary-200 dark:border-secondary-700 bg-white/90 dark:bg-secondary-900/60 text-secondary-800 dark:text-secondary-100 shadow-[var(--shadow-elev-1)] focus:border-primary-500 focus:ring-primary-500",children:[c.jsx("option",{value:"",disabled:!0,children:"Sélectionner un utilisateur..."}),n.map(N=>c.jsx("option",{value:N.id,children:N.name},N.id))]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[c.jsx(Re,{variant:"ghost",onClick:()=>u(!1),className:"border border-secondary-200 dark:border-secondary-700 bg-transparent text-secondary-700 dark:text-secondary-200 hover:bg-secondary-100/60 dark:hover:bg-secondary-900/50",children:"Annuler"}),c.jsx(Re,{onClick:M,disabled:!f,children:"Générer"})]})]})})]})},ZI=({value:t})=>c.jsx("div",{className:"w-full h-2 rounded-full bg-secondary-200/70 dark:bg-secondary-900/40",children:c.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-primary-400 via-primary-500 to-primary-600 transition-[width] duration-300 ease-in-out",style:{width:`${Math.min(t,100)}%`}})}),ree=t=>{if(!t)return null;const e="inline-flex items-center gap-1 whitespace-nowrap text-xs font-semibold px-2 py-0.5 rounded-full";switch(t){case"in-progress":return c.jsx("span",{className:`bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 ${e}`,children:"En cours"});case"paused":return c.jsx("span",{className:`bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-300 ${e}`,children:"En pause"});case"completed":return c.jsx("span",{className:`bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300 ${e}`,children:"Terminé"});default:return null}},aee=({equipment:t,currentUser:e,sites:n,departments:r,countries:a,auditSessions:i,dispatch:o})=>{const[u,f]=I.useState(null),[d,p]=I.useState(null),[h,y]=I.useState(null);I.useEffect(()=>{if(h){const q=i.find(D=>D.departmentId===h&&D.status==="in-progress");q&&(window.location.hash=`#/audit/session/${q.id}`,y(null))}},[i,h]);const x=I.useMemo(()=>[...a].sort((q,D)=>q.name.localeCompare(D.name)),[a]),T=I.useMemo(()=>{const q=new Map;return n.forEach(D=>{const $=q.get(D.countryId)??[];$.push(D),q.set(D.countryId,$)}),q.forEach(D=>D.sort(($,H)=>$.name.localeCompare(H.name))),q},[n]),w=I.useMemo(()=>{const q=new Map;return r.forEach(D=>{const $=q.get(D.siteId)??[];$.push(D),q.set(D.siteId,$)}),q.forEach(D=>D.sort(($,H)=>$.name.localeCompare(H.name))),q},[r]);I.useEffect(()=>{if(x.length===0){u!==null&&f(null),d!==null&&p(null);return}if(!u||!x.some(D=>D.id===u)){f(x[0].id);return}const q=T.get(u)??[];if(q.length===0){d!==null&&p(null);return}(!d||!q.some(D=>D.id===d))&&p(q[0].id)},[x,T,u,d]);const A=I.useMemo(()=>{const q=new Map;return i.filter(D=>D.status!=="cancelled").sort((D,$)=>new Date($.updatedAt).getTime()-new Date(D.updatedAt).getTime()).forEach(D=>{q.has(D.departmentId)||q.set(D.departmentId,D)}),q},[i]),C=I.useMemo(()=>{const q={};r.forEach(H=>{const J=A.get(H.id),B=t.filter(W=>W.departmentId===H.id).length;if(B===0){const W=J?J.scannedItemIds.length:0;q[H.id]={progress:(J==null?void 0:J.status)==="completed"?100:0,session:J,scannedCount:W,totalItems:B};return}if((J==null?void 0:J.status)==="completed"){q[H.id]={progress:100,session:J,scannedCount:B,totalItems:B};return}const K=J?J.scannedItemIds.length:0;q[H.id]={progress:K/B*100,session:J,scannedCount:K,totalItems:B}});const D={};n.forEach(H=>{const J=r.filter(W=>W.siteId===H.id),B=t.filter(W=>W.siteId===H.id).length,K=J.reduce((W,re)=>{const X=A.get(re.id);return W+(X?X.scannedItemIds.length:0)},0);D[H.id]={progress:B>0?K/B*100:0,itemCount:B,totalScanned:K}});const $={};return a.forEach(H=>{const J=n.filter(W=>W.countryId===H.id),B=J.reduce((W,re)=>{var X;return W+(((X=D[re.id])==null?void 0:X.itemCount)||0)},0),K=J.reduce((W,re)=>{const X=r.filter(V=>V.siteId===re.id);return W+X.reduce((V,z)=>{const Y=A.get(z.id);return V+(Y?Y.scannedItemIds.length:0)},0)},0);$[H.id]={progress:B>0?K/B*100:0,itemCount:B,totalScanned:K}}),{deptProgress:q,siteProgress:D,countryProgress:$}},[A,t,n,r,a]),j=I.useMemo(()=>{const D=Object.values(C.deptProgress).reduce((K,W)=>K+Math.min(W.scannedCount,W.totalItems),0),$=t.length,H=$>0?D/$*100:0,J=i.filter(K=>K.status==="in-progress"||K.status==="paused").length,B=i.filter(K=>K.status==="completed").length;return{totalEquipment:$,scannedEquipment:D,completionRate:H,activeSessionsCount:J,completedSessionsCount:B}},[C,t,i]),_=u?T.get(u)??[]:[],N=(d?_.find(q=>q.id===d)??null:null)??_[0]??null,k=N?w.get(N.id)??[]:[],P=N?C.siteProgress[N.id]:void 0,R=u?C.countryProgress[u]:void 0,L=q=>{const D=A.get(q);D&&(D.status==="in-progress"||D.status==="paused")?(o({type:"START_AUDIT_SESSION",payload:{departmentId:q,userId:e.id}}),window.location.hash=`#/audit/session/${D.id}`):D&&D.status==="completed"?window.location.hash=`#/audit/report/${D.id}`:(o({type:"START_AUDIT_SESSION",payload:{departmentId:q,userId:e.id}}),y(q))},U=q=>q==="in-progress"||q==="paused"?"Continuer":q==="completed"?"Rapport":"Commencer";return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(jt,{title:"Lancer un audit"}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 pb-24 space-y-6",children:[c.jsxs(Ke.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-8 md:p-10 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:[c.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{className:"flex items-start gap-5",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-primary-600 dark:text-primary-400",children:"event_available"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-primary-600 dark:text-primary-400 mb-2",children:"Préparer vos audits"}),c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-50 tracking-tight leading-tight",children:"Suivez la progression des campagnes d'audit"}),c.jsx("p",{className:"mt-3 text-sm leading-relaxed text-secondary-700 dark:text-secondary-300 max-w-2xl",children:"Explorez vos pays, sites et services pour lancer rapidement un audit, reprendre une session en cours ou consulter les rapports finalisés."})]})]}),c.jsxs("div",{className:"flex flex-col gap-3 sm:items-end sm:justify-end sm:w-72",children:[c.jsx(Re,{variant:"primary",icon:"play_arrow",className:"w-full sm:w-auto",onClick:()=>{if(N){const D=(w.get(N.id)??[])[0];D&&L(D.id)}},children:"Démarrer un audit"}),c.jsx(Re,{variant:"secondary",icon:"monitoring",className:"w-full sm:w-auto",onClick:()=>window.location.hash="#/audit/overview",children:"Aperçu"})]})]}),c.jsxs("div",{className:"mt-8 grid gap-4 md:grid-cols-4",children:[c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Progression globale"}),c.jsxs("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:[j.completionRate.toFixed(0),"%"]}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:"Taux de couverture"})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Équipements scannés"}),c.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:j.scannedEquipment}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:["sur ",j.totalEquipment]})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Sessions actives"}),c.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:j.activeSessionsCount}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:"En cours ou en pause"})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-gradient-to-br from-white/80 to-white/50 dark:from-secondary-900/40 dark:to-secondary-900/20 backdrop-blur-sm px-5 py-4 shadow-[var(--shadow-elev-1)] transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Rapports finalisés"}),c.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900 dark:text-gray-50",children:j.completedSessionsCount}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1",children:"Derniers 30 jours"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-6 xl:flex-row",children:[c.jsxs("section",{className:"xl:w-[320px] flex-shrink-0 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-300 uppercase tracking-wide",children:"Pays"}),c.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:x.length})]}),c.jsxs("div",{className:"space-y-2",children:[x.length===0&&c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-300 italic",children:"Aucun pays disponible."}),x.map(q=>{var H;const D=C.countryProgress[q.id],$=q.id===u;return c.jsxs(Ke.button,{type:"button",onClick:()=>f(q.id),className:`surface-card surface-card-gradient w-full text-left rounded-2xl border px-4 py-4 transition-all ${$?"border-secondary-400/80 dark:border-secondary-600 bg-secondary-100/60 dark:bg-secondary-900/40 shadow-[var(--shadow-elev-2)]":"border-transparent hover:border-secondary-200/70 dark:hover:border-secondary-700/60"}`,whileHover:{y:-2},whileTap:{scale:.98},children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-medium uppercase text-secondary-500 dark:text-secondary-300",children:"Pays"}),c.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-gray-50",children:q.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:"Sites"}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-200",children:((H=T.get(q.id))==null?void 0:H.length)??0})]})]}),c.jsxs("div",{className:"mt-3 space-y-2",children:[c.jsx(ZI,{value:(D==null?void 0:D.progress)||0}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-secondary-500 dark:text-secondary-300",children:[c.jsxs("span",{children:[Math.round((D==null?void 0:D.progress)||0),"% complété"]}),c.jsxs("span",{children:[(D==null?void 0:D.totalScanned)||0,"/",(D==null?void 0:D.itemCount)||0]})]})]})]},q.id)})]})]}),c.jsx("section",{className:"flex-1 space-y-4",children:c.jsx(Ys,{mode:"wait",children:u?c.jsxs(Ke.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.25},className:"space-y-5",children:[c.jsx("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:c.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold uppercase tracking-wide text-secondary-600 dark:text-secondary-400",children:"Sites"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-50 mt-1",children:N?N.name:"Sélectionnez un site"}),R&&c.jsxs("p",{className:"mt-1 text-sm text-secondary-600 dark:text-secondary-300",children:[Math.round(R.progress),"% de progression globale pour ce pays (",R.totalScanned,"/",R.itemCount," équipements)."]})]}),c.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1",children:[_.length===0&&c.jsx("span",{className:"text-sm text-secondary-500 dark:text-secondary-300 italic",children:"Aucun site enregistré."}),_.map(q=>{const D=((N==null?void 0:N.id)??d)===q.id,$=C.siteProgress[q.id];return c.jsxs("button",{type:"button",onClick:()=>p(q.id),className:`whitespace-nowrap rounded-full border px-4 py-2 text-sm font-medium transition-colors ${D?"border-primary-400 text-primary-700 dark:text-primary-200 bg-primary-50/70 dark:bg-primary-900/30":"border-secondary-200 text-secondary-600 hover:border-secondary-400 hover:text-secondary-800 dark:border-secondary-700 dark:text-secondary-200 dark:hover:border-secondary-500"}`,children:[q.name," • ",Math.round(($==null?void 0:$.progress)||0),"%"]},q.id)})]})]})}),c.jsxs("div",{className:"grid gap-5 xl:grid-cols-[minmax(0,2fr)_minmax(0,1.1fr)]",children:[c.jsxs(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsx("h4",{className:"text-sm font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Services / Départements"}),c.jsx("span",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:k.length})]}),c.jsxs("div",{className:"space-y-3",children:[k.length===0&&c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-300 italic",children:"Aucun service pour ce site."}),k.map(q=>{var J;const D=C.deptProgress[q.id],$=(J=D==null?void 0:D.session)==null?void 0:J.status,H=U($);return c.jsxs(Ke.div,{layout:!0,className:"flex items-center gap-4 rounded-2xl border border-transparent bg-white/70 dark:bg-secondary-900/40 px-4 py-3 shadow-[var(--shadow-elev-1)] transition hover:border-secondary-200/70 dark:hover:border-secondary-700/60",whileHover:{y:-1},children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:q.name}),c.jsxs("span",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:[Math.round((D==null?void 0:D.progress)||0),"%"]})]}),c.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[c.jsx("div",{className:"flex-1 min-w-[120px]",children:c.jsx(ZI,{value:(D==null?void 0:D.progress)||0})}),ree($)]}),c.jsxs("p",{className:"mt-1 text-xs text-secondary-500 dark:text-secondary-300",children:[(D==null?void 0:D.scannedCount)||0,"/",(D==null?void 0:D.totalItems)||0," équipements scannés"]})]}),c.jsx(Re,{size:"sm",variant:H==="Rapport"?"ghost":"secondary",className:H==="Rapport"?"border border-secondary-200 dark:border-secondary-700 bg-white/40 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-100 hover:bg-secondary-100/80 dark:hover:bg-secondary-800/60":"",onClick:()=>L(q.id),children:H})]},q.id)})]})]},(N==null?void 0:N.id)||"no-site"),c.jsxs(Ke.aside,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-bold uppercase tracking-wide text-secondary-600 dark:text-secondary-400",children:"Résumé du site"}),c.jsx("h4",{className:"mt-2 text-lg font-bold text-gray-900 dark:text-gray-50",children:N?N.name:"Sélectionnez un site"}),P&&c.jsxs("p",{className:"mt-1 text-sm text-secondary-600 dark:text-secondary-300",children:[Math.round(P.progress),"% complété • ",P.totalScanned,"/",P.itemCount," équipements."]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/30 px-4 py-4",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Services à auditer"}),c.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900 dark:text-gray-50",children:k.length})]}),c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/30 px-4 py-4",children:[c.jsx("p",{className:"text-xs font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Sessions actives"}),c.jsx("p",{className:"mt-2 text-2xl font-bold text-gray-900 dark:text-gray-50",children:k.filter(q=>{var $;const D=($=C.deptProgress[q.id])==null?void 0:$.session;return D&&(D.status==="in-progress"||D.status==="paused")}).length})]})]}),c.jsx(Re,{block:!0,variant:"primary",icon:"bolt",onClick:()=>{const q=k.find(D=>{var H;const $=(H=C.deptProgress[D.id])==null?void 0:H.session;return!$||$.status!=="completed"})||k[0];q&&L(q.id)},disabled:!k.length,children:"Lancer l'action prioritaire"})]},`summary-${(N==null?void 0:N.id)||"empty"}`)]})]},u):c.jsx(Ke.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},className:"surface-card rounded-3xl p-6 text-center text-secondary-600 dark:text-secondary-300",children:"Sélectionnez un pays pour visualiser ses sites et services."},"empty")})})]})]})]})};function vU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=vU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xe(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=vU(t))&&(r&&(r+=" "),r+=e);return r}var Rv,ek;function lr(){if(ek)return Rv;ek=1;var t=Array.isArray;return Rv=t,Rv}var Dv,tk;function xU(){if(tk)return Dv;tk=1;var t=typeof sm=="object"&&sm&&sm.Object===Object&&sm;return Dv=t,Dv}var Lv,nk;function Sa(){if(nk)return Lv;nk=1;var t=xU(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Lv=n,Lv}var qv,rk;function Md(){if(rk)return qv;rk=1;var t=Sa(),e=t.Symbol;return qv=e,qv}var Uv,ak;function iee(){if(ak)return Uv;ak=1;var t=Md(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,a=t?t.toStringTag:void 0;function i(o){var u=n.call(o,a),f=o[a];try{o[a]=void 0;var d=!0}catch{}var p=r.call(o);return d&&(u?o[a]=f:delete o[a]),p}return Uv=i,Uv}var Bv,ik;function see(){if(ik)return Bv;ik=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Bv=n,Bv}var $v,sk;function ii(){if(sk)return $v;sk=1;var t=Md(),e=iee(),n=see(),r="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?a:r:i&&i in Object(u)?e(u):n(u)}return $v=o,$v}var Vv,ok;function si(){if(ok)return Vv;ok=1;function t(e){return e!=null&&typeof e=="object"}return Vv=t,Vv}var Fv,lk;function Jl(){if(lk)return Fv;lk=1;var t=ii(),e=si(),n="[object Symbol]";function r(a){return typeof a=="symbol"||e(a)&&t(a)==n}return Fv=r,Fv}var zv,uk;function $T(){if(uk)return zv;uk=1;var t=lr(),e=Jl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){if(t(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||e(i)?!0:r.test(i)||!n.test(i)||o!=null&&i in Object(o)}return zv=a,zv}var Gv,ck;function Xi(){if(ck)return Gv;ck=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Gv=t,Gv}var Hv,dk;function VT(){if(dk)return Hv;dk=1;var t=ii(),e=Xi(),n="[object AsyncFunction]",r="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(u){if(!e(u))return!1;var f=t(u);return f==r||f==a||f==n||f==i}return Hv=o,Hv}var Kv,fk;function oee(){if(fk)return Kv;fk=1;var t=Sa(),e=t["__core-js_shared__"];return Kv=e,Kv}var Yv,mk;function lee(){if(mk)return Yv;mk=1;var t=oee(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Yv=n,Yv}var Wv,pk;function bU(){if(pk)return Wv;pk=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Wv=n,Wv}var Xv,hk;function uee(){if(hk)return Xv;hk=1;var t=VT(),e=lee(),n=Xi(),r=bU(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,f=o.toString,d=u.hasOwnProperty,p=RegExp("^"+f.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(y){if(!n(y)||e(y))return!1;var x=t(y)?p:i;return x.test(r(y))}return Xv=h,Xv}var Jv,gk;function cee(){if(gk)return Jv;gk=1;function t(e,n){return e==null?void 0:e[n]}return Jv=t,Jv}var Qv,yk;function eo(){if(yk)return Qv;yk=1;var t=uee(),e=cee();function n(r,a){var i=e(r,a);return t(i)?i:void 0}return Qv=n,Qv}var Zv,vk;function dh(){if(vk)return Zv;vk=1;var t=eo(),e=t(Object,"create");return Zv=e,Zv}var e0,xk;function dee(){if(xk)return e0;xk=1;var t=dh();function e(){this.__data__=t?t(null):{},this.size=0}return e0=e,e0}var t0,bk;function fee(){if(bk)return t0;bk=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return t0=t,t0}var n0,Sk;function mee(){if(Sk)return n0;Sk=1;var t=dh(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function a(i){var o=this.__data__;if(t){var u=o[i];return u===e?void 0:u}return r.call(o,i)?o[i]:void 0}return n0=a,n0}var r0,wk;function pee(){if(wk)return r0;wk=1;var t=dh(),e=Object.prototype,n=e.hasOwnProperty;function r(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return r0=r,r0}var a0,Ak;function hee(){if(Ak)return a0;Ak=1;var t=dh(),e="__lodash_hash_undefined__";function n(r,a){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=t&&a===void 0?e:a,this}return a0=n,a0}var i0,Tk;function gee(){if(Tk)return i0;Tk=1;var t=dee(),e=fee(),n=mee(),r=pee(),a=hee();function i(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var d=o[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,i0=i,i0}var s0,Ek;function yee(){if(Ek)return s0;Ek=1;function t(){this.__data__=[],this.size=0}return s0=t,s0}var o0,Nk;function FT(){if(Nk)return o0;Nk=1;function t(e,n){return e===n||e!==e&&n!==n}return o0=t,o0}var l0,_k;function fh(){if(_k)return l0;_k=1;var t=FT();function e(n,r){for(var a=n.length;a--;)if(t(n[a][0],r))return a;return-1}return l0=e,l0}var u0,Ck;function vee(){if(Ck)return u0;Ck=1;var t=fh(),e=Array.prototype,n=e.splice;function r(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var u=i.length-1;return o==u?i.pop():n.call(i,o,1),--this.size,!0}return u0=r,u0}var c0,Mk;function xee(){if(Mk)return c0;Mk=1;var t=fh();function e(n){var r=this.__data__,a=t(r,n);return a<0?void 0:r[a][1]}return c0=e,c0}var d0,jk;function bee(){if(jk)return d0;jk=1;var t=fh();function e(n){return t(this.__data__,n)>-1}return d0=e,d0}var f0,Ik;function See(){if(Ik)return f0;Ik=1;var t=fh();function e(n,r){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,r])):a[i][1]=r,this}return f0=e,f0}var m0,kk;function mh(){if(kk)return m0;kk=1;var t=yee(),e=vee(),n=xee(),r=bee(),a=See();function i(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var d=o[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,m0=i,m0}var p0,Pk;function zT(){if(Pk)return p0;Pk=1;var t=eo(),e=Sa(),n=t(e,"Map");return p0=n,p0}var h0,Ok;function wee(){if(Ok)return h0;Ok=1;var t=gee(),e=mh(),n=zT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return h0=r,h0}var g0,Rk;function Aee(){if(Rk)return g0;Rk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return g0=t,g0}var y0,Dk;function ph(){if(Dk)return y0;Dk=1;var t=Aee();function e(n,r){var a=n.__data__;return t(r)?a[typeof r=="string"?"string":"hash"]:a.map}return y0=e,y0}var v0,Lk;function Tee(){if(Lk)return v0;Lk=1;var t=ph();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return v0=e,v0}var x0,qk;function Eee(){if(qk)return x0;qk=1;var t=ph();function e(n){return t(this,n).get(n)}return x0=e,x0}var b0,Uk;function Nee(){if(Uk)return b0;Uk=1;var t=ph();function e(n){return t(this,n).has(n)}return b0=e,b0}var S0,Bk;function _ee(){if(Bk)return S0;Bk=1;var t=ph();function e(n,r){var a=t(this,n),i=a.size;return a.set(n,r),this.size+=a.size==i?0:1,this}return S0=e,S0}var w0,$k;function GT(){if($k)return w0;$k=1;var t=wee(),e=Tee(),n=Eee(),r=Nee(),a=_ee();function i(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var d=o[u];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=r,i.prototype.set=a,w0=i,w0}var A0,Vk;function SU(){if(Vk)return A0;Vk=1;var t=GT(),e="Expected a function";function n(r,a){if(typeof r!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var o=arguments,u=a?a.apply(this,o):o[0],f=i.cache;if(f.has(u))return f.get(u);var d=r.apply(this,o);return i.cache=f.set(u,d)||f,d};return i.cache=new(n.Cache||t),i}return n.Cache=t,A0=n,A0}var T0,Fk;function Cee(){if(Fk)return T0;Fk=1;var t=SU(),e=500;function n(r){var a=t(r,function(o){return i.size===e&&i.clear(),o}),i=a.cache;return a}return T0=n,T0}var E0,zk;function Mee(){if(zk)return E0;zk=1;var t=Cee(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(o,u,f,d){i.push(f?d.replace(n,"$1"):u||o)}),i});return E0=r,E0}var N0,Gk;function HT(){if(Gk)return N0;Gk=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=Array(a);++r<a;)i[r]=n(e[r],r,e);return i}return N0=t,N0}var _0,Hk;function jee(){if(Hk)return _0;Hk=1;var t=Md(),e=HT(),n=lr(),r=Jl(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(u){if(typeof u=="string")return u;if(n(u))return e(u,o)+"";if(r(u))return i?i.call(u):"";var f=u+"";return f=="0"&&1/u==-1/0?"-0":f}return _0=o,_0}var C0,Kk;function wU(){if(Kk)return C0;Kk=1;var t=jee();function e(n){return n==null?"":t(n)}return C0=e,C0}var M0,Yk;function AU(){if(Yk)return M0;Yk=1;var t=lr(),e=$T(),n=Mee(),r=wU();function a(i,o){return t(i)?i:e(i,o)?[i]:n(r(i))}return M0=a,M0}var j0,Wk;function hh(){if(Wk)return j0;Wk=1;var t=Jl();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return j0=e,j0}var I0,Xk;function KT(){if(Xk)return I0;Xk=1;var t=AU(),e=hh();function n(r,a){a=t(a,r);for(var i=0,o=a.length;r!=null&&i<o;)r=r[e(a[i++])];return i&&i==o?r:void 0}return I0=n,I0}var k0,Jk;function TU(){if(Jk)return k0;Jk=1;var t=KT();function e(n,r,a){var i=n==null?void 0:t(n,r);return i===void 0?a:i}return k0=e,k0}var Iee=TU();const Ar=ht(Iee);var P0,Qk;function kee(){if(Qk)return P0;Qk=1;function t(e){return e==null}return P0=t,P0}var Pee=kee();const Ze=ht(Pee);var O0,Zk;function Oee(){if(Zk)return O0;Zk=1;var t=ii(),e=lr(),n=si(),r="[object String]";function a(i){return typeof i=="string"||!e(i)&&n(i)&&t(i)==r}return O0=a,O0}var Ree=Oee();const Vs=ht(Ree);var Dee=VT();const Fe=ht(Dee);var Lee=Xi();const Ql=ht(Lee);var R0={exports:{}},gt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eP;function qee(){if(eP)return gt;eP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function w(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case t:switch(A=A.type,A){case n:case a:case r:case d:case p:return A;default:switch(A=A&&A.$$typeof,A){case u:case o:case f:case y:case h:case i:return A;default:return C}}case e:return C}}}return gt.ContextConsumer=o,gt.ContextProvider=i,gt.Element=t,gt.ForwardRef=f,gt.Fragment=n,gt.Lazy=y,gt.Memo=h,gt.Portal=e,gt.Profiler=a,gt.StrictMode=r,gt.Suspense=d,gt.SuspenseList=p,gt.isAsyncMode=function(){return!1},gt.isConcurrentMode=function(){return!1},gt.isContextConsumer=function(A){return w(A)===o},gt.isContextProvider=function(A){return w(A)===i},gt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},gt.isForwardRef=function(A){return w(A)===f},gt.isFragment=function(A){return w(A)===n},gt.isLazy=function(A){return w(A)===y},gt.isMemo=function(A){return w(A)===h},gt.isPortal=function(A){return w(A)===e},gt.isProfiler=function(A){return w(A)===a},gt.isStrictMode=function(A){return w(A)===r},gt.isSuspense=function(A){return w(A)===d},gt.isSuspenseList=function(A){return w(A)===p},gt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===a||A===r||A===d||A===p||A===x||typeof A=="object"&&A!==null&&(A.$$typeof===y||A.$$typeof===h||A.$$typeof===i||A.$$typeof===o||A.$$typeof===f||A.$$typeof===T||A.getModuleId!==void 0)},gt.typeOf=w,gt}var tP;function Uee(){return tP||(tP=1,R0.exports=qee()),R0.exports}var Bee=Uee(),D0,nP;function EU(){if(nP)return D0;nP=1;var t=ii(),e=si(),n="[object Number]";function r(a){return typeof a=="number"||e(a)&&t(a)==n}return D0=r,D0}var L0,rP;function $ee(){if(rP)return L0;rP=1;var t=EU();function e(n){return t(n)&&n!=+n}return L0=e,L0}var Vee=$ee();const jd=ht(Vee);var Fee=EU();const zee=ht(Fee);var Cn=function(e){return e===0?0:e>0?1:-1},Ms=function(e){return Vs(e)&&e.indexOf("%")===e.length-1},Ae=function(e){return zee(e)&&!jd(e)},Gee=function(e){return Ze(e)},Sn=function(e){return Ae(e)||Vs(e)},Hee=0,Id=function(e){var n=++Hee;return"".concat(e||"").concat(n)},Yn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(e)&&!Vs(e))return r;var i;if(Ms(e)){var o=e.indexOf("%");i=n*parseFloat(e.slice(0,o))/100}else i=+e;return jd(i)&&(i=r),a&&i>n&&(i=n),i},Ui=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Kee=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},a=0;a<n;a++)if(!r[e[a]])r[e[a]]=!0;else return!0;return!1},ta=function(e,n){return Ae(e)&&Ae(n)?function(r){return e+r*(n-e)}:function(){return n}};function Tw(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ar(r,e))===n})}var Yee=function(e,n){return Ae(e)&&Ae(n)?e-n:Vs(e)&&Vs(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function hl(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Ew(t){"@babel/helpers - typeof";return Ew=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ew(t)}var Wee=["viewBox","children"],Xee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aP=["points","pathLength"],q0={svg:Wee,polygon:aP,polyline:aP},YT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Zm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(I.isValidElement(e)&&(r=e.props),!Ql(r))return null;var a={};return Object.keys(r).forEach(function(i){YT.includes(i)&&(a[i]=n||function(o){return r[i](r,o)})}),a},Jee=function(e,n,r){return function(a){return e(n,r,a),null}},Ja=function(e,n,r){if(!Ql(e)||Ew(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];YT.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Jee(o,n,r))}),a},Qee=["children"],Zee=["children"];function iP(t,e){if(t==null)return{};var n=ete(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ete(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ha=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},oP=null,U0=null,WT=function t(e){if(e===oP&&Array.isArray(U0))return U0;var n=[];return I.Children.forEach(e,function(r){Ze(r)||(Bee.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),U0=n,oP=e,n};function Tr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(a){return Ha(a)}):r=[Ha(e)],WT(t).forEach(function(a){var i=Ar(a,"type.displayName")||Ar(a,"type.name");r.indexOf(i)!==-1&&n.push(a)}),n}function br(t,e){var n=Tr(t,e);return n&&n[0]}var lP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,a=n.height;return!(!Ae(r)||r<=0||!Ae(a)||a<=0)},tte=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nte=function(e){return e&&e.type&&Vs(e.type)&&tte.indexOf(e.type)>=0},rte=function(e,n,r,a){var i,o=(i=q0==null?void 0:q0[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!Fe(e)&&(a&&o.includes(n)||Xee.includes(n))||r&&YT.includes(n)},Be=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(I.isValidElement(e)&&(a=e.props),!Ql(a))return null;var i={};return Object.keys(a).forEach(function(o){var u;rte((u=a)===null||u===void 0?void 0:u[o],o,n,r)&&(i[o]=a[o])}),i},Nw=function t(e,n){if(e===n)return!0;var r=I.Children.count(e);if(r!==I.Children.count(n))return!1;if(r===0)return!0;if(r===1)return uP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var i=e[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!uP(i,o))return!1}return!0},uP=function(e,n){if(Ze(e)&&Ze(n))return!0;if(!Ze(e)&&!Ze(n)){var r=e.props||{},a=r.children,i=iP(r,Qee),o=n.props||{},u=o.children,f=iP(o,Zee);return a&&u?hl(i,f)&&Nw(a,u):!a&&!u?hl(i,f):!1}return!1},cP=function(e,n){var r=[],a={};return WT(e).forEach(function(i,o){if(nte(i))r.push(i);else if(i){var u=Ha(i.type),f=n[u]||{},d=f.handler,p=f.once;if(d&&(!p||!a[u])){var h=d(i,u,o);r.push(h),a[u]=!0}}}),r},ate=function(e){var n=e&&e.type;return n&&sP[n]?sP[n]:null},ite=function(e,n){return WT(n).indexOf(e)},ste=["children","width","height","viewBox","className","style","title","desc"];function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}function ote(t,e){if(t==null)return{};var n=lte(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cw(t){var e=t.children,n=t.width,r=t.height,a=t.viewBox,i=t.className,o=t.style,u=t.title,f=t.desc,d=ote(t,ste),p=a||{width:n,height:r,x:0,y:0},h=Xe("recharts-surface",i);return te.createElement("svg",_w({},Be(d,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),te.createElement("title",null,u),te.createElement("desc",null,f),e)}var ute=["children","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(this,arguments)}function cte(t,e){if(t==null)return{};var n=dte(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var st=te.forwardRef(function(t,e){var n=t.children,r=t.className,a=cte(t,ute),i=Xe("recharts-layer",r);return te.createElement("g",Mw({className:i},Be(a,!0),{ref:e}),n)}),ra=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i]},B0,dP;function fte(){if(dP)return B0;dP=1;function t(e,n,r){var a=-1,i=e.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=e[a+n];return o}return B0=t,B0}var $0,fP;function mte(){if(fP)return $0;fP=1;var t=fte();function e(n,r,a){var i=n.length;return a=a===void 0?i:a,!r&&a>=i?n:t(n,r,a)}return $0=e,$0}var V0,mP;function NU(){if(mP)return V0;mP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+a+i+"]");function f(d){return u.test(d)}return V0=f,V0}var F0,pP;function pte(){if(pP)return F0;pP=1;function t(e){return e.split("")}return F0=t,F0}var z0,hP;function hte(){if(hP)return z0;hP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",a=e+n+r,i="\\ufe0e\\ufe0f",o="["+t+"]",u="["+a+"]",f="\\ud83c[\\udffb-\\udfff]",d="(?:"+u+"|"+f+")",p="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",T=d+"?",w="["+i+"]?",A="(?:"+x+"(?:"+[p,h,y].join("|")+")"+w+T+")*",C=w+T+A,j="(?:"+[p+u+"?",u,h,y,o].join("|")+")",_=RegExp(f+"(?="+f+")|"+j+C,"g");function M(N){return N.match(_)||[]}return z0=M,z0}var G0,gP;function gte(){if(gP)return G0;gP=1;var t=pte(),e=NU(),n=hte();function r(a){return e(a)?n(a):t(a)}return G0=r,G0}var H0,yP;function yte(){if(yP)return H0;yP=1;var t=mte(),e=NU(),n=gte(),r=wU();function a(i){return function(o){o=r(o);var u=e(o)?n(o):void 0,f=u?u[0]:o.charAt(0),d=u?t(u,1).join(""):o.slice(1);return f[i]()+d}}return H0=a,H0}var K0,vP;function vte(){if(vP)return K0;vP=1;var t=yte(),e=t("toUpperCase");return K0=e,K0}var xte=vte();const gh=ht(xte);function Rt(t){return function(){return t}}const _U=Math.cos,ep=Math.sin,sa=Math.sqrt,tp=Math.PI,yh=2*tp,jw=Math.PI,Iw=2*jw,As=1e-6,bte=Iw-As;function CU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ste(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CU;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class wte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CU:Ste(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,o){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,u=this._y1,f=r-e,d=a-n,p=o-e,h=u-n,y=p*p+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>As)if(!(Math.abs(h*f-d*p)>As)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-o,T=a-u,w=f*f+d*d,A=x*x+T*T,C=Math.sqrt(w),j=Math.sqrt(y),_=i*Math.tan((jw-Math.acos((w+y-A)/(2*C*j)))/2),M=_/j,N=_/C;Math.abs(M-1)>As&&this._append`L${e+M*p},${n+M*h}`,this._append`A${i},${i},0,0,${+(h*x>p*T)},${this._x1=e+N*f},${this._y1=n+N*d}`}}arc(e,n,r,a,i,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),d=e+u,p=n+f,h=1^o,y=o?a-i:i-a;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>As||Math.abs(this._y1-p)>As)&&this._append`L${d},${p}`,r&&(y<0&&(y=y%Iw+Iw),y>bte?this._append`A${r},${r},0,1,${h},${e-u},${n-f}A${r},${r},0,1,${h},${this._x1=d},${this._y1=p}`:y>As&&this._append`A${r},${r},0,${+(y>=jw)},${h},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function XT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wte(e)}function JT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MU(t){this._context=t}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function vh(t){return new MU(t)}function jU(t){return t[0]}function IU(t){return t[1]}function kU(t,e){var n=Rt(!0),r=null,a=vh,i=null,o=XT(u);t=typeof t=="function"?t:t===void 0?jU:Rt(t),e=typeof e=="function"?e:e===void 0?IU:Rt(e);function u(f){var d,p=(f=JT(f)).length,h,y=!1,x;for(r==null&&(i=a(x=o())),d=0;d<=p;++d)!(d<p&&n(h=f[d],d,f))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+t(h,d,f),+e(h,d,f));if(x)return i=null,x+""||null}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Rt(+f),u):t},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Rt(+f),u):e},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Rt(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(i=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=i=null:i=a(r=f),u):r},u}function xm(t,e,n){var r=null,a=Rt(!0),i=null,o=vh,u=null,f=XT(d);t=typeof t=="function"?t:t===void 0?jU:Rt(+t),e=typeof e=="function"?e:Rt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?IU:Rt(+n);function d(h){var y,x,T,w=(h=JT(h)).length,A,C=!1,j,_=new Array(w),M=new Array(w);for(i==null&&(u=o(j=f())),y=0;y<=w;++y){if(!(y<w&&a(A=h[y],y,h))===C)if(C=!C)x=y,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=y-1;T>=x;--T)u.point(_[T],M[T]);u.lineEnd(),u.areaEnd()}C&&(_[y]=+t(A,y,h),M[y]=+e(A,y,h),u.point(r?+r(A,y,h):_[y],n?+n(A,y,h):M[y]))}if(j)return u=null,j+""||null}function p(){return kU().defined(a).curve(o).context(i)}return d.x=function(h){return arguments.length?(t=typeof h=="function"?h:Rt(+h),r=null,d):t},d.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Rt(+h),d):t},d.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Rt(+h),d):r},d.y=function(h){return arguments.length?(e=typeof h=="function"?h:Rt(+h),n=null,d):e},d.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Rt(+h),d):e},d.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Rt(+h),d):n},d.lineX0=d.lineY0=function(){return p().x(t).y(e)},d.lineY1=function(){return p().x(t).y(n)},d.lineX1=function(){return p().x(r).y(e)},d.defined=function(h){return arguments.length?(a=typeof h=="function"?h:Rt(!!h),d):a},d.curve=function(h){return arguments.length?(o=h,i!=null&&(u=o(i)),d):o},d.context=function(h){return arguments.length?(h==null?i=u=null:u=o(i=h),d):i},d}class PU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ate(t){return new PU(t,!0)}function Tte(t){return new PU(t,!1)}const QT={draw(t,e){const n=sa(e/tp);t.moveTo(n,0),t.arc(0,0,n,0,yh)}},Ete={draw(t,e){const n=sa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},OU=sa(1/3),Nte=OU*2,_te={draw(t,e){const n=sa(e/Nte),r=n*OU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Cte={draw(t,e){const n=sa(e),r=-n/2;t.rect(r,r,n,n)}},Mte=.8908130915292852,RU=ep(tp/10)/ep(7*tp/10),jte=ep(yh/10)*RU,Ite=-_U(yh/10)*RU,kte={draw(t,e){const n=sa(e*Mte),r=jte*n,a=Ite*n;t.moveTo(0,-n),t.lineTo(r,a);for(let i=1;i<5;++i){const o=yh*i/5,u=_U(o),f=ep(o);t.lineTo(f*n,-u*n),t.lineTo(u*r-f*a,f*r+u*a)}t.closePath()}},Y0=sa(3),Pte={draw(t,e){const n=-sa(e/(Y0*3));t.moveTo(0,n*2),t.lineTo(-Y0*n,-n),t.lineTo(Y0*n,-n),t.closePath()}},Dr=-.5,Lr=sa(3)/2,kw=1/sa(12),Ote=(kw/2+1)*3,Rte={draw(t,e){const n=sa(e/Ote),r=n/2,a=n*kw,i=r,o=n*kw+n,u=-i,f=o;t.moveTo(r,a),t.lineTo(i,o),t.lineTo(u,f),t.lineTo(Dr*r-Lr*a,Lr*r+Dr*a),t.lineTo(Dr*i-Lr*o,Lr*i+Dr*o),t.lineTo(Dr*u-Lr*f,Lr*u+Dr*f),t.lineTo(Dr*r+Lr*a,Dr*a-Lr*r),t.lineTo(Dr*i+Lr*o,Dr*o-Lr*i),t.lineTo(Dr*u+Lr*f,Dr*f-Lr*u),t.closePath()}};function Dte(t,e){let n=null,r=XT(a);t=typeof t=="function"?t:Rt(t||QT),e=typeof e=="function"?e:Rt(e===void 0?64:+e);function a(){let i;if(n||(n=i=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Rt(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:Rt(+i),a):e},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function np(){}function rp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function DU(t){this._context=t}DU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:rp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Lte(t){return new DU(t)}function LU(t){this._context=t}LU.prototype={areaStart:np,areaEnd:np,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qte(t){return new LU(t)}function qU(t){this._context=t}qU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:rp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ute(t){return new qU(t)}function UU(t){this._context=t}UU.prototype={areaStart:np,areaEnd:np,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Bte(t){return new UU(t)}function xP(t){return t<0?-1:1}function bP(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),o=(n-t._y1)/(a||r<0&&-0),u=(i*a+o*r)/(r+a);return(xP(i)+xP(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(u))||0}function SP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function W0(t,e,n){var r=t._x0,a=t._y0,i=t._x1,o=t._y1,u=(i-r)/3;t._context.bezierCurveTo(r+u,a+u*e,i-u,o-u*n,i,o)}function ap(t){this._context=t}ap.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W0(this,this._t0,SP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,W0(this,SP(this,n=bP(this,t,e)),n);break;default:W0(this,this._t0,n=bP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function BU(t){this._context=new $U(t)}(BU.prototype=Object.create(ap.prototype)).point=function(t,e){ap.prototype.point.call(this,e,t)};function $U(t){this._context=t}$U.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,i){this._context.bezierCurveTo(e,t,r,n,i,a)}};function $te(t){return new ap(t)}function Vte(t){return new BU(t)}function VU(t){this._context=t}VU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wP(t),a=wP(e),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wP(t){var e,n=t.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/i[e-1],i[e]-=r,o[e]-=r*o[e-1];for(a[n-1]=o[n-1]/i[n-1],e=n-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function Fte(t){return new VU(t)}function xh(t,e){this._context=t,this._t=e}xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function zte(t){return new xh(t,.5)}function Gte(t){return new xh(t,0)}function Hte(t){return new xh(t,1)}function bl(t,e){if((o=t.length)>1)for(var n=1,r,a,i=t[e[0]],o,u=i.length;n<o;++n)for(a=i,i=t[e[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Pw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Kte(t,e){return t[e]}function Yte(t){const e=[];return e.key=t,e}function Wte(){var t=Rt([]),e=Pw,n=bl,r=Kte;function a(i){var o=Array.from(t.apply(this,arguments),Yte),u,f=o.length,d=-1,p;for(const h of i)for(u=0,++d;u<f;++u)(o[u][d]=[0,+r(h,o[u].key,d,i)]).data=h;for(u=0,p=JT(e(o));u<f;++u)o[p[u]].index=u;return n(o,p),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Rt(Array.from(i)),a):t},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:Rt(+i),a):r},a.order=function(i){return arguments.length?(e=i==null?Pw:typeof i=="function"?i:Rt(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(n=i??bl,a):n},a}function Xte(t,e){if((r=t.length)>0){for(var n,r,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<r;++n)t[n][a][1]/=o}bl(t,e)}}function Jte(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,i=r.length;n<i;++n){for(var o=0,u=0;o<a;++o)u+=t[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}bl(t,e)}}function Qte(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var u=0,f=0,d=0;u<o;++u){for(var p=t[e[u]],h=p[r][1]||0,y=p[r-1][1]||0,x=(h-y)/2,T=0;T<u;++T){var w=t[e[T]],A=w[r][1]||0,C=w[r-1][1]||0;x+=A-C}f+=h,d+=x*h}a[r-1][1]+=a[r-1][0]=n,f&&(n-=d/f)}a[r-1][1]+=a[r-1][0]=n,bl(t,e)}}function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}var Zte=["type","size","sizeType"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(this,arguments)}function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function TP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return e=tne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return Rc(e)=="symbol"?e:e+""}function nne(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rne(t,e){if(t==null)return{};var n=ane(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ane(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var FU={symbolCircle:QT,symbolCross:Ete,symbolDiamond:_te,symbolSquare:Cte,symbolStar:kte,symbolTriangle:Pte,symbolWye:Rte},ine=Math.PI/180,sne=function(e){var n="symbol".concat(gh(e));return FU[n]||QT},one=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*ine;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lne=function(e,n){FU["symbol".concat(gh(e))]=n},ZT=function(e){var n=e.type,r=n===void 0?"circle":n,a=e.size,i=a===void 0?64:a,o=e.sizeType,u=o===void 0?"area":o,f=rne(e,Zte),d=TP(TP({},f),{},{type:r,size:i,sizeType:u}),p=function(){var A=sne(r),C=Dte().type(A).size(one(i,u,r));return C()},h=d.className,y=d.cx,x=d.cy,T=Be(d,!0);return y===+y&&x===+x&&i===+i?te.createElement("path",Ow({},T,{className:Xe("recharts-symbols",h),transform:"translate(".concat(y,", ").concat(x,")"),d:p()})):null};ZT.registerSymbol=lne;function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rw.apply(this,arguments)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function une(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){Dc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GU(r.key),r)}}function fne(t,e,n){return e&&dne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mne(t,e,n){return e=ip(e),pne(t,zU()?Reflect.construct(e,n||[],ip(t).constructor):e.apply(t,n))}function pne(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hne(t)}function hne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zU=function(){return!!t})()}function ip(t){return ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ip(t)}function gne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dw(t,e)}function Dw(t,e){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Dw(t,e)}function Dc(t,e,n){return e=GU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GU(t){var e=yne(t,"string");return Sl(e)=="symbol"?e:e+""}function yne(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qr=32,eE=(function(t){function e(){return cne(this,e),mne(this,e,arguments)}return gne(e,t),fne(e,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,i=qr/2,o=qr/6,u=qr/3,f=r.inactive?a:r.color;if(r.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:qr,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(qr,"M").concat(2*u,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return te.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(qr/8,"h").concat(qr,"v").concat(qr*3/4,"h").concat(-qr,"z"),className:"recharts-legend-icon"});if(te.isValidElement(r.legendIcon)){var d=une({},r);return delete d.legendIcon,te.cloneElement(r.legendIcon,d)}return te.createElement(ZT,{fill:f,cx:i,cy:i,size:qr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,i=a.payload,o=a.iconSize,u=a.layout,f=a.formatter,d=a.inactiveColor,p={x:0,y:0,width:qr,height:qr},h={display:u==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(x,T){var w=x.formatter||f,A=Xe(Dc(Dc({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",x.inactive));if(x.type==="none")return null;var C=Fe(x.value)?null:x.value;ra(!Fe(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=x.inactive?d:x.color;return te.createElement("li",Rw({className:A,style:h,key:"legend-item-".concat(T)},Ja(r.props,x,T)),te.createElement(Cw,{width:o,height:o,viewBox:p,style:y},r.renderIcon(x)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},w?w(C,x,T):C))})}},{key:"render",value:function(){var r=this.props,a=r.payload,i=r.layout,o=r.align;if(!a||!a.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(I.PureComponent);Dc(eE,"displayName","Legend");Dc(eE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var X0,NP;function vne(){if(NP)return X0;NP=1;var t=mh();function e(){this.__data__=new t,this.size=0}return X0=e,X0}var J0,_P;function xne(){if(_P)return J0;_P=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return J0=t,J0}var Q0,CP;function bne(){if(CP)return Q0;CP=1;function t(e){return this.__data__.get(e)}return Q0=t,Q0}var Z0,MP;function Sne(){if(MP)return Z0;MP=1;function t(e){return this.__data__.has(e)}return Z0=t,Z0}var ex,jP;function wne(){if(jP)return ex;jP=1;var t=mh(),e=zT(),n=GT(),r=200;function a(i,o){var u=this.__data__;if(u instanceof t){var f=u.__data__;if(!e||f.length<r-1)return f.push([i,o]),this.size=++u.size,this;u=this.__data__=new n(f)}return u.set(i,o),this.size=u.size,this}return ex=a,ex}var tx,IP;function HU(){if(IP)return tx;IP=1;var t=mh(),e=vne(),n=xne(),r=bne(),a=Sne(),i=wne();function o(u){var f=this.__data__=new t(u);this.size=f.size}return o.prototype.clear=e,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=a,o.prototype.set=i,tx=o,tx}var nx,kP;function Ane(){if(kP)return nx;kP=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return nx=e,nx}var rx,PP;function Tne(){if(PP)return rx;PP=1;function t(e){return this.__data__.has(e)}return rx=t,rx}var ax,OP;function KU(){if(OP)return ax;OP=1;var t=GT(),e=Ane(),n=Tne();function r(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,ax=r,ax}var ix,RP;function YU(){if(RP)return ix;RP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(e[r],r,e))return!0;return!1}return ix=t,ix}var sx,DP;function WU(){if(DP)return sx;DP=1;function t(e,n){return e.has(n)}return sx=t,sx}var ox,LP;function XU(){if(LP)return ox;LP=1;var t=KU(),e=YU(),n=WU(),r=1,a=2;function i(o,u,f,d,p,h){var y=f&r,x=o.length,T=u.length;if(x!=T&&!(y&&T>x))return!1;var w=h.get(o),A=h.get(u);if(w&&A)return w==u&&A==o;var C=-1,j=!0,_=f&a?new t:void 0;for(h.set(o,u),h.set(u,o);++C<x;){var M=o[C],N=u[C];if(d)var k=y?d(N,M,C,u,o,h):d(M,N,C,o,u,h);if(k!==void 0){if(k)continue;j=!1;break}if(_){if(!e(u,function(P,R){if(!n(_,R)&&(M===P||p(M,P,f,d,h)))return _.push(R)})){j=!1;break}}else if(!(M===N||p(M,N,f,d,h))){j=!1;break}}return h.delete(o),h.delete(u),j}return ox=i,ox}var lx,qP;function Ene(){if(qP)return lx;qP=1;var t=Sa(),e=t.Uint8Array;return lx=e,lx}var ux,UP;function Nne(){if(UP)return ux;UP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a,i){r[++n]=[i,a]}),r}return ux=t,ux}var cx,BP;function tE(){if(BP)return cx;BP=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(a){r[++n]=a}),r}return cx=t,cx}var dx,$P;function _ne(){if($P)return dx;$P=1;var t=Md(),e=Ene(),n=FT(),r=XU(),a=Nne(),i=tE(),o=1,u=2,f="[object Boolean]",d="[object Date]",p="[object Error]",h="[object Map]",y="[object Number]",x="[object RegExp]",T="[object Set]",w="[object String]",A="[object Symbol]",C="[object ArrayBuffer]",j="[object DataView]",_=t?t.prototype:void 0,M=_?_.valueOf:void 0;function N(k,P,R,L,U,q,D){switch(R){case j:if(k.byteLength!=P.byteLength||k.byteOffset!=P.byteOffset)return!1;k=k.buffer,P=P.buffer;case C:return!(k.byteLength!=P.byteLength||!q(new e(k),new e(P)));case f:case d:case y:return n(+k,+P);case p:return k.name==P.name&&k.message==P.message;case x:case w:return k==P+"";case h:var $=a;case T:var H=L&o;if($||($=i),k.size!=P.size&&!H)return!1;var J=D.get(k);if(J)return J==P;L|=u,D.set(k,P);var B=r($(k),$(P),L,U,q,D);return D.delete(k),B;case A:if(M)return M.call(k)==M.call(P)}return!1}return dx=N,dx}var fx,VP;function JU(){if(VP)return fx;VP=1;function t(e,n){for(var r=-1,a=n.length,i=e.length;++r<a;)e[i+r]=n[r];return e}return fx=t,fx}var mx,FP;function Cne(){if(FP)return mx;FP=1;var t=JU(),e=lr();function n(r,a,i){var o=a(r);return e(r)?o:t(o,i(r))}return mx=n,mx}var px,zP;function Mne(){if(zP)return px;zP=1;function t(e,n){for(var r=-1,a=e==null?0:e.length,i=0,o=[];++r<a;){var u=e[r];n(u,r,e)&&(o[i++]=u)}return o}return px=t,px}var hx,GP;function jne(){if(GP)return hx;GP=1;function t(){return[]}return hx=t,hx}var gx,HP;function Ine(){if(HP)return gx;HP=1;var t=Mne(),e=jne(),n=Object.prototype,r=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(u){return r.call(o,u)}))}:e;return gx=i,gx}var yx,KP;function kne(){if(KP)return yx;KP=1;function t(e,n){for(var r=-1,a=Array(e);++r<e;)a[r]=n(r);return a}return yx=t,yx}var vx,YP;function Pne(){if(YP)return vx;YP=1;var t=ii(),e=si(),n="[object Arguments]";function r(a){return e(a)&&t(a)==n}return vx=r,vx}var xx,WP;function nE(){if(WP)return xx;WP=1;var t=Pne(),e=si(),n=Object.prototype,r=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&r.call(o,"callee")&&!a.call(o,"callee")};return xx=i,xx}var uc={exports:{}},bx,XP;function One(){if(XP)return bx;XP=1;function t(){return!1}return bx=t,bx}uc.exports;var JP;function QU(){return JP||(JP=1,(function(t,e){var n=Sa(),r=One(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,u=o?n.Buffer:void 0,f=u?u.isBuffer:void 0,d=f||r;t.exports=d})(uc,uc.exports)),uc.exports}var Sx,QP;function rE(){if(QP)return Sx;QP=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,a){var i=typeof r;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<a}return Sx=n,Sx}var wx,ZP;function aE(){if(ZP)return wx;ZP=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return wx=e,wx}var Ax,eO;function Rne(){if(eO)return Ax;eO=1;var t=ii(),e=aE(),n=si(),r="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",u="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",y="[object RegExp]",x="[object Set]",T="[object String]",w="[object WeakMap]",A="[object ArrayBuffer]",C="[object DataView]",j="[object Float32Array]",_="[object Float64Array]",M="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",L="[object Uint16Array]",U="[object Uint32Array]",q={};q[j]=q[_]=q[M]=q[N]=q[k]=q[P]=q[R]=q[L]=q[U]=!0,q[r]=q[a]=q[A]=q[i]=q[C]=q[o]=q[u]=q[f]=q[d]=q[p]=q[h]=q[y]=q[x]=q[T]=q[w]=!1;function D($){return n($)&&e($.length)&&!!q[t($)]}return Ax=D,Ax}var Tx,tO;function ZU(){if(tO)return Tx;tO=1;function t(e){return function(n){return e(n)}}return Tx=t,Tx}var cc={exports:{}};cc.exports;var nO;function Dne(){return nO||(nO=1,(function(t,e){var n=xU(),r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===r,o=i&&n.process,u=(function(){try{var f=a&&a.require&&a.require("util").types;return f||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(cc,cc.exports)),cc.exports}var Ex,rO;function e5(){if(rO)return Ex;rO=1;var t=Rne(),e=ZU(),n=Dne(),r=n&&n.isTypedArray,a=r?e(r):t;return Ex=a,Ex}var Nx,aO;function Lne(){if(aO)return Nx;aO=1;var t=kne(),e=nE(),n=lr(),r=QU(),a=rE(),i=e5(),o=Object.prototype,u=o.hasOwnProperty;function f(d,p){var h=n(d),y=!h&&e(d),x=!h&&!y&&r(d),T=!h&&!y&&!x&&i(d),w=h||y||x||T,A=w?t(d.length,String):[],C=A.length;for(var j in d)(p||u.call(d,j))&&!(w&&(j=="length"||x&&(j=="offset"||j=="parent")||T&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||a(j,C)))&&A.push(j);return A}return Nx=f,Nx}var _x,iO;function qne(){if(iO)return _x;iO=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,a=typeof r=="function"&&r.prototype||t;return n===a}return _x=e,_x}var Cx,sO;function t5(){if(sO)return Cx;sO=1;function t(e,n){return function(r){return e(n(r))}}return Cx=t,Cx}var Mx,oO;function Une(){if(oO)return Mx;oO=1;var t=t5(),e=t(Object.keys,Object);return Mx=e,Mx}var jx,lO;function Bne(){if(lO)return jx;lO=1;var t=qne(),e=Une(),n=Object.prototype,r=n.hasOwnProperty;function a(i){if(!t(i))return e(i);var o=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&o.push(u);return o}return jx=a,jx}var Ix,uO;function kd(){if(uO)return Ix;uO=1;var t=VT(),e=aE();function n(r){return r!=null&&e(r.length)&&!t(r)}return Ix=n,Ix}var kx,cO;function bh(){if(cO)return kx;cO=1;var t=Lne(),e=Bne(),n=kd();function r(a){return n(a)?t(a):e(a)}return kx=r,kx}var Px,dO;function $ne(){if(dO)return Px;dO=1;var t=Cne(),e=Ine(),n=bh();function r(a){return t(a,n,e)}return Px=r,Px}var Ox,fO;function Vne(){if(fO)return Ox;fO=1;var t=$ne(),e=1,n=Object.prototype,r=n.hasOwnProperty;function a(i,o,u,f,d,p){var h=u&e,y=t(i),x=y.length,T=t(o),w=T.length;if(x!=w&&!h)return!1;for(var A=x;A--;){var C=y[A];if(!(h?C in o:r.call(o,C)))return!1}var j=p.get(i),_=p.get(o);if(j&&_)return j==o&&_==i;var M=!0;p.set(i,o),p.set(o,i);for(var N=h;++A<x;){C=y[A];var k=i[C],P=o[C];if(f)var R=h?f(P,k,C,o,i,p):f(k,P,C,i,o,p);if(!(R===void 0?k===P||d(k,P,u,f,p):R)){M=!1;break}N||(N=C=="constructor")}if(M&&!N){var L=i.constructor,U=o.constructor;L!=U&&"constructor"in i&&"constructor"in o&&!(typeof L=="function"&&L instanceof L&&typeof U=="function"&&U instanceof U)&&(M=!1)}return p.delete(i),p.delete(o),M}return Ox=a,Ox}var Rx,mO;function Fne(){if(mO)return Rx;mO=1;var t=eo(),e=Sa(),n=t(e,"DataView");return Rx=n,Rx}var Dx,pO;function zne(){if(pO)return Dx;pO=1;var t=eo(),e=Sa(),n=t(e,"Promise");return Dx=n,Dx}var Lx,hO;function n5(){if(hO)return Lx;hO=1;var t=eo(),e=Sa(),n=t(e,"Set");return Lx=n,Lx}var qx,gO;function Gne(){if(gO)return qx;gO=1;var t=eo(),e=Sa(),n=t(e,"WeakMap");return qx=n,qx}var Ux,yO;function Hne(){if(yO)return Ux;yO=1;var t=Fne(),e=zT(),n=zne(),r=n5(),a=Gne(),i=ii(),o=bU(),u="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",y="[object DataView]",x=o(t),T=o(e),w=o(n),A=o(r),C=o(a),j=i;return(t&&j(new t(new ArrayBuffer(1)))!=y||e&&j(new e)!=u||n&&j(n.resolve())!=d||r&&j(new r)!=p||a&&j(new a)!=h)&&(j=function(_){var M=i(_),N=M==f?_.constructor:void 0,k=N?o(N):"";if(k)switch(k){case x:return y;case T:return u;case w:return d;case A:return p;case C:return h}return M}),Ux=j,Ux}var Bx,vO;function Kne(){if(vO)return Bx;vO=1;var t=HU(),e=XU(),n=_ne(),r=Vne(),a=Hne(),i=lr(),o=QU(),u=e5(),f=1,d="[object Arguments]",p="[object Array]",h="[object Object]",y=Object.prototype,x=y.hasOwnProperty;function T(w,A,C,j,_,M){var N=i(w),k=i(A),P=N?p:a(w),R=k?p:a(A);P=P==d?h:P,R=R==d?h:R;var L=P==h,U=R==h,q=P==R;if(q&&o(w)){if(!o(A))return!1;N=!0,L=!1}if(q&&!L)return M||(M=new t),N||u(w)?e(w,A,C,j,_,M):n(w,A,P,C,j,_,M);if(!(C&f)){var D=L&&x.call(w,"__wrapped__"),$=U&&x.call(A,"__wrapped__");if(D||$){var H=D?w.value():w,J=$?A.value():A;return M||(M=new t),_(H,J,C,j,M)}}return q?(M||(M=new t),r(w,A,C,j,_,M)):!1}return Bx=T,Bx}var $x,xO;function iE(){if(xO)return $x;xO=1;var t=Kne(),e=si();function n(r,a,i,o,u){return r===a?!0:r==null||a==null||!e(r)&&!e(a)?r!==r&&a!==a:t(r,a,i,o,n,u)}return $x=n,$x}var Vx,bO;function Yne(){if(bO)return Vx;bO=1;var t=HU(),e=iE(),n=1,r=2;function a(i,o,u,f){var d=u.length,p=d,h=!f;if(i==null)return!p;for(i=Object(i);d--;){var y=u[d];if(h&&y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++d<p;){y=u[d];var x=y[0],T=i[x],w=y[1];if(h&&y[2]){if(T===void 0&&!(x in i))return!1}else{var A=new t;if(f)var C=f(T,w,x,i,o,A);if(!(C===void 0?e(w,T,n|r,f,A):C))return!1}}return!0}return Vx=a,Vx}var Fx,SO;function r5(){if(SO)return Fx;SO=1;var t=Xi();function e(n){return n===n&&!t(n)}return Fx=e,Fx}var zx,wO;function Wne(){if(wO)return zx;wO=1;var t=r5(),e=bh();function n(r){for(var a=e(r),i=a.length;i--;){var o=a[i],u=r[o];a[i]=[o,u,t(u)]}return a}return zx=n,zx}var Gx,AO;function a5(){if(AO)return Gx;AO=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Gx=t,Gx}var Hx,TO;function Xne(){if(TO)return Hx;TO=1;var t=Yne(),e=Wne(),n=a5();function r(a){var i=e(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return Hx=r,Hx}var Kx,EO;function Jne(){if(EO)return Kx;EO=1;function t(e,n){return e!=null&&n in Object(e)}return Kx=t,Kx}var Yx,NO;function Qne(){if(NO)return Yx;NO=1;var t=AU(),e=nE(),n=lr(),r=rE(),a=aE(),i=hh();function o(u,f,d){f=t(f,u);for(var p=-1,h=f.length,y=!1;++p<h;){var x=i(f[p]);if(!(y=u!=null&&d(u,x)))break;u=u[x]}return y||++p!=h?y:(h=u==null?0:u.length,!!h&&a(h)&&r(x,h)&&(n(u)||e(u)))}return Yx=o,Yx}var Wx,_O;function Zne(){if(_O)return Wx;_O=1;var t=Jne(),e=Qne();function n(r,a){return r!=null&&e(r,a,t)}return Wx=n,Wx}var Xx,CO;function ere(){if(CO)return Xx;CO=1;var t=iE(),e=TU(),n=Zne(),r=$T(),a=r5(),i=a5(),o=hh(),u=1,f=2;function d(p,h){return r(p)&&a(h)?i(o(p),h):function(y){var x=e(y,p);return x===void 0&&x===h?n(y,p):t(h,x,u|f)}}return Xx=d,Xx}var Jx,MO;function Zl(){if(MO)return Jx;MO=1;function t(e){return e}return Jx=t,Jx}var Qx,jO;function tre(){if(jO)return Qx;jO=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Qx=t,Qx}var Zx,IO;function nre(){if(IO)return Zx;IO=1;var t=KT();function e(n){return function(r){return t(r,n)}}return Zx=e,Zx}var eb,kO;function rre(){if(kO)return eb;kO=1;var t=tre(),e=nre(),n=$T(),r=hh();function a(i){return n(i)?t(r(i)):e(i)}return eb=a,eb}var tb,PO;function wa(){if(PO)return tb;PO=1;var t=Xne(),e=ere(),n=Zl(),r=lr(),a=rre();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?e(o[0],o[1]):t(o):a(o)}return tb=i,tb}var nb,OO;function i5(){if(OO)return nb;OO=1;function t(e,n,r,a){for(var i=e.length,o=r+(a?1:-1);a?o--:++o<i;)if(n(e[o],o,e))return o;return-1}return nb=t,nb}var rb,RO;function are(){if(RO)return rb;RO=1;function t(e){return e!==e}return rb=t,rb}var ab,DO;function ire(){if(DO)return ab;DO=1;function t(e,n,r){for(var a=r-1,i=e.length;++a<i;)if(e[a]===n)return a;return-1}return ab=t,ab}var ib,LO;function sre(){if(LO)return ib;LO=1;var t=i5(),e=are(),n=ire();function r(a,i,o){return i===i?n(a,i,o):t(a,e,o)}return ib=r,ib}var sb,qO;function ore(){if(qO)return sb;qO=1;var t=sre();function e(n,r){var a=n==null?0:n.length;return!!a&&t(n,r,0)>-1}return sb=e,sb}var ob,UO;function lre(){if(UO)return ob;UO=1;function t(e,n,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(n,e[a]))return!0;return!1}return ob=t,ob}var lb,BO;function ure(){if(BO)return lb;BO=1;function t(){}return lb=t,lb}var ub,$O;function cre(){if($O)return ub;$O=1;var t=n5(),e=ure(),n=tE(),r=1/0,a=t&&1/n(new t([,-0]))[1]==r?function(i){return new t(i)}:e;return ub=a,ub}var cb,VO;function dre(){if(VO)return cb;VO=1;var t=KU(),e=ore(),n=lre(),r=WU(),a=cre(),i=tE(),o=200;function u(f,d,p){var h=-1,y=e,x=f.length,T=!0,w=[],A=w;if(p)T=!1,y=n;else if(x>=o){var C=d?null:a(f);if(C)return i(C);T=!1,y=r,A=new t}else A=d?[]:w;e:for(;++h<x;){var j=f[h],_=d?d(j):j;if(j=p||j!==0?j:0,T&&_===_){for(var M=A.length;M--;)if(A[M]===_)continue e;d&&A.push(_),w.push(j)}else y(A,_,p)||(A!==w&&A.push(_),w.push(j))}return w}return cb=u,cb}var db,FO;function fre(){if(FO)return db;FO=1;var t=wa(),e=dre();function n(r,a){return r&&r.length?e(r,t(a,2)):[]}return db=n,db}var mre=fre();const zO=ht(mre);function s5(t,e,n){return e===!0?zO(t,n):Fe(e)?zO(t,e):t}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}var pre=["ref"];function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function $a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){Sh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l5(r.key),r)}}function gre(t,e,n){return e&&HO(t.prototype,e),n&&HO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yre(t,e,n){return e=sp(e),vre(t,o5()?Reflect.construct(e,n||[],sp(t).constructor):e.apply(t,n))}function vre(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xre(t)}function xre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o5=function(){return!!t})()}function sp(t){return sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sp(t)}function bre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lw(t,e)}function Lw(t,e){return Lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Lw(t,e)}function Sh(t,e,n){return e=l5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l5(t){var e=Sre(t,"string");return wl(e)=="symbol"?e:e+""}function Sre(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wre(t,e){if(t==null)return{};var n=Are(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tre(t){return t.value}function Ere(t,e){if(te.isValidElement(t))return te.cloneElement(t,e);if(typeof t=="function")return te.createElement(t,e);e.ref;var n=wre(e,pre);return te.createElement(eE,n)}var KO=1,Fi=(function(t){function e(){var n;hre(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=yre(this,e,[].concat(a)),Sh(n,"lastBoundingBox",{width:-1,height:-1}),n}return bre(e,t),gre(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>KO||Math.abs(a.height-this.lastBoundingBox.height)>KO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$a({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,i=a.layout,o=a.align,u=a.verticalAlign,f=a.margin,d=a.chartWidth,p=a.chartHeight,h,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&i==="vertical"){var x=this.getBBoxSnapshot();h={left:((d||0)-x.width)/2}}else h=o==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var T=this.getBBoxSnapshot();y={top:((p||0)-T.height)/2}}else y=u==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return $a($a({},h),y)}},{key:"render",value:function(){var r=this,a=this.props,i=a.content,o=a.width,u=a.height,f=a.wrapperStyle,d=a.payloadUniqBy,p=a.payload,h=$a($a({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(f)),f);return te.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(x){r.wrapperNode=x}},Ere(i,$a($a({},this.props),{},{payload:s5(p,d,Tre)})))}}],[{key:"getWithHeight",value:function(r,a){var i=$a($a({},this.defaultProps),r.props),o=i.layout;return o==="vertical"&&Ae(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||a}:null}}])})(I.PureComponent);Sh(Fi,"displayName","Legend");Sh(Fi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fb,YO;function Nre(){if(YO)return fb;YO=1;var t=Md(),e=nE(),n=lr(),r=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||e(i)||!!(r&&i&&i[r])}return fb=a,fb}var mb,WO;function u5(){if(WO)return mb;WO=1;var t=JU(),e=Nre();function n(r,a,i,o,u){var f=-1,d=r.length;for(i||(i=e),u||(u=[]);++f<d;){var p=r[f];a>0&&i(p)?a>1?n(p,a-1,i,o,u):t(u,p):o||(u[u.length]=p)}return u}return mb=n,mb}var pb,XO;function _re(){if(XO)return pb;XO=1;function t(e){return function(n,r,a){for(var i=-1,o=Object(n),u=a(n),f=u.length;f--;){var d=u[e?f:++i];if(r(o[d],d,o)===!1)break}return n}}return pb=t,pb}var hb,JO;function Cre(){if(JO)return hb;JO=1;var t=_re(),e=t();return hb=e,hb}var gb,QO;function c5(){if(QO)return gb;QO=1;var t=Cre(),e=bh();function n(r,a){return r&&t(r,a,e)}return gb=n,gb}var yb,ZO;function Mre(){if(ZO)return yb;ZO=1;var t=kd();function e(n,r){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var o=a.length,u=r?o:-1,f=Object(a);(r?u--:++u<o)&&i(f[u],u,f)!==!1;);return a}}return yb=e,yb}var vb,eR;function sE(){if(eR)return vb;eR=1;var t=c5(),e=Mre(),n=e(t);return vb=n,vb}var xb,tR;function d5(){if(tR)return xb;tR=1;var t=sE(),e=kd();function n(r,a){var i=-1,o=e(r)?Array(r.length):[];return t(r,function(u,f,d){o[++i]=a(u,f,d)}),o}return xb=n,xb}var bb,nR;function jre(){if(nR)return bb;nR=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return bb=t,bb}var Sb,rR;function Ire(){if(rR)return Sb;rR=1;var t=Jl();function e(n,r){if(n!==r){var a=n!==void 0,i=n===null,o=n===n,u=t(n),f=r!==void 0,d=r===null,p=r===r,h=t(r);if(!d&&!h&&!u&&n>r||u&&f&&p&&!d&&!h||i&&f&&p||!a&&p||!o)return 1;if(!i&&!u&&!h&&n<r||h&&a&&o&&!i&&!u||d&&a&&o||!f&&o||!p)return-1}return 0}return Sb=e,Sb}var wb,aR;function kre(){if(aR)return wb;aR=1;var t=Ire();function e(n,r,a){for(var i=-1,o=n.criteria,u=r.criteria,f=o.length,d=a.length;++i<f;){var p=t(o[i],u[i]);if(p){if(i>=d)return p;var h=a[i];return p*(h=="desc"?-1:1)}}return n.index-r.index}return wb=e,wb}var Ab,iR;function Pre(){if(iR)return Ab;iR=1;var t=HT(),e=KT(),n=wa(),r=d5(),a=jre(),i=ZU(),o=kre(),u=Zl(),f=lr();function d(p,h,y){h.length?h=t(h,function(w){return f(w)?function(A){return e(A,w.length===1?w[0]:w)}:w}):h=[u];var x=-1;h=t(h,i(n));var T=r(p,function(w,A,C){var j=t(h,function(_){return _(w)});return{criteria:j,index:++x,value:w}});return a(T,function(w,A){return o(w,A,y)})}return Ab=d,Ab}var Tb,sR;function Ore(){if(sR)return Tb;sR=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Tb=t,Tb}var Eb,oR;function Rre(){if(oR)return Eb;oR=1;var t=Ore(),e=Math.max;function n(r,a,i){return a=e(a===void 0?r.length-1:a,0),function(){for(var o=arguments,u=-1,f=e(o.length-a,0),d=Array(f);++u<f;)d[u]=o[a+u];u=-1;for(var p=Array(a+1);++u<a;)p[u]=o[u];return p[a]=i(d),t(r,this,p)}}return Eb=n,Eb}var Nb,lR;function Dre(){if(lR)return Nb;lR=1;function t(e){return function(){return e}}return Nb=t,Nb}var _b,uR;function f5(){if(uR)return _b;uR=1;var t=eo(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return _b=e,_b}var Cb,cR;function Lre(){if(cR)return Cb;cR=1;var t=Dre(),e=f5(),n=Zl(),r=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return Cb=r,Cb}var Mb,dR;function qre(){if(dR)return Mb;dR=1;var t=800,e=16,n=Date.now;function r(a){var i=0,o=0;return function(){var u=n(),f=e-(u-o);if(o=u,f>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Mb=r,Mb}var jb,fR;function Ure(){if(fR)return jb;fR=1;var t=Lre(),e=qre(),n=e(t);return jb=n,jb}var Ib,mR;function Bre(){if(mR)return Ib;mR=1;var t=Zl(),e=Rre(),n=Ure();function r(a,i){return n(e(a,i,t),a+"")}return Ib=r,Ib}var kb,pR;function wh(){if(pR)return kb;pR=1;var t=FT(),e=kd(),n=rE(),r=Xi();function a(i,o,u){if(!r(u))return!1;var f=typeof o;return(f=="number"?e(u)&&n(o,u.length):f=="string"&&o in u)?t(u[o],i):!1}return kb=a,kb}var Pb,hR;function $re(){if(hR)return Pb;hR=1;var t=u5(),e=Pre(),n=Bre(),r=wh(),a=n(function(i,o){if(i==null)return[];var u=o.length;return u>1&&r(i,o[0],o[1])?o=[]:u>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return Pb=a,Pb}var Vre=$re();const oE=ht(Vre);function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(this,arguments)}function Fre(t,e){return Kre(t)||Hre(t,e)||Gre(t,e)||zre()}function zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(t,e){if(t){if(typeof t=="string")return gR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gR(t,e)}}function gR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Kre(t){if(Array.isArray(t))return t}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){Yre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yre(t,e,n){return e=Wre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wre(t){var e=Xre(t,"string");return Lc(e)=="symbol"?e:e+""}function Xre(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jre(t){return Array.isArray(t)&&Sn(t[0])&&Sn(t[1])?t.join(" ~ "):t}var Qre=function(e){var n=e.separator,r=n===void 0?" : ":n,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,u=o===void 0?{}:o,f=e.labelStyle,d=f===void 0?{}:f,p=e.payload,h=e.formatter,y=e.itemSorter,x=e.wrapperClassName,T=e.labelClassName,w=e.label,A=e.labelFormatter,C=e.accessibilityLayer,j=C===void 0?!1:C,_=function(){if(p&&p.length){var D={padding:0,margin:0},$=(y?oE(p,y):p).map(function(H,J){if(H.type==="none")return null;var B=Ob({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},u),K=H.formatter||h||Jre,W=H.value,re=H.name,X=W,V=re;if(K&&X!=null&&V!=null){var z=K(W,re,H,J,p);if(Array.isArray(z)){var Y=Fre(z,2);X=Y[0],V=Y[1]}else X=z}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:B},Sn(V)?te.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Sn(V)?te.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,te.createElement("span",{className:"recharts-tooltip-item-value"},X),te.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:D},$)}return null},M=Ob({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),N=Ob({margin:0},d),k=!Ze(w),P=k?w:"",R=Xe("recharts-default-tooltip",x),L=Xe("recharts-tooltip-label",T);k&&A&&p!==void 0&&p!==null&&(P=A(w,p));var U=j?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",qw({className:R,style:M},U),te.createElement("p",{className:L,style:N},te.isValidElement(P)?P:"".concat(P)),_())};function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function bm(t,e,n){return e=Zre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zre(t){var e=eae(t,"string");return qc(e)=="symbol"?e:e+""}function eae(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu="recharts-tooltip-wrapper",tae={visibility:"hidden"};function nae(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Xe(Qu,bm(bm(bm(bm({},"".concat(Qu,"-right"),Ae(n)&&e&&Ae(e.x)&&n>=e.x),"".concat(Qu,"-left"),Ae(n)&&e&&Ae(e.x)&&n<e.x),"".concat(Qu,"-bottom"),Ae(r)&&e&&Ae(e.y)&&r>=e.y),"".concat(Qu,"-top"),Ae(r)&&e&&Ae(e.y)&&r<e.y))}function vR(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,u=t.tooltipDimension,f=t.viewBox,d=t.viewBoxDimension;if(i&&Ae(i[r]))return i[r];var p=n[r]-u-a,h=n[r]+a;if(e[r])return o[r]?p:h;if(o[r]){var y=p,x=f[r];return y<x?Math.max(h,f[r]):Math.max(p,f[r])}var T=h+u,w=f[r]+d;return T>w?Math.max(p,f[r]):Math.max(h,f[r])}function rae(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function aae(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,f=t.viewBox,d,p,h;return o.height>0&&o.width>0&&n?(p=vR({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),h=vR({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),d=rae({translateX:p,translateY:h,useTranslate3d:u})):d=tae,{cssProperties:d,cssClasses:nae({translateX:p,translateY:h,coordinate:n})}}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function xR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xR(Object(n),!0).forEach(function(r){Bw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p5(r.key),r)}}function oae(t,e,n){return e&&sae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lae(t,e,n){return e=op(e),uae(t,m5()?Reflect.construct(e,n||[],op(t).constructor):e.apply(t,n))}function uae(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cae(t)}function cae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m5=function(){return!!t})()}function op(t){return op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},op(t)}function dae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uw(t,e)}function Uw(t,e){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Uw(t,e)}function Bw(t,e,n){return e=p5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p5(t){var e=fae(t,"string");return Al(e)=="symbol"?e:e+""}function fae(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SR=1,mae=(function(t){function e(){var n;iae(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=lae(this,e,[].concat(a)),Bw(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Bw(n,"handleKeyDown",function(o){if(o.key==="Escape"){var u,f,d,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&u!==void 0?u:0,y:(d=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&d!==void 0?d:0}})}}),n}return dae(e,t),oae(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>SR||Math.abs(r.height-this.state.lastBoundingBox.height)>SR)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,d=a.children,p=a.coordinate,h=a.hasPayload,y=a.isAnimationActive,x=a.offset,T=a.position,w=a.reverseDirection,A=a.useTranslate3d,C=a.viewBox,j=a.wrapperStyle,_=aae({allowEscapeViewBox:o,coordinate:p,offsetTopLeft:x,position:T,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:C}),M=_.cssClasses,N=_.cssProperties,k=bR(bR({transition:y&&i?"transform ".concat(u,"ms ").concat(f):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&h?"visible":"hidden",position:"absolute",top:0,left:0},j);return te.createElement("div",{tabIndex:-1,className:M,style:k,ref:function(R){r.wrapperNode=R}},d)}}])})(I.PureComponent),pae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},to={isSsr:pae()};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function wR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function AR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wR(Object(n),!0).forEach(function(r){lE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g5(r.key),r)}}function yae(t,e,n){return e&&gae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vae(t,e,n){return e=lp(e),xae(t,h5()?Reflect.construct(e,n||[],lp(t).constructor):e.apply(t,n))}function xae(t,e){if(e&&(Tl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bae(t)}function bae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h5=function(){return!!t})()}function lp(t){return lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lp(t)}function Sae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$w(t,e)}function $w(t,e){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$w(t,e)}function lE(t,e,n){return e=g5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g5(t){var e=wae(t,"string");return Tl(e)=="symbol"?e:e+""}function wae(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Aae(t){return t.dataKey}function Tae(t,e){return te.isValidElement(t)?te.cloneElement(t,e):typeof t=="function"?te.createElement(t,e):te.createElement(Qre,e)}var Sr=(function(t){function e(){return hae(this,e),vae(this,e,arguments)}return Sae(e,t),yae(e,[{key:"render",value:function(){var r=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,u=a.animationDuration,f=a.animationEasing,d=a.content,p=a.coordinate,h=a.filterNull,y=a.isAnimationActive,x=a.offset,T=a.payload,w=a.payloadUniqBy,A=a.position,C=a.reverseDirection,j=a.useTranslate3d,_=a.viewBox,M=a.wrapperStyle,N=T??[];h&&N.length&&(N=s5(T.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),w,Aae));var k=N.length>0;return te.createElement(mae,{allowEscapeViewBox:o,animationDuration:u,animationEasing:f,isAnimationActive:y,active:i,coordinate:p,hasPayload:k,offset:x,position:A,reverseDirection:C,useTranslate3d:j,viewBox:_,wrapperStyle:M},Tae(d,AR(AR({},this.props),{},{payload:N})))}}])})(I.PureComponent);lE(Sr,"displayName","Tooltip");lE(Sr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!to.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Rb,TR;function Eae(){if(TR)return Rb;TR=1;var t=Sa(),e=function(){return t.Date.now()};return Rb=e,Rb}var Db,ER;function Nae(){if(ER)return Db;ER=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Db=e,Db}var Lb,NR;function _ae(){if(NR)return Lb;NR=1;var t=Nae(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Lb=n,Lb}var qb,_R;function y5(){if(_R)return qb;_R=1;var t=_ae(),e=Xi(),n=Jl(),r=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function f(d){if(typeof d=="number")return d;if(n(d))return r;if(e(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=e(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=t(d);var h=i.test(d);return h||o.test(d)?u(d.slice(2),h?2:8):a.test(d)?r:+d}return qb=f,qb}var Ub,CR;function Cae(){if(CR)return Ub;CR=1;var t=Xi(),e=Eae(),n=y5(),r="Expected a function",a=Math.max,i=Math.min;function o(u,f,d){var p,h,y,x,T,w,A=0,C=!1,j=!1,_=!0;if(typeof u!="function")throw new TypeError(r);f=n(f)||0,t(d)&&(C=!!d.leading,j="maxWait"in d,y=j?a(n(d.maxWait)||0,f):y,_="trailing"in d?!!d.trailing:_);function M($){var H=p,J=h;return p=h=void 0,A=$,x=u.apply(J,H),x}function N($){return A=$,T=setTimeout(R,f),C?M($):x}function k($){var H=$-w,J=$-A,B=f-H;return j?i(B,y-J):B}function P($){var H=$-w,J=$-A;return w===void 0||H>=f||H<0||j&&J>=y}function R(){var $=e();if(P($))return L($);T=setTimeout(R,k($))}function L($){return T=void 0,_&&p?M($):(p=h=void 0,x)}function U(){T!==void 0&&clearTimeout(T),A=0,p=w=h=T=void 0}function q(){return T===void 0?x:L(e())}function D(){var $=e(),H=P($);if(p=arguments,h=this,w=$,H){if(T===void 0)return N(w);if(j)return clearTimeout(T),T=setTimeout(R,f),M(w)}return T===void 0&&(T=setTimeout(R,f)),x}return D.cancel=U,D.flush=q,D}return Ub=o,Ub}var Bb,MR;function Mae(){if(MR)return Bb;MR=1;var t=Cae(),e=Xi(),n="Expected a function";function r(a,i,o){var u=!0,f=!0;if(typeof a!="function")throw new TypeError(n);return e(o)&&(u="leading"in o?!!o.leading:u,f="trailing"in o?!!o.trailing:f),t(a,i,{leading:u,maxWait:i,trailing:f})}return Bb=r,Bb}var jae=Mae();const v5=ht(jae);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Iae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e,n){return e=kae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kae(t){var e=Pae(t,"string");return Uc(e)=="symbol"?e:e+""}function Pae(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oae(t,e){return qae(t)||Lae(t,e)||Dae(t,e)||Rae()}function Rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(t,e){if(t){if(typeof t=="string")return IR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IR(t,e)}}function IR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function qae(t){if(Array.isArray(t))return t}var wm=I.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,a=r===void 0?{width:-1,height:-1}:r,i=t.width,o=i===void 0?"100%":i,u=t.height,f=u===void 0?"100%":u,d=t.minWidth,p=d===void 0?0:d,h=t.minHeight,y=t.maxHeight,x=t.children,T=t.debounce,w=T===void 0?0:T,A=t.id,C=t.className,j=t.onResize,_=t.style,M=_===void 0?{}:_,N=I.useRef(null),k=I.useRef();k.current=j,I.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var P=I.useState({containerWidth:a.width,containerHeight:a.height}),R=Oae(P,2),L=R[0],U=R[1],q=I.useCallback(function($,H){U(function(J){var B=Math.round($),K=Math.round(H);return J.containerWidth===B&&J.containerHeight===K?J:{containerWidth:B,containerHeight:K}})},[]);I.useEffect(function(){var $=function(re){var X,V=re[0].contentRect,z=V.width,Y=V.height;q(z,Y),(X=k.current)===null||X===void 0||X.call(k,z,Y)};w>0&&($=v5($,w,{trailing:!0,leading:!1}));var H=new ResizeObserver($),J=N.current.getBoundingClientRect(),B=J.width,K=J.height;return q(B,K),H.observe(N.current),function(){H.disconnect()}},[q,w]);var D=I.useMemo(function(){var $=L.containerWidth,H=L.containerHeight;if($<0||H<0)return null;ra(Ms(o)||Ms(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,f),ra(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=Ms(o)?$:o,B=Ms(f)?H:f;n&&n>0&&(J?B=J/n:B&&(J=B*n),y&&B>y&&(B=y)),ra(J>0||B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,B,o,f,p,h,n);var K=!Array.isArray(x)&&Ha(x.type).endsWith("Chart");return te.Children.map(x,function(W){return te.isValidElement(W)?I.cloneElement(W,Sm({width:J,height:B},K?{style:Sm({height:"100%",width:"100%",maxHeight:B,maxWidth:J},W.props.style)}:{})):W})},[n,x,f,y,h,p,L,o]);return te.createElement("div",{id:A?"".concat(A):void 0,className:Xe("recharts-responsive-container",C),style:Sm(Sm({},M),{},{width:o,height:f,minWidth:p,minHeight:h,maxHeight:y}),ref:N},D)}),Pd=function(e){return null};Pd.displayName="Cell";function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){Uae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uae(t,e,n){return e=Bae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=$ae(t,"string");return Bc(e)=="symbol"?e:e+""}function $ae(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wo={widthCache:{},cacheCount:0},Vae=2e3,Fae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PR="recharts_measurement_span";function zae(t){var e=Vw({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var vc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||to.isSsr)return{width:0,height:0};var r=zae(n),a=JSON.stringify({text:e,copyStyle:r});if(Wo.widthCache[a])return Wo.widthCache[a];try{var i=document.getElementById(PR);i||(i=document.createElement("span"),i.setAttribute("id",PR),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=Vw(Vw({},Fae),r);Object.assign(i.style,o),i.textContent="".concat(e);var u=i.getBoundingClientRect(),f={width:u.width,height:u.height};return Wo.widthCache[a]=f,++Wo.cacheCount>Vae&&(Wo.cacheCount=0,Wo.widthCache={}),f}catch{return{width:0,height:0}}},Gae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function up(t,e){return Wae(t)||Yae(t,e)||Kae(t,e)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(t,e){if(t){if(typeof t=="string")return OR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OR(t,e)}}function OR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Wae(t){if(Array.isArray(t))return t}function Xae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qae(r.key),r)}}function Jae(t,e,n){return e&&RR(t.prototype,e),n&&RR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qae(t){var e=Zae(t,"string");return $c(e)=="symbol"?e:e+""}function Zae(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LR=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nie=Object.keys(x5),il="NaN";function rie(t,e){return t*x5[e]}var Am=(function(){function t(e,n){Xae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!eie.test(n)&&(this.num=NaN,this.unit=""),nie.includes(n)&&(this.num=rie(e,n),this.unit="px")}return Jae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=tie.exec(n))!==null&&r!==void 0?r:[],i=up(a,3),o=i[1],u=i[2];return new t(parseFloat(o),u??"")}}])})();function b5(t){if(t.includes(il))return il;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=DR.exec(e))!==null&&n!==void 0?n:[],a=up(r,4),i=a[1],o=a[2],u=a[3],f=Am.parse(i??""),d=Am.parse(u??""),p=o==="*"?f.multiply(d):f.divide(d);if(p.isNaN())return il;e=e.replace(DR,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,y=(h=LR.exec(e))!==null&&h!==void 0?h:[],x=up(y,4),T=x[1],w=x[2],A=x[3],C=Am.parse(T??""),j=Am.parse(A??""),_=w==="+"?C.add(j):C.subtract(j);if(_.isNaN())return il;e=e.replace(LR,_.toString())}return e}var qR=/\(([^()]*)\)/;function aie(t){for(var e=t;e.includes("(");){var n=qR.exec(e),r=up(n,2),a=r[1];e=e.replace(qR,b5(a))}return e}function iie(t){var e=t.replace(/\s+/g,"");return e=aie(e),e=b5(e),e}function sie(t){try{return iie(t)}catch{return il}}function $b(t){var e=sie(t.slice(5,-1));return e===il?"":e}var oie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lie=["dx","dy","angle","className","breakAll"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}function UR(t,e){if(t==null)return{};var n=uie(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BR(t,e){return mie(t)||fie(t,e)||die(t,e)||cie()}function cie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function die(t,e){if(t){if(typeof t=="string")return $R(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $R(t,e)}}function $R(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function mie(t){if(Array.isArray(t))return t}var S5=/[ \f\n\r\t\v\u2028\u2029]+/,w5=function(e){var n=e.children,r=e.breakAll,a=e.style;try{var i=[];Ze(n)||(r?i=n.toString().split(""):i=n.toString().split(S5));var o=i.map(function(f){return{word:f,width:vc(f,a).width}}),u=r?0:vc(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},pie=function(e,n,r,a,i){var o=e.maxLines,u=e.children,f=e.style,d=e.breakAll,p=Ae(o),h=u,y=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(B,K){var W=K.word,re=K.width,X=B[B.length-1];if(X&&(a==null||i||X.width+re+r<Number(a)))X.words.push(W),X.width+=re+r;else{var V={words:[W],width:re};B.push(V)}return B},[])},x=y(n),T=function(J){return J.reduce(function(B,K){return B.width>K.width?B:K})};if(!p)return x;for(var w="…",A=function(J){var B=h.slice(0,J),K=w5({breakAll:d,style:f,children:B+w}).wordsWithComputedWidth,W=y(K),re=W.length>o||T(W).width>Number(a);return[re,W]},C=0,j=h.length-1,_=0,M;C<=j&&_<=h.length-1;){var N=Math.floor((C+j)/2),k=N-1,P=A(k),R=BR(P,2),L=R[0],U=R[1],q=A(N),D=BR(q,1),$=D[0];if(!L&&!$&&(C=N+1),L&&$&&(j=N-1),!L&&$){M=U;break}_++}return M||x},VR=function(e){var n=Ze(e)?[]:e.toString().split(S5);return[{words:n}]},hie=function(e){var n=e.width,r=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,u=e.maxLines;if((n||r)&&!to.isSsr){var f,d,p=w5({breakAll:o,children:a,style:i});if(p){var h=p.wordsWithComputedWidth,y=p.spaceWidth;f=h,d=y}else return VR(a);return pie({breakAll:o,children:a,maxLines:u,style:i},f,d,n,r)}return VR(a)},FR="#808080",Fs=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.lineHeight,u=o===void 0?"1em":o,f=e.capHeight,d=f===void 0?"0.71em":f,p=e.scaleToFit,h=p===void 0?!1:p,y=e.textAnchor,x=y===void 0?"start":y,T=e.verticalAnchor,w=T===void 0?"end":T,A=e.fill,C=A===void 0?FR:A,j=UR(e,oie),_=I.useMemo(function(){return hie({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:h,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,h,j.style,j.width]),M=j.dx,N=j.dy,k=j.angle,P=j.className,R=j.breakAll,L=UR(j,lie);if(!Sn(r)||!Sn(i))return null;var U=r+(Ae(M)?M:0),q=i+(Ae(N)?N:0),D;switch(w){case"start":D=$b("calc(".concat(d,")"));break;case"middle":D=$b("calc(".concat((_.length-1)/2," * -").concat(u," + (").concat(d," / 2))"));break;default:D=$b("calc(".concat(_.length-1," * -").concat(u,")"));break}var $=[];if(h){var H=_[0].width,J=j.width;$.push("scale(".concat((Ae(J)?J/H:1)/H,")"))}return k&&$.push("rotate(".concat(k,", ").concat(U,", ").concat(q,")")),$.length&&(L.transform=$.join(" ")),te.createElement("text",Fw({},Be(L,!0),{x:U,y:q,className:Xe("recharts-text",P),textAnchor:x,fill:C.includes("url")?FR:C}),_.map(function(B,K){var W=B.words.join(R?"":" ");return te.createElement("tspan",{x:U,dy:K===0?D:u,key:"".concat(W,"-").concat(K)},W)}))};function zi(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uE(t){let e,n,r;t.length!==2?(e=zi,n=(u,f)=>zi(t(u),f),r=(u,f)=>t(u)-f):(e=t===zi||t===gie?t:yie,n=t,r=t);function a(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const h=d+p>>>1;n(u[h],f)<0?d=h+1:p=h}while(d<p)}return d}function i(u,f,d=0,p=u.length){if(d<p){if(e(f,f)!==0)return p;do{const h=d+p>>>1;n(u[h],f)<=0?d=h+1:p=h}while(d<p)}return d}function o(u,f,d=0,p=u.length){const h=a(u,f,d,p-1);return h>d&&r(u[h-1],f)>-r(u[h],f)?h-1:h}return{left:a,center:o,right:i}}function yie(){return 0}function A5(t){return t===null?NaN:+t}function*vie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const xie=uE(zi),Od=xie.right;uE(A5).center;class zR extends Map{constructor(e,n=wie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(GR(this,e))}has(e){return super.has(GR(this,e))}set(e,n){return super.set(bie(this,e),n)}delete(e){return super.delete(Sie(this,e))}}function GR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Sie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Aie(t=zi){if(t===zi)return T5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function T5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Tie=Math.sqrt(50),Eie=Math.sqrt(10),Nie=Math.sqrt(2);function cp(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=Tie?10:i>=Eie?5:i>=Nie?2:1;let u,f,d;return a<0?(d=Math.pow(10,-a)/o,u=Math.round(t*d),f=Math.round(e*d),u/d<t&&++u,f/d>e&&--f,d=-d):(d=Math.pow(10,a)*o,u=Math.round(t/d),f=Math.round(e/d),u*d<t&&++u,f*d>e&&--f),f<u&&.5<=n&&n<2?cp(t,e,n*2):[u,f,d]}function zw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,o]=r?cp(e,t,n):cp(t,e,n);if(!(i>=a))return[];const u=i-a+1,f=new Array(u);if(r)if(o<0)for(let d=0;d<u;++d)f[d]=(i-d)/-o;else for(let d=0;d<u;++d)f[d]=(i-d)*o;else if(o<0)for(let d=0;d<u;++d)f[d]=(a+d)/-o;else for(let d=0;d<u;++d)f[d]=(a+d)*o;return f}function Gw(t,e,n){return e=+e,t=+t,n=+n,cp(t,e,n)[2]}function Hw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Gw(e,t,n):Gw(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function HR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function E5(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?T5:Aie(a);r>n;){if(r-n>600){const f=r-n+1,d=e-n+1,p=Math.log(f),h=.5*Math.exp(2*p/3),y=.5*Math.sqrt(p*h*(f-h)/f)*(d-f/2<0?-1:1),x=Math.max(n,Math.floor(e-d*h/f+y)),T=Math.min(r,Math.floor(e+(f-d)*h/f+y));E5(t,e,x,T,a)}const i=t[e];let o=n,u=r;for(Zu(t,n,e),a(t[r],i)>0&&Zu(t,n,r);o<u;){for(Zu(t,o,u),++o,--u;a(t[o],i)<0;)++o;for(;a(t[u],i)>0;)--u}a(t[n],i)===0?Zu(t,n,u):(++u,Zu(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Zu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _ie(t,e,n){if(t=Float64Array.from(vie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KR(t);if(e>=1)return HR(t);var r,a=(r-1)*e,i=Math.floor(a),o=HR(E5(t,i).subarray(0,i+1)),u=KR(t.subarray(i+1));return o+(u-o)*(a-i)}}function Cie(t,e,n=A5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,i=Math.floor(a),o=+n(t[i],i,t),u=+n(t[i+1],i+1,t);return o+(u-o)*(a-i)}}function Mie(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function Kr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Kw=Symbol("implicit");function cE(){var t=new zR,e=[],n=[],r=Kw;function a(i){let o=t.get(i);if(o===void 0){if(r!==Kw)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new zR;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return cE(e,n).unknown(r)},Kr.apply(a,arguments),a}function Vc(){var t=cE().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,o,u=!1,f=0,d=0,p=.5;delete t.unknown;function h(){var y=e().length,x=a<r,T=x?a:r,w=x?r:a;i=(w-T)/Math.max(1,y-f+d*2),u&&(i=Math.floor(i)),T+=(w-T-i*(y-f))*p,o=i*(1-f),u&&(T=Math.round(T),o=Math.round(o));var A=Mie(y).map(function(C){return T+i*C});return n(x?A.reverse():A)}return t.domain=function(y){return arguments.length?(e(y),h()):e()},t.range=function(y){return arguments.length?([r,a]=y,r=+r,a=+a,h()):[r,a]},t.rangeRound=function(y){return[r,a]=y,r=+r,a=+a,u=!0,h()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(y){return arguments.length?(u=!!y,h()):u},t.padding=function(y){return arguments.length?(f=Math.min(1,d=+y),h()):f},t.paddingInner=function(y){return arguments.length?(f=Math.min(1,y),h()):f},t.paddingOuter=function(y){return arguments.length?(d=+y,h()):d},t.align=function(y){return arguments.length?(p=Math.max(0,Math.min(1,y)),h()):p},t.copy=function(){return Vc(e(),[r,a]).round(u).paddingInner(f).paddingOuter(d).align(p)},Kr.apply(h(),arguments)}function N5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return N5(e())},t}function xc(){return N5(Vc.apply(null,arguments).paddingInner(1))}function dE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Rd(){}var Fc=.7,dp=1/Fc,gl="\\s*([+-]?\\d+)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jie=/^#([0-9a-f]{3,8})$/,Iie=new RegExp(`^rgb\\(${gl},${gl},${gl}\\)$`),kie=new RegExp(`^rgb\\(${ga},${ga},${ga}\\)$`),Pie=new RegExp(`^rgba\\(${gl},${gl},${gl},${zc}\\)$`),Oie=new RegExp(`^rgba\\(${ga},${ga},${ga},${zc}\\)$`),Rie=new RegExp(`^hsl\\(${zc},${ga},${ga}\\)$`),Die=new RegExp(`^hsla\\(${zc},${ga},${ga},${zc}\\)$`),YR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dE(Rd,Gc,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:WR,formatHex:WR,formatHex8:Lie,formatHsl:qie,formatRgb:XR,toString:XR});function WR(){return this.rgb().formatHex()}function Lie(){return this.rgb().formatHex8()}function qie(){return C5(this).formatHsl()}function XR(){return this.rgb().formatRgb()}function Gc(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=jie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?JR(e):n===3?new or(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Tm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Tm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Iie.exec(t))?new or(e[1],e[2],e[3],1):(e=kie.exec(t))?new or(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Pie.exec(t))?Tm(e[1],e[2],e[3],e[4]):(e=Oie.exec(t))?Tm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rie.exec(t))?eD(e[1],e[2]/100,e[3]/100,1):(e=Die.exec(t))?eD(e[1],e[2]/100,e[3]/100,e[4]):YR.hasOwnProperty(t)?JR(YR[t]):t==="transparent"?new or(NaN,NaN,NaN,0):null}function JR(t){return new or(t>>16&255,t>>8&255,t&255,1)}function Tm(t,e,n,r){return r<=0&&(t=e=n=NaN),new or(t,e,n,r)}function Uie(t){return t instanceof Rd||(t=Gc(t)),t?(t=t.rgb(),new or(t.r,t.g,t.b,t.opacity)):new or}function Yw(t,e,n,r){return arguments.length===1?Uie(t):new or(t,e,n,r??1)}function or(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dE(or,Yw,_5(Rd,{brighter(t){return t=t==null?dp:Math.pow(dp,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new or(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new or(Ls(this.r),Ls(this.g),Ls(this.b),fp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QR,formatHex:QR,formatHex8:Bie,formatRgb:ZR,toString:ZR}));function QR(){return`#${js(this.r)}${js(this.g)}${js(this.b)}`}function Bie(){return`#${js(this.r)}${js(this.g)}${js(this.b)}${js((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZR(){const t=fp(this.opacity);return`${t===1?"rgb(":"rgba("}${Ls(this.r)}, ${Ls(this.g)}, ${Ls(this.b)}${t===1?")":`, ${t})`}`}function fp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ls(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function js(t){return t=Ls(t),(t<16?"0":"")+t.toString(16)}function eD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new na(t,e,n,r)}function C5(t){if(t instanceof na)return new na(t.h,t.s,t.l,t.opacity);if(t instanceof Rd||(t=Gc(t)),!t)return new na;if(t instanceof na)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,u=i-a,f=(i+a)/2;return u?(e===i?o=(n-r)/u+(n<r)*6:n===i?o=(r-e)/u+2:o=(e-n)/u+4,u/=f<.5?i+a:2-i-a,o*=60):u=f>0&&f<1?0:o,new na(o,u,f,t.opacity)}function $ie(t,e,n,r){return arguments.length===1?C5(t):new na(t,e,n,r??1)}function na(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dE(na,$ie,_5(Rd,{brighter(t){return t=t==null?dp:Math.pow(dp,t),new na(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fc:Math.pow(Fc,t),new na(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new or(Vb(t>=240?t-240:t+120,a,r),Vb(t,a,r),Vb(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new na(tD(this.h),Em(this.s),Em(this.l),fp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fp(this.opacity);return`${t===1?"hsl(":"hsla("}${tD(this.h)}, ${Em(this.s)*100}%, ${Em(this.l)*100}%${t===1?")":`, ${t})`}`}}));function tD(t){return t=(t||0)%360,t<0?t+360:t}function Em(t){return Math.max(0,Math.min(1,t||0))}function Vb(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fE=t=>()=>t;function Vie(t,e){return function(n){return t+n*e}}function Fie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zie(t){return(t=+t)==1?M5:function(e,n){return n-e?Fie(e,n,t):fE(isNaN(e)?n:e)}}function M5(t,e){var n=e-t;return n?Vie(t,n):fE(isNaN(t)?e:t)}const nD=(function t(e){var n=zie(e);function r(a,i){var o=n((a=Yw(a)).r,(i=Yw(i)).r),u=n(a.g,i.g),f=n(a.b,i.b),d=M5(a.opacity,i.opacity);return function(p){return a.r=o(p),a.g=u(p),a.b=f(p),a.opacity=d(p),a+""}}return r.gamma=t,r})(1);function Gie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function Hie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Kie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=eu(t[o],e[o]);for(;o<n;++o)i[o]=e[o];return function(u){for(o=0;o<r;++o)i[o]=a[o](u);return i}}function Yie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function mp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wie(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=eu(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Ww=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fb=new RegExp(Ww.source,"g");function Xie(t){return function(){return t}}function Jie(t){return function(e){return t(e)+""}}function Qie(t,e){var n=Ww.lastIndex=Fb.lastIndex=0,r,a,i,o=-1,u=[],f=[];for(t=t+"",e=e+"";(r=Ww.exec(t))&&(a=Fb.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),u[o]?u[o]+=i:u[++o]=i),(r=r[0])===(a=a[0])?u[o]?u[o]+=a:u[++o]=a:(u[++o]=null,f.push({i:o,x:mp(r,a)})),n=Fb.lastIndex;return n<e.length&&(i=e.slice(n),u[o]?u[o]+=i:u[++o]=i),u.length<2?f[0]?Jie(f[0].x):Xie(e):(e=f.length,function(d){for(var p=0,h;p<e;++p)u[(h=f[p]).i]=h.x(d);return u.join("")})}function eu(t,e){var n=typeof e,r;return e==null||n==="boolean"?fE(e):(n==="number"?mp:n==="string"?(r=Gc(e))?(e=r,nD):Qie:e instanceof Gc?nD:e instanceof Date?Yie:Hie(e)?Gie:Array.isArray(e)?Kie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wie:mp)(t,e)}function mE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Zie(t,e){e===void 0&&(e=t,t=eu);for(var n=0,r=e.length-1,a=e[0],i=new Array(r<0?0:r);n<r;)i[n]=t(a,a=e[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[u](o-u)}}function ese(t){return function(){return t}}function pp(t){return+t}var rD=[0,1];function Wn(t){return t}function Xw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ese(isNaN(e)?NaN:.5)}function tse(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nse(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=Xw(a,r),i=n(o,i)):(r=Xw(r,a),i=n(i,o)),function(u){return i(r(u))}}function rse(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)a[o]=Xw(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(u){var f=Od(t,u,1,r)-1;return i[f](a[f](u))}}function Dd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ah(){var t=rD,e=rD,n=eu,r,a,i,o=Wn,u,f,d;function p(){var y=Math.min(t.length,e.length);return o!==Wn&&(o=tse(t[0],t[y-1])),u=y>2?rse:nse,f=d=null,h}function h(y){return y==null||isNaN(y=+y)?i:(f||(f=u(t.map(r),e,n)))(r(o(y)))}return h.invert=function(y){return o(a((d||(d=u(e,t.map(r),mp)))(y)))},h.domain=function(y){return arguments.length?(t=Array.from(y,pp),p()):t.slice()},h.range=function(y){return arguments.length?(e=Array.from(y),p()):e.slice()},h.rangeRound=function(y){return e=Array.from(y),n=mE,p()},h.clamp=function(y){return arguments.length?(o=y?!0:Wn,p()):o!==Wn},h.interpolate=function(y){return arguments.length?(n=y,p()):n},h.unknown=function(y){return arguments.length?(i=y,h):i},function(y,x){return r=y,a=x,p()}}function pE(){return Ah()(Wn,Wn)}function ase(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function El(t){return t=hp(Math.abs(t)),t?t[1]:NaN}function ise(t,e){return function(n,r){for(var a=n.length,i=[],o=0,u=t[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),i.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=t[o=(o+1)%t.length];return i.reverse().join(e)}}function sse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ose=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hc(t){if(!(e=ose.exec(t)))throw new Error("invalid format: "+t);var e;return new hE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hc.prototype=hE.prototype;function hE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}hE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lse(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var j5;function use(t,e){var n=hp(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(j5=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+hp(t,Math.max(0,e+i-1))[0]}function aD(t,e){var n=hp(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const iD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ase,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>aD(t*100,e),r:aD,s:use,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sD(t){return t}var oD=Array.prototype.map,lD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cse(t){var e=t.grouping===void 0||t.thousands===void 0?sD:ise(oD.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?sD:sse(oD.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function d(h){h=Hc(h);var y=h.fill,x=h.align,T=h.sign,w=h.symbol,A=h.zero,C=h.width,j=h.comma,_=h.precision,M=h.trim,N=h.type;N==="n"?(j=!0,N="g"):iD[N]||(_===void 0&&(_=12),M=!0,N="g"),(A||y==="0"&&x==="=")&&(A=!0,y="0",x="=");var k=w==="$"?n:w==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=w==="$"?r:/[%p]/.test(N)?o:"",R=iD[N],L=/[defgprs%]/.test(N);_=_===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function U(q){var D=k,$=P,H,J,B;if(N==="c")$=R(q)+$,q="";else{q=+q;var K=q<0||1/q<0;if(q=isNaN(q)?f:R(Math.abs(q),_),M&&(q=lse(q)),K&&+q==0&&T!=="+"&&(K=!1),D=(K?T==="("?T:u:T==="-"||T==="("?"":T)+D,$=(N==="s"?lD[8+j5/3]:"")+$+(K&&T==="("?")":""),L){for(H=-1,J=q.length;++H<J;)if(B=q.charCodeAt(H),48>B||B>57){$=(B===46?a+q.slice(H+1):q.slice(H))+$,q=q.slice(0,H);break}}}j&&!A&&(q=e(q,1/0));var W=D.length+q.length+$.length,re=W<C?new Array(C-W+1).join(y):"";switch(j&&A&&(q=e(re+q,re.length?C-$.length:1/0),re=""),x){case"<":q=D+q+$+re;break;case"=":q=D+re+q+$;break;case"^":q=re.slice(0,W=re.length>>1)+D+q+$+re.slice(W);break;default:q=re+D+q+$;break}return i(q)}return U.toString=function(){return h+""},U}function p(h,y){var x=d((h=Hc(h),h.type="f",h)),T=Math.max(-8,Math.min(8,Math.floor(El(y)/3)))*3,w=Math.pow(10,-T),A=lD[8+T/3];return function(C){return x(w*C)+A}}return{format:d,formatPrefix:p}}var Nm,gE,I5;dse({thousands:",",grouping:[3],currency:["$",""]});function dse(t){return Nm=cse(t),gE=Nm.format,I5=Nm.formatPrefix,Nm}function fse(t){return Math.max(0,-El(Math.abs(t)))}function mse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(El(e)/3)))*3-El(Math.abs(t)))}function pse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,El(e)-El(t))+1}function k5(t,e,n,r){var a=Hw(t,e,n),i;switch(r=Hc(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=mse(a,o))&&(r.precision=i),I5(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=pse(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=fse(a))&&(r.precision=i-(r.type==="%")*2);break}}return gE(r)}function Ji(t){var e=t.domain;return t.ticks=function(n){var r=e();return zw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return k5(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,o=r[a],u=r[i],f,d,p=10;for(u<o&&(d=o,o=u,u=d,d=a,a=i,i=d);p-- >0;){if(d=Gw(o,u,n),d===f)return r[a]=o,r[i]=u,e(r);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;f=d}return t},t}function gp(){var t=pE();return t.copy=function(){return Dd(t,gp())},Kr.apply(t,arguments),Ji(t)}function P5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,pp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return P5(t).unknown(e)},t=arguments.length?Array.from(t,pp):[0,1],Ji(n)}function O5(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),t[n]=e.floor(a),t[r]=e.ceil(i),t}function uD(t){return Math.log(t)}function cD(t){return Math.exp(t)}function hse(t){return-Math.log(-t)}function gse(t){return-Math.exp(-t)}function yse(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vse(t){return t===10?yse:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dD(t){return(e,n)=>-t(-e,n)}function yE(t){const e=t(uD,cD),n=e.domain;let r=10,a,i;function o(){return a=xse(r),i=vse(r),n()[0]<0?(a=dD(a),i=dD(i),t(hse,gse)):t(uD,cD),e}return e.base=function(u){return arguments.length?(r=+u,o()):r},e.domain=function(u){return arguments.length?(n(u),o()):n()},e.ticks=u=>{const f=n();let d=f[0],p=f[f.length-1];const h=p<d;h&&([d,p]=[p,d]);let y=a(d),x=a(p),T,w;const A=u==null?10:+u;let C=[];if(!(r%1)&&x-y<A){if(y=Math.floor(y),x=Math.ceil(x),d>0){for(;y<=x;++y)for(T=1;T<r;++T)if(w=y<0?T/i(-y):T*i(y),!(w<d)){if(w>p)break;C.push(w)}}else for(;y<=x;++y)for(T=r-1;T>=1;--T)if(w=y>0?T/i(-y):T*i(y),!(w<d)){if(w>p)break;C.push(w)}C.length*2<A&&(C=zw(d,p,A))}else C=zw(y,x,Math.min(x-y,A)).map(i);return h?C.reverse():C},e.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Hc(f)).precision==null&&(f.trim=!0),f=gE(f)),u===1/0)return f;const d=Math.max(1,r*u/e.ticks().length);return p=>{let h=p/i(Math.round(a(p)));return h*r<r-.5&&(h*=r),h<=d?f(p):""}},e.nice=()=>n(O5(n(),{floor:u=>i(Math.floor(a(u))),ceil:u=>i(Math.ceil(a(u)))})),e}function R5(){const t=yE(Ah()).domain([1,10]);return t.copy=()=>Dd(t,R5()).base(t.base()),Kr.apply(t,arguments),t}function fD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function mD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vE(t){var e=1,n=t(fD(e),mD(e));return n.constant=function(r){return arguments.length?t(fD(e=+r),mD(e)):e},Ji(n)}function D5(){var t=vE(Ah());return t.copy=function(){return Dd(t,D5()).constant(t.constant())},Kr.apply(t,arguments)}function pD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sse(t){return t<0?-t*t:t*t}function xE(t){var e=t(Wn,Wn),n=1;function r(){return n===1?t(Wn,Wn):n===.5?t(bse,Sse):t(pD(n),pD(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},Ji(e)}function bE(){var t=xE(Ah());return t.copy=function(){return Dd(t,bE()).exponent(t.exponent())},Kr.apply(t,arguments),t}function wse(){return bE.apply(null,arguments).exponent(.5)}function hD(t){return Math.sign(t)*t*t}function Ase(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function L5(){var t=pE(),e=[0,1],n=!1,r;function a(i){var o=Ase(t(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return t.invert(hD(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,pp)).map(hD)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return L5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Kr.apply(a,arguments),Ji(a)}function q5(){var t=[],e=[],n=[],r;function a(){var o=0,u=Math.max(1,e.length);for(n=new Array(u-1);++o<u;)n[o-1]=Cie(t,o/u);return i}function i(o){return o==null||isNaN(o=+o)?r:e[Od(n,o)]}return i.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(zi),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return q5().domain(t).range(e).unknown(r)},Kr.apply(i,arguments)}function U5(){var t=0,e=1,n=1,r=[.5],a=[0,1],i;function o(f){return f!=null&&f<=f?a[Od(r,f,0,n)]:i}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return o}return o.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,u()):[t,e]},o.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},o.invertExtent=function(f){var d=a.indexOf(f);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},o.unknown=function(f){return arguments.length&&(i=f),o},o.thresholds=function(){return r.slice()},o.copy=function(){return U5().domain([t,e]).range(a).unknown(i)},Kr.apply(Ji(o),arguments)}function B5(){var t=[.5],e=[0,1],n,r=1;function a(i){return i!=null&&i<=i?e[Od(t,i,0,r)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return B5().domain(t).range(e).unknown(n)},Kr.apply(a,arguments)}const zb=new Date,Gb=new Date;function wn(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),u=a.ceil(i);return i-o<u-i?o:u},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,u)=>{const f=[];if(i=a.ceil(i),u=u==null?1:Math.floor(u),!(i<o)||!(u>0))return f;let d;do f.push(d=new Date(+i)),e(i,u),t(i);while(d<i&&i<o);return f},a.filter=i=>wn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!i(o););else for(;--u>=0;)for(;e(o,1),!i(o););}),n&&(a.count=(i,o)=>(zb.setTime(+i),Gb.setTime(+o),t(zb),t(Gb),Math.floor(n(zb,Gb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const yp=wn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):yp);yp.range;const Fa=1e3,Fr=Fa*60,za=Fr*60,Qa=za*24,SE=Qa*7,gD=Qa*30,Hb=Qa*365,Is=wn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fa)},(t,e)=>(e-t)/Fa,t=>t.getUTCSeconds());Is.range;const wE=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fa)},(t,e)=>{t.setTime(+t+e*Fr)},(t,e)=>(e-t)/Fr,t=>t.getMinutes());wE.range;const AE=wn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fr)},(t,e)=>(e-t)/Fr,t=>t.getUTCMinutes());AE.range;const TE=wn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fa-t.getMinutes()*Fr)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getHours());TE.range;const EE=wn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*za)},(t,e)=>(e-t)/za,t=>t.getUTCHours());EE.range;const Ld=wn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fr)/Qa,t=>t.getDate()-1);Ld.range;const Th=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qa,t=>t.getUTCDate()-1);Th.range;const $5=wn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qa,t=>Math.floor(t/Qa));$5.range;function no(t){return wn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fr)/SE)}const Eh=no(0),vp=no(1),Tse=no(2),Ese=no(3),Nl=no(4),Nse=no(5),_se=no(6);Eh.range;vp.range;Tse.range;Ese.range;Nl.range;Nse.range;_se.range;function ro(t){return wn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/SE)}const Nh=ro(0),xp=ro(1),Cse=ro(2),Mse=ro(3),_l=ro(4),jse=ro(5),Ise=ro(6);Nh.range;xp.range;Cse.range;Mse.range;_l.range;jse.range;Ise.range;const NE=wn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());NE.range;const _E=wn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());_E.range;const Za=wn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Za.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Za.range;const ei=wn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ei.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ei.range;function V5(t,e,n,r,a,i){const o=[[Is,1,Fa],[Is,5,5*Fa],[Is,15,15*Fa],[Is,30,30*Fa],[i,1,Fr],[i,5,5*Fr],[i,15,15*Fr],[i,30,30*Fr],[a,1,za],[a,3,3*za],[a,6,6*za],[a,12,12*za],[r,1,Qa],[r,2,2*Qa],[n,1,SE],[e,1,gD],[e,3,3*gD],[t,1,Hb]];function u(d,p,h){const y=p<d;y&&([d,p]=[p,d]);const x=h&&typeof h.range=="function"?h:f(d,p,h),T=x?x.range(d,+p+1):[];return y?T.reverse():T}function f(d,p,h){const y=Math.abs(p-d)/h,x=uE(([,,A])=>A).right(o,y);if(x===o.length)return t.every(Hw(d/Hb,p/Hb,h));if(x===0)return yp.every(Math.max(Hw(d,p,h),1));const[T,w]=o[y/o[x-1][2]<o[x][2]/y?x-1:x];return T.every(w)}return[u,f]}const[kse,Pse]=V5(ei,_E,Nh,$5,EE,AE),[Ose,Rse]=V5(Za,NE,Eh,Ld,TE,wE);function Kb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Yb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ec(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Dse(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,o=t.shortDays,u=t.months,f=t.shortMonths,d=tc(a),p=nc(a),h=tc(i),y=nc(i),x=tc(o),T=nc(o),w=tc(u),A=nc(u),C=tc(f),j=nc(f),_={a:K,A:W,b:re,B:X,c:null,d:wD,e:wD,f:ioe,g:hoe,G:yoe,H:noe,I:roe,j:aoe,L:F5,m:soe,M:ooe,p:V,q:z,Q:ED,s:ND,S:loe,u:uoe,U:coe,V:doe,w:foe,W:moe,x:null,X:null,y:poe,Y:goe,Z:voe,"%":TD},M={a:Y,A:ee,b:le,B:xe,c:null,d:AD,e:AD,f:woe,g:koe,G:Ooe,H:xoe,I:boe,j:Soe,L:G5,m:Aoe,M:Toe,p:Te,q:_e,Q:ED,s:ND,S:Eoe,u:Noe,U:_oe,V:Coe,w:Moe,W:joe,x:null,X:null,y:Ioe,Y:Poe,Z:Roe,"%":TD},N={a:U,A:q,b:D,B:$,c:H,d:bD,e:bD,f:Qse,g:xD,G:vD,H:SD,I:SD,j:Yse,L:Jse,m:Kse,M:Wse,p:L,q:Hse,Q:eoe,s:toe,S:Xse,u:$se,U:Vse,V:Fse,w:Bse,W:zse,x:J,X:B,y:xD,Y:vD,Z:Gse,"%":Zse};_.x=k(n,_),_.X=k(r,_),_.c=k(e,_),M.x=k(n,M),M.X=k(r,M),M.c=k(e,M);function k(ce,Ce){return function(G){var Z=[],de=-1,Se=0,Oe=ce.length,$e,Je,vt;for(G instanceof Date||(G=new Date(+G));++de<Oe;)ce.charCodeAt(de)===37&&(Z.push(ce.slice(Se,de)),(Je=yD[$e=ce.charAt(++de)])!=null?$e=ce.charAt(++de):Je=$e==="e"?" ":"0",(vt=Ce[$e])&&($e=vt(G,Je)),Z.push($e),Se=de+1);return Z.push(ce.slice(Se,de)),Z.join("")}}function P(ce,Ce){return function(G){var Z=ec(1900,void 0,1),de=R(Z,ce,G+="",0),Se,Oe;if(de!=G.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(Ce&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(Se=Yb(ec(Z.y,0,1)),Oe=Se.getUTCDay(),Se=Oe>4||Oe===0?xp.ceil(Se):xp(Se),Se=Th.offset(Se,(Z.V-1)*7),Z.y=Se.getUTCFullYear(),Z.m=Se.getUTCMonth(),Z.d=Se.getUTCDate()+(Z.w+6)%7):(Se=Kb(ec(Z.y,0,1)),Oe=Se.getDay(),Se=Oe>4||Oe===0?vp.ceil(Se):vp(Se),Se=Ld.offset(Se,(Z.V-1)*7),Z.y=Se.getFullYear(),Z.m=Se.getMonth(),Z.d=Se.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Oe="Z"in Z?Yb(ec(Z.y,0,1)).getUTCDay():Kb(ec(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Oe+5)%7:Z.w+Z.U*7-(Oe+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Yb(Z)):Kb(Z)}}function R(ce,Ce,G,Z){for(var de=0,Se=Ce.length,Oe=G.length,$e,Je;de<Se;){if(Z>=Oe)return-1;if($e=Ce.charCodeAt(de++),$e===37){if($e=Ce.charAt(de++),Je=N[$e in yD?Ce.charAt(de++):$e],!Je||(Z=Je(ce,G,Z))<0)return-1}else if($e!=G.charCodeAt(Z++))return-1}return Z}function L(ce,Ce,G){var Z=d.exec(Ce.slice(G));return Z?(ce.p=p.get(Z[0].toLowerCase()),G+Z[0].length):-1}function U(ce,Ce,G){var Z=x.exec(Ce.slice(G));return Z?(ce.w=T.get(Z[0].toLowerCase()),G+Z[0].length):-1}function q(ce,Ce,G){var Z=h.exec(Ce.slice(G));return Z?(ce.w=y.get(Z[0].toLowerCase()),G+Z[0].length):-1}function D(ce,Ce,G){var Z=C.exec(Ce.slice(G));return Z?(ce.m=j.get(Z[0].toLowerCase()),G+Z[0].length):-1}function $(ce,Ce,G){var Z=w.exec(Ce.slice(G));return Z?(ce.m=A.get(Z[0].toLowerCase()),G+Z[0].length):-1}function H(ce,Ce,G){return R(ce,e,Ce,G)}function J(ce,Ce,G){return R(ce,n,Ce,G)}function B(ce,Ce,G){return R(ce,r,Ce,G)}function K(ce){return o[ce.getDay()]}function W(ce){return i[ce.getDay()]}function re(ce){return f[ce.getMonth()]}function X(ce){return u[ce.getMonth()]}function V(ce){return a[+(ce.getHours()>=12)]}function z(ce){return 1+~~(ce.getMonth()/3)}function Y(ce){return o[ce.getUTCDay()]}function ee(ce){return i[ce.getUTCDay()]}function le(ce){return f[ce.getUTCMonth()]}function xe(ce){return u[ce.getUTCMonth()]}function Te(ce){return a[+(ce.getUTCHours()>=12)]}function _e(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ce=k(ce+="",_);return Ce.toString=function(){return ce},Ce},parse:function(ce){var Ce=P(ce+="",!1);return Ce.toString=function(){return ce},Ce},utcFormat:function(ce){var Ce=k(ce+="",M);return Ce.toString=function(){return ce},Ce},utcParse:function(ce){var Ce=P(ce+="",!0);return Ce.toString=function(){return ce},Ce}}}var yD={"-":"",_:" ",0:"0"},Mn=/^\s*\d+/,Lse=/^%/,qse=/[\\^$*+?|[\]().{}]/g;function ft(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Use(t){return t.replace(qse,"\\$&")}function tc(t){return new RegExp("^(?:"+t.map(Use).join("|")+")","i")}function nc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Bse(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function $se(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Vse(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Fse(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zse(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function vD(t,e,n){var r=Mn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xD(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Gse(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hse(t,e,n){var r=Mn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Kse(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bD(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yse(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function SD(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wse(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Xse(t,e,n){var r=Mn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Jse(t,e,n){var r=Mn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Qse(t,e,n){var r=Mn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zse(t,e,n){var r=Lse.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eoe(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function toe(t,e,n){var r=Mn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function wD(t,e){return ft(t.getDate(),e,2)}function noe(t,e){return ft(t.getHours(),e,2)}function roe(t,e){return ft(t.getHours()%12||12,e,2)}function aoe(t,e){return ft(1+Ld.count(Za(t),t),e,3)}function F5(t,e){return ft(t.getMilliseconds(),e,3)}function ioe(t,e){return F5(t,e)+"000"}function soe(t,e){return ft(t.getMonth()+1,e,2)}function ooe(t,e){return ft(t.getMinutes(),e,2)}function loe(t,e){return ft(t.getSeconds(),e,2)}function uoe(t){var e=t.getDay();return e===0?7:e}function coe(t,e){return ft(Eh.count(Za(t)-1,t),e,2)}function z5(t){var e=t.getDay();return e>=4||e===0?Nl(t):Nl.ceil(t)}function doe(t,e){return t=z5(t),ft(Nl.count(Za(t),t)+(Za(t).getDay()===4),e,2)}function foe(t){return t.getDay()}function moe(t,e){return ft(vp.count(Za(t)-1,t),e,2)}function poe(t,e){return ft(t.getFullYear()%100,e,2)}function hoe(t,e){return t=z5(t),ft(t.getFullYear()%100,e,2)}function goe(t,e){return ft(t.getFullYear()%1e4,e,4)}function yoe(t,e){var n=t.getDay();return t=n>=4||n===0?Nl(t):Nl.ceil(t),ft(t.getFullYear()%1e4,e,4)}function voe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ft(e/60|0,"0",2)+ft(e%60,"0",2)}function AD(t,e){return ft(t.getUTCDate(),e,2)}function xoe(t,e){return ft(t.getUTCHours(),e,2)}function boe(t,e){return ft(t.getUTCHours()%12||12,e,2)}function Soe(t,e){return ft(1+Th.count(ei(t),t),e,3)}function G5(t,e){return ft(t.getUTCMilliseconds(),e,3)}function woe(t,e){return G5(t,e)+"000"}function Aoe(t,e){return ft(t.getUTCMonth()+1,e,2)}function Toe(t,e){return ft(t.getUTCMinutes(),e,2)}function Eoe(t,e){return ft(t.getUTCSeconds(),e,2)}function Noe(t){var e=t.getUTCDay();return e===0?7:e}function _oe(t,e){return ft(Nh.count(ei(t)-1,t),e,2)}function H5(t){var e=t.getUTCDay();return e>=4||e===0?_l(t):_l.ceil(t)}function Coe(t,e){return t=H5(t),ft(_l.count(ei(t),t)+(ei(t).getUTCDay()===4),e,2)}function Moe(t){return t.getUTCDay()}function joe(t,e){return ft(xp.count(ei(t)-1,t),e,2)}function Ioe(t,e){return ft(t.getUTCFullYear()%100,e,2)}function koe(t,e){return t=H5(t),ft(t.getUTCFullYear()%100,e,2)}function Poe(t,e){return ft(t.getUTCFullYear()%1e4,e,4)}function Ooe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_l(t):_l.ceil(t),ft(t.getUTCFullYear()%1e4,e,4)}function Roe(){return"+0000"}function TD(){return"%"}function ED(t){return+t}function ND(t){return Math.floor(+t/1e3)}var Xo,K5,Y5;Doe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Doe(t){return Xo=Dse(t),K5=Xo.format,Xo.parse,Y5=Xo.utcFormat,Xo.utcParse,Xo}function Loe(t){return new Date(t)}function qoe(t){return t instanceof Date?+t:+new Date(+t)}function CE(t,e,n,r,a,i,o,u,f,d){var p=pE(),h=p.invert,y=p.domain,x=d(".%L"),T=d(":%S"),w=d("%I:%M"),A=d("%I %p"),C=d("%a %d"),j=d("%b %d"),_=d("%B"),M=d("%Y");function N(k){return(f(k)<k?x:u(k)<k?T:o(k)<k?w:i(k)<k?A:r(k)<k?a(k)<k?C:j:n(k)<k?_:M)(k)}return p.invert=function(k){return new Date(h(k))},p.domain=function(k){return arguments.length?y(Array.from(k,qoe)):y().map(Loe)},p.ticks=function(k){var P=y();return t(P[0],P[P.length-1],k??10)},p.tickFormat=function(k,P){return P==null?N:d(P)},p.nice=function(k){var P=y();return(!k||typeof k.range!="function")&&(k=e(P[0],P[P.length-1],k??10)),k?y(O5(P,k)):p},p.copy=function(){return Dd(p,CE(t,e,n,r,a,i,o,u,f,d))},p}function Uoe(){return Kr.apply(CE(Ose,Rse,Za,NE,Eh,Ld,TE,wE,Is,K5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Boe(){return Kr.apply(CE(kse,Pse,ei,_E,Nh,Th,EE,AE,Is,Y5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _h(){var t=0,e=1,n,r,a,i,o=Wn,u=!1,f;function d(h){return h==null||isNaN(h=+h)?f:o(a===0?.5:(h=(i(h)-n)*a,u?Math.max(0,Math.min(1,h)):h))}d.domain=function(h){return arguments.length?([t,e]=h,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(h){return arguments.length?(u=!!h,d):u},d.interpolator=function(h){return arguments.length?(o=h,d):o};function p(h){return function(y){var x,T;return arguments.length?([x,T]=y,o=h(x,T),d):[o(0),o(1)]}}return d.range=p(eu),d.rangeRound=p(mE),d.unknown=function(h){return arguments.length?(f=h,d):f},function(h){return i=h,n=h(t),r=h(e),a=n===r?0:1/(r-n),d}}function Qi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function W5(){var t=Ji(_h()(Wn));return t.copy=function(){return Qi(t,W5())},oi.apply(t,arguments)}function X5(){var t=yE(_h()).domain([1,10]);return t.copy=function(){return Qi(t,X5()).base(t.base())},oi.apply(t,arguments)}function J5(){var t=vE(_h());return t.copy=function(){return Qi(t,J5()).constant(t.constant())},oi.apply(t,arguments)}function ME(){var t=xE(_h());return t.copy=function(){return Qi(t,ME()).exponent(t.exponent())},oi.apply(t,arguments)}function $oe(){return ME.apply(null,arguments).exponent(.5)}function Q5(){var t=[],e=Wn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Od(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(zi),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>_ie(t,i/r))},n.copy=function(){return Q5(e).domain(t)},oi.apply(n,arguments)}function Ch(){var t=0,e=.5,n=1,r=1,a,i,o,u,f,d=Wn,p,h=!1,y;function x(w){return isNaN(w=+w)?y:(w=.5+((w=+p(w))-i)*(r*w<r*i?u:f),d(h?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([t,e,n]=w,a=p(t=+t),i=p(e=+e),o=p(n=+n),u=a===i?0:.5/(i-a),f=i===o?0:.5/(o-i),r=i<a?-1:1,x):[t,e,n]},x.clamp=function(w){return arguments.length?(h=!!w,x):h},x.interpolator=function(w){return arguments.length?(d=w,x):d};function T(w){return function(A){var C,j,_;return arguments.length?([C,j,_]=A,d=Zie(w,[C,j,_]),x):[d(0),d(.5),d(1)]}}return x.range=T(eu),x.rangeRound=T(mE),x.unknown=function(w){return arguments.length?(y=w,x):y},function(w){return p=w,a=w(t),i=w(e),o=w(n),u=a===i?0:.5/(i-a),f=i===o?0:.5/(o-i),r=i<a?-1:1,x}}function Z5(){var t=Ji(Ch()(Wn));return t.copy=function(){return Qi(t,Z5())},oi.apply(t,arguments)}function eB(){var t=yE(Ch()).domain([.1,1,10]);return t.copy=function(){return Qi(t,eB()).base(t.base())},oi.apply(t,arguments)}function tB(){var t=vE(Ch());return t.copy=function(){return Qi(t,tB()).constant(t.constant())},oi.apply(t,arguments)}function jE(){var t=xE(Ch());return t.copy=function(){return Qi(t,jE()).exponent(t.exponent())},oi.apply(t,arguments)}function Voe(){return jE.apply(null,arguments).exponent(.5)}const _D=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vc,scaleDiverging:Z5,scaleDivergingLog:eB,scaleDivergingPow:jE,scaleDivergingSqrt:Voe,scaleDivergingSymlog:tB,scaleIdentity:P5,scaleImplicit:Kw,scaleLinear:gp,scaleLog:R5,scaleOrdinal:cE,scalePoint:xc,scalePow:bE,scaleQuantile:q5,scaleQuantize:U5,scaleRadial:L5,scaleSequential:W5,scaleSequentialLog:X5,scaleSequentialPow:ME,scaleSequentialQuantile:Q5,scaleSequentialSqrt:$oe,scaleSequentialSymlog:J5,scaleSqrt:wse,scaleSymlog:D5,scaleThreshold:B5,scaleTime:Uoe,scaleUtc:Boe,tickFormat:k5},Symbol.toStringTag,{value:"Module"}));var Wb,CD;function Mh(){if(CD)return Wb;CD=1;var t=Jl();function e(n,r,a){for(var i=-1,o=n.length;++i<o;){var u=n[i],f=r(u);if(f!=null&&(d===void 0?f===f&&!t(f):a(f,d)))var d=f,p=u}return p}return Wb=e,Wb}var Xb,MD;function nB(){if(MD)return Xb;MD=1;function t(e,n){return e>n}return Xb=t,Xb}var Jb,jD;function Foe(){if(jD)return Jb;jD=1;var t=Mh(),e=nB(),n=Zl();function r(a){return a&&a.length?t(a,n,e):void 0}return Jb=r,Jb}var zoe=Foe();const jh=ht(zoe);var Qb,ID;function rB(){if(ID)return Qb;ID=1;function t(e,n){return e<n}return Qb=t,Qb}var Zb,kD;function Goe(){if(kD)return Zb;kD=1;var t=Mh(),e=rB(),n=Zl();function r(a){return a&&a.length?t(a,n,e):void 0}return Zb=r,Zb}var Hoe=Goe();const Ih=ht(Hoe);var eS,PD;function Koe(){if(PD)return eS;PD=1;var t=HT(),e=wa(),n=d5(),r=lr();function a(i,o){var u=r(i)?t:n;return u(i,e(o,3))}return eS=a,eS}var tS,OD;function Yoe(){if(OD)return tS;OD=1;var t=u5(),e=Koe();function n(r,a){return t(e(r,a),1)}return tS=n,tS}var Woe=Yoe();const Xoe=ht(Woe);var nS,RD;function Joe(){if(RD)return nS;RD=1;var t=iE();function e(n,r){return t(n,r)}return nS=e,nS}var Qoe=Joe();const qd=ht(Qoe);var tu=1e9,Zoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kE,zt=!0,Hr="[DecimalError] ",qs=Hr+"Invalid argument: ",IE=Hr+"Exponent out of range: ",nu=Math.floor,Ts=Math.pow,ele=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,Nn=1e7,Ut=7,aB=9007199254740991,bp=nu(aB/Ut),je={};je.absoluteValue=je.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};je.comparedTo=je.cmp=function(t){var e,n,r,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(r=i.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};je.decimalPlaces=je.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ut;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};je.dividedBy=je.div=function(t){return Ka(this,new this.constructor(t))};je.dividedToIntegerBy=je.idiv=function(t){var e=this,n=e.constructor;return Ct(Ka(e,new n(t),0,1),n.precision)};je.equals=je.eq=function(t){return!this.cmp(t)};je.exponent=function(){return mn(this)};je.greaterThan=je.gt=function(t){return this.cmp(t)>0};je.greaterThanOrEqualTo=je.gte=function(t){return this.cmp(t)>=0};je.isInteger=je.isint=function(){return this.e>this.d.length-2};je.isNegative=je.isneg=function(){return this.s<0};je.isPositive=je.ispos=function(){return this.s>0};je.isZero=function(){return this.s===0};je.lessThan=je.lt=function(t){return this.cmp(t)<0};je.lessThanOrEqualTo=je.lte=function(t){return this.cmp(t)<1};je.logarithm=je.log=function(t){var e,n=this,r=n.constructor,a=r.precision,i=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(wr))throw Error(Hr+"NaN");if(n.s<1)throw Error(Hr+(n.s?"NaN":"-Infinity"));return n.eq(wr)?new r(0):(zt=!1,e=Ka(Kc(n,i),Kc(t,i),i),zt=!0,Ct(e,a))};je.minus=je.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oB(e,t):iB(e,(t.s=-t.s,t))};je.modulo=je.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Hr+"NaN");return n.s?(zt=!1,e=Ka(n,t,0,1).times(t),zt=!0,n.minus(e)):Ct(new r(n),a)};je.naturalExponential=je.exp=function(){return sB(this)};je.naturalLogarithm=je.ln=function(){return Kc(this)};je.negated=je.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};je.plus=je.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iB(e,t):oB(e,(t.s=-t.s,t))};je.precision=je.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(qs+t);if(e=mn(a)+1,r=a.d.length-1,n=r*Ut+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};je.squareRoot=je.sqrt=function(){var t,e,n,r,a,i,o,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Hr+"NaN")}for(t=mn(u),zt=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=fa(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=nu((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(a.toString()),n=f.precision,a=o=n+3;;)if(i=r,r=i.plus(Ka(u,i,o+2)).times(.5),fa(i.d).slice(0,o)===(e=fa(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Ct(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(e!="9999")break;o+=4}return zt=!0,Ct(r,n)};je.times=je.mul=function(t){var e,n,r,a,i,o,u,f,d,p=this,h=p.constructor,y=p.d,x=(t=new h(t)).d;if(!p.s||!t.s)return new h(0);for(t.s*=p.s,n=p.e+t.e,f=y.length,d=x.length,f<d&&(i=y,y=x,x=i,o=f,f=d,d=o),i=[],o=f+d,r=o;r--;)i.push(0);for(r=d;--r>=0;){for(e=0,a=f+r;a>r;)u=i[a]+x[r]*y[a-r-1]+e,i[a--]=u%Nn|0,e=u/Nn|0;i[a]=(i[a]+e)%Nn|0}for(;!i[--o];)i.pop();return e?++n:i.shift(),t.d=i,t.e=n,zt?Ct(t,h.precision):t};je.toDecimalPlaces=je.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(va(t,0,tu),e===void 0?e=r.rounding:va(e,0,8),Ct(n,t+mn(n)+1,e))};je.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=zs(r,!0):(va(t,0,tu),e===void 0?e=a.rounding:va(e,0,8),r=Ct(new a(r),t+1,e),n=zs(r,!0,t+1)),n};je.toFixed=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?zs(a):(va(t,0,tu),e===void 0?e=i.rounding:va(e,0,8),r=Ct(new i(a),t+mn(a)+1,e),n=zs(r.abs(),!1,t+mn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};je.toInteger=je.toint=function(){var t=this,e=t.constructor;return Ct(new e(t),mn(t)+1,e.rounding)};je.toNumber=function(){return+this};je.toPower=je.pow=function(t){var e,n,r,a,i,o,u=this,f=u.constructor,d=12,p=+(t=new f(t));if(!t.s)return new f(wr);if(u=new f(u),!u.s){if(t.s<1)throw Error(Hr+"Infinity");return u}if(u.eq(wr))return u;if(r=f.precision,t.eq(wr))return Ct(u,r);if(e=t.e,n=t.d.length-1,o=e>=n,i=u.s,o){if((n=p<0?-p:p)<=aB){for(a=new f(wr),e=Math.ceil(r/Ut+4),zt=!1;n%2&&(a=a.times(u),LD(a.d,e)),n=nu(n/2),n!==0;)u=u.times(u),LD(u.d,e);return zt=!0,t.s<0?new f(wr).div(a):Ct(a,r)}}else if(i<0)throw Error(Hr+"NaN");return i=i<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,zt=!1,a=t.times(Kc(u,r+d)),zt=!0,a=sB(a),a.s=i,a};je.toPrecision=function(t,e){var n,r,a=this,i=a.constructor;return t===void 0?(n=mn(a),r=zs(a,n<=i.toExpNeg||n>=i.toExpPos)):(va(t,1,tu),e===void 0?e=i.rounding:va(e,0,8),a=Ct(new i(a),t,e),n=mn(a),r=zs(a,t<=n||n<=i.toExpNeg,t)),r};je.toSignificantDigits=je.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(va(t,1,tu),e===void 0?e=r.rounding:va(e,0,8)),Ct(new r(n),t,e)};je.toString=je.valueOf=je.val=je.toJSON=je[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mn(t),n=t.constructor;return zs(t,e<=n.toExpNeg||e>=n.toExpPos)};function iB(t,e){var n,r,a,i,o,u,f,d,p=t.constructor,h=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),zt?Ct(e,h):e;if(f=t.d,d=e.d,o=t.e,a=e.e,f=f.slice(),i=o-a,i){for(i<0?(r=f,i=-i,u=d.length):(r=d,a=o,u=f.length),o=Math.ceil(h/Ut),u=o>u?o+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=f.length,i=d.length,u-i<0&&(i=u,r=d,d=f,f=r),n=0;i;)n=(f[--i]=f[i]+d[i]+n)/Nn|0,f[i]%=Nn;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return e.d=f,e.e=a,zt?Ct(e,h):e}function va(t,e,n){if(t!==~~t||t<e||t>n)throw Error(qs+t)}function fa(t){var e,n,r,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)r=t[e]+"",n=Ut-r.length,n&&(i+=qi(n)),i+=r;o=t[e],r=o+"",n=Ut-r.length,n&&(i+=qi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ka=(function(){function t(r,a){var i,o=0,u=r.length;for(r=r.slice();u--;)i=r[u]*a+o,r[u]=i%Nn|0,o=i/Nn|0;return o&&r.unshift(o),r}function e(r,a,i,o){var u,f;if(i!=o)f=i>o?1:-1;else for(u=f=0;u<i;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*Nn+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var u,f,d,p,h,y,x,T,w,A,C,j,_,M,N,k,P,R,L=r.constructor,U=r.s==a.s?1:-1,q=r.d,D=a.d;if(!r.s)return new L(r);if(!a.s)throw Error(Hr+"Division by zero");for(f=r.e-a.e,P=D.length,N=q.length,x=new L(U),T=x.d=[],d=0;D[d]==(q[d]||0);)++d;if(D[d]>(q[d]||0)&&--f,i==null?j=i=L.precision:o?j=i+(mn(r)-mn(a))+1:j=i,j<0)return new L(0);if(j=j/Ut+2|0,d=0,P==1)for(p=0,D=D[0],j++;(d<N||p)&&j--;d++)_=p*Nn+(q[d]||0),T[d]=_/D|0,p=_%D|0;else{for(p=Nn/(D[0]+1)|0,p>1&&(D=t(D,p),q=t(q,p),P=D.length,N=q.length),M=P,w=q.slice(0,P),A=w.length;A<P;)w[A++]=0;R=D.slice(),R.unshift(0),k=D[0],D[1]>=Nn/2&&++k;do p=0,u=e(D,w,P,A),u<0?(C=w[0],P!=A&&(C=C*Nn+(w[1]||0)),p=C/k|0,p>1?(p>=Nn&&(p=Nn-1),h=t(D,p),y=h.length,A=w.length,u=e(h,w,y,A),u==1&&(p--,n(h,P<y?R:D,y))):(p==0&&(u=p=1),h=D.slice()),y=h.length,y<A&&h.unshift(0),n(w,h,A),u==-1&&(A=w.length,u=e(D,w,P,A),u<1&&(p++,n(w,P<A?R:D,A))),A=w.length):u===0&&(p++,w=[0]),T[d++]=p,u&&w[0]?w[A++]=q[M]||0:(w=[q[M]],A=1);while((M++<N||w[0]!==void 0)&&j--)}return T[0]||T.shift(),x.e=f,Ct(x,o?i+mn(x)+1:i)}})();function sB(t,e){var n,r,a,i,o,u,f=0,d=0,p=t.constructor,h=p.precision;if(mn(t)>16)throw Error(IE+mn(t));if(!t.s)return new p(wr);for(zt=!1,u=h,o=new p(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(r=Math.log(Ts(2,d))/Math.LN10*2+5|0,u+=r,n=a=i=new p(wr),p.precision=u;;){if(a=Ct(a.times(t),u),n=n.times(++f),o=i.plus(Ka(a,n,u)),fa(o.d).slice(0,u)===fa(i.d).slice(0,u)){for(;d--;)i=Ct(i.times(i),u);return p.precision=h,e==null?(zt=!0,Ct(i,h)):i}i=o}}function mn(t){for(var e=t.e*Ut,n=t.d[0];n>=10;n/=10)e++;return e}function rS(t,e,n){if(e>t.LN10.sd())throw zt=!0,n&&(t.precision=n),Error(Hr+"LN10 precision limit exceeded");return Ct(new t(t.LN10),e)}function qi(t){for(var e="";t--;)e+="0";return e}function Kc(t,e){var n,r,a,i,o,u,f,d,p,h=1,y=10,x=t,T=x.d,w=x.constructor,A=w.precision;if(x.s<1)throw Error(Hr+(x.s?"NaN":"-Infinity"));if(x.eq(wr))return new w(0);if(e==null?(zt=!1,d=A):d=e,x.eq(10))return e==null&&(zt=!0),rS(w,d);if(d+=y,w.precision=d,n=fa(T),r=n.charAt(0),i=mn(x),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=fa(x.d),r=n.charAt(0),h++;i=mn(x),r>1?(x=new w("0."+n),i++):x=new w(r+"."+n.slice(1))}else return f=rS(w,d+2,A).times(i+""),x=Kc(new w(r+"."+n.slice(1)),d-y).plus(f),w.precision=A,e==null?(zt=!0,Ct(x,A)):x;for(u=o=x=Ka(x.minus(wr),x.plus(wr),d),p=Ct(x.times(x),d),a=3;;){if(o=Ct(o.times(p),d),f=u.plus(Ka(o,new w(a),d)),fa(f.d).slice(0,d)===fa(u.d).slice(0,d))return u=u.times(2),i!==0&&(u=u.plus(rS(w,d+2,A).times(i+""))),u=Ka(u,new w(h),d),w.precision=A,e==null?(zt=!0,Ct(u,A)):u;u=f,a+=2}}function DD(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=nu(n/Ut),t.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Ut;r<a;)t.d.push(+e.slice(r,r+=Ut));e=e.slice(r),r=Ut-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),zt&&(t.e>bp||t.e<-bp))throw Error(IE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Ct(t,e,n){var r,a,i,o,u,f,d,p,h=t.d;for(o=1,i=h[0];i>=10;i/=10)o++;if(r=e-o,r<0)r+=Ut,a=e,d=h[p=0];else{if(p=Math.ceil((r+1)/Ut),i=h.length,p>=i)return t;for(d=i=h[p],o=1;i>=10;i/=10)o++;r%=Ut,a=r-Ut+o}if(n!==void 0&&(i=Ts(10,o-a-1),u=d/i%10|0,f=e<0||h[p+1]!==void 0||d%i,f=n<4?(u||f)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?d/Ts(10,o-a):0:h[p-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return f?(i=mn(t),h.length=1,e=e-i-1,h[0]=Ts(10,(Ut-e%Ut)%Ut),t.e=nu(-e/Ut)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=p,i=1,p--):(h.length=p+1,i=Ts(10,Ut-r),h[p]=a>0?(d/Ts(10,o-a)%Ts(10,a)|0)*i:0),f)for(;;)if(p==0){(h[0]+=i)==Nn&&(h[0]=1,++t.e);break}else{if(h[p]+=i,h[p]!=Nn)break;h[p--]=0,i=1}for(r=h.length;h[--r]===0;)h.pop();if(zt&&(t.e>bp||t.e<-bp))throw Error(IE+mn(t));return t}function oB(t,e){var n,r,a,i,o,u,f,d,p,h,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),zt?Ct(e,x):e;if(f=t.d,h=e.d,r=e.e,d=t.e,f=f.slice(),o=d-r,o){for(p=o<0,p?(n=f,o=-o,u=h.length):(n=h,r=d,u=f.length),a=Math.max(Math.ceil(x/Ut),u)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=h.length,p=a<u,p&&(u=a),a=0;a<u;a++)if(f[a]!=h[a]){p=f[a]<h[a];break}o=0}for(p&&(n=f,f=h,h=n,e.s=-e.s),u=f.length,a=h.length-u;a>0;--a)f[u++]=0;for(a=h.length;a>o;){if(f[--a]<h[a]){for(i=a;i&&f[--i]===0;)f[i]=Nn-1;--f[i],f[a]+=Nn}f[a]-=h[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,zt?Ct(e,x):e):new y(0)}function zs(t,e,n){var r,a=mn(t),i=fa(t.d),o=i.length;return e?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+qi(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+qi(-a-1)+i,n&&(r=n-o)>0&&(i+=qi(r))):a>=o?(i+=qi(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+qi(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=qi(r))),t.s<0?"-"+i:i}function LD(t,e){if(t.length>e)return t.length=e,!0}function lB(t){var e,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(qs+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return DD(o,i.toString())}else if(typeof i!="string")throw Error(qs+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ele.test(i))DD(o,i);else throw Error(qs+i)}if(a.prototype=je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=lB,a.config=a.set=tle,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function tle(t){if(!t||typeof t!="object")throw Error(Hr+"Object expected");var e,n,r,a=["precision",1,tu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(nu(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(qs+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(qs+n+": "+r);return this}var kE=lB(Zoe);wr=new kE(1);const Et=kE;function nle(t){return sle(t)||ile(t)||ale(t)||rle()}function rle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(t,e){if(t){if(typeof t=="string")return Jw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jw(t,e)}}function ile(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sle(t){if(Array.isArray(t))return Jw(t)}function Jw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ole=function(e){return e},uB={},cB=function(e){return e===uB},qD=function(e){return function n(){return arguments.length===0||arguments.length===1&&cB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},lle=function t(e,n){return e===1?n:qD(function(){for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=a.filter(function(u){return u!==uB}).length;return o>=e?n.apply(void 0,a):t(e-o,qD(function(){for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];var p=a.map(function(h){return cB(h)?f.shift():h});return n.apply(void 0,nle(p).concat(f))}))})},kh=function(e){return lle(e.length,e)},Qw=function(e,n){for(var r=[],a=e;a<n;++a)r[a-e]=a;return r},ule=kh(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),cle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ole;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(u,f){return f(u)},i.apply(void 0,arguments))}},Zw=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},dB=function(e){var n=null,r=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(u,f){return u===n[f]})||(n=i,r=e.apply(void 0,i)),r}};function dle(t){var e;return t===0?e=1:e=Math.floor(new Et(t).abs().log(10).toNumber())+1,e}function fle(t,e,n){for(var r=new Et(t),a=0,i=[];r.lt(e)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var mle=kh(function(t,e,n){var r=+t,a=+e;return r+n*(a-r)}),ple=kh(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),hle=kh(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Ph={rangeStep:fle,getDigitCount:dle,interpolateNumber:mle,uninterpolateNumber:ple,uninterpolateTruncation:hle};function eA(t){return vle(t)||yle(t)||fB(t)||gle()}function gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vle(t){if(Array.isArray(t))return tA(t)}function Yc(t,e){return Sle(t)||ble(t,e)||fB(t,e)||xle()}function xle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fB(t,e){if(t){if(typeof t=="string")return tA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(t,e)}}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ble(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),u;!(r=(u=o.next()).done)&&(n.push(u.value),!(e&&n.length===e));r=!0);}catch(f){a=!0,i=f}finally{try{!r&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Sle(t){if(Array.isArray(t))return t}function mB(t){var e=Yc(t,2),n=e[0],r=e[1],a=n,i=r;return n>r&&(a=r,i=n),[a,i]}function pB(t,e,n){if(t.lte(0))return new Et(0);var r=Ph.getDigitCount(t.toNumber()),a=new Et(10).pow(r),i=t.div(a),o=r!==1?.05:.1,u=new Et(Math.ceil(i.div(o).toNumber())).add(n).mul(o),f=u.mul(a);return e?f:new Et(Math.ceil(f))}function wle(t,e,n){var r=1,a=new Et(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(r=new Et(10).pow(Ph.getDigitCount(t)-1),a=new Et(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new Et(Math.floor(t)))}else t===0?a=new Et(Math.floor((e-1)/2)):n||(a=new Et(Math.floor(t)));var o=Math.floor((e-1)/2),u=cle(ule(function(f){return a.add(new Et(f-o).mul(r)).toNumber()}),Qw);return u(0,e)}function hB(t,e,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var i=pB(new Et(e).sub(t).div(n-1),r,a),o;t<=0&&e>=0?o=new Et(0):(o=new Et(t).add(e).div(2),o=o.sub(new Et(o).mod(i)));var u=Math.ceil(o.sub(t).div(i).toNumber()),f=Math.ceil(new Et(e).sub(o).div(i).toNumber()),d=u+f+1;return d>n?hB(t,e,n,r,a+1):(d<n&&(f=e>0?f+(n-d):f,u=e>0?u:u+(n-d)),{step:i,tickMin:o.sub(new Et(u).mul(i)),tickMax:o.add(new Et(f).mul(i))})}function Ale(t){var e=Yc(t,2),n=e[0],r=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),u=mB([n,r]),f=Yc(u,2),d=f[0],p=f[1];if(d===-1/0||p===1/0){var h=p===1/0?[d].concat(eA(Qw(0,a-1).map(function(){return 1/0}))):[].concat(eA(Qw(0,a-1).map(function(){return-1/0})),[p]);return n>r?Zw(h):h}if(d===p)return wle(d,a,i);var y=hB(d,p,o,i),x=y.step,T=y.tickMin,w=y.tickMax,A=Ph.rangeStep(T,w.add(new Et(.1).mul(x)),x);return n>r?Zw(A):A}function Tle(t,e){var n=Yc(t,2),r=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=mB([r,a]),u=Yc(o,2),f=u[0],d=u[1];if(f===-1/0||d===1/0)return[r,a];if(f===d)return[f];var p=Math.max(e,2),h=pB(new Et(d).sub(f).div(p-1),i,0),y=[].concat(eA(Ph.rangeStep(new Et(f),new Et(d).sub(new Et(.99).mul(h)),h)),[d]);return r>a?Zw(y):y}var Ele=dB(Ale),Nle=dB(Tle),_le="Invariant failed";function Gs(t,e){throw new Error(_le)}var Cle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sp.apply(this,arguments)}function Mle(t,e){return Ple(t)||kle(t,e)||Ile(t,e)||jle()}function jle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ile(t,e){if(t){if(typeof t=="string")return UD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UD(t,e)}}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Ple(t){if(Array.isArray(t))return t}function Ole(t,e){if(t==null)return{};var n=Rle(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vB(r.key),r)}}function qle(t,e,n){return e&&Lle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ule(t,e,n){return e=wp(e),Ble(t,gB()?Reflect.construct(e,n||[],wp(t).constructor):e.apply(t,n))}function Ble(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $le(t)}function $le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gB=function(){return!!t})()}function wp(t){return wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wp(t)}function Vle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},nA(t,e)}function yB(t,e,n){return e=vB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vB(t){var e=Fle(t,"string");return Cl(e)=="symbol"?e:e+""}function Fle(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oh=(function(t){function e(){return Dle(this,e),Ule(this,e,arguments)}return Vle(e,t),qle(e,[{key:"render",value:function(){var r=this.props,a=r.offset,i=r.layout,o=r.width,u=r.dataKey,f=r.data,d=r.dataPointFormatter,p=r.xAxis,h=r.yAxis,y=Ole(r,Cle),x=Be(y,!1);this.props.direction==="x"&&p.type!=="number"&&Gs();var T=f.map(function(w){var A=d(w,u),C=A.x,j=A.y,_=A.value,M=A.errorVal;if(!M)return null;var N=[],k,P;if(Array.isArray(M)){var R=Mle(M,2);k=R[0],P=R[1]}else k=P=M;if(i==="vertical"){var L=p.scale,U=j+a,q=U+o,D=U-o,$=L(_-k),H=L(_+P);N.push({x1:H,y1:q,x2:H,y2:D}),N.push({x1:$,y1:U,x2:H,y2:U}),N.push({x1:$,y1:q,x2:$,y2:D})}else if(i==="horizontal"){var J=h.scale,B=C+a,K=B-o,W=B+o,re=J(_-k),X=J(_+P);N.push({x1:K,y1:X,x2:W,y2:X}),N.push({x1:B,y1:re,x2:B,y2:X}),N.push({x1:K,y1:re,x2:W,y2:re})}return te.createElement(st,Sp({className:"recharts-errorBar",key:"bar-".concat(N.map(function(V){return"".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))},x),N.map(function(V){return te.createElement("line",Sp({},V,{key:"line-".concat(V.x1,"-").concat(V.x2,"-").concat(V.y1,"-").concat(V.y2)}))}))});return te.createElement(st,{className:"recharts-errorBars"},T)}}])})(te.Component);yB(Oh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yB(Oh,"displayName","ErrorBar");function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zle(t,e,n){return e=Gle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gle(t){var e=Hle(t,"string");return Wc(e)=="symbol"?e:e+""}function Hle(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xB=function(e){var n=e.children,r=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=br(n,Fi);if(!o)return null;var u=Fi.defaultProps,f=u!==void 0?xs(xs({},u),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(r||[]).reduce(function(p,h){var y=h.item,x=h.props,T=x.sectors||x.data||[];return p.concat(T.map(function(w){return{type:o.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(r||[]).map(function(p){var h=p.item,y=h.type.defaultProps,x=y!==void 0?xs(xs({},y),h.props):{},T=x.dataKey,w=x.name,A=x.legendType,C=x.hide;return{inactive:C,dataKey:T,type:f.iconType||A||"square",color:PE(h),value:w||T,payload:x}}),xs(xs(xs({},f),Fi.getWithHeight(o,a)),{},{payload:d,item:o})};function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function $D(t){return Xle(t)||Wle(t)||Yle(t)||Kle()}function Kle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yle(t,e){if(t){if(typeof t=="string")return rA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rA(t,e)}}function Wle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xle(t){if(Array.isArray(t))return rA(t)}function rA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){yl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yl(t,e,n){return e=Jle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jle(t){var e=Qle(t,"string");return Xc(e)=="symbol"?e:e+""}function Qle(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e,n){return Ze(t)||Ze(e)?n:Sn(e)?Ar(t,e,n):Fe(e)?e(t):n}function bc(t,e,n,r){var a=Xoe(t,function(u){return qn(u,e)});if(n==="number"){var i=a.filter(function(u){return Ae(u)||parseFloat(u)});return i.length?[Ih(i),jh(i)]:[1/0,-1/0]}var o=r?a.filter(function(u){return!Ze(u)}):a;return o.map(function(u){return Sn(u)||u instanceof Date?u:""})}var Zle=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,u=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var f=i.range,d=0;d<u;d++){var p=d>0?a[d-1].coordinate:a[u-1].coordinate,h=a[d].coordinate,y=d>=u-1?a[0].coordinate:a[d+1].coordinate,x=void 0;if(Cn(h-p)!==Cn(y-h)){var T=[];if(Cn(y-h)===Cn(f[1]-f[0])){x=y;var w=h+f[1]-f[0];T[0]=Math.min(w,(w+p)/2),T[1]=Math.max(w,(w+p)/2)}else{x=p;var A=y+f[1]-f[0];T[0]=Math.min(h,(A+h)/2),T[1]=Math.max(h,(A+h)/2)}var C=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>C[0]&&e<=C[1]||e>=T[0]&&e<=T[1]){o=a[d].index;break}}else{var j=Math.min(p,y),_=Math.max(p,y);if(e>(j+h)/2&&e<=(_+h)/2){o=a[d].index;break}}}else for(var M=0;M<u;M++)if(M===0&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M>0&&M<u-1&&e>(r[M].coordinate+r[M-1].coordinate)/2&&e<=(r[M].coordinate+r[M+1].coordinate)/2||M===u-1&&e>(r[M].coordinate+r[M-1].coordinate)/2){o=r[M].index;break}return o},PE=function(e){var n,r=e,a=r.type.displayName,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,o=i.stroke,u=i.fill,f;switch(a){case"Line":f=o;break;case"Area":case"Radar":f=o&&o!=="none"?o:u;break;default:f=u;break}return f},eue=function(e){var n=e.barSize,r=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},u=Object.keys(i),f=0,d=u.length;f<d;f++)for(var p=i[u[f]].stackGroups,h=Object.keys(p),y=0,x=h.length;y<x;y++){var T=p[h[y]],w=T.items,A=T.cateAxisId,C=w.filter(function(P){return Ha(P.type).indexOf("Bar")>=0});if(C&&C.length){var j=C[0].type.defaultProps,_=j!==void 0?Jt(Jt({},j),C[0].props):C[0].props,M=_.barSize,N=_[A];o[N]||(o[N]=[]);var k=Ze(M)?n:M;o[N].push({item:C[0],stackList:C.slice(1),barSize:Ze(k)?void 0:Yn(k,r,0)})}}return o},tue=function(e){var n=e.barGap,r=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,u=e.maxBarSize,f=o.length;if(f<1)return null;var d=Yn(n,a,0,!0),p,h=[];if(o[0].barSize===+o[0].barSize){var y=!1,x=a/f,T=o.reduce(function(M,N){return M+N.barSize||0},0);T+=(f-1)*d,T>=a&&(T-=(f-1)*d,d=0),T>=a&&x>0&&(y=!0,x*=.9,T=f*x);var w=(a-T)/2>>0,A={offset:w-d,size:0};p=o.reduce(function(M,N){var k={item:N.item,position:{offset:A.offset+A.size+d,size:y?x:N.barSize}},P=[].concat($D(M),[k]);return A=P[P.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){P.push({item:R,position:A})}),P},h)}else{var C=Yn(r,a,0,!0);a-2*C-(f-1)*d<=0&&(d=0);var j=(a-2*C-(f-1)*d)/f;j>1&&(j>>=0);var _=u===+u?Math.min(j,u):j;p=o.reduce(function(M,N,k){var P=[].concat($D(M),[{item:N.item,position:{offset:C+(j+d)*k+(j-_)/2,size:_}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(R){P.push({item:R,position:P[P.length-1].position})}),P},h)}return p},nue=function(e,n,r,a){var i=r.children,o=r.width,u=r.margin,f=o-(u.left||0)-(u.right||0),d=xB({children:i,legendWidth:f});if(d){var p=a||{},h=p.width,y=p.height,x=d.align,T=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&T==="middle")&&x!=="center"&&Ae(e[x]))return Jt(Jt({},e),{},yl({},x,e[x]+(h||0)));if((w==="horizontal"||w==="vertical"&&x==="center")&&T!=="middle"&&Ae(e[T]))return Jt(Jt({},e),{},yl({},T,e[T]+(y||0)))}return e},rue=function(e,n,r){return Ze(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},bB=function(e,n,r,a,i){var o=n.props.children,u=Tr(o,Oh).filter(function(d){return rue(a,i,d.props.direction)});if(u&&u.length){var f=u.map(function(d){return d.props.dataKey});return e.reduce(function(d,p){var h=qn(p,r);if(Ze(h))return d;var y=Array.isArray(h)?[Ih(h),jh(h)]:[h,h],x=f.reduce(function(T,w){var A=qn(p,w,0),C=y[0]-Math.abs(Array.isArray(A)?A[0]:A),j=y[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(C,T[0]),Math.max(j,T[1])]},[1/0,-1/0]);return[Math.min(x[0],d[0]),Math.max(x[1],d[1])]},[1/0,-1/0])}return null},aue=function(e,n,r,a,i){var o=n.map(function(u){return bB(e,u,r,i,a)}).filter(function(u){return!Ze(u)});return o&&o.length?o.reduce(function(u,f){return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]):null},SB=function(e,n,r,a,i){var o=n.map(function(f){var d=f.props.dataKey;return r==="number"&&d&&bB(e,f,d,a)||bc(e,d,r,i)});if(r==="number")return o.reduce(function(f,d){return[Math.min(f[0],d[0]),Math.max(f[1],d[1])]},[1/0,-1/0]);var u={};return o.reduce(function(f,d){for(var p=0,h=d.length;p<h;p++)u[d[p]]||(u[d[p]]=!0,f.push(d[p]));return f},[])},wB=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},AB=function(e,n,r,a){if(a)return e.map(function(f){return f.coordinate});var i,o,u=e.map(function(f){return f.coordinate===n&&(i=!0),f.coordinate===r&&(o=!0),f.coordinate});return i||u.push(n),o||u.push(r),u},Ga=function(e,n,r){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,u=e.range,f=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,d=(n||r)&&o==="category"&&a.bandwidth?a.bandwidth()/f:0;if(d=e.axisType==="angleAxis"&&(u==null?void 0:u.length)>=2?Cn(u[0]-u[1])*2*d:d,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(h){var y=i?i.indexOf(h):h;return{coordinate:a(y)+d,value:h,offset:d}});return p.filter(function(h){return!jd(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,y){return{coordinate:a(h)+d,value:h,index:y,offset:d}}):a.ticks&&!r?a.ticks(e.tickCount).map(function(h){return{coordinate:a(h)+d,value:h,offset:d}}):a.domain().map(function(h,y){return{coordinate:a(h)+d,value:i?i[h]:h,index:y,offset:d}})},aS=new WeakMap,_m=function(e,n){if(typeof n!="function")return e;aS.has(e)||aS.set(e,new WeakMap);var r=aS.get(e);if(r.has(n))return r.get(n);var a=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},TB=function(e,n,r){var a=e.scale,i=e.type,o=e.layout,u=e.axisType;if(a==="auto")return o==="radial"&&u==="radiusAxis"?{scale:Vc(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:gp(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xc(),realScaleType:"point"}:i==="category"?{scale:Vc(),realScaleType:"band"}:{scale:gp(),realScaleType:"linear"};if(Vs(a)){var f="scale".concat(gh(a));return{scale:(_D[f]||xc)(),realScaleType:_D[f]?f:"point"}}return Fe(a)?{scale:a}:{scale:xc(),realScaleType:"point"}},FD=1e-4,EB=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,a=e.range(),i=Math.min(a[0],a[1])-FD,o=Math.max(a[0],a[1])+FD,u=e(n[0]),f=e(n[r-1]);(u<i||u>o||f<i||f>o)&&e.domain([n[0],n[r-1]])}},NB=function(e,n){if(!e)return null;for(var r=0,a=e.length;r<a;r++)if(e[r].item===n)return e[r].position;return null},_B=function(e,n){if(!n||n.length!==2||!Ae(n[0])||!Ae(n[1]))return e;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[e[0],e[1]];return(!Ae(e[0])||e[0]<r)&&(i[0]=r),(!Ae(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<r&&(i[1]=r),i},iue=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0,u=0;u<n;++u){var f=jd(e[u][r][1])?e[u][r][0]:e[u][r][1];f>=0?(e[u][r][0]=i,e[u][r][1]=i+f,i=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+f,o=e[u][r][1])}},sue=function(e){var n=e.length;if(!(n<=0))for(var r=0,a=e[0].length;r<a;++r)for(var i=0,o=0;o<n;++o){var u=jd(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=i,e[o][r][1]=i+u,i=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},oue={sign:iue,expand:Xte,none:bl,silhouette:Jte,wiggle:Qte,positive:sue},lue=function(e,n,r){var a=n.map(function(u){return u.props.dataKey}),i=oue[r],o=Wte().keys(a).value(function(u,f){return+qn(u,f,0)}).order(Pw).offset(i);return o(e)},uue=function(e,n,r,a,i,o){if(!e)return null;var u=o?n.reverse():n,f={},d=u.reduce(function(h,y){var x,T=(x=y.type)!==null&&x!==void 0&&x.defaultProps?Jt(Jt({},y.type.defaultProps),y.props):y.props,w=T.stackId,A=T.hide;if(A)return h;var C=T[r],j=h[C]||{hasStack:!1,stackGroups:{}};if(Sn(w)){var _=j.stackGroups[w]||{numericAxisId:r,cateAxisId:a,items:[]};_.items.push(y),j.hasStack=!0,j.stackGroups[w]=_}else j.stackGroups[Id("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[y]};return Jt(Jt({},h),{},yl({},C,j))},f),p={};return Object.keys(d).reduce(function(h,y){var x=d[y];if(x.hasStack){var T={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(w,A){var C=x.stackGroups[A];return Jt(Jt({},w),{},yl({},A,{numericAxisId:r,cateAxisId:a,items:C.items,stackedData:lue(e,C.items,i)}))},T)}return Jt(Jt({},h),{},yl({},y,x))},p)},CB=function(e,n){var r=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,u=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var p=Ele(d,i,u);return e.domain([Ih(p),jh(p)]),{niceTicks:p}}if(i&&a==="number"){var h=e.domain(),y=Nle(h,i,u);return{niceTicks:y}}return null},Ap=function(e){var n=e.axis,r=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,u=e.index;if(n.type==="category")return r[u]?r[u].coordinate+a:null;var f=qn(o,n.dataKey,n.domain[u]);return Ze(f)?null:n.scale(f)-i/2+a},MB=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return a<=0&&i>=0?0:i<0?i:a}return r[0]},cue=function(e,n){var r,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(Sn(i)){var o=n[i];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},due=function(e){return e.reduce(function(n,r){return[Ih(r.concat([n[0]]).filter(Ae)),jh(r.concat([n[1]]).filter(Ae))]},[1/0,-1/0])},jB=function(e,n,r){return Object.keys(e).reduce(function(a,i){var o=e[i],u=o.stackedData,f=u.reduce(function(d,p){var h=due(p.slice(n,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(f[0],a[0]),Math.max(f[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},zD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aA=function(e,n,r){if(Fe(e))return e(n,r);if(!Array.isArray(e))return n;var a=[];if(Ae(e[0]))a[0]=r?e[0]:Math.min(e[0],n[0]);else if(zD.test(e[0])){var i=+zD.exec(e[0])[1];a[0]=n[0]-i}else Fe(e[0])?a[0]=e[0](n[0]):a[0]=n[0];if(Ae(e[1]))a[1]=r?e[1]:Math.max(e[1],n[1]);else if(GD.test(e[1])){var o=+GD.exec(e[1])[1];a[1]=n[1]+o}else Fe(e[1])?a[1]=e[1](n[1]):a[1]=n[1];return a},Tp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!r||a>0)return a}if(e&&n&&n.length>=2){for(var i=oE(n,function(h){return h.coordinate}),o=1/0,u=1,f=i.length;u<f;u++){var d=i[u],p=i[u-1];o=Math.min((d.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},HD=function(e,n,r){return!e||!e.length||qd(e,Ar(r,"type.defaultProps.domain"))?n:e},OE=function(e,n){var r=e.type.defaultProps?Jt(Jt({},e.type.defaultProps),e.props):e.props,a=r.dataKey,i=r.name,o=r.unit,u=r.formatter,f=r.tooltipType,d=r.chartType,p=r.hide;return Jt(Jt({},Be(e,!1)),{},{dataKey:a,unit:o,formatter:u,name:i||a,color:PE(e),value:qn(n,a),type:f,payload:n,chartType:d,hide:p})};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){IB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IB(t,e,n){return e=fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=mue(t,"string");return Jc(e)=="symbol"?e:e+""}function mue(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pue(t,e){return vue(t)||yue(t,e)||gue(t,e)||hue()}function hue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(t,e){if(t){if(typeof t=="string")return YD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YD(t,e)}}function YD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function vue(t){if(Array.isArray(t))return t}var Ep=Math.PI/180,xue=function(e){return e*180/Math.PI},Mt=function(e,n,r,a){return{x:e+Math.cos(-Ep*a)*r,y:n+Math.sin(-Ep*a)*r}},kB=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},PB=function(e,n,r,a,i){var o=e.width,u=e.height,f=e.startAngle,d=e.endAngle,p=Yn(e.cx,o,o/2),h=Yn(e.cy,u,u/2),y=kB(o,u,r),x=Yn(e.innerRadius,y,0),T=Yn(e.outerRadius,y,y*.8),w=Object.keys(n);return w.reduce(function(A,C){var j=n[C],_=j.domain,M=j.reversed,N;if(Ze(j.range))a==="angleAxis"?N=[f,d]:a==="radiusAxis"&&(N=[x,T]),M&&(N=[N[1],N[0]]);else{N=j.range;var k=N,P=pue(k,2);f=P[0],d=P[1]}var R=TB(j,i),L=R.realScaleType,U=R.scale;U.domain(_).range(N),EB(U);var q=CB(U,Va(Va({},j),{},{realScaleType:L})),D=Va(Va(Va({},j),q),{},{range:N,radius:T,realScaleType:L,scale:U,cx:p,cy:h,innerRadius:x,outerRadius:T,startAngle:f,endAngle:d});return Va(Va({},A),{},IB({},C,D))},{})},bue=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(a-o,2))},Sue=function(e,n){var r=e.x,a=e.y,i=n.cx,o=n.cy,u=bue({x:r,y:a},{x:i,y:o});if(u<=0)return{radius:u};var f=(r-i)/u,d=Math.acos(f);return a>o&&(d=2*Math.PI-d),{radius:u,angle:xue(d),angleInRadian:d}},wue=function(e){var n=e.startAngle,r=e.endAngle,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:r-o*360}},Aue=function(e,n){var r=n.startAngle,a=n.endAngle,i=Math.floor(r/360),o=Math.floor(a/360),u=Math.min(i,o);return e+u*360},WD=function(e,n){var r=e.x,a=e.y,i=Sue({x:r,y:a},n),o=i.radius,u=i.angle,f=n.innerRadius,d=n.outerRadius;if(o<f||o>d)return!1;if(o===0)return!0;var p=wue(n),h=p.startAngle,y=p.endAngle,x=u,T;if(h<=y){for(;x>y;)x-=360;for(;x<h;)x+=360;T=x>=h&&x<=y}else{for(;x>h;)x-=360;for(;x<y;)x+=360;T=x>=y&&x<=h}return T?Va(Va({},n),{},{radius:o,angle:Aue(x,n)}):null},OB=function(e){return!I.isValidElement(e)&&!Fe(e)&&typeof e!="boolean"?e.className:""};function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var Tue=["offset"];function Eue(t){return Mue(t)||Cue(t)||_ue(t)||Nue()}function Nue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ue(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function Cue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mue(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jue(t,e){if(t==null)return{};var n=Iue(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Iue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(n),!0).forEach(function(r){kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kue(t,e,n){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pue(t){var e=Oue(t,"string");return Qc(e)=="symbol"?e:e+""}function Oue(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}var Rue=function(e){var n=e.value,r=e.formatter,a=Ze(e.children)?n:e.children;return Fe(r)?r(a):a},Due=function(e,n){var r=Cn(n-e),a=Math.min(Math.abs(n-e),360);return r*a},Lue=function(e,n,r){var a=e.position,i=e.viewBox,o=e.offset,u=e.className,f=i,d=f.cx,p=f.cy,h=f.innerRadius,y=f.outerRadius,x=f.startAngle,T=f.endAngle,w=f.clockWise,A=(h+y)/2,C=Due(x,T),j=C>=0?1:-1,_,M;a==="insideStart"?(_=x+j*o,M=w):a==="insideEnd"?(_=T-j*o,M=!w):a==="end"&&(_=T+j*o,M=w),M=C<=0?M:!M;var N=Mt(d,p,A,_),k=Mt(d,p,A,_+(M?1:-1)*359),P="M".concat(N.x,",").concat(N.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(M?0:1,`,
    `).concat(k.x,",").concat(k.y),R=Ze(e.id)?Id("recharts-radial-line-"):e.id;return te.createElement("text",Zc({},r,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),te.createElement("defs",null,te.createElement("path",{id:R,d:P})),te.createElement("textPath",{xlinkHref:"#".concat(R)},n))},que=function(e){var n=e.viewBox,r=e.offset,a=e.position,i=n,o=i.cx,u=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.startAngle,h=i.endAngle,y=(p+h)/2;if(a==="outside"){var x=Mt(o,u,d+r,y),T=x.x,w=x.y;return{x:T,y:w,textAnchor:T>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var A=(f+d)/2,C=Mt(o,u,A,y),j=C.x,_=C.y;return{x:j,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Uue=function(e){var n=e.viewBox,r=e.parentViewBox,a=e.offset,i=e.position,o=n,u=o.x,f=o.y,d=o.width,p=o.height,h=p>=0?1:-1,y=h*a,x=h>0?"end":"start",T=h>0?"start":"end",w=d>=0?1:-1,A=w*a,C=w>0?"end":"start",j=w>0?"start":"end";if(i==="top"){var _={x:u+d/2,y:f-h*a,textAnchor:"middle",verticalAnchor:x};return bn(bn({},_),r?{height:Math.max(f-r.y,0),width:d}:{})}if(i==="bottom"){var M={x:u+d/2,y:f+p+y,textAnchor:"middle",verticalAnchor:T};return bn(bn({},M),r?{height:Math.max(r.y+r.height-(f+p),0),width:d}:{})}if(i==="left"){var N={x:u-A,y:f+p/2,textAnchor:C,verticalAnchor:"middle"};return bn(bn({},N),r?{width:Math.max(N.x-r.x,0),height:p}:{})}if(i==="right"){var k={x:u+d+A,y:f+p/2,textAnchor:j,verticalAnchor:"middle"};return bn(bn({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:p}:{})}var P=r?{width:d,height:p}:{};return i==="insideLeft"?bn({x:u+A,y:f+p/2,textAnchor:j,verticalAnchor:"middle"},P):i==="insideRight"?bn({x:u+d-A,y:f+p/2,textAnchor:C,verticalAnchor:"middle"},P):i==="insideTop"?bn({x:u+d/2,y:f+y,textAnchor:"middle",verticalAnchor:T},P):i==="insideBottom"?bn({x:u+d/2,y:f+p-y,textAnchor:"middle",verticalAnchor:x},P):i==="insideTopLeft"?bn({x:u+A,y:f+y,textAnchor:j,verticalAnchor:T},P):i==="insideTopRight"?bn({x:u+d-A,y:f+y,textAnchor:C,verticalAnchor:T},P):i==="insideBottomLeft"?bn({x:u+A,y:f+p-y,textAnchor:j,verticalAnchor:x},P):i==="insideBottomRight"?bn({x:u+d-A,y:f+p-y,textAnchor:C,verticalAnchor:x},P):Ql(i)&&(Ae(i.x)||Ms(i.x))&&(Ae(i.y)||Ms(i.y))?bn({x:u+Yn(i.x,d),y:f+Yn(i.y,p),textAnchor:"end",verticalAnchor:"end"},P):bn({x:u+d/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},P)},Bue=function(e){return"cx"in e&&Ae(e.cx)};function _n(t){var e=t.offset,n=e===void 0?5:e,r=jue(t,Tue),a=bn({offset:n},r),i=a.viewBox,o=a.position,u=a.value,f=a.children,d=a.content,p=a.className,h=p===void 0?"":p,y=a.textBreakAll;if(!i||Ze(u)&&Ze(f)&&!I.isValidElement(d)&&!Fe(d))return null;if(I.isValidElement(d))return I.cloneElement(d,a);var x;if(Fe(d)){if(x=I.createElement(d,a),I.isValidElement(x))return x}else x=Rue(a);var T=Bue(i),w=Be(a,!0);if(T&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Lue(a,x,w);var A=T?que(a):Uue(a);return te.createElement(Fs,Zc({className:Xe("recharts-label",h)},w,A,{breakAll:y}),x)}_n.displayName="Label";var RB=function(e){var n=e.cx,r=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,u=e.r,f=e.radius,d=e.innerRadius,p=e.outerRadius,h=e.x,y=e.y,x=e.top,T=e.left,w=e.width,A=e.height,C=e.clockWise,j=e.labelViewBox;if(j)return j;if(Ae(w)&&Ae(A)){if(Ae(h)&&Ae(y))return{x:h,y,width:w,height:A};if(Ae(x)&&Ae(T))return{x,y:T,width:w,height:A}}return Ae(h)&&Ae(y)?{x:h,y,width:0,height:0}:Ae(n)&&Ae(r)?{cx:n,cy:r,startAngle:i||a||0,endAngle:o||a||0,innerRadius:d||0,outerRadius:p||f||u||0,clockWise:C}:e.viewBox?e.viewBox:{}},$ue=function(e,n){return e?e===!0?te.createElement(_n,{key:"label-implicit",viewBox:n}):Sn(e)?te.createElement(_n,{key:"label-implicit",viewBox:n,value:e}):I.isValidElement(e)?e.type===_n?I.cloneElement(e,{key:"label-implicit",viewBox:n}):te.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):Fe(e)?te.createElement(_n,{key:"label-implicit",content:e,viewBox:n}):Ql(e)?te.createElement(_n,Zc({viewBox:n},e,{key:"label-implicit"})):null:null},Vue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,i=RB(e),o=Tr(a,_n).map(function(f,d){return I.cloneElement(f,{viewBox:n||i,key:"label-".concat(d)})});if(!r)return o;var u=$ue(e.label,n||i);return[u].concat(Eue(o))};_n.parseViewBox=RB;_n.renderCallByParent=Vue;var iS,JD;function Fue(){if(JD)return iS;JD=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return iS=t,iS}var zue=Fue();const Gue=ht(zue);function ed(t){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(t)}var Hue=["valueAccessor"],Kue=["data","dataKey","clockWise","id","textBreakAll"];function Yue(t){return Que(t)||Jue(t)||Xue(t)||Wue()}function Wue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(t,e){if(t){if(typeof t=="string")return sA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sA(t,e)}}function Jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Que(t){if(Array.isArray(t))return sA(t)}function sA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Np(){return Np=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Np.apply(this,arguments)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ZD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return e=ece(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=tce(t,"string");return ed(e)=="symbol"?e:e+""}function tce(t,e){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e2(t,e){if(t==null)return{};var n=nce(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rce=function(e){return Array.isArray(e.value)?Gue(e.value):e.value};function Ya(t){var e=t.valueAccessor,n=e===void 0?rce:e,r=e2(t,Hue),a=r.data,i=r.dataKey,o=r.clockWise,u=r.id,f=r.textBreakAll,d=e2(r,Kue);return!a||!a.length?null:te.createElement(st,{className:"recharts-label-list"},a.map(function(p,h){var y=Ze(i)?n(p,h):qn(p&&p.payload,i),x=Ze(u)?{}:{id:"".concat(u,"-").concat(h)};return te.createElement(_n,Np({},Be(p,!0),d,x,{parentViewBox:p.parentViewBox,value:y,textBreakAll:f,viewBox:_n.parseViewBox(Ze(o)?p:ZD(ZD({},p),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ya.displayName="LabelList";function ace(t,e){return t?t===!0?te.createElement(Ya,{key:"labelList-implicit",data:e}):te.isValidElement(t)||Fe(t)?te.createElement(Ya,{key:"labelList-implicit",data:e,content:t}):Ql(t)?te.createElement(Ya,Np({data:e},t,{key:"labelList-implicit"})):null:null}function ice(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,a=Tr(r,Ya).map(function(o,u){return I.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!n)return a;var i=ace(t.label,e);return[i].concat(Yue(a))}Ya.renderCallByParent=ice;function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(this,arguments)}function t2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function n2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t2(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return e=oce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=lce(t,"string");return td(e)=="symbol"?e:e+""}function lce(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uce=function(e,n){var r=Cn(n-e),a=Math.min(Math.abs(n-e),359.999);return r*a},Cm=function(e){var n=e.cx,r=e.cy,a=e.radius,i=e.angle,o=e.sign,u=e.isExternal,f=e.cornerRadius,d=e.cornerIsExternal,p=f*(u?1:-1)+a,h=Math.asin(f/p)/Ep,y=d?i:i+o*h,x=Mt(n,r,p,y),T=Mt(n,r,a,y),w=d?i-o*h:i,A=Mt(n,r,p*Math.cos(h*Ep),w);return{center:x,circleTangency:T,lineTangency:A,theta:h}},DB=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,u=e.endAngle,f=uce(o,u),d=o+f,p=Mt(n,r,i,o),h=Mt(n,r,i,d),y="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(o>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(a>0){var x=Mt(n,r,a,o),T=Mt(n,r,a,d);y+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(o<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},cce=function(e){var n=e.cx,r=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,f=e.cornerIsExternal,d=e.startAngle,p=e.endAngle,h=Cn(p-d),y=Cm({cx:n,cy:r,radius:i,angle:d,sign:h,cornerRadius:o,cornerIsExternal:f}),x=y.circleTangency,T=y.lineTangency,w=y.theta,A=Cm({cx:n,cy:r,radius:i,angle:p,sign:-h,cornerRadius:o,cornerIsExternal:f}),C=A.circleTangency,j=A.lineTangency,_=A.theta,M=f?Math.abs(d-p):Math.abs(d-p)-w-_;if(M<0)return u?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):DB({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:d,endAngle:p});var N="M ".concat(T.x,",").concat(T.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(a>0){var k=Cm({cx:n,cy:r,radius:a,angle:d,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),P=k.circleTangency,R=k.lineTangency,L=k.theta,U=Cm({cx:n,cy:r,radius:a,angle:p,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:f}),q=U.circleTangency,D=U.lineTangency,$=U.theta,H=f?Math.abs(d-p):Math.abs(d-p)-L-$;if(H<0&&o===0)return"".concat(N,"L").concat(n,",").concat(r,"Z");N+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(h>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(R.x,",").concat(R.y,"Z")}else N+="L".concat(n,",").concat(r,"Z");return N},dce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LB=function(e){var n=n2(n2({},dce),e),r=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,u=n.cornerRadius,f=n.forceCornerRadius,d=n.cornerIsExternal,p=n.startAngle,h=n.endAngle,y=n.className;if(o<i||p===h)return null;var x=Xe("recharts-sector",y),T=o-i,w=Yn(u,T,0,!0),A;return w>0&&Math.abs(p-h)<360?A=cce({cx:r,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,T/2),forceCornerRadius:f,cornerIsExternal:d,startAngle:p,endAngle:h}):A=DB({cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:p,endAngle:h}),te.createElement("path",oA({},Be(n,!0),{className:x,d:A,role:"img"}))};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function lA(){return lA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lA.apply(this,arguments)}function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function a2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){fce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fce(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=pce(t,"string");return nd(e)=="symbol"?e:e+""}function pce(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i2={curveBasisClosed:qte,curveBasisOpen:Ute,curveBasis:Lte,curveBumpX:Ate,curveBumpY:Tte,curveLinearClosed:Bte,curveLinear:vh,curveMonotoneX:$te,curveMonotoneY:Vte,curveNatural:Fte,curveStep:zte,curveStepAfter:Hte,curveStepBefore:Gte},Mm=function(e){return e.x===+e.x&&e.y===+e.y},rc=function(e){return e.x},ac=function(e){return e.y},hce=function(e,n){if(Fe(e))return e;var r="curve".concat(gh(e));return(r==="curveMonotone"||r==="curveBump")&&n?i2["".concat(r).concat(n==="vertical"?"Y":"X")]:i2[r]||vh},gce=function(e){var n=e.type,r=n===void 0?"linear":n,a=e.points,i=a===void 0?[]:a,o=e.baseLine,u=e.layout,f=e.connectNulls,d=f===void 0?!1:f,p=hce(r,u),h=d?i.filter(function(w){return Mm(w)}):i,y;if(Array.isArray(o)){var x=d?o.filter(function(w){return Mm(w)}):o,T=h.map(function(w,A){return a2(a2({},w),{},{base:x[A]})});return u==="vertical"?y=xm().y(ac).x1(rc).x0(function(w){return w.base.x}):y=xm().x(rc).y1(ac).y0(function(w){return w.base.y}),y.defined(Mm).curve(p),y(T)}return u==="vertical"&&Ae(o)?y=xm().y(ac).x1(rc).x0(o):Ae(o)?y=xm().x(rc).y1(ac).y0(o):y=kU().x(rc).y(ac),y.defined(Mm).curve(p),y(h)},uA=function(e){var n=e.className,r=e.points,a=e.path,i=e.pathRef;if((!r||!r.length)&&!a)return null;var o=r&&r.length?gce(e):a;return I.createElement("path",lA({},Be(e,!1),Zm(e),{className:Xe("recharts-curve",n),d:o,ref:i}))},sS={exports:{}},oS,s2;function yce(){if(s2)return oS;s2=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return oS=t,oS}var lS,o2;function vce(){if(o2)return lS;o2=1;var t=yce();function e(){}function n(){}return n.resetWarningCache=e,lS=function(){function r(o,u,f,d,p,h){if(h!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function a(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return i.PropTypes=i,i},lS}var l2;function xce(){return l2||(l2=1,sS.exports=vce()()),sS.exports}var bce=xce();const yt=ht(bce);var Sce=Object.getOwnPropertyNames,wce=Object.getOwnPropertySymbols,Ace=Object.prototype.hasOwnProperty;function u2(t,e){return function(r,a,i){return t(r,a,i)&&e(r,a,i)}}function jm(t){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,a);var i=a.cache,o=i.get(n),u=i.get(r);if(o&&u)return o===r&&u===n;i.set(n,r),i.set(r,n);var f=t(n,r,a);return i.delete(n),i.delete(r),f}}function Tce(t){return t!=null?t[Symbol.toStringTag]:void 0}function c2(t){return Sce(t).concat(wce(t))}var Ece=Object.hasOwn||(function(t,e){return Ace.call(t,e)});function ao(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Nce="__v",_ce="__o",Cce="_owner",d2=Object.getOwnPropertyDescriptor,f2=Object.keys;function Mce(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function jce(t,e){return ao(t.getTime(),e.getTime())}function Ice(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function kce(t,e){return t===e}function m2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.entries(),o,u,f=0;(o=i.next())&&!o.done;){for(var d=e.entries(),p=!1,h=0;(u=d.next())&&!u.done;){if(a[h]){h++;continue}var y=o.value,x=u.value;if(n.equals(y[0],x[0],f,h,t,e,n)&&n.equals(y[1],x[1],y[0],x[0],t,e,n)){p=a[h]=!0;break}h++}if(!p)return!1;f++}return!0}var Pce=ao;function Oce(t,e,n){var r=f2(t),a=r.length;if(f2(e).length!==a)return!1;for(;a-- >0;)if(!qB(t,e,n,r[a]))return!1;return!0}function ic(t,e,n){var r=c2(t),a=r.length;if(c2(e).length!==a)return!1;for(var i,o,u;a-- >0;)if(i=r[a],!qB(t,e,n,i)||(o=d2(t,i),u=d2(e,i),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function Rce(t,e){return ao(t.valueOf(),e.valueOf())}function Dce(t,e){return t.source===e.source&&t.flags===e.flags}function p2(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var a=new Array(r),i=t.values(),o,u;(o=i.next())&&!o.done;){for(var f=e.values(),d=!1,p=0;(u=f.next())&&!u.done;){if(!a[p]&&n.equals(o.value,u.value,o.value,u.value,t,e,n)){d=a[p]=!0;break}p++}if(!d)return!1}return!0}function Lce(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function qce(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function qB(t,e,n,r){return(r===Cce||r===_ce||r===Nce)&&(t.$$typeof||e.$$typeof)?!0:Ece(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Uce="[object Arguments]",Bce="[object Boolean]",$ce="[object Date]",Vce="[object Error]",Fce="[object Map]",zce="[object Number]",Gce="[object Object]",Hce="[object RegExp]",Kce="[object Set]",Yce="[object String]",Wce="[object URL]",Xce=Array.isArray,h2=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,g2=Object.assign,Jce=Object.prototype.toString.call.bind(Object.prototype.toString);function Qce(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,p=t.areSetsEqual,h=t.areTypedArraysEqual,y=t.areUrlsEqual,x=t.unknownTagComparators;return function(w,A,C){if(w===A)return!0;if(w==null||A==null)return!1;var j=typeof w;if(j!==typeof A)return!1;if(j!=="object")return j==="number"?o(w,A,C):j==="function"?a(w,A,C):!1;var _=w.constructor;if(_!==A.constructor)return!1;if(_===Object)return u(w,A,C);if(Xce(w))return e(w,A,C);if(h2!=null&&h2(w))return h(w,A,C);if(_===Date)return n(w,A,C);if(_===RegExp)return d(w,A,C);if(_===Map)return i(w,A,C);if(_===Set)return p(w,A,C);var M=Jce(w);if(M===$ce)return n(w,A,C);if(M===Hce)return d(w,A,C);if(M===Fce)return i(w,A,C);if(M===Kce)return p(w,A,C);if(M===Gce)return typeof w.then!="function"&&typeof A.then!="function"&&u(w,A,C);if(M===Wce)return y(w,A,C);if(M===Vce)return r(w,A,C);if(M===Uce)return u(w,A,C);if(M===Bce||M===zce||M===Yce)return f(w,A,C);if(x){var N=x[M];if(!N){var k=Tce(w);k&&(N=x[k])}if(N)return N(w,A,C)}return!1}}function Zce(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,a={areArraysEqual:r?ic:Mce,areDatesEqual:jce,areErrorsEqual:Ice,areFunctionsEqual:kce,areMapsEqual:r?u2(m2,ic):m2,areNumbersEqual:Pce,areObjectsEqual:r?ic:Oce,arePrimitiveWrappersEqual:Rce,areRegExpsEqual:Dce,areSetsEqual:r?u2(p2,ic):p2,areTypedArraysEqual:r?ic:Lce,areUrlsEqual:qce,unknownTagComparators:void 0};if(n&&(a=g2({},a,n(a))),e){var i=jm(a.areArraysEqual),o=jm(a.areMapsEqual),u=jm(a.areObjectsEqual),f=jm(a.areSetsEqual);a=g2({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:f})}return a}function ede(t){return function(e,n,r,a,i,o,u){return t(e,n,u)}}function tde(t){var e=t.circular,n=t.comparator,r=t.createState,a=t.equals,i=t.strict;if(r)return function(f,d){var p=r(),h=p.cache,y=h===void 0?e?new WeakMap:void 0:h,x=p.meta;return n(f,d,{cache:y,equals:a,meta:x,strict:i})};if(e)return function(f,d){return n(f,d,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(f,d){return n(f,d,o)}}var nde=Zi();Zi({strict:!0});Zi({circular:!0});Zi({circular:!0,strict:!0});Zi({createInternalComparator:function(){return ao}});Zi({strict:!0,createInternalComparator:function(){return ao}});Zi({circular:!0,createInternalComparator:function(){return ao}});Zi({circular:!0,createInternalComparator:function(){return ao},strict:!0});function Zi(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,u=Zce(t),f=Qce(u),d=r?r(f):ede(f);return tde({circular:n,comparator:f,createState:a,equals:d,strict:o})}function rde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function y2(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(i){n<0&&(n=i),i-n>e?(t(i),n=-1):rde(a)};requestAnimationFrame(r)}function cA(t){"@babel/helpers - typeof";return cA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(t)}function ade(t){return lde(t)||ode(t)||sde(t)||ide()}function ide(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sde(t,e){if(t){if(typeof t=="string")return v2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v2(t,e)}}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ode(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lde(t){if(Array.isArray(t))return t}function ude(){var t={},e=function(){return null},n=!1,r=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,u=ade(o),f=u[0],d=u.slice(1);if(typeof f=="number"){y2(a.bind(null,d),f);return}a(f),y2(a.bind(null,d));return}cA(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function x2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function b2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x2(Object(n),!0).forEach(function(r){UB(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UB(t,e,n){return e=cde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=dde(t,"string");return rd(e)==="symbol"?e:String(e)}function dde(t,e){if(rd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,a){return r.filter(function(i){return a.includes(i)})})},mde=function(e){return e},pde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Sc=function(e,n){return Object.keys(n).reduce(function(r,a){return b2(b2({},r),{},UB({},a,e(a,n[a])))},{})},S2=function(e,n,r){return e.map(function(a){return"".concat(pde(a)," ").concat(n,"ms ").concat(r)}).join(",")};function hde(t,e){return vde(t)||yde(t,e)||BB(t,e)||gde()}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function vde(t){if(Array.isArray(t))return t}function xde(t){return wde(t)||Sde(t)||BB(t)||bde()}function bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BB(t,e){if(t){if(typeof t=="string")return dA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dA(t,e)}}function Sde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wde(t){if(Array.isArray(t))return dA(t)}function dA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _p=1e-4,$B=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},VB=function(e,n){return e.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},w2=function(e,n){return function(r){var a=$B(e,n);return VB(a,r)}},Ade=function(e,n){return function(r){var a=$B(e,n),i=[].concat(xde(a.map(function(o,u){return o*u}).slice(1)),[0]);return VB(i,r)}},A2=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0],i=n[1],o=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,u=1;break;case"ease":a=.25,i=.1,o=.25,u=1;break;case"ease-in":a=.42,i=0,o=1,u=1;break;case"ease-out":a=.42,i=0,o=.58,u=1;break;case"ease-in-out":a=0,i=0,o=.58,u=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var d=f[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),p=hde(d,4);a=p[0],i=p[1],o=p[2],u=p[3]}}}var h=w2(a,o),y=w2(i,u),x=Ade(a,o),T=function(C){return C>1?1:C<0?0:C},w=function(C){for(var j=C>1?1:C,_=j,M=0;M<8;++M){var N=h(_)-j,k=x(_);if(Math.abs(N-j)<_p||k<_p)return y(_);_=T(_-N/k)}return y(_)};return w.isStepper=!1,w},Tde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,a=e.damping,i=a===void 0?8:a,o=e.dt,u=o===void 0?17:o,f=function(p,h,y){var x=-(p-h)*r,T=y*i,w=y+(x-T)*u/1e3,A=y*u/1e3+p;return Math.abs(A-h)<_p&&Math.abs(w)<_p?[h,0]:[A,w]};return f.isStepper=!0,f.dt=u,f},Ede=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return A2(a);case"spring":return Tde();default:if(a.split("(")[0]==="cubic-bezier")return A2(a)}return typeof a=="function"?a:null};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}function T2(t){return Cde(t)||_de(t)||FB(t)||Nde()}function Nde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _de(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cde(t){if(Array.isArray(t))return mA(t)}function E2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Dn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E2(Object(n),!0).forEach(function(r){fA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fA(t,e,n){return e=Mde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mde(t){var e=jde(t,"string");return ad(e)==="symbol"?e:String(e)}function jde(t,e){if(ad(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ide(t,e){return Ode(t)||Pde(t,e)||FB(t,e)||kde()}function kde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FB(t,e){if(t){if(typeof t=="string")return mA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mA(t,e)}}function mA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function Ode(t){if(Array.isArray(t))return t}var Cp=function(e,n,r){return e+(n-e)*r},pA=function(e){var n=e.from,r=e.to;return n!==r},Rde=function t(e,n,r){var a=Sc(function(i,o){if(pA(o)){var u=e(o.from,o.to,o.velocity),f=Ide(u,2),d=f[0],p=f[1];return Dn(Dn({},o),{},{from:d,velocity:p})}return o},n);return r<1?Sc(function(i,o){return pA(o)?Dn(Dn({},o),{},{velocity:Cp(o.velocity,a[i].velocity,r),from:Cp(o.from,a[i].from,r)}):o},n):t(e,a,r-1)};const Dde=(function(t,e,n,r,a){var i=fde(t,e),o=i.reduce(function(A,C){return Dn(Dn({},A),{},fA({},C,[t[C],e[C]]))},{}),u=i.reduce(function(A,C){return Dn(Dn({},A),{},fA({},C,{from:t[C],velocity:0,to:e[C]}))},{}),f=-1,d,p,h=function(){return null},y=function(){return Sc(function(C,j){return j.from},u)},x=function(){return!Object.values(u).filter(pA).length},T=function(C){d||(d=C);var j=C-d,_=j/n.dt;u=Rde(n,u,_),a(Dn(Dn(Dn({},t),e),y())),d=C,x()||(f=requestAnimationFrame(h))},w=function(C){p||(p=C);var j=(C-p)/r,_=Sc(function(N,k){return Cp.apply(void 0,T2(k).concat([n(j)]))},o);if(a(Dn(Dn(Dn({},t),e),_)),j<1)f=requestAnimationFrame(h);else{var M=Sc(function(N,k){return Cp.apply(void 0,T2(k).concat([n(1)]))},o);a(Dn(Dn(Dn({},t),e),M))}};return h=n.isStepper?T:w,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(f)}}});function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}var Lde=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qde(t,e){if(t==null)return{};var n=Ude(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ude(t,e){if(t==null)return{};var n={},r=Object.keys(t),a,i;for(i=0;i<r.length;i++)a=r[i],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function uS(t){return Fde(t)||Vde(t)||$de(t)||Bde()}function Bde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $de(t,e){if(t){if(typeof t=="string")return hA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hA(t,e)}}function Vde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fde(t){if(Array.isArray(t))return hA(t)}function hA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N2(Object(n),!0).forEach(function(r){dc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dc(t,e,n){return e=zB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zB(r.key),r)}}function Hde(t,e,n){return e&&Gde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zB(t){var e=Kde(t,"string");return Ml(e)==="symbol"?e:String(e)}function Kde(t,e){if(Ml(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ml(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gA(t,e)}function gA(t,e){return gA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gA(t,e)}function Wde(t){var e=Xde();return function(){var r=Mp(t),a;if(e){var i=Mp(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return yA(this,a)}}function yA(t,e){if(e&&(Ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vA(t)}function vA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}var xa=(function(t){Yde(n,t);var e=Wde(n);function n(r,a){var i;zde(this,n),i=e.call(this,r,a);var o=i.props,u=o.isActive,f=o.attributeName,d=o.from,p=o.to,h=o.steps,y=o.children,x=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(vA(i)),i.changeStyle=i.changeStyle.bind(vA(i)),!u||x<=0)return i.state={style:{}},typeof y=="function"&&(i.state={style:p}),yA(i);if(h&&h.length)i.state={style:h[0].style};else if(d){if(typeof y=="function")return i.state={style:d},yA(i);i.state={style:f?dc({},f,d):d}}else i.state={style:{}};return i}return Hde(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,u=i.canBegin,f=i.attributeName,d=i.shouldReAnimate,p=i.to,h=i.from,y=this.state.style;if(u){if(!o){var x={style:f?dc({},f,p):p};this.state&&y&&(f&&y[f]!==p||!f&&y!==p)&&this.setState(x);return}if(!(nde(a.to,p)&&a.canBegin&&a.isActive)){var T=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=T||d?h:a.to;if(this.state&&y){var A={style:f?dc({},f,w):w};(f&&y[f]!==w||!f&&y!==w)&&this.setState(A)}this.runAnimation(Qr(Qr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,u=a.to,f=a.duration,d=a.easing,p=a.begin,h=a.onAnimationEnd,y=a.onAnimationStart,x=Dde(o,u,Ede(d),f,this.changeStyle),T=function(){i.stopJSAnimation=x()};this.manager.start([y,p,T,f,h])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,u=a.begin,f=a.onAnimationStart,d=o[0],p=d.style,h=d.duration,y=h===void 0?0:h,x=function(w,A,C){if(C===0)return w;var j=A.duration,_=A.easing,M=_===void 0?"ease":_,N=A.style,k=A.properties,P=A.onAnimationEnd,R=C>0?o[C-1]:A,L=k||Object.keys(N);if(typeof M=="function"||M==="spring")return[].concat(uS(w),[i.runJSAnimation.bind(i,{from:R.style,to:N,duration:j,easing:M}),j]);var U=S2(L,j,M),q=Qr(Qr(Qr({},R.style),N),{},{transition:U});return[].concat(uS(w),[q,j,P]).filter(mde)};return this.manager.start([f].concat(uS(o.reduce(x,[p,Math.max(y,u)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=ude());var i=a.begin,o=a.duration,u=a.attributeName,f=a.to,d=a.easing,p=a.onAnimationStart,h=a.onAnimationEnd,y=a.steps,x=a.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof d=="function"||typeof x=="function"||d==="spring"){this.runJSAnimation(a);return}if(y.length>1){this.runStepAnimation(a);return}var w=u?dc({},u,f):f,A=S2(Object.keys(w),o,d);T.start([p,i,Qr(Qr({},w),{},{transition:A}),o,h])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var u=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var f=qde(a,Lde),d=I.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||d===0||o<=0)return i;var h=function(x){var T=x.props,w=T.style,A=w===void 0?{}:w,C=T.className,j=I.cloneElement(x,Qr(Qr({},f),{},{style:Qr(Qr({},A),p),className:C}));return j};return d===1?h(I.Children.only(i)):te.createElement("div",null,I.Children.map(i,function(y){return h(y)}))}}]),n})(I.PureComponent);xa.displayName="Animate";xa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};xa.propTypes={from:yt.oneOfType([yt.object,yt.string]),to:yt.oneOfType([yt.object,yt.string]),attributeName:yt.string,duration:yt.number,begin:yt.number,easing:yt.oneOfType([yt.string,yt.func]),steps:yt.arrayOf(yt.shape({duration:yt.number.isRequired,style:yt.object.isRequired,easing:yt.oneOfType([yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),yt.func]),properties:yt.arrayOf("string"),onAnimationEnd:yt.func})),children:yt.oneOfType([yt.node,yt.func]),isActive:yt.bool,canBegin:yt.bool,onAnimationEnd:yt.func,shouldReAnimate:yt.bool,onAnimationStart:yt.func,onAnimationReStart:yt.func};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}function Jde(t,e){return tfe(t)||efe(t,e)||Zde(t,e)||Qde()}function Qde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zde(t,e){if(t){if(typeof t=="string")return _2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _2(t,e)}}function _2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function efe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function tfe(t){if(Array.isArray(t))return t}function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function M2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){nfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nfe(t,e,n){return e=rfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rfe(t){var e=afe(t,"string");return id(e)=="symbol"?e:e+""}function afe(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j2=function(e,n,r,a,i){var o=Math.min(Math.abs(r)/2,Math.abs(a)/2),u=a>=0?1:-1,f=r>=0?1:-1,d=a>=0&&r>=0||a<0&&r<0?1:0,p;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],y=0,x=4;y<x;y++)h[y]=i[y]>o?o:i[y];p="M".concat(e,",").concat(n+u*h[0]),h[0]>0&&(p+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+f*h[0],",").concat(n)),p+="L ".concat(e+r-f*h[1],",").concat(n),h[1]>0&&(p+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(n+u*h[1])),p+="L ".concat(e+r,",").concat(n+a-u*h[2]),h[2]>0&&(p+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-f*h[2],",").concat(n+a)),p+="L ".concat(e+f*h[3],",").concat(n+a),h[3]>0&&(p+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(n+a-u*h[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var T=Math.min(o,i);p="M ".concat(e,",").concat(n+u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+f*T,",").concat(n,`
            L `).concat(e+r-f*T,",").concat(n,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+r,",").concat(n+u*T,`
            L `).concat(e+r,",").concat(n+a-u*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e+r-f*T,",").concat(n+a,`
            L `).concat(e+f*T,",").concat(n+a,`
            A `).concat(T,",").concat(T,",0,0,").concat(d,",").concat(e,",").concat(n+a-u*T," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return p},ife=function(e,n){if(!e||!n)return!1;var r=e.x,a=e.y,i=n.x,o=n.y,u=n.width,f=n.height;if(Math.abs(u)>0&&Math.abs(f)>0){var d=Math.min(i,i+u),p=Math.max(i,i+u),h=Math.min(o,o+f),y=Math.max(o,o+f);return r>=d&&r<=p&&a>=h&&a<=y}return!1},sfe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RE=function(e){var n=M2(M2({},sfe),e),r=I.useRef(),a=I.useState(-1),i=Jde(a,2),o=i[0],u=i[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&u(M)}catch{}},[]);var f=n.x,d=n.y,p=n.width,h=n.height,y=n.radius,x=n.className,T=n.animationEasing,w=n.animationDuration,A=n.animationBegin,C=n.isAnimationActive,j=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||h!==+h||p===0||h===0)return null;var _=Xe("recharts-rectangle",x);return j?te.createElement(xa,{canBegin:o>0,from:{width:p,height:h,x:f,y:d},to:{width:p,height:h,x:f,y:d},duration:w,animationEasing:T,isActive:j},function(M){var N=M.width,k=M.height,P=M.x,R=M.y;return te.createElement(xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:w,isActive:C,easing:T},te.createElement("path",jp({},Be(n,!0),{className:_,d:j2(P,R,N,k,y),ref:r})))}):te.createElement("path",jp({},Be(n,!0),{className:_,d:j2(f,d,p,h,y)}))},ofe=["points","className","baseLinePoints","connectNulls"];function sl(){return sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sl.apply(this,arguments)}function lfe(t,e){if(t==null)return{};var n=ufe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ufe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function I2(t){return mfe(t)||ffe(t)||dfe(t)||cfe()}function cfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(t,e){if(t){if(typeof t=="string")return xA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xA(t,e)}}function ffe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mfe(t){if(Array.isArray(t))return xA(t)}function xA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var k2=function(e){return e&&e.x===+e.x&&e.y===+e.y},pfe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){k2(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),k2(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},wc=function(e,n){var r=pfe(e);n&&(r=[r.reduce(function(i,o){return[].concat(I2(i),I2(o))},[])]);var a=r.map(function(i){return i.reduce(function(o,u,f){return"".concat(o).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},hfe=function(e,n,r){var a=wc(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(wc(n.reverse(),r).slice(1))},gfe=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,i=e.connectNulls,o=lfe(e,ofe);if(!n||!n.length)return null;var u=Xe("recharts-polygon",r);if(a&&a.length){var f=o.stroke&&o.stroke!=="none",d=hfe(n,a,i);return te.createElement("g",{className:u},te.createElement("path",sl({},Be(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),f?te.createElement("path",sl({},Be(o,!0),{fill:"none",d:wc(n,i)})):null,f?te.createElement("path",sl({},Be(o,!0),{fill:"none",d:wc(a,i)})):null)}var p=wc(n,i);return te.createElement("path",sl({},Be(o,!0),{fill:p.slice(-1)==="Z"?o.fill:"none",className:u,d:p}))};function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bA.apply(this,arguments)}var DE=function(e){var n=e.cx,r=e.cy,a=e.r,i=e.className,o=Xe("recharts-dot",i);return n===+n&&r===+r&&a===+a?I.createElement("circle",bA({},Be(e,!1),Zm(e),{className:o,cx:n,cy:r,r:a})):null};function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var yfe=["x","y","top","left","width","height","className"];function SA(){return SA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SA.apply(this,arguments)}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function vfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){xfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xfe(t,e,n){return e=bfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bfe(t){var e=Sfe(t,"string");return sd(e)=="symbol"?e:e+""}function Sfe(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wfe(t,e){if(t==null)return{};var n=Afe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Afe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Tfe=function(e,n,r,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(r)},Efe=function(e){var n=e.x,r=n===void 0?0:n,a=e.y,i=a===void 0?0:a,o=e.top,u=o===void 0?0:o,f=e.left,d=f===void 0?0:f,p=e.width,h=p===void 0?0:p,y=e.height,x=y===void 0?0:y,T=e.className,w=wfe(e,yfe),A=vfe({x:r,y:i,top:u,left:d,width:h,height:x},w);return!Ae(r)||!Ae(i)||!Ae(h)||!Ae(x)||!Ae(u)||!Ae(d)?null:te.createElement("path",SA({},Be(A,!0),{className:Xe("recharts-cross",T),d:Tfe(r,i,h,x,u,d)}))},cS,O2;function Nfe(){if(O2)return cS;O2=1;var t=Mh(),e=nB(),n=wa();function r(a,i){return a&&a.length?t(a,n(i,2),e):void 0}return cS=r,cS}var _fe=Nfe();const Cfe=ht(_fe);var dS,R2;function Mfe(){if(R2)return dS;R2=1;var t=Mh(),e=wa(),n=rB();function r(a,i){return a&&a.length?t(a,e(i,2),n):void 0}return dS=r,dS}var jfe=Mfe();const Ife=ht(jfe);var kfe=["cx","cy","angle","ticks","axisLine"],Pfe=["ticks","tick","angle","tickFormatter","stroke"];function jl(t){"@babel/helpers - typeof";return jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jl(t)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ac.apply(this,arguments)}function D2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D2(Object(n),!0).forEach(function(r){Rh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L2(t,e){if(t==null)return{};var n=Ofe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ofe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HB(r.key),r)}}function Dfe(t,e,n){return e&&q2(t.prototype,e),n&&q2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lfe(t,e,n){return e=Ip(e),qfe(t,GB()?Reflect.construct(e,n||[],Ip(t).constructor):e.apply(t,n))}function qfe(t,e){if(e&&(jl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ufe(t)}function Ufe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GB=function(){return!!t})()}function Ip(t){return Ip=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ip(t)}function Bfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wA(t,e)}function wA(t,e){return wA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wA(t,e)}function Rh(t,e,n){return e=HB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HB(t){var e=$fe(t,"string");return jl(e)=="symbol"?e:e+""}function $fe(t,e){if(jl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ud=(function(t){function e(){return Rfe(this,e),Lfe(this,e,arguments)}return Bfe(e,t),Dfe(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,i=this.props,o=i.angle,u=i.cx,f=i.cy;return Mt(u,f,a,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,u=r.ticks,f=Cfe(u,function(p){return p.coordinate||0}),d=Ife(u,function(p){return p.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.angle,u=r.ticks,f=r.axisLine,d=L2(r,kfe),p=u.reduce(function(T,w){return[Math.min(T[0],w.coordinate),Math.max(T[1],w.coordinate)]},[1/0,-1/0]),h=Mt(a,i,p[0],o),y=Mt(a,i,p[1],o),x=bs(bs(bs({},Be(d,!1)),{},{fill:"none"},Be(f,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return te.createElement("line",Ac({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,u=a.angle,f=a.tickFormatter,d=a.stroke,p=L2(a,Pfe),h=this.getTickTextAnchor(),y=Be(p,!1),x=Be(o,!1),T=i.map(function(w,A){var C=r.getTickValueCoord(w),j=bs(bs(bs(bs({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(C.x,", ").concat(C.y,")")},y),{},{stroke:"none",fill:d},x),{},{index:A},C),{},{payload:w});return te.createElement(st,Ac({className:Xe("recharts-polar-radius-axis-tick",OB(o)),key:"tick-".concat(w.coordinate)},Ja(r.props,w,A)),e.renderTickItem(o,j,f?f(w.value,A):w.value))});return te.createElement(st,{className:"recharts-polar-radius-axis-ticks"},T)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.axisLine,o=r.tick;return!a||!a.length?null:te.createElement(st,{className:Xe("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),_n.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,i){var o;return te.isValidElement(r)?o=te.cloneElement(r,a):Fe(r)?o=r(a):o=te.createElement(Fs,Ac({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(I.PureComponent);Rh(Ud,"displayName","PolarRadiusAxis");Rh(Ud,"axisType","radiusAxis");Rh(Ud,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Es(){return Es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Es.apply(this,arguments)}function U2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ss(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U2(Object(n),!0).forEach(function(r){Dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YB(r.key),r)}}function Ffe(t,e,n){return e&&B2(t.prototype,e),n&&B2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zfe(t,e,n){return e=kp(e),Gfe(t,KB()?Reflect.construct(e,n||[],kp(t).constructor):e.apply(t,n))}function Gfe(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hfe(t)}function Hfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KB=function(){return!!t})()}function kp(t){return kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kp(t)}function Kfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AA(t,e)}function AA(t,e){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},AA(t,e)}function Dh(t,e,n){return e=YB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YB(t){var e=Yfe(t,"string");return Il(e)=="symbol"?e:e+""}function Yfe(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wfe=Math.PI/180,$2=1e-5,Bd=(function(t){function e(){return Vfe(this,e),zfe(this,e,arguments)}return Kfe(e,t),Ffe(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.cx,o=a.cy,u=a.radius,f=a.orientation,d=a.tickSize,p=d||8,h=Mt(i,o,u,r.coordinate),y=Mt(i,o,u+(f==="inner"?-1:1)*p,r.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,i=Math.cos(-r.coordinate*Wfe),o;return i>$2?o=a==="outer"?"start":"end":i<-$2?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,i=r.cy,o=r.radius,u=r.axisLine,f=r.axisLineType,d=Ss(Ss({},Be(this.props,!1)),{},{fill:"none"},Be(u,!1));if(f==="circle")return te.createElement(DE,Es({className:"recharts-polar-angle-axis-line"},d,{cx:a,cy:i,r:o}));var p=this.props.ticks,h=p.map(function(y){return Mt(a,i,o,y.coordinate)});return te.createElement(gfe,Es({className:"recharts-polar-angle-axis-line"},d,{points:h}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,i=a.ticks,o=a.tick,u=a.tickLine,f=a.tickFormatter,d=a.stroke,p=Be(this.props,!1),h=Be(o,!1),y=Ss(Ss({},p),{},{fill:"none"},Be(u,!1)),x=i.map(function(T,w){var A=r.getTickLineCoord(T),C=r.getTickTextAnchor(T),j=Ss(Ss(Ss({textAnchor:C},p),{},{stroke:"none",fill:d},h),{},{index:w,payload:T,x:A.x2,y:A.y2});return te.createElement(st,Es({className:Xe("recharts-polar-angle-axis-tick",OB(o)),key:"tick-".concat(T.coordinate)},Ja(r.props,T,w)),u&&te.createElement("line",Es({className:"recharts-polar-angle-axis-tick-line"},y,A)),o&&e.renderTickItem(o,j,f?f(T.value,w):T.value))});return te.createElement(st,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,a=r.ticks,i=r.radius,o=r.axisLine;return i<=0||!a||!a.length?null:te.createElement(st,{className:Xe("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,i){var o;return te.isValidElement(r)?o=te.cloneElement(r,a):Fe(r)?o=r(a):o=te.createElement(Fs,Es({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(I.PureComponent);Dh(Bd,"displayName","PolarAngleAxis");Dh(Bd,"axisType","angleAxis");Dh(Bd,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var fS,V2;function Xfe(){if(V2)return fS;V2=1;var t=t5(),e=t(Object.getPrototypeOf,Object);return fS=e,fS}var mS,F2;function Jfe(){if(F2)return mS;F2=1;var t=ii(),e=Xfe(),n=si(),r="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,u=i.hasOwnProperty,f=o.call(Object);function d(p){if(!n(p)||t(p)!=r)return!1;var h=e(p);if(h===null)return!0;var y=u.call(h,"constructor")&&h.constructor;return typeof y=="function"&&y instanceof y&&o.call(y)==f}return mS=d,mS}var Qfe=Jfe();const Zfe=ht(Qfe);var pS,z2;function eme(){if(z2)return pS;z2=1;var t=ii(),e=si(),n="[object Boolean]";function r(a){return a===!0||a===!1||e(a)&&t(a)==n}return pS=r,pS}var tme=eme();const nme=ht(tme);function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function Pp(){return Pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pp.apply(this,arguments)}function rme(t,e){return ome(t)||sme(t,e)||ime(t,e)||ame()}function ame(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ime(t,e){if(t){if(typeof t=="string")return G2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G2(t,e)}}function G2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function ome(t){if(Array.isArray(t))return t}function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function K2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e,n){return e=ume(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ume(t){var e=cme(t,"string");return od(e)=="symbol"?e:e+""}function cme(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y2=function(e,n,r,a,i){var o=r-a,u;return u="M ".concat(e,",").concat(n),u+="L ".concat(e+r,",").concat(n),u+="L ".concat(e+r-o/2,",").concat(n+i),u+="L ".concat(e+r-o/2-a,",").concat(n+i),u+="L ".concat(e,",").concat(n," Z"),u},dme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fme=function(e){var n=K2(K2({},dme),e),r=I.useRef(),a=I.useState(-1),i=rme(a,2),o=i[0],u=i[1];I.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&u(_)}catch{}},[]);var f=n.x,d=n.y,p=n.upperWidth,h=n.lowerWidth,y=n.height,x=n.className,T=n.animationEasing,w=n.animationDuration,A=n.animationBegin,C=n.isUpdateAnimationActive;if(f!==+f||d!==+d||p!==+p||h!==+h||y!==+y||p===0&&h===0||y===0)return null;var j=Xe("recharts-trapezoid",x);return C?te.createElement(xa,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:y,x:f,y:d},to:{upperWidth:p,lowerWidth:h,height:y,x:f,y:d},duration:w,animationEasing:T,isActive:C},function(_){var M=_.upperWidth,N=_.lowerWidth,k=_.height,P=_.x,R=_.y;return te.createElement(xa,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:w,easing:T},te.createElement("path",Pp({},Be(n,!0),{className:j,d:Y2(P,R,M,N,k),ref:r})))}):te.createElement("g",null,te.createElement("path",Pp({},Be(n,!0),{className:j,d:Y2(f,d,p,h,y)})))},mme=["option","shapeType","propTransformer","activeClassName","isActive"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function pme(t,e){if(t==null)return{};var n=hme(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function W2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Op(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W2(Object(n),!0).forEach(function(r){gme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gme(t,e,n){return e=yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yme(t){var e=vme(t,"string");return ld(e)=="symbol"?e:e+""}function vme(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xme(t,e){return Op(Op({},e),t)}function bme(t,e){return t==="symbols"}function X2(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return te.createElement(RE,n);case"trapezoid":return te.createElement(fme,n);case"sector":return te.createElement(LB,n);case"symbols":if(bme(e))return te.createElement(ZT,n);break;default:return null}}function Sme(t){return I.isValidElement(t)?t.props:t}function LE(t){var e=t.option,n=t.shapeType,r=t.propTransformer,a=r===void 0?xme:r,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,u=t.isActive,f=pme(t,mme),d;if(I.isValidElement(e))d=I.cloneElement(e,Op(Op({},f),Sme(e)));else if(Fe(e))d=e(f);else if(Zfe(e)&&!nme(e)){var p=a(e,f);d=te.createElement(X2,{shapeType:n,elementProps:p})}else{var h=f;d=te.createElement(X2,{shapeType:n,elementProps:h})}return u?te.createElement(st,{className:o},d):d}function Lh(t,e){return e!=null&&"trapezoids"in t.props}function qh(t,e){return e!=null&&"sectors"in t.props}function ud(t,e){return e!=null&&"points"in t.props}function wme(t,e){var n,r,a=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,i=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return a&&i}function Ame(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Tme(t,e){var n=t.x===e.x,r=t.y===e.y,a=t.z===e.z;return n&&r&&a}function Eme(t,e){var n;return Lh(t,e)?n=wme:qh(t,e)?n=Ame:ud(t,e)&&(n=Tme),n}function Nme(t,e){var n;return Lh(t,e)?n="trapezoids":qh(t,e)?n="sectors":ud(t,e)&&(n="points"),n}function _me(t,e){if(Lh(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qh(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ud(t,e)?e.payload:{}}function Cme(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,a=Nme(n,e),i=_me(n,e),o=r.filter(function(f,d){var p=qd(i,f),h=n.props[a].filter(function(T){var w=Eme(n,e);return w(T,e)}),y=n.props[a].indexOf(h[h.length-1]),x=d===y;return p&&x}),u=r.indexOf(o[o.length-1]);return u}var Fm;function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){Br(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XB(r.key),r)}}function jme(t,e,n){return e&&Q2(t.prototype,e),n&&Q2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ime(t,e,n){return e=Rp(e),kme(t,WB()?Reflect.construct(e,n||[],Rp(t).constructor):e.apply(t,n))}function kme(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pme(t)}function Pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WB=function(){return!!t})()}function Rp(t){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rp(t)}function Ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},TA(t,e)}function Br(t,e,n){return e=XB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XB(t){var e=Rme(t,"string");return kl(e)=="symbol"?e:e+""}function Rme(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var li=(function(t){function e(n){var r;return Mme(this,e),r=Ime(this,e,[n]),Br(r,"pieRef",null),Br(r,"sectorRefs",[]),Br(r,"id",Id("recharts-pie-")),Br(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Fe(a)&&a()}),Br(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Fe(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Ome(e,t),jme(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,u=i.labelLine,f=i.dataKey,d=i.valueKey,p=Be(this.props,!1),h=Be(o,!1),y=Be(u,!1),x=o&&o.offsetRadius||20,T=r.map(function(w,A){var C=(w.startAngle+w.endAngle)/2,j=Mt(w.cx,w.cy,w.outerRadius+x,C),_=Ot(Ot(Ot(Ot({},p),w),{},{stroke:"none"},h),{},{index:A,textAnchor:e.getTextAnchor(j.x,w.cx)},j),M=Ot(Ot(Ot(Ot({},p),w),{},{fill:"none",stroke:w.fill},y),{},{index:A,points:[Mt(w.cx,w.cy,w.outerRadius,C),j]}),N=f;return Ze(f)&&Ze(d)?N="value":Ze(f)&&(N=d),te.createElement(st,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(A)},u&&e.renderLabelLineItem(u,M,"line"),e.renderLabelItem(o,_,qn(w,N)))});return te.createElement(st,{className:"recharts-pie-labels"},T)}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.activeShape,u=i.blendStroke,f=i.inactiveShape;return r.map(function(d,p){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var h=a.isActiveIndex(p),y=f&&a.hasActiveIndex()?f:null,x=h?o:y,T=Ot(Ot({},d),{},{stroke:u?d.fill:d.stroke,tabIndex:-1});return te.createElement(st,ol({ref:function(A){A&&!a.sectorRefs.includes(A)&&a.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},Ja(a.props,d,p),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(p)}),te.createElement(LE,ol({option:x,isActive:h,shapeType:"sector"},T)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.sectors,o=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,h=this.state,y=h.prevSectors,x=h.prevIsAnimationActive;return te.createElement(xa,{begin:u,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(T){var w=T.t,A=[],C=i&&i[0],j=C.startAngle;return i.forEach(function(_,M){var N=y&&y[M],k=M>0?Ar(_,"paddingAngle",0):0;if(N){var P=ta(N.endAngle-N.startAngle,_.endAngle-_.startAngle),R=Ot(Ot({},_),{},{startAngle:j+k,endAngle:j+P(w)+k});A.push(R),j=R.endAngle}else{var L=_.endAngle,U=_.startAngle,q=ta(0,L-U),D=q(w),$=Ot(Ot({},_),{},{startAngle:j+k,endAngle:j+D+k});A.push($),j=$.endAngle}}),te.createElement(st,null,r.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,i=r.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!qd(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,i=a.hide,o=a.sectors,u=a.className,f=a.label,d=a.cx,p=a.cy,h=a.innerRadius,y=a.outerRadius,x=a.isAnimationActive,T=this.state.isAnimationFinished;if(i||!o||!o.length||!Ae(d)||!Ae(p)||!Ae(h)||!Ae(y))return null;var w=Xe("recharts-pie",u);return te.createElement(st,{tabIndex:this.props.rootTabIndex,className:w,ref:function(C){r.pieRef=C}},this.renderSectors(),f&&this.renderLabels(o),_n.renderCallByParent(this.props,null,!1),(!x||T)&&Ya.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,i){if(te.isValidElement(r))return te.cloneElement(r,a);if(Fe(r))return r(a);var o=Xe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return te.createElement(uA,ol({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,a,i){if(te.isValidElement(r))return te.cloneElement(r,a);var o=i;if(Fe(r)&&(o=r(a),te.isValidElement(o)))return o;var u=Xe("recharts-pie-label-text",typeof r!="boolean"&&!Fe(r)?r.className:"");return te.createElement(Fs,ol({},a,{alignmentBaseline:"middle",className:u}),o)}}])})(I.PureComponent);Fm=li;Br(li,"displayName","Pie");Br(li,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!to.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Br(li,"parseDeltaAngle",function(t,e){var n=Cn(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Br(li,"getRealPieData",function(t){var e=t.data,n=t.children,r=Be(t,!1),a=Tr(n,Pd);return e&&e.length?e.map(function(i,o){return Ot(Ot(Ot({payload:i},r),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Ot(Ot({},r),i.props)}):[]});Br(li,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,i=e.height,o=kB(a,i),u=r+Yn(t.cx,a,a/2),f=n+Yn(t.cy,i,i/2),d=Yn(t.innerRadius,o,0),p=Yn(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:u,cy:f,innerRadius:d,outerRadius:p,maxRadius:h}});Br(li,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Ot(Ot({},e.type.defaultProps),e.props):e.props,a=Fm.getRealPieData(r);if(!a||!a.length)return null;var i=r.cornerRadius,o=r.startAngle,u=r.endAngle,f=r.paddingAngle,d=r.dataKey,p=r.nameKey,h=r.valueKey,y=r.tooltipType,x=Math.abs(r.minAngle),T=Fm.parseCoordinateOfPie(r,n),w=Fm.parseDeltaAngle(o,u),A=Math.abs(w),C=d;Ze(d)&&Ze(h)?(ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C="value"):Ze(d)&&(ra(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),C=h);var j=a.filter(function(R){return qn(R,C,0)!==0}).length,_=(A>=360?j:j-1)*f,M=A-j*x-_,N=a.reduce(function(R,L){var U=qn(L,C,0);return R+(Ae(U)?U:0)},0),k;if(N>0){var P;k=a.map(function(R,L){var U=qn(R,C,0),q=qn(R,p,L),D=(Ae(U)?U:0)/N,$;L?$=P.endAngle+Cn(w)*f*(U!==0?1:0):$=o;var H=$+Cn(w)*((U!==0?x:0)+D*M),J=($+H)/2,B=(T.innerRadius+T.outerRadius)/2,K=[{name:q,value:U,payload:R,dataKey:C,type:y}],W=Mt(T.cx,T.cy,B,J);return P=Ot(Ot(Ot({percent:D,cornerRadius:i,name:q,tooltipPayload:K,midAngle:J,middleRadius:B,tooltipPosition:W},R),T),{},{value:qn(R,C),startAngle:$,endAngle:H,payload:R,paddingAngle:Cn(w)*f}),P})}return Ot(Ot({},T),{},{sectors:k,data:a})});function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EA.apply(this,arguments)}function Z2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z2(Object(n),!0).forEach(function(r){Dme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dme(t,e,n){return e=Lme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lme(t){var e=qme(t,"string");return cd(e)=="symbol"?e:e+""}function qme(t,e){if(cd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eL(t){return typeof t=="string"?parseInt(t,10):t}function Ume(t,e){var n="".concat(e.cx||t.cx),r=Number(n),a="".concat(e.cy||t.cy),i=Number(a);return hS(hS(hS({},e),t),{},{cx:r,cy:i})}function tL(t){return te.createElement(LE,EA({shapeType:"sector",propTransformer:Ume},t))}var Bme=["shape","activeShape","activeIndex","cornerRadius"],$me=["value","background"];function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function Dp(){return Dp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dp.apply(this,arguments)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){Us(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rL(t,e){if(t==null)return{};var n=Vme(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QB(r.key),r)}}function zme(t,e,n){return e&&aL(t.prototype,e),n&&aL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gme(t,e,n){return e=Lp(e),Hme(t,JB()?Reflect.construct(e,n||[],Lp(t).constructor):e.apply(t,n))}function Hme(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kme(t)}function Kme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JB=function(){return!!t})()}function Lp(t){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lp(t)}function Yme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NA(t,e)}function NA(t,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},NA(t,e)}function Us(t,e,n){return e=QB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QB(t){var e=Wme(t,"string");return Pl(e)=="symbol"?e:e+""}function Wme(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $d=(function(t){function e(){var n;Fme(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Gme(this,e,[].concat(a)),Us(n,"state",{isAnimationFinished:!1}),Us(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Fe(o)&&o()}),Us(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Fe(o)&&o()}),n}return Yme(e,t),zme(e,[{key:"getDeltaAngle",value:function(){var r=this.props,a=r.startAngle,i=r.endAngle,o=Cn(i-a),u=Math.min(Math.abs(i-a),360);return o*u}},{key:"renderSectorsStatically",value:function(r){var a=this,i=this.props,o=i.shape,u=i.activeShape,f=i.activeIndex,d=i.cornerRadius,p=rL(i,Bme),h=Be(p,!1);return r.map(function(y,x){var T=x===f,w=En(En(En(En({},h),{},{cornerRadius:eL(d)},y),Ja(a.props,y,x)),{},{className:"recharts-radial-bar-sector ".concat(y.className),forceCornerRadius:p.forceCornerRadius,cornerIsExternal:p.cornerIsExternal,isActive:T,option:T?u:o});return te.createElement(tL,Dp({},w,{key:"sector-".concat(x)}))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,h=this.state.prevData;return te.createElement(xa,{begin:u,duration:f,isActive:o,easing:d,from:{t:0},to:{t:1},key:"radialBar-".concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,T=i.map(function(w,A){var C=h&&h[A];if(C){var j=ta(C.startAngle,w.startAngle),_=ta(C.endAngle,w.endAngle);return En(En({},w),{},{startAngle:j(x),endAngle:_(x)})}var M=w.endAngle,N=w.startAngle,k=ta(N,M);return En(En({},w),{},{endAngle:k(x)})});return te.createElement(st,null,r.renderSectorsStatically(T))})}},{key:"renderSectors",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!qd(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"renderBackground",value:function(r){var a=this,i=this.props.cornerRadius,o=Be(this.props.background,!1);return r.map(function(u,f){u.value;var d=u.background,p=rL(u,$me);if(!d)return null;var h=En(En(En(En(En({cornerRadius:eL(i)},p),{},{fill:"#eee"},d),o),Ja(a.props,u,f)),{},{index:f,className:Xe("recharts-radial-bar-background-sector",o==null?void 0:o.className),option:d,isActive:!1});return te.createElement(tL,Dp({},h,{key:"sector-".concat(f)}))})}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,u=r.background,f=r.isAnimationActive;if(a||!i||!i.length)return null;var d=this.state.isAnimationFinished,p=Xe("recharts-area",o);return te.createElement(st,{className:p},u&&te.createElement(st,{className:"recharts-radial-bar-background"},this.renderBackground(i)),te.createElement(st,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!f||d)&&Ya.renderCallByParent(En({},this.props),i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(I.PureComponent);Us($d,"displayName","RadialBar");Us($d,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!to.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1});Us($d,"getComposedData",function(t){var e=t.item,n=t.props,r=t.radiusAxis,a=t.radiusAxisTicks,i=t.angleAxis,o=t.angleAxisTicks,u=t.displayedData,f=t.dataKey,d=t.stackedData,p=t.barPosition,h=t.bandSize,y=t.dataStartIndex,x=NB(p,e);if(!x)return null;var T=i.cx,w=i.cy,A=n.layout,C=e.props,j=C.children,_=C.minPointSize,M=A==="radial"?i:r,N=d?M.scale.domain():null,k=MB({numericAxis:M}),P=Tr(j,Pd),R=u.map(function(L,U){var q,D,$,H,J,B;if(d?q=_B(d[y+U],N):(q=qn(L,f),Array.isArray(q)||(q=[k,q])),A==="radial"){D=Ap({axis:r,ticks:a,bandSize:h,offset:x.offset,entry:L,index:U}),J=i.scale(q[1]),H=i.scale(q[0]),$=D+x.size;var K=J-H;if(Math.abs(_)>0&&Math.abs(K)<Math.abs(_)){var W=Cn(K||_)*(Math.abs(_)-Math.abs(K));J+=W}B={background:{cx:T,cy:w,innerRadius:D,outerRadius:$,startAngle:n.startAngle,endAngle:n.endAngle}}}else{D=r.scale(q[0]),$=r.scale(q[1]),H=Ap({axis:i,ticks:o,bandSize:h,offset:x.offset,entry:L,index:U}),J=H+x.size;var re=$-D;if(Math.abs(_)>0&&Math.abs(re)<Math.abs(_)){var X=Cn(re||_)*(Math.abs(_)-Math.abs(re));$+=X}}return En(En(En(En({},L),B),{},{payload:L,value:d?q:q[1],cx:T,cy:w,innerRadius:D,outerRadius:$,startAngle:H,endAngle:J},P&&P[U]&&P[U].props),{},{tooltipPayload:[OE(e,L)],tooltipPosition:Mt(T,w,(D+$)/2,(H+J)/2)})});return{data:R,layout:A}});var gS,iL;function Xme(){if(iL)return gS;iL=1;var t=Math.ceil,e=Math.max;function n(r,a,i,o){for(var u=-1,f=e(t((a-r)/(i||1)),0),d=Array(f);f--;)d[o?f:++u]=r,r+=i;return d}return gS=n,gS}var yS,sL;function ZB(){if(sL)return yS;sL=1;var t=y5(),e=1/0,n=17976931348623157e292;function r(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var i=a<0?-1:1;return i*n}return a===a?a:0}return yS=r,yS}var vS,oL;function Jme(){if(oL)return vS;oL=1;var t=Xme(),e=wh(),n=ZB();function r(a){return function(i,o,u){return u&&typeof u!="number"&&e(i,o,u)&&(o=u=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),u=u===void 0?i<o?1:-1:n(u),t(i,o,u,a)}}return vS=r,vS}var xS,lL;function Qme(){if(lL)return xS;lL=1;var t=Jme(),e=t();return xS=e,xS}var Zme=Qme();const qp=ht(Zme);function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){e$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function e$(t,e,n){return e=epe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function epe(t){var e=tpe(t,"string");return dd(e)=="symbol"?e:e+""}function tpe(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var npe=["Webkit","Moz","O","ms"],rpe=function(e,n){var r=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=npe.reduce(function(i,o){return cL(cL({},i),{},e$({},o+r,n))},{});return a[e]=n,a};function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function Up(){return Up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Up.apply(this,arguments)}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function bS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){vr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ape(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function ipe(t,e,n){return e&&fL(t.prototype,e),n&&fL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function spe(t,e,n){return e=Bp(e),ope(t,t$()?Reflect.construct(e,n||[],Bp(t).constructor):e.apply(t,n))}function ope(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lpe(t)}function lpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function Bp(t){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bp(t)}function upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_A(t,e)}function _A(t,e){return _A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},_A(t,e)}function vr(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=cpe(t,"string");return Ol(e)=="symbol"?e:e+""}function cpe(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dpe=function(e){var n=e.data,r=e.startIndex,a=e.endIndex,i=e.x,o=e.width,u=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,d=xc().domain(qp(0,f)).range([i,i+o-u]),p=d.domain().map(function(h){return d(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(a),scale:d,scaleValues:p}},mL=function(e){return e.changedTouches&&!!e.changedTouches.length},Rl=(function(t){function e(n){var r;return ape(this,e),r=spe(this,e,[n]),vr(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),vr(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),vr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,i=a.endIndex,o=a.onDragEnd,u=a.startIndex;o==null||o({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),vr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),vr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),vr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),vr(r,"handleSlideDragStart",function(a){var i=mL(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return upe(e,t),ipe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,i=r.endX,o=this.state.scaleValues,u=this.props,f=u.gap,d=u.data,p=d.length-1,h=Math.min(a,i),y=Math.max(a,i),x=e.getIndexInRange(o,h),T=e.getIndexInRange(o,y);return{startIndex:x-x%f,endIndex:T===p?p:T-T%f}}},{key:"getTextOfTick",value:function(r){var a=this.props,i=a.data,o=a.tickFormatter,u=a.dataKey,f=qn(i[r],u,r);return Fe(o)?o(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,i=a.slideMoveStartX,o=a.startX,u=a.endX,f=this.props,d=f.x,p=f.width,h=f.travellerWidth,y=f.startIndex,x=f.endIndex,T=f.onChange,w=r.pageX-i;w>0?w=Math.min(w,d+p-h-u,d+p-h-o):w<0&&(w=Math.max(w,d-o,d-u));var A=this.getIndex({startX:o+w,endX:u+w});(A.startIndex!==y||A.endIndex!==x)&&T&&T(A),this.setState({startX:o+w,endX:u+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var i=mL(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,u=a.endX,f=a.startX,d=this.state[o],p=this.props,h=p.x,y=p.width,x=p.travellerWidth,T=p.onChange,w=p.gap,A=p.data,C={startX:this.state.startX,endX:this.state.endX},j=r.pageX-i;j>0?j=Math.min(j,h+y-x-d):j<0&&(j=Math.max(j,h-d)),C[o]=d+j;var _=this.getIndex(C),M=_.startIndex,N=_.endIndex,k=function(){var R=A.length-1;return o==="startX"&&(u>f?M%w===0:N%w===0)||u<f&&N===R||o==="endX"&&(u>f?N%w===0:M%w===0)||u>f&&N===R};this.setState(vr(vr({},o,d+j),"brushMoveStartX",r.pageX),function(){T&&k()&&T(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var i=this,o=this.state,u=o.scaleValues,f=o.startX,d=o.endX,p=this.state[a],h=u.indexOf(p);if(h!==-1){var y=h+r;if(!(y===-1||y>=u.length)){var x=u[y];a==="startX"&&x>=d||a==="endX"&&x<=f||this.setState(vr({},a,x),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,f=r.fill,d=r.stroke;return te.createElement("rect",{stroke:d,fill:f,x:a,y:i,width:o,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,f=r.data,d=r.children,p=r.padding,h=I.Children.only(d);return h?te.cloneElement(h,{x:a,y:i,width:o,height:u,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,a){var i,o,u=this,f=this.props,d=f.y,p=f.travellerWidth,h=f.height,y=f.traveller,x=f.ariaLabel,T=f.data,w=f.startIndex,A=f.endIndex,C=Math.max(r,this.props.x),j=bS(bS({},Be(this.props,!1)),{},{x:C,y:d,width:p,height:h}),_=x||"Min value: ".concat((i=T[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=T[A])===null||o===void 0?void 0:o.name);return te.createElement(st,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),u.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,a))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(y,j))}},{key:"renderSlide",value:function(r,a){var i=this.props,o=i.y,u=i.height,f=i.stroke,d=i.travellerWidth,p=Math.min(r,a)+d,h=Math.max(Math.abs(a-r)-d,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:o,width:h,height:u})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,i=r.endIndex,o=r.y,u=r.height,f=r.travellerWidth,d=r.stroke,p=this.state,h=p.startX,y=p.endX,x=5,T={pointerEvents:"none",fill:d};return te.createElement(st,{className:"recharts-brush-texts"},te.createElement(Fs,Up({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,y)-x,y:o+u/2},T),this.getTextOfTick(a)),te.createElement(Fs,Up({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,y)+f+x,y:o+u/2},T),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,a=r.data,i=r.className,o=r.children,u=r.x,f=r.y,d=r.width,p=r.height,h=r.alwaysShowText,y=this.state,x=y.startX,T=y.endX,w=y.isTextActive,A=y.isSlideMoving,C=y.isTravellerMoving,j=y.isTravellerFocused;if(!a||!a.length||!Ae(u)||!Ae(f)||!Ae(d)||!Ae(p)||d<=0||p<=0)return null;var _=Xe("recharts-brush",i),M=te.Children.count(o)===1,N=rpe("userSelect","none");return te.createElement(st,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),M&&this.renderPanorama(),this.renderSlide(x,T),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(T,"endX"),(w||A||C||j||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,i=r.y,o=r.width,u=r.height,f=r.stroke,d=Math.floor(i+u/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:a,y:i,width:o,height:u,fill:f,stroke:"none"}),te.createElement("line",{x1:a+1,y1:d,x2:a+o-1,y2:d,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:a+1,y1:d+2,x2:a+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var i;return te.isValidElement(r)?i=te.cloneElement(r,a):Fe(r)?i=r(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(r,a){var i=r.data,o=r.width,u=r.x,f=r.travellerWidth,d=r.updateId,p=r.startIndex,h=r.endIndex;if(i!==a.prevData||d!==a.prevUpdateId)return bS({prevData:i,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:o},i&&i.length?dpe({data:i,width:o,x:u,travellerWidth:f,startIndex:p,endIndex:h}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||u!==a.prevX||f!==a.prevTravellerWidth)){a.scale.range([u,u+o-f]);var y=a.scale.domain().map(function(x){return a.scale(x)});return{prevData:i,prevTravellerWidth:f,prevUpdateId:d,prevX:u,prevWidth:o,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,a){for(var i=r.length,o=0,u=i-1;u-o>1;){var f=Math.floor((o+u)/2);r[f]>a?u=f:o=f}return a>=r[u]?u:o}}])})(I.PureComponent);vr(Rl,"displayName","Brush");vr(Rl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var SS,pL;function fpe(){if(pL)return SS;pL=1;var t=sE();function e(n,r){var a;return t(n,function(i,o,u){return a=r(i,o,u),!a}),!!a}return SS=e,SS}var wS,hL;function mpe(){if(hL)return wS;hL=1;var t=YU(),e=wa(),n=fpe(),r=lr(),a=wh();function i(o,u,f){var d=r(o)?t:n;return f&&a(o,u,f)&&(u=void 0),d(o,e(u,3))}return wS=i,wS}var ppe=mpe();const hpe=ht(ppe);var ya=function(e,n){var r=e.alwaysShow,a=e.ifOverflow;return r&&(a="extendDomain"),a===n},AS,gL;function gpe(){if(gL)return AS;gL=1;var t=f5();function e(n,r,a){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[r]=a}return AS=e,AS}var TS,yL;function ype(){if(yL)return TS;yL=1;var t=gpe(),e=c5(),n=wa();function r(a,i){var o={};return i=n(i,3),e(a,function(u,f,d){t(o,f,i(u,f,d))}),o}return TS=r,TS}var vpe=ype();const xpe=ht(vpe);var ES,vL;function bpe(){if(vL)return ES;vL=1;function t(e,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!n(e[r],r,e))return!1;return!0}return ES=t,ES}var NS,xL;function Spe(){if(xL)return NS;xL=1;var t=sE();function e(n,r){var a=!0;return t(n,function(i,o,u){return a=!!r(i,o,u),a}),a}return NS=e,NS}var _S,bL;function wpe(){if(bL)return _S;bL=1;var t=bpe(),e=Spe(),n=wa(),r=lr(),a=wh();function i(o,u,f){var d=r(o)?t:e;return f&&a(o,u,f)&&(u=void 0),d(o,n(u,3))}return _S=i,_S}var Ape=wpe();const r$=ht(Ape);var Tpe=["x","y"];function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(this,arguments)}function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function sc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){Epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Epe(t,e,n){return e=Npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t){var e=_pe(t,"string");return fd(e)=="symbol"?e:e+""}function _pe(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cpe(t,e){if(t==null)return{};var n=Mpe(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jpe(t,e){var n=t.x,r=t.y,a=Cpe(t,Tpe),i="".concat(n),o=parseInt(i,10),u="".concat(r),f=parseInt(u,10),d="".concat(e.height||a.height),p=parseInt(d,10),h="".concat(e.width||a.width),y=parseInt(h,10);return sc(sc(sc(sc(sc({},e),a),o?{x:o}:{}),f?{y:f}:{}),{},{height:p,width:y,name:e.name,radius:e.radius})}function wL(t){return te.createElement(LE,CA({shapeType:"rectangle",propTransformer:jpe,activeClassName:"recharts-active-bar"},t))}var Ipe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof e=="number")return e;var i=Ae(r)||Gee(r);return i?e(r,a):(i||Gs(),n)}},kpe=["value","background"],a$;function Dl(t){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dl(t)}function Ppe(t,e){if(t==null)return{};var n=Ope(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ope(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){$i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s$(r.key),r)}}function Dpe(t,e,n){return e&&TL(t.prototype,e),n&&TL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lpe(t,e,n){return e=Vp(e),qpe(t,i$()?Reflect.construct(e,n||[],Vp(t).constructor):e.apply(t,n))}function qpe(t,e){if(e&&(Dl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Upe(t)}function Upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function Vp(t){return Vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vp(t)}function Bpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},MA(t,e)}function $i(t,e,n){return e=s$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s$(t){var e=$pe(t,"string");return Dl(e)=="symbol"?e:e+""}function $pe(t,e){if(Dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ma=(function(t){function e(){var n;Rpe(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Lpe(this,e,[].concat(a)),$i(n,"state",{isAnimationFinished:!1}),$i(n,"id",Id("recharts-bar-")),$i(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),$i(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Bpe(e,t),Dpe(e,[{key:"renderRectanglesStatically",value:function(r){var a=this,i=this.props,o=i.shape,u=i.dataKey,f=i.activeIndex,d=i.activeBar,p=Be(this.props,!1);return r&&r.map(function(h,y){var x=y===f,T=x?d:o,w=cn(cn(cn({},p),h),{},{isActive:x,option:T,index:y,dataKey:u,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return te.createElement(st,$p({className:"recharts-bar-rectangle"},Ja(a.props,h,y),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(y)}),te.createElement(wL,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,i=a.data,o=a.layout,u=a.isAnimationActive,f=a.animationBegin,d=a.animationDuration,p=a.animationEasing,h=a.animationId,y=this.state.prevData;return te.createElement(xa,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var T=x.t,w=i.map(function(A,C){var j=y&&y[C];if(j){var _=ta(j.x,A.x),M=ta(j.y,A.y),N=ta(j.width,A.width),k=ta(j.height,A.height);return cn(cn({},A),{},{x:_(T),y:M(T),width:N(T),height:k(T)})}if(o==="horizontal"){var P=ta(0,A.height),R=P(T);return cn(cn({},A),{},{y:A.y+A.height-R,height:R})}var L=ta(0,A.width),U=L(T);return cn(cn({},A),{},{width:U})});return te.createElement(st,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,i=r.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!qd(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,i=a.data,o=a.dataKey,u=a.activeIndex,f=Be(this.props.background,!1);return i.map(function(d,p){d.value;var h=d.background,y=Ppe(d,kpe);if(!h)return null;var x=cn(cn(cn(cn(cn({},y),{},{fill:"#eee"},h),f),Ja(r.props,d,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:p,className:"recharts-bar-background-rectangle"});return te.createElement(wL,$p({key:"background-bar-".concat(p),option:r.props.background,isActive:p===u},x))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,u=i.xAxis,f=i.yAxis,d=i.layout,p=i.children,h=Tr(p,Oh);if(!h)return null;var y=d==="vertical"?o[0].height/2:o[0].width/2,x=function(A,C){var j=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:j,errorVal:qn(A,C)}},T={clipPath:r?"url(#clipPath-".concat(a,")"):null};return te.createElement(st,T,h.map(function(w){return te.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:o,xAxis:u,yAxis:f,layout:d,offset:y,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,i=r.data,o=r.className,u=r.xAxis,f=r.yAxis,d=r.left,p=r.top,h=r.width,y=r.height,x=r.isAnimationActive,T=r.background,w=r.id;if(a||!i||!i.length)return null;var A=this.state.isAnimationFinished,C=Xe("recharts-bar",o),j=u&&u.allowDataOverflow,_=f&&f.allowDataOverflow,M=j||_,N=Ze(w)?this.id:w;return te.createElement(st,{className:C},j||_?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(N)},te.createElement("rect",{x:j?d:d-h/2,y:_?p:p-y/2,width:j?h:h*2,height:_?y:y*2}))):null,te.createElement(st,{className:"recharts-bar-rectangles",clipPath:M?"url(#clipPath-".concat(N,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(M,N),(!x||A)&&Ya.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])})(I.PureComponent);a$=ma;$i(ma,"displayName","Bar");$i(ma,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!to.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});$i(ma,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,u=t.xAxisTicks,f=t.yAxisTicks,d=t.stackedData,p=t.dataStartIndex,h=t.displayedData,y=t.offset,x=NB(r,n);if(!x)return null;var T=e.layout,w=n.type.defaultProps,A=w!==void 0?cn(cn({},w),n.props):n.props,C=A.dataKey,j=A.children,_=A.minPointSize,M=T==="horizontal"?o:i,N=d?M.scale.domain():null,k=MB({numericAxis:M}),P=Tr(j,Pd),R=h.map(function(L,U){var q,D,$,H,J,B;d?q=_B(d[p+U],N):(q=qn(L,C),Array.isArray(q)||(q=[k,q]));var K=Ipe(_,a$.defaultProps.minPointSize)(q[1],U);if(T==="horizontal"){var W,re=[o.scale(q[0]),o.scale(q[1])],X=re[0],V=re[1];D=Ap({axis:i,ticks:u,bandSize:a,offset:x.offset,entry:L,index:U}),$=(W=V??X)!==null&&W!==void 0?W:void 0,H=x.size;var z=X-V;if(J=Number.isNaN(z)?0:z,B={x:D,y:o.y,width:H,height:o.height},Math.abs(K)>0&&Math.abs(J)<Math.abs(K)){var Y=Cn(J||K)*(Math.abs(K)-Math.abs(J));$-=Y,J+=Y}}else{var ee=[i.scale(q[0]),i.scale(q[1])],le=ee[0],xe=ee[1];if(D=le,$=Ap({axis:o,ticks:f,bandSize:a,offset:x.offset,entry:L,index:U}),H=xe-le,J=x.size,B={x:i.x,y:$,width:i.width,height:J},Math.abs(K)>0&&Math.abs(H)<Math.abs(K)){var Te=Cn(H||K)*(Math.abs(K)-Math.abs(H));H+=Te}}return cn(cn(cn({},L),{},{x:D,y:$,width:H,height:J,value:d?q:q[1],payload:L,background:B},P&&P[U]&&P[U].props),{},{tooltipPayload:[OE(n,L)],tooltipPosition:{x:D+H/2,y:$+J/2}})});return cn({data:R,layout:T},y)});function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Vpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o$(r.key),r)}}function Fpe(t,e,n){return e&&EL(t.prototype,e),n&&EL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){Uh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uh(t,e,n){return e=o$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=zpe(t,"string");return md(e)=="symbol"?e:e+""}function zpe(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gpe=function(e,n,r,a,i){var o=e.width,u=e.height,f=e.layout,d=e.children,p=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},y=!!br(d,ma);return p.reduce(function(x,T){var w=n[T],A=w.orientation,C=w.domain,j=w.padding,_=j===void 0?{}:j,M=w.mirror,N=w.reversed,k="".concat(A).concat(M?"Mirror":""),P,R,L,U,q;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var D=C[1]-C[0],$=1/0,H=w.categoricalDomain.sort(Yee);if(H.forEach(function(ee,le){le>0&&($=Math.min((ee||0)-(H[le-1]||0),$))}),Number.isFinite($)){var J=$/D,B=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(P=J*B/2),w.padding==="no-gap"){var K=Yn(e.barCategoryGap,J*B),W=J*B/2;P=W-K-(W-K)/B*K}}}a==="xAxis"?R=[r.left+(_.left||0)+(P||0),r.left+r.width-(_.right||0)-(P||0)]:a==="yAxis"?R=f==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(P||0),r.top+r.height-(_.bottom||0)-(P||0)]:R=w.range,N&&(R=[R[1],R[0]]);var re=TB(w,i,y),X=re.scale,V=re.realScaleType;X.domain(C).range(R),EB(X);var z=CB(X,ea(ea({},w),{},{realScaleType:V}));a==="xAxis"?(q=A==="top"&&!M||A==="bottom"&&M,L=r.left,U=h[k]-q*w.height):a==="yAxis"&&(q=A==="left"&&!M||A==="right"&&M,L=h[k]-q*w.width,U=r.top);var Y=ea(ea(ea({},w),z),{},{realScaleType:V,x:L,y:U,scale:X,width:a==="xAxis"?r.width:w.width,height:a==="yAxis"?r.height:w.height});return Y.bandSize=Tp(Y,z),!w.hide&&a==="xAxis"?h[k]+=(q?-1:1)*Y.height:w.hide||(h[k]+=(q?-1:1)*Y.width),ea(ea({},x),{},Uh({},T,Y))},{})},l$=function(e,n){var r=e.x,a=e.y,i=n.x,o=n.y;return{x:Math.min(r,i),y:Math.min(a,o),width:Math.abs(i-r),height:Math.abs(o-a)}},Hpe=function(e){var n=e.x1,r=e.y1,a=e.x2,i=e.y2;return l$({x:n,y:r},{x:a,y:i})},u$=(function(){function t(e){Vpe(this,t),this.scale=e}return Fpe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(a){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],i=r[r.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])})();Uh(u$,"EPS",1e-4);var qE=function(e){var n=Object.keys(e).reduce(function(r,a){return ea(ea({},r),{},Uh({},a,u$.create(e[a])))},{});return ea(ea({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,u=i.position;return xpe(a,function(f,d){return n[d].apply(f,{bandAware:o,position:u})})},isInRange:function(a){return r$(a,function(i,o){return n[o].isInRange(i)})}})};function Kpe(t){return(t%180+180)%180}var Ype=function(e){var n=e.width,r=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Kpe(a),o=i*Math.PI/180,u=Math.atan(r/n),f=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(f)},CS,_L;function Wpe(){if(_L)return CS;_L=1;var t=wa(),e=kd(),n=bh();function r(a){return function(i,o,u){var f=Object(i);if(!e(i)){var d=t(o,3);i=n(i),o=function(h){return d(f[h],h,f)}}var p=a(i,o,u);return p>-1?f[d?i[p]:p]:void 0}}return CS=r,CS}var MS,CL;function Xpe(){if(CL)return MS;CL=1;var t=ZB();function e(n){var r=t(n),a=r%1;return r===r?a?r-a:r:0}return MS=e,MS}var jS,ML;function Jpe(){if(ML)return jS;ML=1;var t=i5(),e=wa(),n=Xpe(),r=Math.max;function a(i,o,u){var f=i==null?0:i.length;if(!f)return-1;var d=u==null?0:n(u);return d<0&&(d=r(f+d,0)),t(i,e(o,3),d)}return jS=a,jS}var IS,jL;function Qpe(){if(jL)return IS;jL=1;var t=Wpe(),e=Jpe(),n=t(e);return IS=n,IS}var Zpe=Qpe();const ehe=ht(Zpe);var the=SU();const nhe=ht(the);var rhe=nhe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),UE=I.createContext(void 0),BE=I.createContext(void 0),c$=I.createContext(void 0),d$=I.createContext({}),f$=I.createContext(void 0),m$=I.createContext(0),p$=I.createContext(0),IL=function(e){var n=e.state,r=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=e.clipPathId,u=e.children,f=e.width,d=e.height,p=rhe(i);return te.createElement(UE.Provider,{value:r},te.createElement(BE.Provider,{value:a},te.createElement(d$.Provider,{value:i},te.createElement(c$.Provider,{value:p},te.createElement(f$.Provider,{value:o},te.createElement(m$.Provider,{value:d},te.createElement(p$.Provider,{value:f},u)))))))},ahe=function(){return I.useContext(f$)},h$=function(e){var n=I.useContext(UE);n==null&&Gs();var r=n[e];return r==null&&Gs(),r},ihe=function(){var e=I.useContext(UE);return Ui(e)},she=function(){var e=I.useContext(BE),n=ehe(e,function(r){return r$(r.domain,Number.isFinite)});return n||Ui(e)},g$=function(e){var n=I.useContext(BE);n==null&&Gs();var r=n[e];return r==null&&Gs(),r},ohe=function(){var e=I.useContext(c$);return e},lhe=function(){return I.useContext(d$)},$E=function(){return I.useContext(p$)},VE=function(){return I.useContext(m$)};function Ll(t){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ll(t)}function uhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function che(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v$(r.key),r)}}function dhe(t,e,n){return e&&che(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fhe(t,e,n){return e=Fp(e),mhe(t,y$()?Reflect.construct(e,n||[],Fp(t).constructor):e.apply(t,n))}function mhe(t,e){if(e&&(Ll(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return phe(t)}function phe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y$=function(){return!!t})()}function Fp(t){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fp(t)}function hhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jA(t,e)}function jA(t,e){return jA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},jA(t,e)}function kL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kL(Object(n),!0).forEach(function(r){FE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FE(t,e,n){return e=v$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v$(t){var e=ghe(t,"string");return Ll(e)=="symbol"?e:e+""}function ghe(t,e){if(Ll(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yhe(t,e){return She(t)||bhe(t,e)||xhe(t,e)||vhe()}function vhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xhe(t,e){if(t){if(typeof t=="string")return OL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OL(t,e)}}function OL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bhe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function She(t){if(Array.isArray(t))return t}function IA(){return IA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IA.apply(this,arguments)}var whe=function(e,n){var r;return te.isValidElement(e)?r=te.cloneElement(e,n):Fe(e)?r=e(n):r=te.createElement("line",IA({},n,{className:"recharts-reference-line-line"})),r},Ahe=function(e,n,r,a,i,o,u,f,d){var p=i.x,h=i.y,y=i.width,x=i.height;if(r){var T=d.y,w=e.y.apply(T,{position:o});if(ya(d,"discard")&&!e.y.isInRange(w))return null;var A=[{x:p+y,y:w},{x:p,y:w}];return f==="left"?A.reverse():A}if(n){var C=d.x,j=e.x.apply(C,{position:o});if(ya(d,"discard")&&!e.x.isInRange(j))return null;var _=[{x:j,y:h+x},{x:j,y:h}];return u==="top"?_.reverse():_}if(a){var M=d.segment,N=M.map(function(k){return e.apply(k,{position:o})});return ya(d,"discard")&&hpe(N,function(k){return!e.isInRange(k)})?null:N}return null};function The(t){var e=t.x,n=t.y,r=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,u=t.className,f=t.alwaysShow,d=ahe(),p=h$(a),h=g$(i),y=ohe();if(!d||!y)return null;ra(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=qE({x:p.scale,y:h.scale}),T=Sn(e),w=Sn(n),A=r&&r.length===2,C=Ahe(x,T,w,A,y,t.position,p.orientation,h.orientation,t);if(!C)return null;var j=yhe(C,2),_=j[0],M=_.x,N=_.y,k=j[1],P=k.x,R=k.y,L=ya(t,"hidden")?"url(#".concat(d,")"):void 0,U=PL(PL({clipPath:L},Be(t,!0)),{},{x1:M,y1:N,x2:P,y2:R});return te.createElement(st,{className:Xe("recharts-reference-line",u)},whe(o,U),_n.renderCallByParent(t,Hpe({x1:M,y1:N,x2:P,y2:R})))}var zE=(function(t){function e(){return uhe(this,e),fhe(this,e,arguments)}return hhe(e,t),dhe(e,[{key:"render",value:function(){return te.createElement(The,this.props)}}])})(te.Component);FE(zE,"displayName","ReferenceLine");FE(zE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kA.apply(this,arguments)}function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function DL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){Bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b$(r.key),r)}}function _he(t,e,n){return e&&Nhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Che(t,e,n){return e=zp(e),Mhe(t,x$()?Reflect.construct(e,n||[],zp(t).constructor):e.apply(t,n))}function Mhe(t,e){if(e&&(ql(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jhe(t)}function jhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x$=function(){return!!t})()}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zp(t)}function Ihe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}function PA(t,e){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},PA(t,e)}function Bh(t,e,n){return e=b$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b$(t){var e=khe(t,"string");return ql(e)=="symbol"?e:e+""}function khe(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Phe=function(e){var n=e.x,r=e.y,a=e.xAxis,i=e.yAxis,o=qE({x:a.scale,y:i.scale}),u=o.apply({x:n,y:r},{bandAware:!0});return ya(e,"discard")&&!o.isInRange(u)?null:u},$h=(function(t){function e(){return Ehe(this,e),Che(this,e,arguments)}return Ihe(e,t),_he(e,[{key:"render",value:function(){var r=this.props,a=r.x,i=r.y,o=r.r,u=r.alwaysShow,f=r.clipPathId,d=Sn(a),p=Sn(i);if(ra(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!p)return null;var h=Phe(this.props);if(!h)return null;var y=h.x,x=h.y,T=this.props,w=T.shape,A=T.className,C=ya(this.props,"hidden")?"url(#".concat(f,")"):void 0,j=DL(DL({clipPath:C},Be(this.props,!0)),{},{cx:y,cy:x});return te.createElement(st,{className:Xe("recharts-reference-dot",A)},e.renderDot(w,j),_n.renderCallByParent(this.props,{x:y-o,y:x-o,width:2*o,height:2*o}))}}])})(te.Component);Bh($h,"displayName","ReferenceDot");Bh($h,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bh($h,"renderDot",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):Fe(t)?n=t(e):n=te.createElement(DE,kA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function OA(){return OA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OA.apply(this,arguments)}function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(Object(n),!0).forEach(function(r){Vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ohe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rhe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w$(r.key),r)}}function Dhe(t,e,n){return e&&Rhe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lhe(t,e,n){return e=Gp(e),qhe(t,S$()?Reflect.construct(e,n||[],Gp(t).constructor):e.apply(t,n))}function qhe(t,e){if(e&&(Ul(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uhe(t)}function Uhe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S$=function(){return!!t})()}function Gp(t){return Gp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gp(t)}function Bhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},RA(t,e)}function Vh(t,e,n){return e=w$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w$(t){var e=$he(t,"string");return Ul(e)=="symbol"?e:e+""}function $he(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vhe=function(e,n,r,a,i){var o=i.x1,u=i.x2,f=i.y1,d=i.y2,p=i.xAxis,h=i.yAxis;if(!p||!h)return null;var y=qE({x:p.scale,y:h.scale}),x={x:e?y.x.apply(o,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(f,{position:"start"}):y.y.rangeMin},T={x:n?y.x.apply(u,{position:"end"}):y.x.rangeMax,y:a?y.y.apply(d,{position:"end"}):y.y.rangeMax};return ya(i,"discard")&&(!y.isInRange(x)||!y.isInRange(T))?null:l$(x,T)},Fh=(function(t){function e(){return Ohe(this,e),Lhe(this,e,arguments)}return Bhe(e,t),Dhe(e,[{key:"render",value:function(){var r=this.props,a=r.x1,i=r.x2,o=r.y1,u=r.y2,f=r.className,d=r.alwaysShow,p=r.clipPathId;ra(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Sn(a),y=Sn(i),x=Sn(o),T=Sn(u),w=this.props.shape;if(!h&&!y&&!x&&!T&&!w)return null;var A=Vhe(h,y,x,T,this.props);if(!A&&!w)return null;var C=ya(this.props,"hidden")?"url(#".concat(p,")"):void 0;return te.createElement(st,{className:Xe("recharts-reference-area",f)},e.renderRect(w,qL(qL({clipPath:C},Be(this.props,!0)),A)),_n.renderCallByParent(this.props,A))}}])})(te.Component);Vh(Fh,"displayName","ReferenceArea");Vh(Fh,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Vh(Fh,"renderRect",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):Fe(t)?n=t(e):n=te.createElement(RE,OA({},e,{className:"recharts-reference-area-rect"})),n});function A$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function Fhe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ype(r,n)}function zhe(t,e,n){var r=n==="width",a=t.x,i=t.y,o=t.width,u=t.height;return e===1?{start:r?a:i,end:r?a+o:i+u}:{start:r?a+o:i+u,end:r?a:i}}function Hp(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var i=n();return t*(e-t*i/2-r)>=0&&t*(e+t*i/2-a)<=0}function Ghe(t,e){return A$(t,e+1)}function Hhe(t,e,n,r,a){for(var i=(r||[]).slice(),o=e.start,u=e.end,f=0,d=1,p=o,h=function(){var T=r==null?void 0:r[f];if(T===void 0)return{v:A$(r,d)};var w=f,A,C=function(){return A===void 0&&(A=n(T,w)),A},j=T.coordinate,_=f===0||Hp(t,j,C,p,u);_||(f=0,p=o,d+=1),_&&(p=j+t*(C()/2+a),f+=d)},y;d<=i.length;)if(y=h(),y)return y.v;return[]}function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){Khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Khe(t,e,n){return e=Yhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yhe(t){var e=Whe(t,"string");return pd(e)=="symbol"?e:e+""}function Whe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xhe(t,e,n,r,a){for(var i=(r||[]).slice(),o=i.length,u=e.start,f=e.end,d=function(y){var x=i[y],T,w=function(){return T===void 0&&(T=n(x,y)),T};if(y===o-1){var A=t*(x.coordinate+t*w()/2-f);i[y]=x=Bn(Bn({},x),{},{tickCoord:A>0?x.coordinate-A*t:x.coordinate})}else i[y]=x=Bn(Bn({},x),{},{tickCoord:x.coordinate});var C=Hp(t,x.tickCoord,w,u,f);C&&(f=x.tickCoord-t*(w()/2+a),i[y]=Bn(Bn({},x),{},{isShow:!0}))},p=o-1;p>=0;p--)d(p);return i}function Jhe(t,e,n,r,a,i){var o=(r||[]).slice(),u=o.length,f=e.start,d=e.end;if(i){var p=r[u-1],h=n(p,u-1),y=t*(p.coordinate+t*h/2-d);o[u-1]=p=Bn(Bn({},p),{},{tickCoord:y>0?p.coordinate-y*t:p.coordinate});var x=Hp(t,p.tickCoord,function(){return h},f,d);x&&(d=p.tickCoord-t*(h/2+a),o[u-1]=Bn(Bn({},p),{},{isShow:!0}))}for(var T=i?u-1:u,w=function(j){var _=o[j],M,N=function(){return M===void 0&&(M=n(_,j)),M};if(j===0){var k=t*(_.coordinate-t*N()/2-f);o[j]=_=Bn(Bn({},_),{},{tickCoord:k<0?_.coordinate-k*t:_.coordinate})}else o[j]=_=Bn(Bn({},_),{},{tickCoord:_.coordinate});var P=Hp(t,_.tickCoord,N,f,d);P&&(f=_.tickCoord+t*(N()/2+a),o[j]=Bn(Bn({},_),{},{isShow:!0}))},A=0;A<T;A++)w(A);return o}function GE(t,e,n){var r=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,u=t.orientation,f=t.interval,d=t.tickFormatter,p=t.unit,h=t.angle;if(!a||!a.length||!r)return[];if(Ae(f)||to.isSsr)return Ghe(a,typeof f=="number"&&Ae(f)?f:0);var y=[],x=u==="top"||u==="bottom"?"width":"height",T=p&&x==="width"?vc(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(_,M){var N=Fe(d)?d(_.value,M):_.value;return x==="width"?Fhe(vc(N,{fontSize:e,letterSpacing:n}),T,h):vc(N,{fontSize:e,letterSpacing:n})[x]},A=a.length>=2?Cn(a[1].coordinate-a[0].coordinate):1,C=zhe(i,A,x);return f==="equidistantPreserveStart"?Hhe(A,C,w,a,o):(f==="preserveStart"||f==="preserveStartEnd"?y=Jhe(A,C,w,a,o,f==="preserveStartEnd"):y=Xhe(A,C,w,a,o),y.filter(function(j){return j.isShow}))}var Qhe=["viewBox"],Zhe=["viewBox"],ege=["ticks"];function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function ll(){return ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ll.apply(this,arguments)}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function xn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){HE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kS(t,e){if(t==null)return{};var n=tge(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,E$(r.key),r)}}function rge(t,e,n){return e&&$L(t.prototype,e),n&&$L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function age(t,e,n){return e=Kp(e),ige(t,T$()?Reflect.construct(e,n||[],Kp(t).constructor):e.apply(t,n))}function ige(t,e){if(e&&(Bl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sge(t)}function sge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function Kp(t){return Kp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kp(t)}function oge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},DA(t,e)}function HE(t,e,n){return e=E$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E$(t){var e=lge(t,"string");return Bl(e)=="symbol"?e:e+""}function lge(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ru=(function(t){function e(n){var r;return nge(this,e),r=age(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oge(e,t),rge(e,[{key:"shouldComponentUpdate",value:function(r,a){var i=r.viewBox,o=kS(r,Qhe),u=this.props,f=u.viewBox,d=kS(u,Zhe);return!hl(i,f)||!hl(o,d)||!hl(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,i=a.x,o=a.y,u=a.width,f=a.height,d=a.orientation,p=a.tickSize,h=a.mirror,y=a.tickMargin,x,T,w,A,C,j,_=h?-1:1,M=r.tickSize||p,N=Ae(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":x=T=r.coordinate,A=o+ +!h*f,w=A-_*M,j=w-_*y,C=N;break;case"left":w=A=r.coordinate,T=i+ +!h*u,x=T-_*M,C=x-_*y,j=N;break;case"right":w=A=r.coordinate,T=i+ +h*u,x=T+_*M,C=x+_*y,j=N;break;default:x=T=r.coordinate,A=o+ +h*f,w=A+_*M,j=w+_*y,C=N;break}return{line:{x1:x,y1:w,x2:T,y2:A},tick:{x:C,y:j}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,i=r.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,i=r.y,o=r.width,u=r.height,f=r.orientation,d=r.mirror,p=r.axisLine,h=xn(xn(xn({},Be(this.props,!1)),Be(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var y=+(f==="top"&&!d||f==="bottom"&&d);h=xn(xn({},h),{},{x1:a,y1:i+y*u,x2:a+o,y2:i+y*u})}else{var x=+(f==="left"&&!d||f==="right"&&d);h=xn(xn({},h),{},{x1:a+x*o,y1:i,x2:a+x*o,y2:i+u})}return te.createElement("line",ll({},h,{className:Xe("recharts-cartesian-axis-line",Ar(p,"className"))}))}},{key:"renderTicks",value:function(r,a,i){var o=this,u=this.props,f=u.tickLine,d=u.stroke,p=u.tick,h=u.tickFormatter,y=u.unit,x=GE(xn(xn({},this.props),{},{ticks:r}),a,i),T=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),A=Be(this.props,!1),C=Be(p,!1),j=xn(xn({},A),{},{fill:"none"},Be(f,!1)),_=x.map(function(M,N){var k=o.getTickLineCoord(M),P=k.line,R=k.tick,L=xn(xn(xn(xn({textAnchor:T,verticalAnchor:w},A),{},{stroke:"none",fill:d},C),R),{},{index:N,payload:M,visibleTicksCount:x.length,tickFormatter:h});return te.createElement(st,ll({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Ja(o.props,M,N)),f&&te.createElement("line",ll({},j,P,{className:Xe("recharts-cartesian-axis-tick-line",Ar(f,"className"))})),p&&e.renderTickItem(p,L,"".concat(Fe(h)?h(M.value,N):M.value).concat(y||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,a=this.props,i=a.axisLine,o=a.width,u=a.height,f=a.ticksGenerator,d=a.className,p=a.hide;if(p)return null;var h=this.props,y=h.ticks,x=kS(h,ege),T=y;return Fe(f)&&(T=y&&y.length>0?f(this.props):f(x)),o<=0||u<=0||!T||!T.length?null:te.createElement(st,{className:Xe("recharts-cartesian-axis",d),ref:function(A){r.layerReference=A}},i&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),_n.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,i){var o,u=Xe(a.className,"recharts-cartesian-axis-tick-value");return te.isValidElement(r)?o=te.cloneElement(r,xn(xn({},a),{},{className:u})):Fe(r)?o=r(xn(xn({},a),{},{className:u})):o=te.createElement(Fs,ll({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(I.Component);HE(ru,"displayName","CartesianAxis");HE(ru,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uge=["x1","y1","x2","y2","key"],cge=["offset"];function Hs(t){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){dge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dge(t,e,n){return e=fge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fge(t){var e=mge(t,"string");return Hs(e)=="symbol"?e:e+""}function mge(t,e){if(Hs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ks(){return ks=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ks.apply(this,arguments)}function FL(t,e){if(t==null)return{};var n=pge(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var hge=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,a=e.x,i=e.y,o=e.width,u=e.height,f=e.ry;return te.createElement("rect",{x:a,y:i,ry:f,width:o,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function N$(t,e){var n;if(te.isValidElement(t))n=te.cloneElement(t,e);else if(Fe(t))n=t(e);else{var r=e.x1,a=e.y1,i=e.x2,o=e.y2,u=e.key,f=FL(e,uge),d=Be(f,!1);d.offset;var p=FL(d,cge);n=te.createElement("line",ks({},p,{x1:r,y1:a,x2:i,y2:o,fill:"none",key:u}))}return n}function gge(t){var e=t.x,n=t.width,r=t.horizontal,a=r===void 0?!0:r,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,f){var d=Vn(Vn({},t),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(f),index:f});return N$(a,d)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function yge(t){var e=t.y,n=t.height,r=t.vertical,a=r===void 0?!0:r,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(u,f){var d=Vn(Vn({},t),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(f),index:f});return N$(a,d)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function vge(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,a=t.y,i=t.width,o=t.height,u=t.horizontalPoints,f=t.horizontal,d=f===void 0?!0:f;if(!d||!e||!e.length)return null;var p=u.map(function(y){return Math.round(y+a-a)}).sort(function(y,x){return y-x});a!==p[0]&&p.unshift(0);var h=p.map(function(y,x){var T=!p[x+1],w=T?a+o-y:p[x+1]-y;if(w<=0)return null;var A=x%e.length;return te.createElement("rect",{key:"react-".concat(x),y,x:r,height:w,width:i,stroke:"none",fill:e[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function xge(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,u=t.width,f=t.height,d=t.verticalPoints;if(!n||!r||!r.length)return null;var p=d.map(function(y){return Math.round(y+i-i)}).sort(function(y,x){return y-x});i!==p[0]&&p.unshift(0);var h=p.map(function(y,x){var T=!p[x+1],w=T?i+u-y:p[x+1]-y;if(w<=0)return null;var A=x%r.length;return te.createElement("rect",{key:"react-".concat(x),x:y,y:o,width:w,height:f,stroke:"none",fill:r[A],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bge=function(e,n){var r=e.xAxis,a=e.width,i=e.height,o=e.offset;return AB(GE(Vn(Vn(Vn({},ru.defaultProps),r),{},{ticks:Ga(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},Sge=function(e,n){var r=e.yAxis,a=e.width,i=e.height,o=e.offset;return AB(GE(Vn(Vn(Vn({},ru.defaultProps),r),{},{ticks:Ga(r,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},Jo={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function LA(t){var e,n,r,a,i,o,u=$E(),f=VE(),d=lhe(),p=Vn(Vn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Jo.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Jo.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Jo.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Jo.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Jo.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Jo.verticalFill,x:Ae(t.x)?t.x:d.left,y:Ae(t.y)?t.y:d.top,width:Ae(t.width)?t.width:d.width,height:Ae(t.height)?t.height:d.height}),h=p.x,y=p.y,x=p.width,T=p.height,w=p.syncWithTicks,A=p.horizontalValues,C=p.verticalValues,j=ihe(),_=she();if(!Ae(x)||x<=0||!Ae(T)||T<=0||!Ae(h)||h!==+h||!Ae(y)||y!==+y)return null;var M=p.verticalCoordinatesGenerator||bge,N=p.horizontalCoordinatesGenerator||Sge,k=p.horizontalPoints,P=p.verticalPoints;if((!k||!k.length)&&Fe(N)){var R=A&&A.length,L=N({yAxis:_?Vn(Vn({},_),{},{ticks:R?A:_.ticks}):void 0,width:u,height:f,offset:d},R?!0:w);ra(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hs(L),"]")),Array.isArray(L)&&(k=L)}if((!P||!P.length)&&Fe(M)){var U=C&&C.length,q=M({xAxis:j?Vn(Vn({},j),{},{ticks:U?C:j.ticks}):void 0,width:u,height:f,offset:d},U?!0:w);ra(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hs(q),"]")),Array.isArray(q)&&(P=q)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(hge,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),te.createElement(gge,ks({},p,{offset:d,horizontalPoints:k,xAxis:j,yAxis:_})),te.createElement(yge,ks({},p,{offset:d,verticalPoints:P,xAxis:j,yAxis:_})),te.createElement(vge,ks({},p,{horizontalPoints:k})),te.createElement(xge,ks({},p,{verticalPoints:P})))}LA.displayName="CartesianGrid";function $l(t){"@babel/helpers - typeof";return $l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$l(t)}function wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Age(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M$(r.key),r)}}function Tge(t,e,n){return e&&Age(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ege(t,e,n){return e=Yp(e),Nge(t,_$()?Reflect.construct(e,n||[],Yp(t).constructor):e.apply(t,n))}function Nge(t,e){if(e&&($l(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ge(t)}function _ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_$=function(){return!!t})()}function Yp(t){return Yp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yp(t)}function Cge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qA(t,e)}function qA(t,e){return qA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qA(t,e)}function C$(t,e,n){return e=M$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M$(t){var e=Mge(t,"string");return $l(e)=="symbol"?e:e+""}function Mge(t,e){if($l(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($l(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}function jge(t){var e=t.xAxisId,n=$E(),r=VE(),a=h$(e);return a==null?null:I.createElement(ru,UA({},a,{className:Xe("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ga(o,!0)}}))}var hd=(function(t){function e(){return wge(this,e),Ege(this,e,arguments)}return Cge(e,t),Tge(e,[{key:"render",value:function(){return I.createElement(jge,this.props)}}])})(I.Component);C$(hd,"displayName","XAxis");C$(hd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vl(t){"@babel/helpers - typeof";return Vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vl(t)}function Ige(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k$(r.key),r)}}function Pge(t,e,n){return e&&kge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oge(t,e,n){return e=Wp(e),Rge(t,j$()?Reflect.construct(e,n||[],Wp(t).constructor):e.apply(t,n))}function Rge(t,e){if(e&&(Vl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dge(t)}function Dge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function Wp(t){return Wp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wp(t)}function Lge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},BA(t,e)}function I$(t,e,n){return e=k$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=qge(t,"string");return Vl(e)=="symbol"?e:e+""}function qge(t,e){if(Vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(this,arguments)}var Uge=function(e){var n=e.yAxisId,r=$E(),a=VE(),i=g$(n);return i==null?null:I.createElement(ru,$A({},i,{className:Xe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(u){return Ga(u,!0)}}))},gd=(function(t){function e(){return Ige(this,e),Oge(this,e,arguments)}return Lge(e,t),Pge(e,[{key:"render",value:function(){return I.createElement(Uge,this.props)}}])})(I.Component);I$(gd,"displayName","YAxis");I$(gd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function zL(t){return Fge(t)||Vge(t)||$ge(t)||Bge()}function Bge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ge(t,e){if(t){if(typeof t=="string")return VA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(t,e)}}function Vge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fge(t){if(Array.isArray(t))return VA(t)}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var FA=function(e,n,r,a,i){var o=Tr(e,zE),u=Tr(e,$h),f=[].concat(zL(o),zL(u)),d=Tr(e,Fh),p="".concat(a,"Id"),h=a[0],y=n;if(f.length&&(y=f.reduce(function(w,A){if(A.props[p]===r&&ya(A.props,"extendDomain")&&Ae(A.props[h])){var C=A.props[h];return[Math.min(w[0],C),Math.max(w[1],C)]}return w},y)),d.length){var x="".concat(h,"1"),T="".concat(h,"2");y=d.reduce(function(w,A){if(A.props[p]===r&&ya(A.props,"extendDomain")&&Ae(A.props[x])&&Ae(A.props[T])){var C=A.props[x],j=A.props[T];return[Math.min(w[0],C,j),Math.max(w[1],C,j)]}return w},y)}return i&&i.length&&(y=i.reduce(function(w,A){return Ae(A)?[Math.min(w[0],A),Math.max(w[1],A)]:w},y)),y},PS={exports:{}},GL;function zge(){return GL||(GL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,d,p){this.fn=f,this.context=d,this.once=p||!1}function i(f,d,p,h,y){if(typeof p!="function")throw new TypeError("The listener must be a function");var x=new a(p,h||f,y),T=n?n+d:d;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],x]:f._events[T].push(x):(f._events[T]=x,f._eventsCount++),f}function o(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},u.prototype.listeners=function(d){var p=n?n+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var y=0,x=h.length,T=new Array(x);y<x;y++)T[y]=h[y].fn;return T},u.prototype.listenerCount=function(d){var p=n?n+d:d,h=this._events[p];return h?h.fn?1:h.length:0},u.prototype.emit=function(d,p,h,y,x,T){var w=n?n+d:d;if(!this._events[w])return!1;var A=this._events[w],C=arguments.length,j,_;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),C){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,p),!0;case 3:return A.fn.call(A.context,p,h),!0;case 4:return A.fn.call(A.context,p,h,y),!0;case 5:return A.fn.call(A.context,p,h,y,x),!0;case 6:return A.fn.call(A.context,p,h,y,x,T),!0}for(_=1,j=new Array(C-1);_<C;_++)j[_-1]=arguments[_];A.fn.apply(A.context,j)}else{var M=A.length,N;for(_=0;_<M;_++)switch(A[_].once&&this.removeListener(d,A[_].fn,void 0,!0),C){case 1:A[_].fn.call(A[_].context);break;case 2:A[_].fn.call(A[_].context,p);break;case 3:A[_].fn.call(A[_].context,p,h);break;case 4:A[_].fn.call(A[_].context,p,h,y);break;default:if(!j)for(N=1,j=new Array(C-1);N<C;N++)j[N-1]=arguments[N];A[_].fn.apply(A[_].context,j)}}return!0},u.prototype.on=function(d,p,h){return i(this,d,p,h,!1)},u.prototype.once=function(d,p,h){return i(this,d,p,h,!0)},u.prototype.removeListener=function(d,p,h,y){var x=n?n+d:d;if(!this._events[x])return this;if(!p)return o(this,x),this;var T=this._events[x];if(T.fn)T.fn===p&&(!y||T.once)&&(!h||T.context===h)&&o(this,x);else{for(var w=0,A=[],C=T.length;w<C;w++)(T[w].fn!==p||y&&!T[w].once||h&&T[w].context!==h)&&A.push(T[w]);A.length?this._events[x]=A.length===1?A[0]:A:o(this,x)}return this},u.prototype.removeAllListeners=function(d){var p;return d?(p=n?n+d:d,this._events[p]&&o(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(PS)),PS.exports}var Gge=zge();const Hge=ht(Gge);var OS=new Hge,RS="recharts.syncMouseEvents";function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function Kge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function Wge(t,e,n){return e&&Yge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DS(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=Xge(t,"string");return yd(e)=="symbol"?e:e+""}function Xge(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jge=(function(){function t(){Kge(this,t),DS(this,"activeIndex",0),DS(this,"coordinateList",[]),DS(this,"layout","horizontal")}return Wge(t,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,i=a===void 0?null:a,o=n.container,u=o===void 0?null:o,f=n.layout,d=f===void 0?null:f,p=n.offset,h=p===void 0?null:p,y=n.mouseHandlerCallback,x=y===void 0?null:y;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=d??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,u=a.height,f=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=i+f+d,y=o+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:h,pageY:y})}}}])})();function Qge(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],a=t==null?void 0:t[1];if(r&&a&&Ae(r)&&Ae(a))return!0}return!1}function Zge(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function O$(t){var e=t.cx,n=t.cy,r=t.radius,a=t.startAngle,i=t.endAngle,o=Mt(e,n,r,a),u=Mt(e,n,r,i);return{points:[o,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:i}}function eye(t,e,n){var r,a,i,o;if(t==="horizontal")r=e.x,i=r,a=n.top,o=n.top+n.height;else if(t==="vertical")a=e.y,o=a,r=n.left,i=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,f=e.cy,d=e.innerRadius,p=e.outerRadius,h=e.angle,y=Mt(u,f,d,h),x=Mt(u,f,p,h);r=y.x,a=y.y,i=x.x,o=x.y}else return O$(e);return[{x:r,y:a},{x:i,y:o}]}function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){tye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tye(t,e,n){return e=nye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nye(t){var e=rye(t,"string");return vd(e)=="symbol"?e:e+""}function rye(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aye(t){var e,n,r=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,u=t.activePayload,f=t.offset,d=t.activeTooltipIndex,p=t.tooltipAxisBandSize,h=t.layout,y=t.chartName,x=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!i||!o||y!=="ScatterChart"&&a!=="axis")return null;var T,w=uA;if(y==="ScatterChart")T=o,w=Efe;else if(y==="BarChart")T=Zge(h,o,f,p),w=RE;else if(h==="radial"){var A=O$(o),C=A.cx,j=A.cy,_=A.radius,M=A.startAngle,N=A.endAngle;T={cx:C,cy:j,startAngle:M,endAngle:N,innerRadius:_,outerRadius:_},w=LB}else T={points:eye(h,o,f)},w=uA;var k=Im(Im(Im(Im({stroke:"#ccc",pointerEvents:"none"},f),T),Be(x,!1)),{},{payload:u,payloadIndex:d,className:Xe("recharts-tooltip-cursor",x.className)});return I.isValidElement(x)?I.cloneElement(x,k):I.createElement(w,k)}var iye=["item"],sye=["children","className","width","height","style","compact","title","desc"];function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function ul(){return ul=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ul.apply(this,arguments)}function KL(t,e){return uye(t)||lye(t,e)||D$(t,e)||oye()}function oye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,a,i,o,u=[],f=!0,d=!1;try{if(i=(n=n.call(t)).next,e!==0)for(;!(f=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);f=!0);}catch(p){d=!0,a=p}finally{try{if(!f&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw a}}return u}}function uye(t){if(Array.isArray(t))return t}function YL(t,e){if(t==null)return{};var n=cye(t,e),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L$(r.key),r)}}function mye(t,e,n){return e&&fye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pye(t,e,n){return e=Xp(e),hye(t,R$()?Reflect.construct(e,n||[],Xp(t).constructor):e.apply(t,n))}function hye(t,e){if(e&&(Fl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gye(t)}function gye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function Xp(t){return Xp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xp(t)}function yye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},zA(t,e)}function zl(t){return bye(t)||xye(t)||D$(t)||vye()}function vye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D$(t,e){if(t){if(typeof t=="string")return GA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(t,e)}}function xye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bye(t){if(Array.isArray(t))return GA(t)}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WL(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=Sye(t,"string");return Fl(e)=="symbol"?e:e+""}function Sye(t,e){if(Fl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wye={xAxis:["bottom","top"],yAxis:["left","right"]},Aye={width:"100%",height:"100%"},q$={x:0,y:0};function km(t){return t}var Tye=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Eye=function(e,n,r,a){var i=n.find(function(p){return p&&p.index===r});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,u=a.radius;return he(he(he({},a),Mt(a.cx,a.cy,u,o)),{},{angle:o,radius:u})}var f=i.coordinate,d=a.angle;return he(he(he({},a),Mt(a.cx,a.cy,f,d)),{},{angle:d,radius:f})}return q$},zh=function(e,n){var r=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(r??[]).reduce(function(u,f){var d=f.props.data;return d&&d.length?[].concat(zl(u),zl(d)):u},[]);return o.length>0?o:e&&e.length&&Ae(a)&&Ae(i)?e.slice(a,i+1):[]};function U$(t){return t==="number"?[0,"auto"]:void 0}var HA=function(e,n,r,a){var i=e.graphicalItems,o=e.tooltipAxis,u=zh(n,e);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(f,d){var p,h=(p=d.props.data)!==null&&p!==void 0?p:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var y;if(o.dataKey&&!o.allowDuplicatedCategory){var x=h===void 0?u:h;y=Tw(x,o.dataKey,a)}else y=h&&h[r]||u[r];return y?[].concat(zl(f),[OE(d,y)]):f},[])},XL=function(e,n,r,a){var i=a||{x:e.chartX,y:e.chartY},o=Tye(i,r),u=e.orderedTooltipTicks,f=e.tooltipAxis,d=e.tooltipTicks,p=Zle(o,u,d,f);if(p>=0&&d){var h=d[p]&&d[p].value,y=HA(e,n,p,h),x=Eye(r,u,p,i);return{activeTooltipIndex:p,activeLabel:h,activePayload:y,activeCoordinate:x}}return null},Nye=function(e,n){var r=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,h=e.children,y=e.stackOffset,x=wB(p,i);return r.reduce(function(T,w){var A,C=w.type.defaultProps!==void 0?he(he({},w.type.defaultProps),w.props):w.props,j=C.type,_=C.dataKey,M=C.allowDataOverflow,N=C.allowDuplicatedCategory,k=C.scale,P=C.ticks,R=C.includeHidden,L=C[o];if(T[L])return T;var U=zh(e.data,{graphicalItems:a.filter(function(z){var Y,ee=o in z.props?z.props[o]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[o];return ee===L}),dataStartIndex:f,dataEndIndex:d}),q=U.length,D,$,H;Qge(C.domain,M,j)&&(D=aA(C.domain,null,M),x&&(j==="number"||k!=="auto")&&(H=bc(U,_,"category")));var J=U$(j);if(!D||D.length===0){var B,K=(B=C.domain)!==null&&B!==void 0?B:J;if(_){if(D=bc(U,_,j),j==="category"&&x){var W=Kee(D);N&&W?($=D,D=qp(0,q)):N||(D=HD(K,D,w).reduce(function(z,Y){return z.indexOf(Y)>=0?z:[].concat(zl(z),[Y])},[]))}else if(j==="category")N?D=D.filter(function(z){return z!==""&&!Ze(z)}):D=HD(K,D,w).reduce(function(z,Y){return z.indexOf(Y)>=0||Y===""||Ze(Y)?z:[].concat(zl(z),[Y])},[]);else if(j==="number"){var re=aue(U,a.filter(function(z){var Y,ee,le=o in z.props?z.props[o]:(Y=z.type.defaultProps)===null||Y===void 0?void 0:Y[o],xe="hide"in z.props?z.props.hide:(ee=z.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return le===L&&(R||!xe)}),_,i,p);re&&(D=re)}x&&(j==="number"||k!=="auto")&&(H=bc(U,_,"category"))}else x?D=qp(0,q):u&&u[L]&&u[L].hasStack&&j==="number"?D=y==="expand"?[0,1]:jB(u[L].stackGroups,f,d):D=SB(U,a.filter(function(z){var Y=o in z.props?z.props[o]:z.type.defaultProps[o],ee="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return Y===L&&(R||!ee)}),j,p,!0);if(j==="number")D=FA(h,D,L,i,P),K&&(D=aA(K,D,M));else if(j==="category"&&K){var X=K,V=D.every(function(z){return X.indexOf(z)>=0});V&&(D=X)}}return he(he({},T),{},Ue({},L,he(he({},C),{},{axisType:i,domain:D,categoricalDomain:H,duplicateDomain:$,originalDomain:(A=C.domain)!==null&&A!==void 0?A:J,isCategorical:x,layout:p})))},{})},_ye=function(e,n){var r=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.layout,h=e.children,y=zh(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:d}),x=y.length,T=wB(p,i),w=-1;return r.reduce(function(A,C){var j=C.type.defaultProps!==void 0?he(he({},C.type.defaultProps),C.props):C.props,_=j[o],M=U$("number");if(!A[_]){w++;var N;return T?N=qp(0,x):u&&u[_]&&u[_].hasStack?(N=jB(u[_].stackGroups,f,d),N=FA(h,N,_,i)):(N=aA(M,SB(y,r.filter(function(k){var P,R,L=o in k.props?k.props[o]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[o],U="hide"in k.props?k.props.hide:(R=k.type.defaultProps)===null||R===void 0?void 0:R.hide;return L===_&&!U}),"number",p),a.defaultProps.allowDataOverflow),N=FA(h,N,_,i)),he(he({},A),{},Ue({},_,he(he({axisType:i},a.defaultProps),{},{hide:!0,orientation:Ar(wye,"".concat(i,".").concat(w%2),null),domain:N,originalDomain:M,isCategorical:T,layout:p})))}return A},{})},Cye=function(e,n){var r=n.axisType,a=r===void 0?"xAxis":r,i=n.AxisComp,o=n.graphicalItems,u=n.stackGroups,f=n.dataStartIndex,d=n.dataEndIndex,p=e.children,h="".concat(a,"Id"),y=Tr(p,i),x={};return y&&y.length?x=Nye(e,{axes:y,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:f,dataEndIndex:d}):o&&o.length&&(x=_ye(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:h,stackGroups:u,dataStartIndex:f,dataEndIndex:d})),x},Mye=function(e){var n=Ui(e),r=Ga(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:oE(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Tp(n,r)}},JL=function(e){var n=e.children,r=e.defaultShowTooltip,a=br(n,Rl),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},jye=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ha(n&&n.type);return r&&r.indexOf("Bar")>=0})},QL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Iye=function(e,n){var r=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,u=e.yAxisMap,f=u===void 0?{}:u,d=r.width,p=r.height,h=r.children,y=r.margin||{},x=br(h,Rl),T=br(h,Fi),w=Object.keys(f).reduce(function(N,k){var P=f[k],R=P.orientation;return!P.mirror&&!P.hide?he(he({},N),{},Ue({},R,N[R]+P.width)):N},{left:y.left||0,right:y.right||0}),A=Object.keys(o).reduce(function(N,k){var P=o[k],R=P.orientation;return!P.mirror&&!P.hide?he(he({},N),{},Ue({},R,Ar(N,"".concat(R))+P.height)):N},{top:y.top||0,bottom:y.bottom||0}),C=he(he({},A),w),j=C.bottom;x&&(C.bottom+=x.props.height||Rl.defaultProps.height),T&&n&&(C=nue(C,a,r,n));var _=d-C.left-C.right,M=p-C.top-C.bottom;return he(he({brushBottom:j},C),{},{width:Math.max(_,0),height:Math.max(M,0)})},kye=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},KE=function(e){var n=e.chartName,r=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,f=e.axisComponents,d=e.legendContent,p=e.formatAxisMap,h=e.defaultProps,y=function(C,j){var _=j.graphicalItems,M=j.stackGroups,N=j.offset,k=j.updateId,P=j.dataStartIndex,R=j.dataEndIndex,L=C.barSize,U=C.layout,q=C.barGap,D=C.barCategoryGap,$=C.maxBarSize,H=QL(U),J=H.numericAxisName,B=H.cateAxisName,K=jye(_),W=[];return _.forEach(function(re,X){var V=zh(C.data,{graphicalItems:[re],dataStartIndex:P,dataEndIndex:R}),z=re.type.defaultProps!==void 0?he(he({},re.type.defaultProps),re.props):re.props,Y=z.dataKey,ee=z.maxBarSize,le=z["".concat(J,"Id")],xe=z["".concat(B,"Id")],Te={},_e=f.reduce(function(Gt,rn){var Gn=j["".concat(rn.axisType,"Map")],ne=z["".concat(rn.axisType,"Id")];Gn&&Gn[ne]||rn.axisType==="zAxis"||Gs();var ve=Gn[ne];return he(he({},Gt),{},Ue(Ue({},rn.axisType,ve),"".concat(rn.axisType,"Ticks"),Ga(ve)))},Te),ce=_e[B],Ce=_e["".concat(B,"Ticks")],G=M&&M[le]&&M[le].hasStack&&cue(re,M[le].stackGroups),Z=Ha(re.type).indexOf("Bar")>=0,de=Tp(ce,Ce),Se=[],Oe=K&&eue({barSize:L,stackGroups:M,totalSize:kye(_e,B)});if(Z){var $e,Je,vt=Ze(ee)?$:ee,It=($e=(Je=Tp(ce,Ce,!0))!==null&&Je!==void 0?Je:vt)!==null&&$e!==void 0?$e:0;Se=tue({barGap:q,barCategoryGap:D,bandSize:It!==de?It:de,sizeList:Oe[xe],maxBarSize:vt}),It!==de&&(Se=Se.map(function(Gt){return he(he({},Gt),{},{position:he(he({},Gt.position),{},{offset:Gt.position.offset-It/2})})}))}var Qt=re&&re.type&&re.type.getComposedData;Qt&&W.push({props:he(he({},Qt(he(he({},_e),{},{displayedData:V,props:C,dataKey:Y,item:re,bandSize:de,barPosition:Se,offset:N,stackedData:G,layout:U,dataStartIndex:P,dataEndIndex:R}))),{},Ue(Ue(Ue({key:re.key||"item-".concat(X)},J,_e[J]),B,_e[B]),"animationId",k)),childIndex:ite(re,C.children),item:re})}),W},x=function(C,j){var _=C.props,M=C.dataStartIndex,N=C.dataEndIndex,k=C.updateId;if(!lP({props:_}))return null;var P=_.children,R=_.layout,L=_.stackOffset,U=_.data,q=_.reverseStackOrder,D=QL(R),$=D.numericAxisName,H=D.cateAxisName,J=Tr(P,r),B=uue(U,J,"".concat($,"Id"),"".concat(H,"Id"),L,q),K=f.reduce(function(z,Y){var ee="".concat(Y.axisType,"Map");return he(he({},z),{},Ue({},ee,Cye(_,he(he({},Y),{},{graphicalItems:J,stackGroups:Y.axisType===$&&B,dataStartIndex:M,dataEndIndex:N}))))},{}),W=Iye(he(he({},K),{},{props:_,graphicalItems:J}),j==null?void 0:j.legendBBox);Object.keys(K).forEach(function(z){K[z]=p(_,K[z],W,z.replace("Map",""),n)});var re=K["".concat(H,"Map")],X=Mye(re),V=y(_,he(he({},K),{},{dataStartIndex:M,dataEndIndex:N,updateId:k,graphicalItems:J,stackGroups:B,offset:W}));return he(he({formattedGraphicalItems:V,graphicalItems:J,offset:W,stackGroups:B},X),K)},T=(function(A){function C(j){var _,M,N;return dye(this,C),N=pye(this,C,[j]),Ue(N,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(N,"accessibilityManager",new Jge),Ue(N,"handleLegendBBoxUpdate",function(k){if(k){var P=N.state,R=P.dataStartIndex,L=P.dataEndIndex,U=P.updateId;N.setState(he({legendBBox:k},x({props:N.props,dataStartIndex:R,dataEndIndex:L,updateId:U},he(he({},N.state),{},{legendBBox:k}))))}}),Ue(N,"handleReceiveSyncEvent",function(k,P,R){if(N.props.syncId===k){if(R===N.eventEmitterSymbol&&typeof N.props.syncMethod!="function")return;N.applySyncEvent(P)}}),Ue(N,"handleBrushChange",function(k){var P=k.startIndex,R=k.endIndex;if(P!==N.state.dataStartIndex||R!==N.state.dataEndIndex){var L=N.state.updateId;N.setState(function(){return he({dataStartIndex:P,dataEndIndex:R},x({props:N.props,dataStartIndex:P,dataEndIndex:R,updateId:L},N.state))}),N.triggerSyncEvent({dataStartIndex:P,dataEndIndex:R})}}),Ue(N,"handleMouseEnter",function(k){var P=N.getMouseInfo(k);if(P){var R=he(he({},P),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var L=N.props.onMouseEnter;Fe(L)&&L(R,k)}}),Ue(N,"triggeredAfterMouseMove",function(k){var P=N.getMouseInfo(k),R=P?he(he({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};N.setState(R),N.triggerSyncEvent(R);var L=N.props.onMouseMove;Fe(L)&&L(R,k)}),Ue(N,"handleItemMouseEnter",function(k){N.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ue(N,"handleItemMouseLeave",function(){N.setState(function(){return{isTooltipActive:!1}})}),Ue(N,"handleMouseMove",function(k){k.persist(),N.throttleTriggeredAfterMouseMove(k)}),Ue(N,"handleMouseLeave",function(k){N.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};N.setState(P),N.triggerSyncEvent(P);var R=N.props.onMouseLeave;Fe(R)&&R(P,k)}),Ue(N,"handleOuterEvent",function(k){var P=ate(k),R=Ar(N.props,"".concat(P));if(P&&Fe(R)){var L,U;/.*touch.*/i.test(P)?U=N.getMouseInfo(k.changedTouches[0]):U=N.getMouseInfo(k),R((L=U)!==null&&L!==void 0?L:{},k)}}),Ue(N,"handleClick",function(k){var P=N.getMouseInfo(k);if(P){var R=he(he({},P),{},{isTooltipActive:!0});N.setState(R),N.triggerSyncEvent(R);var L=N.props.onClick;Fe(L)&&L(R,k)}}),Ue(N,"handleMouseDown",function(k){var P=N.props.onMouseDown;if(Fe(P)){var R=N.getMouseInfo(k);P(R,k)}}),Ue(N,"handleMouseUp",function(k){var P=N.props.onMouseUp;if(Fe(P)){var R=N.getMouseInfo(k);P(R,k)}}),Ue(N,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ue(N,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseDown(k.changedTouches[0])}),Ue(N,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&N.handleMouseUp(k.changedTouches[0])}),Ue(N,"handleDoubleClick",function(k){var P=N.props.onDoubleClick;if(Fe(P)){var R=N.getMouseInfo(k);P(R,k)}}),Ue(N,"handleContextMenu",function(k){var P=N.props.onContextMenu;if(Fe(P)){var R=N.getMouseInfo(k);P(R,k)}}),Ue(N,"triggerSyncEvent",function(k){N.props.syncId!==void 0&&OS.emit(RS,N.props.syncId,k,N.eventEmitterSymbol)}),Ue(N,"applySyncEvent",function(k){var P=N.props,R=P.layout,L=P.syncMethod,U=N.state.updateId,q=k.dataStartIndex,D=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)N.setState(he({dataStartIndex:q,dataEndIndex:D},x({props:N.props,dataStartIndex:q,dataEndIndex:D,updateId:U},N.state)));else if(k.activeTooltipIndex!==void 0){var $=k.chartX,H=k.chartY,J=k.activeTooltipIndex,B=N.state,K=B.offset,W=B.tooltipTicks;if(!K)return;if(typeof L=="function")J=L(W,k);else if(L==="value"){J=-1;for(var re=0;re<W.length;re++)if(W[re].value===k.activeLabel){J=re;break}}var X=he(he({},K),{},{x:K.left,y:K.top}),V=Math.min($,X.x+X.width),z=Math.min(H,X.y+X.height),Y=W[J]&&W[J].value,ee=HA(N.state,N.props.data,J),le=W[J]?{x:R==="horizontal"?W[J].coordinate:V,y:R==="horizontal"?z:W[J].coordinate}:q$;N.setState(he(he({},k),{},{activeLabel:Y,activeCoordinate:le,activePayload:ee,activeTooltipIndex:J}))}else N.setState(k)}),Ue(N,"renderCursor",function(k){var P,R=N.state,L=R.isTooltipActive,U=R.activeCoordinate,q=R.activePayload,D=R.offset,$=R.activeTooltipIndex,H=R.tooltipAxisBandSize,J=N.getTooltipEventType(),B=(P=k.props.active)!==null&&P!==void 0?P:L,K=N.props.layout,W=k.key||"_recharts-cursor";return te.createElement(aye,{key:W,activeCoordinate:U,activePayload:q,activeTooltipIndex:$,chartName:n,element:k,isActive:B,layout:K,offset:D,tooltipAxisBandSize:H,tooltipEventType:J})}),Ue(N,"renderPolarAxis",function(k,P,R){var L=Ar(k,"type.axisType"),U=Ar(N.state,"".concat(L,"Map")),q=k.type.defaultProps,D=q!==void 0?he(he({},q),k.props):k.props,$=U&&U[D["".concat(L,"Id")]];return I.cloneElement(k,he(he({},$),{},{className:Xe(L,$.className),key:k.key||"".concat(P,"-").concat(R),ticks:Ga($,!0)}))}),Ue(N,"renderPolarGrid",function(k){var P=k.props,R=P.radialLines,L=P.polarAngles,U=P.polarRadius,q=N.state,D=q.radiusAxisMap,$=q.angleAxisMap,H=Ui(D),J=Ui($),B=J.cx,K=J.cy,W=J.innerRadius,re=J.outerRadius;return I.cloneElement(k,{polarAngles:Array.isArray(L)?L:Ga(J,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(U)?U:Ga(H,!0).map(function(X){return X.coordinate}),cx:B,cy:K,innerRadius:W,outerRadius:re,key:k.key||"polar-grid",radialLines:R})}),Ue(N,"renderLegend",function(){var k=N.state.formattedGraphicalItems,P=N.props,R=P.children,L=P.width,U=P.height,q=N.props.margin||{},D=L-(q.left||0)-(q.right||0),$=xB({children:R,formattedGraphicalItems:k,legendWidth:D,legendContent:d});if(!$)return null;var H=$.item,J=YL($,iye);return I.cloneElement(H,he(he({},J),{},{chartWidth:L,chartHeight:U,margin:q,onBBoxUpdate:N.handleLegendBBoxUpdate}))}),Ue(N,"renderTooltip",function(){var k,P=N.props,R=P.children,L=P.accessibilityLayer,U=br(R,Sr);if(!U)return null;var q=N.state,D=q.isTooltipActive,$=q.activeCoordinate,H=q.activePayload,J=q.activeLabel,B=q.offset,K=(k=U.props.active)!==null&&k!==void 0?k:D;return I.cloneElement(U,{viewBox:he(he({},B),{},{x:B.left,y:B.top}),active:K,label:J,payload:K?H:[],coordinate:$,accessibilityLayer:L})}),Ue(N,"renderBrush",function(k){var P=N.props,R=P.margin,L=P.data,U=N.state,q=U.offset,D=U.dataStartIndex,$=U.dataEndIndex,H=U.updateId;return I.cloneElement(k,{key:k.key||"_recharts-brush",onChange:_m(N.handleBrushChange,k.props.onChange),data:L,x:Ae(k.props.x)?k.props.x:q.left,y:Ae(k.props.y)?k.props.y:q.top+q.height+q.brushBottom-(R.bottom||0),width:Ae(k.props.width)?k.props.width:q.width,startIndex:D,endIndex:$,updateId:"brush-".concat(H)})}),Ue(N,"renderReferenceElement",function(k,P,R){if(!k)return null;var L=N,U=L.clipPathId,q=N.state,D=q.xAxisMap,$=q.yAxisMap,H=q.offset,J=k.type.defaultProps||{},B=k.props,K=B.xAxisId,W=K===void 0?J.xAxisId:K,re=B.yAxisId,X=re===void 0?J.yAxisId:re;return I.cloneElement(k,{key:k.key||"".concat(P,"-").concat(R),xAxis:D[W],yAxis:$[X],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:U})}),Ue(N,"renderActivePoints",function(k){var P=k.item,R=k.activePoint,L=k.basePoint,U=k.childIndex,q=k.isRange,D=[],$=P.props.key,H=P.item.type.defaultProps!==void 0?he(he({},P.item.type.defaultProps),P.item.props):P.item.props,J=H.activeDot,B=H.dataKey,K=he(he({index:U,dataKey:B,cx:R.x,cy:R.y,r:4,fill:PE(P.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Be(J,!1)),Zm(J));return D.push(C.renderActiveDot(J,K,"".concat($,"-activePoint-").concat(U))),L?D.push(C.renderActiveDot(J,he(he({},K),{},{cx:L.x,cy:L.y}),"".concat($,"-basePoint-").concat(U))):q&&D.push(null),D}),Ue(N,"renderGraphicChild",function(k,P,R){var L=N.filterFormatItem(k,P,R);if(!L)return null;var U=N.getTooltipEventType(),q=N.state,D=q.isTooltipActive,$=q.tooltipAxis,H=q.activeTooltipIndex,J=q.activeLabel,B=N.props.children,K=br(B,Sr),W=L.props,re=W.points,X=W.isRange,V=W.baseLine,z=L.item.type.defaultProps!==void 0?he(he({},L.item.type.defaultProps),L.item.props):L.item.props,Y=z.activeDot,ee=z.hide,le=z.activeBar,xe=z.activeShape,Te=!!(!ee&&D&&K&&(Y||le||xe)),_e={};U!=="axis"&&K&&K.props.trigger==="click"?_e={onClick:_m(N.handleItemMouseEnter,k.props.onClick)}:U!=="axis"&&(_e={onMouseLeave:_m(N.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:_m(N.handleItemMouseEnter,k.props.onMouseEnter)});var ce=I.cloneElement(k,he(he({},L.props),_e));function Ce(rn){return typeof $.dataKey=="function"?$.dataKey(rn.payload):null}if(Te)if(H>=0){var G,Z;if($.dataKey&&!$.allowDuplicatedCategory){var de=typeof $.dataKey=="function"?Ce:"payload.".concat($.dataKey.toString());G=Tw(re,de,J),Z=X&&V&&Tw(V,de,J)}else G=re==null?void 0:re[H],Z=X&&V&&V[H];if(xe||le){var Se=k.props.activeIndex!==void 0?k.props.activeIndex:H;return[I.cloneElement(k,he(he(he({},L.props),_e),{},{activeIndex:Se})),null,null]}if(!Ze(G))return[ce].concat(zl(N.renderActivePoints({item:L,activePoint:G,basePoint:Z,childIndex:H,isRange:X})))}else{var Oe,$e=(Oe=N.getItemByXY(N.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:ce},Je=$e.graphicalItem,vt=Je.item,It=vt===void 0?k:vt,Qt=Je.childIndex,Gt=he(he(he({},L.props),_e),{},{activeIndex:Qt});return[I.cloneElement(It,Gt),null,null]}return X?[ce,null,null]:[ce,null]}),Ue(N,"renderCustomized",function(k,P,R){return I.cloneElement(k,he(he({key:"recharts-customized-".concat(R)},N.props),N.state))}),Ue(N,"renderMap",{CartesianGrid:{handler:km,once:!0},ReferenceArea:{handler:N.renderReferenceElement},ReferenceLine:{handler:km},ReferenceDot:{handler:N.renderReferenceElement},XAxis:{handler:km},YAxis:{handler:km},Brush:{handler:N.renderBrush,once:!0},Bar:{handler:N.renderGraphicChild},Line:{handler:N.renderGraphicChild},Area:{handler:N.renderGraphicChild},Radar:{handler:N.renderGraphicChild},RadialBar:{handler:N.renderGraphicChild},Scatter:{handler:N.renderGraphicChild},Pie:{handler:N.renderGraphicChild},Funnel:{handler:N.renderGraphicChild},Tooltip:{handler:N.renderCursor,once:!0},PolarGrid:{handler:N.renderPolarGrid,once:!0},PolarAngleAxis:{handler:N.renderPolarAxis},PolarRadiusAxis:{handler:N.renderPolarAxis},Customized:{handler:N.renderCustomized}}),N.clipPathId="".concat((_=j.id)!==null&&_!==void 0?_:Id("recharts"),"-clip"),N.throttleTriggeredAfterMouseMove=v5(N.triggeredAfterMouseMove,(M=j.throttleDelay)!==null&&M!==void 0?M:1e3/60),N.state={},N}return yye(C,A),mye(C,[{key:"componentDidMount",value:function(){var _,M;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,M=_.children,N=_.data,k=_.height,P=_.layout,R=br(M,Sr);if(R){var L=R.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,q=HA(this.state,N,L,U),D=this.state.tooltipTicks[L].coordinate,$=(this.state.offset.top+k)/2,H=P==="horizontal",J=H?{x:D,y:$}:{y:D,x:$},B=this.state.formattedGraphicalItems.find(function(W){var re=W.item;return re.type.name==="Scatter"});B&&(J=he(he({},J),B.props.points[L].tooltipPosition),q=B.props.points[L].tooltipPayload);var K={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:U,activePayload:q,activeCoordinate:J};this.setState(K),this.renderCursor(R),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,M){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==M.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var N,k;this.accessibilityManager.setDetails({offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(_){Nw([br(_.children,Sr)],[br(this.props.children,Sr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=br(this.props.children,Sr);if(_&&typeof _.props.shared=="boolean"){var M=_.props.shared?"axis":"item";return u.indexOf(M)>=0?M:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var M=this.container,N=M.getBoundingClientRect(),k=Gae(N),P={chartX:Math.round(_.pageX-k.left),chartY:Math.round(_.pageY-k.top)},R=N.width/M.offsetWidth||1,L=this.inRange(P.chartX,P.chartY,R);if(!L)return null;var U=this.state,q=U.xAxisMap,D=U.yAxisMap,$=this.getTooltipEventType(),H=XL(this.state,this.props.data,this.props.layout,L);if($!=="axis"&&q&&D){var J=Ui(q).scale,B=Ui(D).scale,K=J&&J.invert?J.invert(P.chartX):null,W=B&&B.invert?B.invert(P.chartY):null;return he(he({},P),{},{xValue:K,yValue:W},H)}return H?he(he({},P),H):null}},{key:"inRange",value:function(_,M){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=_/N,R=M/N;if(k==="horizontal"||k==="vertical"){var L=this.state.offset,U=P>=L.left&&P<=L.left+L.width&&R>=L.top&&R<=L.top+L.height;return U?{x:P,y:R}:null}var q=this.state,D=q.angleAxisMap,$=q.radiusAxisMap;if(D&&$){var H=Ui(D);return WD({x:P,y:R},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,M=this.getTooltipEventType(),N=br(_,Sr),k={};N&&M==="axis"&&(N.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Zm(this.props,this.handleOuterEvent);return he(he({},P),k)}},{key:"addListener",value:function(){OS.on(RS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){OS.removeListener(RS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,M,N){for(var k=this.state.formattedGraphicalItems,P=0,R=k.length;P<R;P++){var L=k[P];if(L.item===_||L.props.key===_.key||M===Ha(L.item.type)&&N===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,M=this.state.offset,N=M.left,k=M.top,P=M.height,R=M.width;return te.createElement("defs",null,te.createElement("clipPath",{id:_},te.createElement("rect",{x:N,y:k,height:P,width:R})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(M,N){var k=KL(N,2),P=k[0],R=k[1];return he(he({},M),{},Ue({},P,R.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(M,N){var k=KL(N,2),P=k[0],R=k[1];return he(he({},M),{},Ue({},P,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var M;return(M=this.state.xAxisMap)===null||M===void 0||(M=M[_])===null||M===void 0?void 0:M.scale}},{key:"getYScaleByAxisId",value:function(_){var M;return(M=this.state.yAxisMap)===null||M===void 0||(M=M[_])===null||M===void 0?void 0:M.scale}},{key:"getItemByXY",value:function(_){var M=this.state,N=M.formattedGraphicalItems,k=M.activeItem;if(N&&N.length)for(var P=0,R=N.length;P<R;P++){var L=N[P],U=L.props,q=L.item,D=q.type.defaultProps!==void 0?he(he({},q.type.defaultProps),q.props):q.props,$=Ha(q.type);if($==="Bar"){var H=(U.data||[]).find(function(W){return ife(_,W)});if(H)return{graphicalItem:L,payload:H}}else if($==="RadialBar"){var J=(U.data||[]).find(function(W){return WD(_,W)});if(J)return{graphicalItem:L,payload:J}}else if(Lh(L,k)||qh(L,k)||ud(L,k)){var B=Cme({graphicalItem:L,activeTooltipItem:k,itemData:D.data}),K=D.activeIndex===void 0?B:D.activeIndex;return{graphicalItem:he(he({},L),{},{childIndex:K}),payload:ud(L,k)?D.data[B]:L.props.data[B]}}}return null}},{key:"render",value:function(){var _=this;if(!lP(this))return null;var M=this.props,N=M.children,k=M.className,P=M.width,R=M.height,L=M.style,U=M.compact,q=M.title,D=M.desc,$=YL(M,sye),H=Be($,!1);if(U)return te.createElement(IL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(Cw,ul({},H,{width:P,height:R,title:q,desc:D}),this.renderClipPath(),cP(N,this.renderMap)));if(this.props.accessibilityLayer){var J,B;H.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,H.role=(B=this.props.role)!==null&&B!==void 0?B:"application",H.onKeyDown=function(W){_.accessibilityManager.keyboardEvent(W)},H.onFocus=function(){_.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return te.createElement(IL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",ul({className:Xe("recharts-wrapper",k),style:he({position:"relative",cursor:"default",width:P,height:R},L)},K,{ref:function(re){_.container=re}}),te.createElement(Cw,ul({},H,{width:P,height:R,title:q,desc:D,style:Aye}),this.renderClipPath(),cP(N,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(I.Component);Ue(T,"displayName",n),Ue(T,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ue(T,"getDerivedStateFromProps",function(A,C){var j=A.dataKey,_=A.data,M=A.children,N=A.width,k=A.height,P=A.layout,R=A.stackOffset,L=A.margin,U=C.dataStartIndex,q=C.dataEndIndex;if(C.updateId===void 0){var D=JL(A);return he(he(he({},D),{},{updateId:0},x(he(he({props:A},D),{},{updateId:0}),C)),{},{prevDataKey:j,prevData:_,prevWidth:N,prevHeight:k,prevLayout:P,prevStackOffset:R,prevMargin:L,prevChildren:M})}if(j!==C.prevDataKey||_!==C.prevData||N!==C.prevWidth||k!==C.prevHeight||P!==C.prevLayout||R!==C.prevStackOffset||!hl(L,C.prevMargin)){var $=JL(A),H={chartX:C.chartX,chartY:C.chartY,isTooltipActive:C.isTooltipActive},J=he(he({},XL(C,_,P)),{},{updateId:C.updateId+1}),B=he(he(he({},$),H),J);return he(he(he({},B),x(he({props:A},B),C)),{},{prevDataKey:j,prevData:_,prevWidth:N,prevHeight:k,prevLayout:P,prevStackOffset:R,prevMargin:L,prevChildren:M})}if(!Nw(M,C.prevChildren)){var K,W,re,X,V=br(M,Rl),z=V&&(K=(W=V.props)===null||W===void 0?void 0:W.startIndex)!==null&&K!==void 0?K:U,Y=V&&(re=(X=V.props)===null||X===void 0?void 0:X.endIndex)!==null&&re!==void 0?re:q,ee=z!==U||Y!==q,le=!Ze(_),xe=le&&!ee?C.updateId:C.updateId+1;return he(he({updateId:xe},x(he(he({props:A},C),{},{updateId:xe,dataStartIndex:z,dataEndIndex:Y}),C)),{},{prevChildren:M,dataStartIndex:z,dataEndIndex:Y})}return null}),Ue(T,"renderActiveDot",function(A,C,j){var _;return I.isValidElement(A)?_=I.cloneElement(A,C):Fe(A)?_=A(C):_=te.createElement(DE,C),te.createElement(st,{className:"recharts-active-dot",key:j},_)});var w=I.forwardRef(function(C,j){return te.createElement(T,ul({},C,{ref:j}))});return w.displayName=T.displayName,w},ZL=KE({chartName:"BarChart",GraphicalChild:ma,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:hd},{axisType:"yAxis",AxisComp:gd}],formatAxisMap:Gpe}),Pye=KE({chartName:"PieChart",GraphicalChild:li,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Bd},{axisType:"radiusAxis",AxisComp:Ud}],formatAxisMap:PB,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Oye=KE({chartName:"RadialBarChart",GraphicalChild:$d,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:Bd},{axisType:"radiusAxis",AxisComp:Ud}],formatAxisMap:PB,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Pm=({title:t,children:e,className:n="",id:r})=>c.jsxs(Ke.section,{id:r,initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:`surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)] flex flex-col ${n}`,children:[c.jsx("div",{className:"flex items-center justify-between gap-3 mb-4",children:c.jsx("h2",{className:"text-base font-bold text-gray-900 dark:text-gray-50",children:t})}),c.jsx("div",{className:"flex-1 w-full min-h-0",children:e})]}),Om=({active:t,payload:e,label:n})=>t&&e&&e.length?c.jsxs("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-sm p-2 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg",children:[c.jsx("p",{className:"label font-bold text-gray-800 dark:text-gray-100",children:`${n}`}),e.map((r,a)=>c.jsx("p",{style:{color:r.fill},children:`${r.name}: ${r.value.toFixed(0)}${r.unit||""}`},a))]}):null,Rye={primary:{border:"border-primary-200/60 dark:border-primary-700/50",cardBg:"bg-gradient-to-br from-primary-50/70 via-white to-white dark:from-primary-900/25 dark:via-secondary-900/40 dark:to-secondary-900/20",iconText:"text-primary-700 dark:text-primary-200"},info:{border:"border-secondary-200/60 dark:border-secondary-700/60",cardBg:"bg-gradient-to-br from-secondary-50/70 via-white to-white dark:from-secondary-900/25 dark:via-secondary-900/45 dark:to-secondary-900/25",iconText:"text-secondary-700 dark:text-secondary-200"},success:{border:"border-status-success-200/60 dark:border-status-success-700/60",cardBg:"bg-gradient-to-br from-status-success-50/70 via-white to-white dark:from-status-success-900/25 dark:via-secondary-900/40 dark:to-secondary-900/25",iconText:"text-status-success-700 dark:text-status-success-200"},warning:{border:"border-status-warning-200/60 dark:border-status-warning-700/50",cardBg:"bg-gradient-to-br from-status-warning-50/70 via-white to-white dark:from-status-warning-900/25 dark:via-secondary-900/40 dark:to-secondary-900/25",iconText:"text-status-warning-700 dark:text-status-warning-200"}},Rm=({label:t,value:e,description:n,accent:r,icon:a})=>{const i=Rye[r];return c.jsx(Ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:`surface-card rounded-2xl p-5 border ${i.border} ${i.cardBg} shadow-[var(--shadow-elev-1)]`,children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:`material-symbols-outlined text-3xl ${i.iconText}`,children:a}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-secondary-500 dark:text-secondary-300",children:t}),c.jsx("p",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-gray-50",children:e}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:n})]})]})})},Dye=({title:t,description:e,icon:n,onClick:r})=>c.jsx(Ke.button,{type:"button",onClick:r,className:"surface-card surface-card-gradient w-full text-left rounded-2xl border border-transparent px-5 py-4 shadow-[var(--shadow-elev-1)] transition hover:-translate-y-1 hover:shadow-[var(--shadow-elev-2)]",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},whileTap:{scale:.98},children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"material-symbols-outlined text-2xl text-secondary-600 dark:text-secondary-400",children:n}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:t}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300 leading-snug",children:e})]})]})}),Lye=({auditSessions:t,equipment:e,countries:n,sites:r,departments:a,users:i})=>{const{theme:o}=n3(),u=o==="dark",f=u?"#9ca3af":"#4b5563",d=u?"#374151":"#e5e7eb",p=I.useMemo(()=>{const U=new Map;return t.filter(q=>q.status!=="cancelled").sort((q,D)=>new Date(D.updatedAt).getTime()-new Date(q.updatedAt).getTime()).forEach(q=>{U.has(q.departmentId)||U.set(q.departmentId,q)}),U},[t]),h=I.useMemo(()=>{const U=e.length;let q=0,D=0,$=0,H=0,J=0;t.forEach(V=>{var z;switch(J+=((z=V.unexpectedItems)==null?void 0:z.length)??0,V.status){case"in-progress":D+=1;break;case"paused":$+=1;break;case"completed":H+=1;break}}),p.forEach(V=>{if(V.status==="completed"){const z=e.filter(Y=>Y.departmentId===V.departmentId).length;q+=z}else q+=V.scannedItemIds.length});const B=U>0?q/U*100:0,K=n.map(V=>{const z=r.filter(_e=>_e.countryId===V.id),Y=a.filter(_e=>z.some(ce=>ce.id===_e.siteId)),le=e.filter(_e=>Y.some(ce=>ce.id===_e.departmentId)).length;if(le===0)return{name:V.name,progress:0};let xe=0;const Te=new Set;return Y.forEach(_e=>{if(!Te.has(_e.id)){const ce=p.get(_e.id);if((ce==null?void 0:ce.status)==="completed"){const Ce=e.filter(G=>G.departmentId===_e.id).length;xe+=Ce}else xe+=ce?ce.scannedItemIds.length:0;Te.add(_e.id)}}),{name:V.name,progress:xe/le*100}}).filter(V=>V.progress>=0&&n.some(z=>z.name===V.name)),W=Array.from(p.values()).reduce((V,z)=>{let Y;switch(z.status){case"in-progress":Y="En cours";break;case"paused":Y="En pause";break;case"completed":Y="Terminé";break;default:Y="Inconnu"}const ee=V.find(le=>le.name===Y);return ee?ee.value+=1:V.push({name:Y,value:1}),V},[]),X=Array.from(p.values()).filter(V=>V.status==="completed").slice(-5).map(V=>{const z=a.find(Te=>Te.id===V.departmentId),Y=e.filter(Te=>Te.departmentId===V.departmentId).length,ee=V.scannedItemIds.length,le=V.unexpectedItems.length,xe=Y-ee;return{name:(z==null?void 0:z.name)||"Unknown",Confirmés:ee,Manquants:xe<0?0:xe,Inattendus:le}});return{overallProgress:B,countryProgress:K,auditStatusData:W,findingsData:X,totalEquipmentCount:U,totalScannedCount:q,activeSessionsCount:D,pausedSessionsCount:$,completedSessionsCount:H,totalUnexpectedItems:J}},[p,e,n,r,a,t]),{overallProgress:y,countryProgress:x,auditStatusData:T,findingsData:w,totalEquipmentCount:A,totalScannedCount:C,activeSessionsCount:j,pausedSessionsCount:_,completedSessionsCount:M,totalUnexpectedItems:N}=h,k=U=>new Intl.NumberFormat("fr-FR").format(U),P=["#3b82f6","#f97316","#22c55e","#eab308"],R=[{name:"Progress",value:y}],L=[{title:"Progression globale",description:`${y.toFixed(0)}% des équipements scannés`,icon:"donut_large",onClick:()=>{var U;return(U=document.getElementById("chart-global"))==null?void 0:U.scrollIntoView({behavior:"smooth"})}},{title:"Progression par pays",description:`${x.length} pays suivis`,icon:"travel_explore",onClick:()=>{var U;return(U=document.getElementById("chart-country"))==null?void 0:U.scrollIntoView({behavior:"smooth"})}},{title:"Statut des audits",description:`${j+_+M} sessions actives`,icon:"progress_activity",onClick:()=>{var U;return(U=document.getElementById("chart-status"))==null?void 0:U.scrollIntoView({behavior:"smooth"})}},{title:"Derniers résultats",description:`${Math.min(w.length,5)} derniers services analysés`,icon:"insights",onClick:()=>{var U;return(U=document.getElementById("chart-latest"))==null?void 0:U.scrollIntoView({behavior:"smooth"})}}];return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(jt,{title:"Aperçu des audits",onBack:()=>window.location.hash="#/audit",children:c.jsx(Re,{variant:"secondary",size:"sm",icon:"file_download",onClick:()=>window.print(),children:"Exporter"})}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[c.jsx(Ke.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-8 md:p-10 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:c.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex items-start gap-5",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-600 dark:text-secondary-400",children:"dashboard"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-secondary-600 dark:text-secondary-400 mb-2",children:"Tableau de bord"}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-50 tracking-tight leading-tight",children:"Vue d'ensemble des audits"}),c.jsx("p",{className:"mt-3 text-sm leading-relaxed text-secondary-700 dark:text-secondary-300 max-w-2xl",children:"Surveillez la santé de vos campagnes d'audit, identifiez les zones à risque et partagez facilement des rapports synthétiques avec vos équipes."})]})]}),c.jsxs("div",{className:"grid w-full max-w-md gap-3 sm:grid-cols-2",children:[c.jsx(Rm,{label:"Taux de complétion",value:`${y.toFixed(0)}%`,description:`${k(C)} / ${k(A)} équipements scannés`,accent:"primary",icon:"donut_small"}),c.jsx(Rm,{label:"Sessions actives",value:`${j}`,description:`+ ${_} en pause`,accent:"info",icon:"play_circle"}),c.jsx(Rm,{label:"Sessions terminées",value:`${M}`,description:"30 derniers jours",accent:"success",icon:"verified"}),c.jsx(Rm,{label:"Anomalies signalées",value:`${N}`,description:"Équipements inattendus détectés",accent:"warning",icon:"warning_amber"})]})]})}),c.jsx("section",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-4",children:L.map(U=>c.jsx(Dye,{...U},U.title))}),c.jsxs("div",{className:"grid gap-6 xl:grid-cols-[minmax(0,1.3fr)_minmax(0,1fr)]",children:[c.jsx(Pm,{title:"Progression globale",className:"min-h-[360px]",id:"chart-global",children:A===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"insights"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucun équipement à auditer"})]})}):c.jsx(wm,{width:"100%",height:"100%",children:c.jsxs(Oye,{innerRadius:"68%",outerRadius:"100%",data:R,startAngle:90,endAngle:-270,children:[c.jsx($d,{dataKey:"value",cornerRadius:14,background:!0,fill:P[0]}),c.jsx("text",{x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle",className:"text-4xl font-semibold fill-current text-gray-900 dark:text-gray-100",children:`${y.toFixed(0)}%`}),c.jsx(Sr,{content:c.jsx(Om,{})})]})})}),c.jsx(Pm,{title:"Progression par pays",className:"min-h-[360px]",id:"chart-country",children:x.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"travel_explore"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucun pays configuré"})]})}):c.jsx(wm,{width:"100%",height:"100%",children:c.jsxs(ZL,{data:x,layout:"vertical",margin:{top:10,right:24,left:24,bottom:10},children:[c.jsx(LA,{stroke:d,strokeDasharray:"4 4"}),c.jsx(hd,{type:"number",domain:[0,100],tick:{fill:f},unit:"%"}),c.jsx(gd,{dataKey:"name",type:"category",width:120,tick:{fill:f}}),c.jsx(Sr,{content:c.jsx(Om,{}),cursor:{fill:"rgba(148, 163, 184, 0.12)"}}),c.jsx(ma,{dataKey:"progress",name:"Progression",fill:P[0],background:{fill:u?"#1f2937":"#e5e7eb"},radius:[0,8,8,0]})]})})})]}),c.jsxs("div",{className:"grid gap-6 xl:grid-cols-2",children:[c.jsx(Pm,{title:"Statut des audits",className:"min-h-[360px]",id:"chart-status",children:T.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"progress_activity"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucune session d'audit"})]})}):c.jsx(wm,{width:"100%",height:"100%",children:c.jsxs(Pye,{children:[c.jsx(li,{data:T,cx:"50%",cy:"50%",labelLine:!1,outerRadius:110,dataKey:"value",nameKey:"name",label:({name:U,percent:q})=>`${U} ${(q*100).toFixed(0)}%`,children:T.map((U,q)=>c.jsx(Pd,{fill:P[q%P.length]},`cell-${q}`))}),c.jsx(Sr,{content:c.jsx(Om,{})}),c.jsx(Fi,{})]})})}),c.jsx(Pm,{title:"Derniers résultats d'audit",className:"min-h-[360px]",id:"chart-latest",children:w.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-secondary-400 dark:text-secondary-600 mb-4",children:"insights"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:"Aucun audit terminé"})]})}):c.jsx(wm,{width:"100%",height:"100%",children:c.jsxs(ZL,{data:w,margin:{top:10,right:24,left:-4,bottom:10},children:[c.jsx(LA,{stroke:d,strokeDasharray:"4 4"}),c.jsx(hd,{dataKey:"name",tick:{fill:f}}),c.jsx(gd,{tick:{fill:f}}),c.jsx(Sr,{content:c.jsx(Om,{})}),c.jsx(Fi,{}),c.jsx(ma,{dataKey:"Confirmés",stackId:"a",fill:P[2],radius:[6,6,0,0]}),c.jsx(ma,{dataKey:"Manquants",stackId:"a",fill:"#ef4444",radius:[6,6,0,0]}),c.jsx(ma,{dataKey:"Inattendus",fill:P[1],radius:[6,6,0,0]})]})})})]})]})]})},qye=({icon:t,title:e,description:n,buttonLabel:r,onClick:a})=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-full bg-gray-100 dark:bg-gray-700",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-600 dark:text-gray-300",children:t})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100",children:e}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n})]}),c.jsx("button",{onClick:a,className:"rounded-md bg-white dark:bg-gray-700 px-3 py-2 text-sm font-semibold text-gray-900 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:r})]}),Uye=({currentUser:t,onBack:e,onEdit:n,onLogout:r,onManagePin:a})=>{const i=!!t.pin;return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[c.jsx(jt,{title:"Mon Profil",onBack:e}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 max-w-2xl mx-auto w-full pb-24",children:[c.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[c.jsx("img",{src:t.avatarUrl,alt:`Avatar de ${t.name}`,className:"h-24 w-24 rounded-full object-cover ring-4 ring-white dark:ring-gray-700"}),c.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:t.name}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:t.email}),c.jsxs("div",{className:"mt-2 flex items-center justify-center sm:justify-start gap-4 text-sm text-gray-600 dark:text-gray-300",children:[c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"work"})," ",t.department]}),c.jsxs("span",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"badge"})," ",t.role]})]})]}),c.jsxs("button",{onClick:()=>n(t.id),className:"flex items-center justify-center gap-2 shrink-0 rounded-lg px-4 py-2 text-sm font-semibold text-gray-800 dark:text-gray-200 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600",children:[c.jsx("span",{className:"material-symbols-outlined text-base",children:"edit"}),"Modifier"]})]})}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-4",children:"Sécurité"}),c.jsx("div",{className:"space-y-4",children:c.jsx(qye,{icon:"password",title:"Mot de passe",description:i?"Votre mot de passe est défini.":"Configurez un mot de passe pour votre compte.",buttonLabel:i?"Modifier":"Créer",onClick:()=>a(t.id)})})]}),c.jsx("div",{className:"pt-4",children:c.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 rounded-lg h-12 px-4 text-base font-semibold bg-white dark:bg-gray-800 text-status-danger-700 dark:text-status-danger-400 border border-gray-200 dark:border-gray-700 hover:bg-status-danger-50 dark:hover:bg-status-danger-900/30 shadow-sm",children:[c.jsx("span",{className:"material-symbols-outlined",children:"logout"}),"Se déconnecter"]})})]})]})},Bye=[{hash:"#/management",label:"Gestion",icon:"category"},{hash:"#/locations",label:"Emplacements",icon:"pin_drop"},{hash:"#/audit",label:"Audit",icon:"checklist"},{hash:"#/reports",label:"Rapports",icon:"summarize"}],$ye=[],Vye=({isOpen:t,onClose:e,onNavigate:n,role:r})=>{const a=te.useRef(null);Ws(a,t);const i=r===Ne.ADMIN?Bye:$ye;return!t||i.length===0?null:c.jsx("div",{className:"fixed inset-0 z-50 flex flex-col justify-end bg-black/40 backdrop-blur-sm md:hidden",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"more-menu-title",children:c.jsxs("div",{ref:a,className:"surface-card surface-card-gradient rounded-t-3xl w-full pb-6 animate-slide-up shadow-2xl border-t-2 border-white/60 dark:border-white/10",onClick:o=>o.stopPropagation(),children:[c.jsx("div",{className:"flex justify-center py-4",children:c.jsx("div",{className:"h-1.5 w-12 rounded-full bg-gradient-to-r from-primary-300 via-primary-400 to-primary-300 dark:from-primary-700 dark:via-primary-600 dark:to-primary-700"})}),c.jsx("h2",{id:"more-menu-title",className:"text-xl font-bold text-white text-center mb-6 tracking-tight",children:"Plus d'options"}),c.jsx("div",{className:"grid grid-cols-4 gap-3 px-6",children:i.map(o=>c.jsxs("button",{onClick:()=>{n(o.hash),e()},className:"flex flex-col items-center justify-center p-2 rounded-xl min-h-[84px] text-white transition-transform duration-300 hover:scale-105 active:scale-95",children:[c.jsx("span",{className:"material-symbols-outlined text-3xl text-white mb-2",children:o.icon}),c.jsx("span",{className:"text-xs font-semibold text-center text-white/90",children:o.label})]},o.hash))})]})})},Fye=["modelName","assetTag"],zye=["modelName","assetTag","name","purchaseDate","warrantyStartDate","warrantyEndDate","status","location"],Gye=({models:t,onImport:e,onBack:n})=>{const[r,a]=I.useState(null),[i,o]=I.useState([]),[u,f]=I.useState(!1),[d,p]=I.useState(!1),{addToast:h}=Xn(),y=I.useMemo(()=>new Map(t.map(_=>[_.name.toLowerCase(),_])),[t]),x=async _=>{var N;const M=(N=_.target.files)==null?void 0:N[0];M&&(a(M),await T(M))},T=async _=>{f(!0),o([]);try{const N=(await _.text()).split(`
`).filter(U=>U.trim()!=="");if(N.length<2){h("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error");return}const P=N.shift().trim().split(",").map(U=>U.trim()),R=Fye.filter(U=>!P.includes(U));if(R.length>0){h(`En-têtes manquants dans le CSV: ${R.join(", ")}`,"error");return}const L=N.map((U,q)=>{const D=U.split(","),$=P.reduce((K,W,re)=>{var X;return K[W]=((X=D[re])==null?void 0:X.trim())||"",K},{});if(!$.modelName||!$.assetTag)return{status:"error",message:"modelName et assetTag sont requis.",data:{}};const H=y.get($.modelName.toLowerCase());if(!H)return{status:"error",message:`Modèle "${$.modelName}" non trouvé.`,data:{}};const J=$.status&&Object.values(De).includes($.status)?$.status:De.AVAILABLE;return{status:"valid",data:{modelId:H.id,assetTag:$.assetTag,name:$.name||void 0,purchaseDate:$.purchaseDate||void 0,warrantyStartDate:$.warrantyStartDate||void 0,warrantyEndDate:$.warrantyEndDate||void 0,status:J,location:$.location||void 0}}});o(L)}catch(M){console.error("Error processing file:",M),h("Échec du traitement du fichier.","error")}finally{f(!1)}},w=()=>{const _="data:text/csv;charset=utf-8,"+zye.join(","),M=encodeURI(_),N=document.createElement("a");N.setAttribute("href",M),N.setAttribute("download","import_template.csv"),document.body.appendChild(N),N.click(),document.body.removeChild(N)},A=async()=>{if(d)return;const _=i.filter(M=>M.status==="valid").map(M=>M.data);if(_.length>0){p(!0);try{await e(_)}catch{h("L'importation a échoué.","error")}finally{p(!1)}}else h("Aucun équipement valide à importer.","info")},C=i.filter(_=>_.status==="valid").length,j=i.length-C;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(jt,{title:"Importer des équipements",onBack:n}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Pour commencer, téléchargez notre modèle CSV pour vous assurer que vos données sont correctement formatées."}),c.jsxs("button",{onClick:w,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm px-4 py-2 text-sm font-semibold text-gray-700 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:r?r.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:x})]})})]})]}),u&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),i.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",C," équipement(s) prêt(s) à être importé(s), ",j," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Modèle"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"N° Inventaire"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((_,M)=>{var N;return c.jsxs("tr",{className:_.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:_.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.modelId?(N=t.find(k=>k.id===_.data.modelId))==null?void 0:N.name:"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.assetTag||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:_.message||"-"})]},M)})})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:A,disabled:C===0||u||d,loading:d,icon:"cloud_upload",children:d?"Importation...":`Importer ${C>0?`(${C})`:""} équipement(s)`})})})]})},Oi=({icon:t,label:e,onClick:n,rightElement:r,badge:a,isDestructive:i})=>c.jsxs("button",{onClick:n,className:`w-full flex items-center gap-4 px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors ${i?"text-status-danger-600 dark:text-status-danger-400":"text-gray-900 dark:text-gray-100"}`,children:[c.jsx("span",{className:`material-symbols-outlined text-2xl ${i?"":"text-gray-600 dark:text-gray-400"}`,children:t}),c.jsx("span",{className:"flex-1 text-left text-base",children:e}),a&&c.jsx("span",{className:"size-2 rounded-full bg-primary-500"}),r,n&&!r&&c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500",children:"chevron_right"})]}),LS=({title:t})=>c.jsx("h2",{className:"px-4 py-2 text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:t}),Hye=({isOpen:t,onClose:e,title:n,children:r})=>{const a=I.useRef(null);return Ws(a,t),t?c.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm animate-fade-in",style:{animationDuration:"150ms"},onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"sheet-title",children:c.jsxs("div",{ref:a,className:"h-full w-full bg-white/90 dark:bg-gray-900/90 backdrop-blur-lg md:max-w-lg md:mx-auto md:mt-16 md:rounded-xl md:h-auto md:max-h-[85vh] flex flex-col overflow-hidden shadow-2xl border border-white/60 dark:border-white/10",onClick:i=>i.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center gap-3 h-14 px-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[c.jsx("button",{onClick:e,className:"flex size-10 items-center justify-center rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Retour",children:c.jsx("span",{className:"material-symbols-outlined",children:"arrow_back"})}),c.jsx("h2",{id:"sheet-title",className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:n})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:r})]})}):null},Kye=({isOpen:t,onClose:e,currentUser:n,onLogout:r})=>{const{theme:a,setTheme:i}=n3(),o=a==="dark",u=d=>{window.location.hash=d,e()},f=()=>{i(o?"light":"dark")};return c.jsxs(Hye,{isOpen:t,onClose:e,title:"Paramètres",children:[c.jsx(LS,{title:"Général"}),c.jsxs("div",{className:"bg-white dark:bg-gray-800",children:[c.jsx(Oi,{icon:"dark_mode",label:"Apparence",rightElement:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:o?"Sombre":"Clair"}),c.jsx("div",{role:"switch","aria-checked":o,tabIndex:0,onClick:d=>{d.stopPropagation(),f()},onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),d.stopPropagation(),f())},className:`relative flex h-6 w-12 cursor-pointer items-center rounded-full transition-colors duration-200 ease-out focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-gray-900 ${o?"bg-secondary-600 dark:bg-secondary-500":"bg-gray-300 dark:bg-gray-600"}`,children:c.jsx("span",{className:`absolute left-1 h-4 w-4 rounded-full bg-white shadow transition-transform duration-200 ease-out ${o?"translate-x-6":"translate-x-0"}`})})]})}),c.jsx(Oi,{icon:"storage",label:"Données et stockage",onClick:()=>u("#/settings/data")})]}),c.jsx(LS,{title:"Compte"}),c.jsxs("div",{className:"bg-white dark:bg-gray-800",children:[c.jsx(Oi,{icon:"account_circle",label:"Profil",onClick:()=>u("#/profile")}),c.jsx(Oi,{icon:"security",label:"Confidentialité",onClick:()=>{}})]}),c.jsx(LS,{title:"Aide"}),c.jsxs("div",{className:"bg-white dark:bg-gray-800",children:[c.jsx(Oi,{icon:"help",label:"Aide et commentaires",onClick:()=>u("#/settings/help")}),c.jsx(Oi,{icon:"lightbulb",label:"Nouveautés",onClick:()=>u("#/settings/whats-new"),badge:!0}),c.jsx(Oi,{icon:"info",label:"À propos",onClick:()=>u("#/settings/about")})]}),c.jsx("div",{className:"mt-4 bg-white dark:bg-gray-800",children:c.jsx(Oi,{icon:"logout",label:"Se déconnecter",onClick:()=>{r(),e()},isDestructive:!0})})]})},qS=["name","employeeId","email","role"],Yye=["name","employeeId","email","department","role","managerName"],Wye=({users:t,onImport:e,onBack:n})=>{const[r,a]=I.useState(null),[i,o]=I.useState([]),[u,f]=I.useState(!1),[d,p]=I.useState(!1),{addToast:h}=Xn(),y=I.useMemo(()=>new Map(t.filter(_=>_.role===Ne.ADMIN||_.role===Ne.MANAGER).map(_=>[_.name.toLowerCase(),_])),[t]),x=async _=>{var N;const M=(N=_.target.files)==null?void 0:N[0];M&&(a(M),await T(M))},T=async _=>{f(!0),o([]);try{const N=(await _.text()).split(`
`).filter(U=>U.trim()!=="");if(N.length<2){h("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error");return}const P=N.shift().trim().split(",").map(U=>U.trim()),R=qS.filter(U=>!P.includes(U));if(R.length>0){h(`En-têtes manquants dans le CSV: ${R.join(", ")}`,"error");return}const L=N.map(U=>{const q=U.split(","),D=P.reduce((J,B,K)=>{var W;return J[B]=((W=q[K])==null?void 0:W.trim())||"",J},{});if(qS.some(J=>!D[J]))return{status:"error",message:`Les champs ${qS.join(", ")} sont requis.`,data:{}};if(!Object.values(Ne).includes(D.role))return{status:"error",message:`Rôle invalide: "${D.role}".`,data:{}};let $;if(D.managerName){const J=y.get(D.managerName.toLowerCase());if(!J)return{status:"error",message:`Responsable "${D.managerName}" non trouvé.`,data:{}};$=J.id}return{status:"valid",data:{name:D.name,employeeId:D.employeeId,email:D.email,role:D.role,department:D.department||void 0,managerId:$}}});o(L)}catch(M){console.error("Error processing file:",M),h("Échec du traitement du fichier.","error")}finally{f(!1)}},w=()=>{const _="data:text/csv;charset=utf-8,"+Yye.join(","),M=encodeURI(_),N=document.createElement("a");N.setAttribute("href",M),N.setAttribute("download","import_users_template.csv"),document.body.appendChild(N),N.click(),document.body.removeChild(N)},A=async()=>{if(d)return;const _=i.filter(M=>M.status==="valid").map(M=>M.data);if(_.length>0){p(!0);try{await e(_)}catch{h("L'importation a échoué.","error"),p(!1)}}else h("Aucun utilisateur valide à importer.","info")},C=i.filter(_=>_.status==="valid").length,j=i.length-C;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(jt,{title:"Importer des utilisateurs",onBack:n}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Pour commencer, téléchargez notre modèle CSV pour vous assurer que vos données sont correctement formatées."}),c.jsxs("button",{onClick:w,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:r?r.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:x})]})})]})]}),u&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),i.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",C," utilisateur(s) prêt(s) à être importé(s), ",j," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Nom"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Email"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((_,M)=>c.jsxs("tr",{className:_.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:_.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.name||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.email||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:_.message||"-"})]},M))})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:A,disabled:C===0||u||d,loading:d,icon:d?"refresh":"cloud_upload",children:d?"Importation...":`Importer ${C>0?`(${C})`:""} utilisateur(s)`})})})]})},US=["name","brand","categoryName"],Xye=["name","brand","modelNumber","categoryName","specifications","imageUrl"],Jye=({categories:t,onImport:e,onBack:n})=>{const[r,a]=I.useState(null),[i,o]=I.useState([]),[u,f]=I.useState(!1),[d,p]=I.useState(!1),{addToast:h}=Xn(),y=I.useMemo(()=>new Map(t.map(_=>[_.name.toLowerCase(),_])),[t]),x=async _=>{var N;const M=(N=_.target.files)==null?void 0:N[0];M&&(a(M),await T(M))},T=async _=>{f(!0),o([]);try{const N=(await _.text()).split(`
`).filter(U=>U.trim()!=="");if(N.length<2){h("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error");return}const P=N.shift().trim().split(",").map(U=>U.trim()),R=US.filter(U=>!P.includes(U));if(R.length>0){h(`En-têtes manquants dans le CSV: ${R.join(", ")}`,"error");return}const L=N.map(U=>{const q=U.split(","),D=P.reduce((J,B,K)=>{var W;return J[B]=((W=q[K])==null?void 0:W.trim())||"",J},{});if(US.some(J=>!D[J]))return{status:"error",message:`Les champs ${US.join(", ")} sont requis.`,data:{}};const $=y.get(D.categoryName.toLowerCase());return $?{status:"valid",data:{name:D.name,brand:D.brand,categoryId:$.id,modelNumber:D.modelNumber||void 0,specifications:D.specifications||void 0,imageUrl:D.imageUrl||void 0}}:{status:"error",message:`Catégorie "${D.categoryName}" non trouvée.`,data:{}}});o(L)}catch(M){console.error("Error processing file:",M),h("Échec du traitement du fichier.","error")}finally{f(!1)}},w=()=>{const _="data:text/csv;charset=utf-8,"+Xye.join(","),M=encodeURI(_),N=document.createElement("a");N.setAttribute("href",M),N.setAttribute("download","import_models_template.csv"),document.body.appendChild(N),N.click(),document.body.removeChild(N)},A=async()=>{if(d)return;const _=i.filter(M=>M.status==="valid").map(M=>M.data);if(_.length>0){p(!0);try{await e(_)}catch{h("L'importation a échoué.","error")}finally{p(!1)}}else h("Aucun modèle valide à importer.","info")},C=i.filter(_=>_.status==="valid").length,j=i.length-C;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(jt,{title:"Importer des modèles",onBack:n}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Pour commencer, téléchargez notre modèle CSV pour vous assurer que vos données sont correctement formatées."}),c.jsxs("button",{onClick:w,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:r?r.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:x})]})})]})]}),u&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),i.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",C," modèle(s) prêt(s) à être importé(s), ",j," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Nom du modèle"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Marque"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((_,M)=>c.jsxs("tr",{className:_.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:_.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.name||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:_.data.brand||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:_.message||"-"})]},M))})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:A,disabled:C===0||u||d,loading:d,icon:"cloud_upload",children:d?"Importation...":`Importer ${C>0?`(${C})`:""} modèle(s)`})})})]})},Qye=({className:t})=>c.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[c.jsx("path",{d:"M12 2L2 7V17L12 22L22 17V7L12 2Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M2 7L12 12L22 7",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M12 22V12",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),c.jsx("path",{d:"M17 4.5L7 9.5",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"})]}),Zye=({users:t,onLoginSuccess:e})=>{const[n,r]=I.useState(""),[a,i]=I.useState(""),[o,u]=I.useState(!1),[f,d]=I.useState(!1),[p,h]=I.useState(null),[y,x]=I.useState(!1),[T,w]=I.useState(!1),{addToast:A}=Xn(),C=I.useRef(null);I.useEffect(()=>{const M=localStorage.getItem("rememberedUser");M&&(r(M),u(!0))},[]);const j=M=>{M.preventDefault(),!f&&(d(!0),h(null),setTimeout(()=>{const N=n.toLowerCase(),k=t.find(P=>{var R;return((R=P.email)==null?void 0:R.toLowerCase())===N||P.name.toLowerCase()===N});k&&k.pin===a?(o?localStorage.setItem("rememberedUser",n):localStorage.removeItem("rememberedUser"),A(`Bienvenue, ${k.name.split(" ")[0]} !`,"success"),e(k)):(A("Identifiant ou mot de passe incorrect.","error"),h("Identifiant ou mot de passe incorrect."),d(!1),w(!0),setTimeout(()=>w(!1),820))},500))},_=()=>{var M;x(!y),(M=C.current)==null||M.focus()};return c.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 relative overflow-hidden",children:[c.jsxs("div",{"aria-hidden":"true",className:"absolute inset-0 z-0",children:[c.jsx("div",{className:"absolute -top-1/4 -left-1/4 size-[500px] bg-primary-200/50 dark:bg-primary-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob"}),c.jsx("div",{className:"absolute top-1/4 -right-1/4 size-[500px] bg-status-action-200/50 dark:bg-status-action-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-2000"}),c.jsx("div",{className:"absolute bottom-1/4 left-1/4 size-[500px] bg-status-info-200/50 dark:bg-status-info-500/20 rounded-full mix-blend-multiply filter blur-3xl opacity-70 animate-blob animation-delay-4000"})]}),c.jsxs("div",{className:"relative z-10 flex min-h-screen",children:[c.jsx("div",{className:"hidden lg:flex flex-col items-center justify-center flex-1 bg-gray-50/80 dark:bg-gray-800/50 text-center p-12 backdrop-blur-sm",children:c.jsxs("div",{className:"relative z-10 flex flex-col items-center max-w-lg",children:[c.jsx(Qye,{className:"w-20 h-20 text-primary-500"}),c.jsx("h2",{className:"mt-6 text-4xl font-bold text-gray-800 dark:text-gray-100 tracking-tight",children:"Unlock Peak Efficiency."}),c.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-300",children:"Neemba Tracker provides a seamless, intuitive, and powerful way to manage your IT assets from assignment to retirement."}),c.jsxs("div",{className:"mt-12 w-full p-6 bg-white/50 dark:bg-gray-900/50 backdrop-blur-sm rounded-xl border border-gray-200/50 dark:border-gray-700/50",children:[c.jsx("blockquote",{className:"text-gray-700 dark:text-gray-300",children:c.jsx("p",{children:'"Cette plateforme a révolutionné notre façon de suivre nos équipements. Elle nous a fait gagner un temps précieux et a décuplé notre sens des responsabilités."'})}),c.jsx("figcaption",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"— A. Diop, Chef du service informatique chez TechCorp"})]})]})}),c.jsxs("main",{className:"flex flex-1 flex-col items-center justify-center p-4 lg:p-8 lg:bg-white lg:dark:bg-gray-900",children:[c.jsxs("div",{className:`w-full max-w-sm ${T?"animate-shake":""}`,children:[c.jsxs("header",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Bienvenue sur Neemba Tracker"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Connectez-vous pour gérer vos actifs"})]}),c.jsxs("form",{onSubmit:j,className:"space-y-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"identifier",className:"sr-only",children:"Email ou Nom d'utilisateur"}),c.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"person"}),c.jsx("input",{id:"identifier",name:"identifier",type:"text",autoComplete:"username",required:!0,value:n,className:"w-full h-14 appearance-none rounded-xl border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 pl-12 pr-4 text-gray-900 dark:text-gray-100 shadow-inner focus:border-primary-500 focus:ring-1 focus:ring-primary-500",placeholder:"Email ou Nom d'utilisateur",onChange:M=>r(M.target.value)})]}),c.jsxs("div",{className:"relative",children:[c.jsx("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),c.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"lock"}),c.jsx("input",{ref:C,id:"password",name:"password",type:y?"text":"password",autoComplete:"current-password",required:!0,value:a,onChange:M=>i(M.target.value),className:"w-full h-14 appearance-none rounded-xl border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700/50 pl-12 pr-12 text-gray-900 dark:text-gray-100 shadow-inner focus:border-primary-500 focus:ring-1 focus:ring-primary-500",placeholder:"Mot de passe"}),c.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-4 flex items-center text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":y?"Masquer le mot de passe":"Afficher le mot de passe",children:c.jsx("span",{className:"material-symbols-outlined",children:y?"visibility_off":"visibility"})})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:M=>u(M.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{htmlFor:"remember-me",className:"text-gray-600 dark:text-gray-300 ml-2",children:"Se souvenir de moi"})]}),c.jsx("a",{href:"#",className:"font-semibold text-primary-600 hover:text-primary-500 dark:text-primary-400 dark:hover:text-primary-300",children:"Mot de passe oublié"})]}),c.jsx(Re,{type:"submit",block:!0,disabled:!n||!a||f,loading:f,icon:"login",children:f?"Connexion...":"Se connecter"})]})]}),c.jsxs("footer",{className:"absolute bottom-4 text-center text-sm text-gray-500 dark:text-gray-400",children:["© ",new Date().getFullYear()," Neemba Solutions. Tous droits réservés."]})]})]})]})},eve=["type","name"],tve=["type","name","parentName"],nve=({countries:t,sites:e,onImport:n,onBack:r})=>{const[a,i]=I.useState(null),[o,u]=I.useState([]),[f,d]=I.useState(!1),[p,h]=I.useState(!1),{addToast:y}=Xn(),x=I.useMemo(()=>new Map(t.map(N=>[N.name.toLowerCase(),N])),[t]),T=I.useMemo(()=>new Map(e.map(N=>[N.name.toLowerCase(),N])),[e]),w=async N=>{var P;const k=(P=N.target.files)==null?void 0:P[0];k&&(i(k),await A(k))},A=async N=>{d(!0),u([]);try{const P=(await N.text()).split(`
`).filter(D=>D.trim()!=="");if(P.length<2){y("Le fichier CSV doit contenir des en-têtes et au moins une ligne de données.","error"),d(!1);return}const L=P.shift().trim().split(",").map(D=>D.trim()),U=eve.filter(D=>!L.includes(D));if(U.length>0){y(`En-têtes manquants dans le CSV: ${U.join(", ")}`,"error"),d(!1);return}const q=P.map(D=>{var re;const $=D.split(","),H=L.reduce((X,V,z)=>{var Y;return X[V]=((Y=$[z])==null?void 0:Y.trim())||"",X},{}),J=(re=H.type)==null?void 0:re.toLowerCase(),B=H.name,K=H.parentName,W={type:J||"",name:B||"",parentName:K||""};if(!J||!B)return{status:"error",message:"`type` et `name` sont requis.",data:W};switch(J){case"country":return x.has(B.toLowerCase())?{status:"error",message:`Le pays "${B}" existe déjà.`,data:W}:{status:"valid",data:W};case"site":if(!K)return{status:"error",message:"`parentName` est requis pour un site.",data:W};const X=x.get(K.toLowerCase());return X?T.has(B.toLowerCase())?{status:"error",message:`Le site "${B}" existe déjà.`,data:W}:{status:"valid",data:{...W,parentId:X.id}}:{status:"error",message:`Pays parent "${K}" non trouvé.`,data:W};case"department":if(!K)return{status:"error",message:"`parentName` est requis pour un service.",data:W};const V=T.get(K.toLowerCase());return V?{status:"valid",data:{...W,parentId:V.id}}:{status:"error",message:`Site parent "${K}" non trouvé.`,data:W};default:return{status:"error",message:`Type invalide: "${H.type}". Doit être 'country', 'site', ou 'department'.`,data:W}}});u(q)}catch(k){console.error("Error processing file:",k),y("Échec du traitement du fichier.","error")}finally{d(!1)}},C=()=>{const N="data:text/csv;charset=utf-8,"+tve.join(","),k=encodeURI(N),P=document.createElement("a");P.setAttribute("href",k),P.setAttribute("download","import_locations_template.csv"),document.body.appendChild(P),P.click(),document.body.removeChild(P)},j=async()=>{if(p)return;const N=o.filter(k=>k.status==="valid").map(k=>k.data);if(N.length>0){h(!0);const k={countries:N.filter(P=>P.type==="country").map(({name:P})=>({name:P})),sites:N.filter(P=>P.type==="site").map(({name:P,parentId:R})=>({name:P,countryId:R})),departments:N.filter(P=>P.type==="department").map(({name:P,parentId:R})=>({name:P,siteId:R}))};try{await n(k)}catch{y("L'importation a échoué.","error"),h(!1)}}else y("Aucune localisation valide à importer.","info")},_=o.filter(N=>N.status==="valid").length,M=o.length-_;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsx(jt,{title:"Importer des localisations",onBack:r}),c.jsx("main",{className:"flex-grow p-4 overflow-y-auto pb-24",children:c.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 1: Télécharger le fichier CSV"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Le fichier doit contenir les colonnes: ",c.jsx("code",{children:"type"})," (country, site, or department), ",c.jsx("code",{children:"name"}),", et ",c.jsx("code",{children:"parentName"})," (pour les sites et services)."]}),c.jsxs("button",{onClick:C,className:"mt-4 inline-flex items-center gap-2 rounded-lg bg-white px-4 py-2 text-sm font-semibold text-gray-700 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",children:[c.jsx("span",{className:"material-symbols-outlined",children:"download"}),"Télécharger le modèle"]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-gray-700 mb-2",children:"Télécharger votre fichier"}),c.jsx("div",{className:"flex items-center justify-center w-full",children:c.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100",children:[c.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[c.jsx("span",{className:"material-symbols-outlined text-4xl text-gray-400",children:"cloud_upload"}),c.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[c.jsx("span",{className:"font-semibold",children:"Cliquez pour télécharger"})," ou glissez-déposez"]}),c.jsx("p",{className:"text-xs text-gray-500",children:a?a.name:"CSV (MAX. 5MB)"})]}),c.jsx("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv",onChange:w})]})})]})]}),f&&c.jsx("p",{className:"text-center text-gray-600",children:"Traitement du fichier..."}),o.length>0&&c.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-white/60 dark:border-white/10 p-4 rounded-lg shadow-sm",children:[c.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-gray-100 mb-4",children:"Étape 2: Prévisualiser et valider"}),c.jsxs("p",{className:"text-gray-600 mt-2",children:["Nous avons validé votre fichier. ",_," localisation(s) prête(s) à être importée(s), ",M," erreur(s) trouvée(s)."]}),c.jsx("div",{className:"mt-4 max-h-96 overflow-y-auto border border-gray-200 rounded-lg",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Statut"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Type"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Nom"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Parent"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"Message"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:o.map((N,k)=>c.jsxs("tr",{className:N.status==="error"?"bg-red-50":"bg-white",children:[c.jsx("td",{className:"px-4 py-2",children:N.status==="valid"?c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2 py-1 text-xs font-medium text-green-700",children:"Valide"}):c.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-red-100 px-2 py-1 text-xs font-medium text-red-700",children:"Erreur"})}),c.jsx("td",{className:"px-4 py-2 text-gray-700 capitalize",children:N.data.type||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:N.data.name||"N/A"}),c.jsx("td",{className:"px-4 py-2 text-gray-700",children:N.data.parentName||"-"}),c.jsx("td",{className:"px-4 py-2 text-gray-500",children:N.message||"-"})]},k))})]})})]})]})}),c.jsx("footer",{className:"sticky bottom-0 bg-white/80 backdrop-blur-sm p-4 border-t border-gray-200",children:c.jsx("div",{className:"max-w-4xl mx-auto flex justify-end",children:c.jsx(Re,{onClick:j,disabled:_===0||f||p,loading:p,icon:"cloud_upload",children:p?"Importation...":`Importer ${_>0?`(${_})`:""} localisation(s)`})})})]})},Vd=({title:t,subtitle:e,sections:n})=>c.jsxs("div",{className:"flex flex-col h-screen bg-gray-50 dark:bg-gray-900",children:[c.jsx(jt,{title:t,subtitle:e,onBack:()=>window.history.back()}),c.jsx("main",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-6",children:n.map((r,a)=>c.jsxs("section",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl shadow-sm p-6 space-y-3",children:[r.title&&c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:r.title}),r.description&&c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.description}),c.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-3",children:r.content})]},r.title||a))})]}),rve=()=>c.jsx(Vd,{title:"À propos de Neemba Tracker",subtitle:"Version 2.0 — Plateforme de gestion d'équipements",sections:[{title:"Notre mission",description:"Simplifier la gestion des équipements et améliorer la traçabilité des actifs dans les organisations africaines.",content:c.jsx("p",{children:"Neemba Tracker est une solution de suivi des équipements et des ressources humaines conçue pour offrir une expérience fluide sur desktop et mobile. Notre vision est de créer un écosystème unifié qui relie inventaire, maintenance, ressources humaines et analyse des données."})},{title:"Fonctionnalités clés",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Gestion complète du cycle de vie des équipements (assignation, retour, maintenance)."}),c.jsx("li",{children:"Workflows d'approbation multi-rôles et audit trail détaillé."}),c.jsx("li",{children:"Monitoring en temps réel avec dashboards interactifs."}),c.jsx("li",{children:"Support des politiques BYOD, enregistrement biométrique et authentification forte."})]})},{title:"Équipe produit",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Produit :"})," Neemba Tracker Core Team"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"UX Research & Design :"})," Studio Neemba"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Développement :"})," Windsurf Engineering (Silicon Valley) & Neemba Labs"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Support :"})," support@neemba.africa"]})]})}]}),ave=()=>c.jsx(Vd,{title:"Notifications",subtitle:"Configurez comment et quand vous recevez les alertes",sections:[{title:"Canaux de communication",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsxs("li",{children:[c.jsx("strong",{children:"Mobile push :"})," alertes en temps réel sur l'état des équipements et les tâches assignées."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"Email :"})," rapports quotidiens, synthèses hebdomadaires et alertes critiques."]}),c.jsxs("li",{children:[c.jsx("strong",{children:"SMS :"})," notifications urgentes pour les incidents de sécurité ou d'infrastructure."]})]})},{title:"Priorités par défaut",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Critique :"})," incidents de sécurité, pannes majeures, tentatives d'accès non autorisées."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Important :"})," demandes d'approbation, retards de maintenance, tickets en attente."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Information :"})," assignations confirmées, retours complétés, nouveaux équipements ajoutés."]})]})},{title:"Astuce",description:"Utilisez la page Gestion > Automations pour créer des règles personnalisées.",content:c.jsx("p",{children:"Adaptez vos notifications par département, site ou catégorie d'équipement afin de réduire le bruit."})}]}),ive=()=>c.jsx(Vd,{title:"Données et stockage",subtitle:"Contrôlez où et comment vos données sont stockées",sections:[{title:"Données synchronisées",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Inventaire : équipements, modèles, catégories et historique des mouvements."}),c.jsx("li",{children:"Utilisateurs : profils, rôles, authentification multi-facteurs."}),c.jsx("li",{children:"Audit : journaux d'activité, approbations, signatures."})]})},{title:"Politique de conservation",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Temps réel :"})," synchronisation instantanée entre devices et sites distants."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Archivage :"})," données inactives déplacées vers un stockage à froid après 12 mois."]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Suppression :"})," les données supprimées sont purgées définitivement après 30 jours."]})]})},{title:"Chiffrement",content:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{children:"Les données sont chiffrées en transit (TLS 1.3) et au repos (AES-256)."}),c.jsx("p",{children:"Les clés privées sont gérées via un HSM régional certifié (niveau FIPS 140-2)."})]})}]}),sve=()=>c.jsx(Vd,{title:"Aide et support",subtitle:"Ressources pour résoudre vos problèmes",sections:[{title:"Centre d'aide",content:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{children:"Consultez la base de connaissances en ligne pour obtenir des guides détaillés, des FAQ et des tutoriels vidéo."}),c.jsxs("p",{children:["Accédez-y depuis ",c.jsx("strong",{children:"support.neemba.africa/help"}),"."]})]})},{title:"Support technique",content:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("p",{children:["Email : ",c.jsx("a",{href:"mailto:support@neemba.africa",className:"text-primary-600 dark:text-primary-300 underline",children:"support@neemba.africa"})]}),c.jsx("p",{children:"Hotline : +221 70 123 45 67 (Lun-Ven 8h-18h UTC)"}),c.jsx("p",{children:"Slack : #neemba-support (Enterprise)"})]})},{title:"Envoyer des commentaires",content:c.jsx("p",{children:"Partagez vos idées directement depuis l'application. Nous analysons chaque suggestion pour améliorer votre expérience."})}]}),ove=()=>c.jsx(Vd,{title:"Nouveautés",subtitle:"Dernières améliorations de Neemba Tracker",sections:[{title:"Version 2.0",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Refonte complète du tableau de bord avec widgets dynamiques."}),c.jsx("li",{children:"Assignment Wizard unifié avec UI cohérente et validation multi-niveaux."}),c.jsx("li",{children:"Design system documenté avec couleurs, icônes et composants standardisés."})]})},{title:"Productivité",content:c.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[c.jsx("li",{children:"Recherche intelligente (SmartSearch) sur Inventaire, Utilisateurs et Wizard."}),c.jsx("li",{children:"Actions rapides sur mobile avec PageHeaderActions et FAB harmonisés."}),c.jsx("li",{children:"Sheets paramétrables pour les paramètres et menus contextuels."})]})},{title:"À venir",content:c.jsx("p",{children:"Support de la maintenance prédictive, intégration IoT et reporting avancé piloté par IA sont en cours de développement."})}]}),lve={it:{label:"Admin IT",icon:"shield_person",color:"text-blue-600 dark:text-blue-400",badge:"IT"},manager:{label:"Responsable",icon:"workspace_premium",color:"text-violet-600 dark:text-violet-400",badge:"Manager"},user:{label:"Utilisateur",icon:"person",color:"text-emerald-600 dark:text-emerald-400",badge:"Employé"}},uve=({assignment:t,currentUser:e,userMap:n,manager:r,user:a,canManage:i,canAdminTriggerManager:o,canAdminTriggerUser:u,onActorClick:f})=>{const d=t.action===ze.ASSIGN?["it","manager","user"]:["it","user","manager"],{validation:p,validatedBy:h,validatedAt:y}=t,x=p,T=h||{},w=y||{},A={it:e.role===Ne.ADMIN&&!x.it,manager:(r.canAct||o)&&!x.manager,user:(a.canAct||u)&&!x.user},C=t.action===ze.ASSIGN?{it:!1,manager:!x.it,user:!(x.it&&x.manager)}:{it:!1,user:!x.it,manager:!(x.it&&x.user)},j=(()=>{const _={it:!x.it&&e.role!==Ne.ADMIN?"Action réservée à l’Admin IT":void 0};return t.action===ze.ASSIGN?{..._,manager:!x.manager&&!(r.canAct||o)?"En attente de la validation IT":void 0,user:!x.user&&!(x.it&&x.manager)?"En attente de l’étape précédente":void 0}:{..._,user:!x.user&&!u?"En attente de la validation IT":void 0,manager:!x.manager&&!(x.it&&x.user)?"En attente de l’étape précédente":void 0}})();return c.jsx("div",{className:"w-full overflow-x-auto",children:c.jsx("ol",{className:"grid grid-cols-1 gap-3 md:grid-cols-3 md:gap-4",children:d.map(_=>{var K,W,re;const M=lve[_],N=!!x[_],k=!N&&A[_]&&!C[_],P=!A[_]||C[_],R=T[_],L=R?(K=n.get(R))==null?void 0:K.name:void 0,U=w[_],q=U?new Date(U).toLocaleDateString():void 0,H=`flex items-center justify-between rounded-lg border p-3 md:p-4 transition-colors ${N?"bg-status-success-50/50 dark:bg-status-success-900/20 border-status-success-200 dark:border-status-success-700":k?"bg-blue-50/50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700":"bg-gray-50/50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700"}`,J=c.jsx(c.Fragment,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${N?"bg-status-success-100 dark:bg-status-success-900/20":k?"bg-blue-100 dark:bg-blue-900/30":"bg-gray-100 dark:bg-gray-700"}`,children:c.jsx("span",{className:`material-symbols-outlined ${N?"text-status-success-600 dark:text-status-success-400":k?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:N?"check_circle":M.icon})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:M.label}),M.badge&&c.jsx("span",{className:"inline-flex items-center rounded-full bg-gray-100 px-2 py-0.5 text-[10px] font-semibold text-gray-600 dark:bg-gray-700 dark:text-gray-300",children:M.badge}),N&&R&&((W=n.get(R))==null?void 0:W.avatarUrl)&&c.jsx("img",{alt:((re=n.get(R))==null?void 0:re.name)||"",src:n.get(R).avatarUrl,className:"ml-1 h-4 w-4 rounded-full object-cover"})]}),c.jsx("p",{className:`text-xs font-medium ${N?"text-status-success-700 dark:text-status-success-400":k?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`,children:N?L?`Validé par ${L}${q?` le ${q}`:""}`:"Validé":C[_]?"En attente":A[_]?"Action requise":"En attente"})]})]})}),B=A[_]&&!P?c.jsx("div",{role:"button",tabIndex:0,onClick:()=>f(_),onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),f(_))},className:`${H} cursor-pointer focus:outline-none focus:ring-2 focus:ring-primary-500`,children:J}):c.jsx("div",{className:H,children:J});return c.jsx("li",{children:j[_]?c.jsxs("div",{className:"group relative",children:[B,c.jsx("div",{className:"absolute hidden md:block left-1/2 -translate-x-1/2 mt-2 whitespace-nowrap rounded-md bg-gray-800 px-3 py-1.5 text-center text-xs font-semibold text-white group-hover:block z-40",children:j[_]})]}):B},_)})})})},cve=({action:t,status:e})=>{if(e===Bt.REJECTED)return c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-red-100 dark:bg-red-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400",children:"block"})});const n=t===ze.ASSIGN,r=n?"person_add":"undo",a=n?"bg-primary-100 dark:bg-primary-900/50":"bg-orange-100 dark:bg-orange-900/50",i=n?"text-primary-600 dark:text-primary-400":"text-orange-600 dark:text-orange-400";return c.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${a}`,children:c.jsx("span",{className:`material-symbols-outlined ${i}`,children:r})})},dve={name:"Nom AD",assetTag:"N° de série",purchaseDate:"Date d'achat",warrantyEndDate:"Fin de garantie",status:"Statut",siteId:"Site",departmentId:"Service",os:"OS",ram:"RAM",storage:"Disque dur",notes:"Observations",operationalStatus:"Statut Opérationnel"},eq=(t,e,n,r)=>{var a,i;return e==null||e===""?"Vide":t==="siteId"?((a=n.find(o=>o.id===e))==null?void 0:a.name)||e:t==="departmentId"?((i=r.find(o=>o.id===e))==null?void 0:i.name)||e:String(e)},fve=({change:t,sites:e,departments:n})=>{const r=dve[t.field]||t.field,a=eq(t.field,t.oldValue,e,n),i=eq(t.field,t.newValue,e,n);return c.jsxs("li",{className:"text-xs text-gray-600 dark:text-gray-400 pl-4",children:[c.jsxs("span",{className:"font-semibold",children:[r,":"]})," de ",c.jsxs("span",{className:"italic",children:['"',a,'"']})," à ",c.jsxs("span",{className:"italic",children:['"',i,'"']})]})},mve=({equipment:t,assignments:e,users:n,currentUser:r,models:a,categories:i,editHistory:o,sites:u,departments:f,onBack:d,onEdit:p,onDelete:h,onApprove:y,onReject:x})=>{var Te,_e,ce,Ce;const[T,w]=I.useState("details"),[A,C]=I.useState(!1),[j,_]=I.useState(null),[M,N]=I.useState(null),[k,P]=I.useState(null),[R,L]=I.useState(null),U=a.find(G=>G.id===t.modelId),q=U?i.find(G=>G.id===U.categoryId):null,D=new Map(n.map(G=>[G.id,G])),$=[...e].sort((G,Z)=>new Date(Z.date).getTime()-new Date(G.date).getTime()),H=$.find(G=>G.status===Bt.APPROVED),J=t.status===De.ASSIGNED&&H?n.find(G=>G.id===H.userId):null,B=t.status===De.PENDING_VALIDATION&&t.pendingAssignmentId?e.find(G=>G.id===t.pendingAssignmentId):null,K=I.useMemo(()=>{if(!B||!B.validation)return!1;const G=B,Z=G.validation,de=G.action===ze.ASSIGN;if(r.role===Ne.ADMIN&&!Z.it)return!0;if(de){if(r.id===G.managerId&&!Z.manager&&Z.it||r.id===G.userId&&Z.it&&Z.manager&&!Z.user)return!0}else if(r.id===G.userId&&Z.it&&!Z.user||r.id===G.managerId&&Z.it&&Z.user&&!Z.manager)return!0;return!1},[B,r]),W=r.role===Ne.ADMIN||r.role===Ne.MANAGER,re=I.useMemo(()=>{const G={manager:{canAct:!1,highlight:!1},user:{canAct:!1,highlight:!1}};if(!B||!B.validation)return G;const Z=B.validation,de=B.action===ze.ASSIGN,Se=B.managerId===r.id||W,Oe=!!Z.manager,$e=de?Z.it:Z.it&&Z.user,Je=Se&&!Oe&&$e,vt=Je&&B.managerId===r.id,It=B.userId===r.id||W,Qt=!!Z.user,Gt=de?Z.it&&Z.manager:Z.it,rn=It&&!Qt&&Gt,Gn=rn&&B.userId===r.id;return{manager:{canAct:Je,highlight:vt},user:{canAct:rn,highlight:Gn}}},[B,r,W]);I.useMemo(()=>{var G;return B?r.role===Ne.ADMIN&&!((G=B.validation)!=null&&G.it)?"it":r.id===B.managerId?"manager":r.id===B.userId?"user":re.manager.canAct?"manager":re.user.canAct?"user":null:null},[B,r,re]);const X=I.useMemo(()=>{const G=$.map(de=>({type:"assignment",date:new Date(de.date),data:de})),Z=o.filter(de=>de.entityType==="equipment"&&de.entityId===t.id).map(de=>({type:"edit",date:new Date(de.timestamp),data:de}));return[...G,...Z].sort((de,Se)=>Se.date.getTime()-de.date.getTime())},[$,o,t.id]),V=t.status!==De.ASSIGNED&&t.status!==De.PENDING_VALIDATION,z=[];t.status===De.AVAILABLE&&z.push({label:"Attribuer",icon:"person_add",onClick:()=>window.location.hash=`#/assign/equipment/${t.id}`,disabled:r.role!==Ne.ADMIN,title:r.role!==Ne.ADMIN?"Seuls les administrateurs peuvent effectuer cette action.":void 0}),t.status===De.ASSIGNED&&z.push({label:"Retourner",icon:"undo",onClick:()=>window.location.hash=`#/return/equipment/${t.id}`,disabled:r.role!==Ne.ADMIN,title:r.role!==Ne.ADMIN?"Seuls les administrateurs peuvent effectuer cette action.":void 0}),W&&(z.push({label:"Modifier",icon:"edit",onClick:()=>p(t.id)}),z.push({label:"Supprimer",icon:"delete",onClick:()=>C(!0),isDestructive:!0,disabled:!V,title:V?"Supprimer l'équipement":"L'équipement attribué ou en attente ne peut être supprimé."}));const Y=[{id:"details",label:"Détails",icon:"info"},{id:"history",label:"Historique",icon:"history"}],ee=[{label:"Statut",value:t.status,description:J?`Attribué à ${J.name}`:"Aucun utilisateur assigné"},{label:"Dernière activité",value:H?new Date(H.date).toLocaleDateString():"N/A",description:H?H.action:"Aucune action"}],le=((Te=u.find(G=>G.id===t.siteId))==null?void 0:Te.name)||"Non défini",xe=((_e=f.find(G=>G.id===t.departmentId))==null?void 0:_e.name)||"Non défini";return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722] text-gray-900 dark:text-gray-100",children:[c.jsx(jt,{title:(U==null?void 0:U.name)||"Détails",onBack:d,children:z.length>0&&c.jsx(ba,{actions:z})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-36",children:[c.jsxs(Ke.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"mx-4 mt-4 mb-6 rounded-3xl border border-white/60 dark:border-white/10 bg-white/85 dark:bg-secondary-900/60 shadow-[var(--shadow-elev-2)] overflow-hidden",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"aspect-[16/9] w-full overflow-hidden bg-secondary-100/40 dark:bg-secondary-900/40",children:c.jsx("img",{alt:U==null?void 0:U.name,className:"h-full w-full object-cover",src:(U==null?void 0:U.imageUrl)||"https://placehold.co/600x400/e2e8f0/a0aec0/png"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),c.jsx("div",{className:"absolute inset-0 flex flex-col justify-center p-6 text-white",children:c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/70",children:(q==null?void 0:q.name)||"Non catégorisé"}),c.jsx("h1",{className:"mt-1 text-3xl font-semibold text-white tracking-tight",children:c.jsx("button",{onClick:()=>U&&(window.location.hash=`#/models/${U.id}`),className:"text-left hover:underline",children:(U==null?void 0:U.name)||"Modèle inconnu"})}),c.jsxs("p",{className:"text-sm text-white/75",children:["N/S: ",t.assetTag]})]}),c.jsx("div",{className:"flex gap-3",children:ee.map(G=>c.jsxs("div",{className:"rounded-2xl border border-white/40 bg-white/15 px-4 py-3 backdrop-blur",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-white/70",children:G.label}),c.jsx("p",{className:"mt-1 text-lg font-semibold",children:G.value}),c.jsx("p",{className:"text-xs text-white/70",children:G.description})]},G.label))})]})})]}),c.jsx("div",{className:"p-5",children:c.jsxs("div",{className:"rounded-2xl border border-white/60 dark:border-secondary-800/60 bg-white/90 dark:bg-secondary-900/40 p-4 flex items-center gap-4 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-2xl bg-secondary-100/70 dark:bg-secondary-900/40 text-secondary-700 dark:text-secondary-200",children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"location_on"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-secondary-500 dark:text-secondary-300",children:"Site & service"}),c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:le}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:xe})]})]})})]}),B&&B.validation&&c.jsx("div",{className:"px-4 pt-4",children:c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-5 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"rule"}),"Validation en attente"]}),K?c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 mb-4",children:["Votre approbation est requise pour cette demande de ",B.action===ze.ASSIGN?"dotation":"restitution","."]}):c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 mb-4",children:"Une action est requise par un autre utilisateur."}),(()=>{const G=B.action===ze.ASSIGN,Z=B.validation,de=G?W&&!Z.manager&&Z.it:W&&!Z.manager&&Z.it&&Z.user,Se=G?W&&!Z.user&&Z.manager&&Z.it:W&&!Z.user&&Z.it;return c.jsx(uve,{assignment:B,currentUser:r,userMap:D,manager:re.manager,user:re.user,canManage:W,canAdminTriggerManager:de,canAdminTriggerUser:Se,onActorClick:Oe=>{P(Oe),L(B)}})})()]})}),c.jsx(a3,{tabs:Y,activeTab:T,onTabClick:G=>w(G)}),T==="details"&&c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs(Qo,{title:"Spécifications",icon:"list_alt",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(ar,{label:"Marque",value:U==null?void 0:U.brand}),c.jsx(ar,{label:"Numéro de modèle",value:U==null?void 0:U.modelNumber}),c.jsx(ar,{label:"Système d'exploitation",value:t.os}),c.jsx(ar,{label:"RAM",value:t.ram}),c.jsx(ar,{label:"Stockage",value:t.storage})]}),c.jsxs(Qo,{title:"Acquisition & Garantie",icon:"receipt_long",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(ar,{label:"Date d'achat",value:t.purchaseDate?new Date(t.purchaseDate).toLocaleDateString():void 0}),c.jsx(ar,{label:"Début de la garantie",value:t.warrantyStartDate?new Date(t.warrantyStartDate).toLocaleDateString():void 0}),c.jsx(ar,{label:"Fin de la garantie",value:t.warrantyEndDate?new Date(t.warrantyEndDate).toLocaleDateString():void 0})]}),c.jsxs(Qo,{title:"Localisation",icon:"pin_drop",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(ar,{label:"Site",value:(ce=u.find(G=>G.id===t.siteId))==null?void 0:ce.name}),c.jsx(ar,{label:"Service / Département",value:(Ce=f.find(G=>G.id===t.departmentId))==null?void 0:Ce.name})]}),c.jsxs(Qo,{title:"Sécurité & Agents",icon:"security",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:[c.jsx(ar,{label:"Statut Opérationnel",value:t.operationalStatus}),c.jsx(ar,{label:"Agent SentinelOne",value:t.agentS1}),c.jsx(ar,{label:"Agent Matrix42",value:t.agentM42}),c.jsx(ar,{label:"Agent ManageEngine",value:t.agentME})]}),t.notes&&c.jsx(Qo,{title:"Observations",icon:"notes",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60",children:c.jsx("p",{className:"sm:col-span-2 text-base text-gray-900 dark:text-gray-100 whitespace-pre-wrap",children:t.notes})})]}),T==="history"&&c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-5 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"timeline"}),"Historique complet"]}),X.length>0?c.jsxs("div",{className:"relative pl-8",children:[c.jsx("div",{className:"absolute left-4 top-2 -ml-px h-[calc(100%-1rem)] w-0.5 bg-secondary-200 dark:bg-secondary-800","aria-hidden":"true"}),c.jsx("ul",{className:"space-y-8",children:X.map(G=>{var Z,de;return c.jsxs("li",{className:"relative",children:[c.jsx("div",{className:"absolute -left-[38px] top-0",children:G.type==="assignment"?c.jsx(cve,{action:G.data.action,status:G.data.status}):c.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary-100 dark:bg-primary-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-400",children:"edit_note"})})}),c.jsx("div",{className:"ml-6 rounded-2xl border border-secondary-100/60 dark:border-secondary-800/60 bg-white/95 dark:bg-secondary-900/40 p-4",children:G.type==="assignment"?c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:G.data.action}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:[G.data.action===ze.ASSIGN?"Pour":"Par"," ",((Z=D.get(G.data.userId))==null?void 0:Z.name)||"Utilisateur inconnu"]}),c.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:new Date(G.data.date).toLocaleDateString()}),G.data.status===Bt.REJECTED&&G.data.rejectionReason&&c.jsxs("p",{className:"text-xs text-status-danger-600 dark:text-status-danger-400 italic mt-1",children:['Rejeté: "',G.data.rejectionReason,'"']})]}):c.jsxs(c.Fragment,{children:[c.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"Modification de l'équipement"}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:["Par ",((de=D.get(G.data.userId))==null?void 0:de.name)||"Utilisateur inconnu"]}),c.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:new Date(G.data.timestamp).toLocaleString()}),c.jsx("ul",{className:"mt-2 list-disc list-inside space-y-1 text-sm text-secondary-600 dark:text-secondary-300",children:G.data.changes.map((Se,Oe)=>c.jsx(fve,{change:Se,sites:u,departments:f},Oe))})]})})]},`${G.type}-${G.data.id}`)})})]}):c.jsx("p",{className:"text-center text-secondary-600 dark:text-secondary-300 py-4",children:"Aucun historique trouvé pour cet équipement."})]})})]}),c.jsx(ai,{isOpen:A,onClose:()=>C(!1),onConfirm:()=>{h(t.id),C(!1)},title:`Supprimer "${(U==null?void 0:U.name)||t.assetTag}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet équipement ? Cette action est irréversible."})}),j&&c.jsx(uU,{isOpen:!!j,onClose:()=>_(null),onConfirm:G=>{x(j.id,G),_(null)}}),R&&c.jsx(Aw,{isOpen:!!R,onClose:()=>L(null),title:"Choisir une action",primaryButtonText:"Valider",onPrimaryClick:()=>{R&&(N(R),L(null))},secondaryButtonText:"Rejeter",onSecondaryClick:()=>{R&&(_(R),L(null))},icon:"rule",iconBgColor:"bg-primary-100",iconColor:"text-primary-600",children:c.jsx("p",{className:"text-sm text-gray-600",children:"Souhaitez-vous valider ou rejeter cette étape de validation ?"})}),M&&c.jsx(cU,{isOpen:!!M,onClose:()=>{N(null),P(null)},onConfirm:()=>{if(!M)return;const G=k??(M.managerId===r.id?"manager":M.userId===r.id?"user":void 0);y(M.id,G??void 0),N(null),P(null)},assignment:M,equipment:{...t,model:U,category:q},userToValidate:!k||!M?r:k==="manager"?n.find(G=>G.id===M.managerId)||r:k==="it"?r:n.find(G=>G.id===M.userId)||r,actorLabel:k==="manager"?"Responsable":k==="user"?"Utilisateur":k==="it"?"Admin IT":void 0,instructions:k==="manager"?"Confirmez l’attribution ou la restitution en tant que responsable.":k==="user"?"Confirmez la réception ou la restitution en tant qu’utilisateur.":k==="it"?"Confirmez l’opération en tant qu’administrateur IT.":void 0})]})},pve=({assignments:t,equipmentList:e,users:n,currentUser:r,models:a,categories:i,editHistory:o,sites:u,departments:f,onBack:d,onEdit:p,onDelete:h,onApprove:y,onReject:x})=>{const{id:T}=$r(),w=e.find(C=>C.id===T);if(!w)return c.jsx("h2",{children:"Équipement non trouvé"});const A=t.filter(C=>C.equipmentId===w.id);return c.jsx(mve,{equipment:w,assignments:A,users:n,currentUser:r,models:a,categories:i,editHistory:o,sites:u,departments:f,onBack:d,onEdit:p,onDelete:h,onApprove:y,onReject:x})},tq=({iconName:t})=>c.jsx("span",{className:"material-symbols-outlined text-2xl text-gray-600",children:t||"device_unknown"}),hve={name:"Nom complet",role:"Rôle",department:"Département",email:"E-mail",managerId:"Responsable"},nq=(t,e,n)=>{var r;return e==null||e===""?"Vide":t==="managerId"?((r=n.find(a=>a.id===e))==null?void 0:r.name)||e:String(e)},gve=({change:t,allUsers:e})=>{const n=hve[t.field]||t.field,r=nq(t.field,t.oldValue,e),a=nq(t.field,t.newValue,e);return c.jsxs("li",{className:"text-xs text-gray-600 pl-4",children:[c.jsxs("span",{className:"font-semibold",children:[n,":"]})," de ",c.jsxs("span",{className:"italic",children:['"',r,'"']})," à ",c.jsxs("span",{className:"italic",children:['"',a,'"']})]})},yve=({user:t,assignments:e,equipment:n,models:r,categories:a,manager:i,allUsers:o,editHistory:u,onBack:f,currentUser:d,onEdit:p,onDelete:h,onManagePin:y,onRegisterFingerprint:x})=>{const[T,w]=I.useState("details"),[A,C]=I.useState(!1),j=new Map(n.map(X=>[X.id,X])),_=new Map(r.map(X=>[X.id,X])),M=new Map(a.map(X=>[X.id,X])),N=new Map(o.map(X=>[X.id,X])),k=new Map,P=e.filter(X=>X.userId===t.id);for(const X of P){const V=k.get(X.equipmentId);(!V||new Date(X.date)>new Date(V.date))&&k.set(X.equipmentId,X)}const R=Array.from(k.values()).filter(X=>X.action===ze.ASSIGN&&X.status===Bt.APPROVED).map(X=>j.get(X.equipmentId)).filter(X=>X!==void 0),L=[...P].sort((X,V)=>new Date(V.date).getTime()-new Date(X.date).getTime()),U=u.filter(X=>X.entityType==="user"&&X.entityId===t.id),q=d.role===Ne.ADMIN&&t.id!==d.id,D=d.role===Ne.ADMIN||d.role===Ne.MANAGER&&t.managerId===d.id,$=[];q&&($.push({label:"Attribuer un équipement",icon:"add_circle",onClick:()=>window.location.hash=`#/assign/user/${t.id}`}),$.push({label:"Modifier",icon:"edit",onClick:()=>p(t.id)}),$.push({label:"Supprimer",icon:"delete",onClick:()=>C(!0),isDestructive:!0}));const H=[{id:"details",label:"Détails",icon:"person"},{id:"equipment",label:"Équipement",icon:"devices"},{id:"history",label:"Historique",icon:"history"}],J=d.role===Ne.ADMIN,B=!!t.email,K=t.email??"Adresse e-mail non renseignée";I.useMemo(()=>{switch(t.role){case Ne.ADMIN:return"Administrateur";case Ne.MANAGER:return"Responsable";case Ne.EMPLOYEE:return"Employé";default:return"Collaborateur"}},[t.role]);const W=L[0],re=P.filter(X=>{if(X.status===Bt.REJECTED||X.status===Bt.APPROVED)return!1;if(X.status===Bt.PENDING)return!0;if(!X.validation)return!1;const{manager:V,user:z,it:Y}=X.validation;return!V||!z||!Y}).length;return`${R.length}`,R.length>1,`${P.length}`,P.length>1,W&&`${new Date(W.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}`,W&&(W.action,ze.ASSIGN),`${re}`,re>1,c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722] text-gray-900 dark:text-gray-100",children:[c.jsx(jt,{title:t.name,onBack:f,children:$.length>0&&c.jsx(ba,{actions:$})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-36",children:[c.jsx(Ke.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,ease:"easeOut"},className:"mx-4 mt-4 mb-6 rounded-3xl border border-white/60 dark:border-white/10 bg-white/90 dark:bg-secondary-900/60 shadow-[var(--shadow-elev-2)] px-6 py-8",children:c.jsxs("div",{className:"flex flex-col items-center text-center gap-5",children:[c.jsx("div",{className:"h-28 w-28 rounded-full bg-gradient-to-br from-secondary-100 via-white to-white dark:from-secondary-900/50 dark:via-secondary-900/30 dark:to-secondary-900/20 shadow-[var(--shadow-elev-2)] ring-4 ring-white/70 dark:ring-secondary-900/40 overflow-hidden",children:c.jsx("img",{src:t.avatarUrl,alt:t.name,className:"h-full w-full object-cover"})}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 flex-wrap",children:[c.jsx("h1",{className:"text-3xl font-semibold text-gray-900 dark:text-gray-50 tracking-tight",children:t.name}),c.jsx(yU,{role:t.role})]}),B?c.jsx("a",{href:`mailto:${t.email}`,className:"text-sm text-secondary-600 hover:text-primary-600 dark:text-secondary-300 dark:hover:text-primary-400 transition-colors",children:K}):c.jsx("p",{className:"text-sm text-secondary-500 dark:text-secondary-400",children:K}),c.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-xs",children:[t.employeeId&&c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-secondary-100 dark:bg-secondary-800/60 px-3 py-1 text-secondary-700 dark:text-secondary-200 font-medium",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"badge"}),"ID ",t.employeeId]}),t.department&&c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-secondary-100 dark:bg-secondary-800/60 px-3 py-1 text-secondary-700 dark:text-secondary-200 font-medium",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"apartment"}),t.department]}),i&&c.jsxs("span",{className:"inline-flex items-center gap-1.5 rounded-full bg-secondary-100 dark:bg-secondary-800/60 px-3 py-1 text-secondary-700 dark:text-secondary-200 font-medium",children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:"supervisor_account"}),i.name]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-4 border-t border-secondary-200 dark:border-secondary-700 w-full max-w-lg",children:[c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:R.length}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:["Équipement",R.length>1?"s":""]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:W?new Date(W.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short"}):"—"}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:"Dernière activité"})]}),c.jsxs("div",{className:"flex flex-col items-center gap-1",children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:re}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:"En attente"})]})]})]})}),c.jsx(a3,{tabs:H,activeTab:T,onTabClick:X=>w(X)}),T==="details"&&c.jsx("div",{className:"space-y-6 p-4",children:(J||d.id===t.id)&&c.jsx(Qo,{title:"Sécurité",icon:"security",className:"surface-card surface-card-gradient border border-white/60 dark:border-secondary-800/60 col-span-full",children:c.jsxs("div",{className:"sm:col-span-2 space-y-4",children:[c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:["Gérer les méthodes d'authentification pour ",t.name.split(" ")[0],"."]}),c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-secondary-100/70 dark:border-secondary-800/60 bg-white/90 dark:bg-secondary-900/40 p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"password"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Mot de passe"}),c.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:t.pin?"Un mot de passe a été défini.":"Aucun mot de passe défini."})]})]}),c.jsx(Re,{onClick:()=>y(t.id),children:t.pin?"Modifier":"Créer"})]}),J&&c.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-secondary-100/70 dark:border-secondary-800/60 bg-white/90 dark:bg-secondary-900/40 p-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Cs,{className:"text-secondary-500 dark:text-secondary-300"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Empreinte digitale"}),c.jsx("span",{className:"text-sm text-secondary-600 dark:text-secondary-300",children:t.webauthnCredentialId?"Une empreinte est enregistrée.":"Aucune empreinte enregistrée."})]})]}),c.jsx(Re,{onClick:()=>x(t.id),children:t.webauthnCredentialId?"Gérer":"Enregistrer"})]})]})})}),T==="equipment"&&c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-5 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center gap-2",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"inventory_2"}),"Équipement attribué"]}),R.length>0?c.jsx("div",{className:"space-y-3",children:R.map(X=>{const V=_.get(X.modelId),z=V?M.get(V.categoryId):void 0;return c.jsxs("div",{className:"flex items-center gap-4 rounded-2xl border border-secondary-100/70 dark:border-secondary-800/60 bg-white/95 dark:bg-secondary-900/40 p-3 transition-all hover:-translate-y-0.5 hover:shadow-[var(--shadow-elev-2)]",children:[c.jsxs("button",{type:"button",className:"flex flex-1 items-center gap-4 text-left",onClick:()=>window.location.hash=`#/equipment/${X.id}`,children:[c.jsx("div",{className:"flex size-12 items-center justify-center rounded-xl bg-secondary-100/70 dark:bg-secondary-900/50 text-secondary-700 dark:text-secondary-200",children:c.jsx(tq,{iconName:z==null?void 0:z.icon})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:(V==null?void 0:V.name)||"Modèle inconnu"}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:["N/S: ",X.assetTag]})]})]}),D&&c.jsx(Re,{variant:"secondary",size:"sm",icon:"undo",onClick:Y=>{Y.stopPropagation(),window.location.hash=`#/return/equipment/${X.id}`},children:"Retour"})]},X.id)})}):c.jsx("p",{className:"text-secondary-600 dark:text-secondary-300 text-center py-2",children:"Aucun équipement attribué actuellement."})]})}),T==="history"&&c.jsxs("div",{className:"p-4 space-y-6",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-primary-100 dark:bg-primary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-400",children:"history"})}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Historique des équipements"})]}),L.length>0?c.jsxs("div",{className:"relative space-y-4",children:[c.jsx("div",{className:"absolute left-5 top-4 bottom-4 w-0.5 bg-gradient-to-b from-primary-200/50 via-secondary-200/30 to-transparent dark:from-primary-500/30 dark:via-secondary-500/20 dark:to-transparent rounded-full"}),L.map(X=>{const V=j.get(X.equipmentId);if(!V)return null;const z=_.get(V.modelId),Y=z?M.get(z.categoryId):void 0,ee=X.action===ze.RETURN;return c.jsxs("div",{className:"relative flex items-start gap-4 group",children:[c.jsx("div",{className:`relative z-10 flex size-12 items-center justify-center rounded-xl shadow-[var(--shadow-elev-1)] transition-transform duration-300 group-hover:scale-105 ${ee?"bg-status-warning-100/90 dark:bg-status-warning-900/60":"bg-primary-100/90 dark:bg-primary-900/60"}`,children:c.jsx(tq,{iconName:Y==null?void 0:Y.icon})}),c.jsxs("div",{className:"flex-1 rounded-2xl border border-white/40 dark:border-secondary-700/60 bg-white/80 dark:bg-secondary-900/60 backdrop-blur-sm p-4 shadow-sm transition-all duration-300 group-hover:shadow-[var(--shadow-elev-1)] group-hover:-translate-y-0.5",children:[c.jsx("p",{className:`text-sm font-bold ${ee&&X.status!==Bt.REJECTED?"text-secondary-500 dark:text-secondary-400 line-through":"text-gray-900 dark:text-gray-100"}`,children:(z==null?void 0:z.name)||"Modèle inconnu"}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-1.5 flex items-center gap-2",children:[X.status===Bt.REJECTED?c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-status-danger-100 dark:bg-status-danger-900/50 text-status-danger-700 dark:text-status-danger-300 font-semibold text-xs",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"cancel"}),"Rejetée"]}):c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full font-semibold text-xs ${ee?"bg-status-warning-100 dark:bg-status-warning-900/50 text-status-warning-700 dark:text-status-warning-300":"bg-primary-100 dark:bg-primary-900/50 text-primary-700 dark:text-primary-300"}`,children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:ee?"undo":"check_circle"}),X.action]}),c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"schedule"}),new Date(X.date).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"})]})]}),X.status===Bt.REJECTED&&X.rejectionReason&&c.jsx("div",{className:"mt-2 p-2 rounded-lg bg-status-danger-50/50 dark:bg-status-danger-900/20 border border-status-danger-200/50 dark:border-status-danger-700/50",children:c.jsxs("p",{className:"text-xs text-status-danger-700 dark:text-status-danger-300 italic flex items-start gap-1",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs mt-0.5",children:"info"}),c.jsxs("span",{children:[c.jsx("strong",{children:"Raison :"}),' "',X.rejectionReason,'"']})]})})]})]},X.id)})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"inventory_2"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun historique"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Les équipements attribués apparaîtront ici"})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-secondary-800/60 p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-secondary-100 dark:bg-secondary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"edit_note"})}),c.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Historique des modifications"})]}),U.length>0?c.jsxs("div",{className:"relative space-y-4",children:[c.jsx("div",{className:"absolute left-5 top-4 bottom-4 w-0.5 bg-gradient-to-b from-secondary-200/50 via-gray-200/30 to-transparent dark:from-secondary-500/30 dark:via-gray-500/20 dark:to-transparent rounded-full"}),U.map(X=>{const V=N.get(X.userId);return c.jsxs("div",{className:"relative flex items-start gap-4 group",children:[c.jsx("div",{className:"relative z-10 flex size-12 items-center justify-center rounded-full shadow-[var(--shadow-elev-1)] ring-4 ring-white dark:ring-gray-800 transition-transform duration-300 group-hover:scale-105",children:c.jsx("img",{src:V==null?void 0:V.avatarUrl,alt:V==null?void 0:V.name,className:"size-12 rounded-full object-cover"})}),c.jsxs("div",{className:"flex-grow rounded-2xl border border-white/40 dark:border-secondary-700/60 bg-white/80 dark:bg-secondary-900/60 backdrop-blur-sm p-4 shadow-sm transition-all duration-300 group-hover:shadow-[var(--shadow-elev-1)] group-hover:-translate-y-0.5",children:[c.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:["Modifié par ",(V==null?void 0:V.name)||"Utilisateur inconnu"]}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mb-3 flex items-center gap-1.5",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"schedule"}),new Date(X.timestamp).toLocaleString("fr-FR",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),c.jsx("ul",{className:"space-y-2",children:X.changes.map((z,Y)=>c.jsx(gve,{change:z,allUsers:o},Y))})]})]},X.id)})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"edit_off"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucune modification"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"L'historique des changements apparaîtra ici"})]})]})]})]}),c.jsx(ai,{isOpen:A,onClose:()=>C(!1),onConfirm:()=>{h(t.id),C(!1)},title:`Supprimer "${t.name}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible."})})]})},vve=({assignments:t,equipment:e,users:n,models:r,categories:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onManagePin:d,onRegisterFingerprint:p,editHistory:h})=>{const{id:y}=$r(),x=n.find(w=>w.id===y);if(!x)return c.jsx("h2",{children:"Utilisateur non trouvé"});const T=n.find(w=>w.id===x.managerId);return c.jsx(yve,{user:x,assignments:t,equipment:e,models:r,categories:a,manager:T,allUsers:n,editHistory:h,onBack:o,currentUser:i,onEdit:u,onDelete:f,onManagePin:d,onRegisterFingerprint:p})},xve=({category:t,models:e,equipment:n,currentUser:r,onBack:a,onEdit:i,onDelete:o,onSelectEquipment:u,onSelectModel:f})=>{const[d,p]=I.useState(!1),h=[{label:"Modifier",icon:"edit",onClick:()=>i(t.id)},{label:"Supprimer",icon:"delete",onClick:()=>p(!0),isDestructive:!0}];return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(jt,{title:t.name,onBack:a,children:r.role===Ne.ADMIN&&c.jsx(ba,{actions:h})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-24 md:pb-4",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("div",{className:"aspect-[16/9] w-full bg-gradient-to-br from-primary-100 via-primary-50 to-amber-50 dark:from-gray-800 dark:via-gray-850 dark:to-gray-900",children:c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx("span",{className:"material-symbols-outlined text-primary-300/20 dark:text-primary-400/10",style:{fontSize:"14rem"},children:t.icon||"devices"})})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/85 via-black/50 to-black/20"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 pb-8",children:[c.jsx("p",{className:"text-sm font-semibold text-white uppercase tracking-wide mb-2 drop-shadow-lg",children:"Catégorie d'équipement"}),c.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-[0_2px_10px_rgba(0,0,0,0.9)]",children:t.name})]})]}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-50 dark:from-blue-900/50 dark:to-blue-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-blue-600 dark:text-blue-300",children:"category"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Modèles"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:e.length})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900/50 dark:to-green-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-green-600 dark:text-green-300",children:"devices"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Équipements"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:n.length})]})]})]})}),c.jsxs("div",{className:"space-y-6 px-4",children:[t.description&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-secondary-100 dark:bg-secondary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"description"})}),c.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Description"})]}),c.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300",children:t.description})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-blue-100 dark:bg-blue-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-blue-600 dark:text-blue-400",children:"category"})}),c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Modèles (",e.length,")"]})]}),r.role===Ne.ADMIN&&c.jsx(Re,{variant:"ghost",size:"sm",icon:"add_box",className:"text-primary-700 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/30",onClick:()=>window.location.hash=`#/models/new?categoryId=${t.id}`,children:"Ajouter"})]}),c.jsx("div",{className:"space-y-2 -mx-2",children:e.length>0?e.map(y=>c.jsxs("button",{onClick:()=>f(y.id),className:"w-full group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/60 dark:hover:bg-gray-800/60 hover:shadow-sm hover:-translate-y-0.5 cursor-pointer",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:y.name}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.brand})]}),c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},y.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"category"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun modèle"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Ajoutez des modèles à cette catégorie"})]})})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-green-100 dark:bg-green-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-green-600 dark:text-green-400",children:"devices"})}),c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Équipement (",n.length,")"]})]}),c.jsx("div",{className:"space-y-2 -mx-2",children:n.length>0?n.map(y=>c.jsxs("button",{onClick:()=>u(y.id),className:"w-full group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/60 dark:hover:bg-gray-800/60 hover:shadow-sm hover:-translate-y-0.5 cursor-pointer",children:[c.jsxs("div",{className:"text-left flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:y.name||y.assetTag}),c.jsx("div",{className:"mt-1.5",children:c.jsx(pU,{status:y.status})})]}),c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},y.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"devices_other"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun équipement"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Les équipements de cette catégorie apparaîtront ici"})]})})]})]})]}),c.jsx(ai,{isOpen:d,onClose:()=>p(!1),onConfirm:()=>{o(t.id),p(!1)},title:`Supprimer "${t.name}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer cette catégorie ? Tous les modèles et équipements associés devront être réassignés."})})]})},bve=({categories:t,models:e,equipment:n,users:r,currentUser:a,onBack:i,onEdit:o,onDelete:u,onSelectEquipment:f,onSelectModel:d})=>{const{id:p}=$r(),h=t.find(T=>T.id===p);if(!h)return c.jsx("h2",{children:"Catégorie non trouvée"});const y=e.filter(T=>T.categoryId===h.id),x=n.filter(T=>y.some(w=>w.id===T.modelId));return c.jsx(xve,{category:h,models:y,equipment:x,users:r,currentUser:a,onBack:i,onEdit:o,onDelete:u,onSelectEquipment:f,onSelectModel:d})},Sve=({model:t,category:e,equipmentItems:n,assignments:r,users:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onSelectEquipment:d})=>{const[p,h]=I.useState(!1),y=[{label:"Modifier",icon:"edit",onClick:()=>u(t.id)},{label:"Supprimer",icon:"delete",onClick:()=>h(!0),isDestructive:!0}],x=new Map;for(const j of r){const _=x.get(j.equipmentId);(!_||new Date(j.date)>new Date(_.date))&&x.set(j.equipmentId,j)}const T=j=>{const _=x.get(j),M=n.find(N=>N.id===j);if(_&&_.action===ze.ASSIGN&&(M==null?void 0:M.status)===De.ASSIGNED){const N=a.find(k=>k.id===_.userId);return`Attribué à: ${(N==null?void 0:N.name)||"Utilisateur inconnu"}`}return"Disponible"},w=n.filter(j=>j.status===De.AVAILABLE).length,A=n.filter(j=>j.status===De.ASSIGNED).length,C=n.length;return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[c.jsx(jt,{title:t.name,onBack:o,children:i.role===Ne.ADMIN&&c.jsx(ba,{actions:y})}),c.jsxs("main",{className:"flex-1 overflow-y-auto pb-24 md:pb-4",children:[c.jsxs("div",{className:"relative overflow-hidden",children:[c.jsx("div",{className:"aspect-[16/9] w-full overflow-hidden bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900",children:c.jsx("img",{alt:t.name,className:"h-full w-full object-cover",src:t.imageUrl||"https://placehold.co/600x400/e2e8f0/a0aec0/png"})}),c.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent backdrop-blur-[2px]"}),c.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[c.jsxs("button",{onClick:()=>e&&(window.location.hash=`#/categories/${e.id}`),className:"inline-flex items-center gap-1.5 text-sm font-semibold text-white/90 hover:text-white transition-colors mb-2",children:[c.jsx("span",{children:t.brand}),c.jsx("span",{className:"text-white/60",children:"•"}),c.jsx("span",{className:"hover:underline",children:e.name})]}),c.jsx("h1",{className:"text-3xl font-bold text-white drop-shadow-lg",children:t.name})]})]}),c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800/50 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-600 dark:text-gray-300",children:"inventory"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Total"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:C})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900/50 dark:to-green-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-green-600 dark:text-green-300",children:"check_circle"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Disponibles"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:w})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-5 shadow-[var(--shadow-elev-1)] flex items-center gap-4 transition-all duration-300 hover:shadow-[var(--shadow-elev-2)] hover:-translate-y-0.5",children:[c.jsx("div",{className:"flex items-center justify-center size-14 rounded-xl bg-gradient-to-br from-primary-100 to-primary-50 dark:from-primary-900/50 dark:to-primary-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-primary-600 dark:text-primary-300",children:"person"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Attribués"}),c.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:A})]})]})]})}),c.jsxs("div",{className:"space-y-6 px-4",children:[t.specifications&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-secondary-100 dark:bg-secondary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"description"})}),c.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Spécifications"})]}),c.jsx("p",{className:"text-base leading-relaxed text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.specifications})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-2xl p-6 shadow-[var(--shadow-elev-1)]",children:[c.jsxs("div",{className:"flex items-center justify-between mb-5",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-primary-100 dark:bg-primary-900/50",children:c.jsx("span",{className:"material-symbols-outlined text-primary-600 dark:text-primary-400",children:"devices"})}),c.jsxs("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:["Articles d'équipement (",n.length,")"]})]}),i.role===Ne.ADMIN&&c.jsx(Re,{variant:"ghost",size:"sm",icon:"add",className:"text-primary-700 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/30",onClick:()=>window.location.hash=`#/equipment/new?modelId=${t.id}`,children:"Ajouter"})]}),c.jsx("div",{className:"space-y-2 -mx-2",children:n.length>0?n.map(j=>c.jsxs("button",{onClick:()=>d(j.id),className:"w-full group flex items-center gap-4 px-4 py-3 rounded-xl transition-all duration-300 hover:bg-white/60 dark:hover:bg-gray-800/60 hover:shadow-sm hover:-translate-y-0.5 cursor-pointer",children:[c.jsx("div",{className:"flex size-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-primary-100 to-primary-50 dark:from-primary-900/50 dark:to-primary-800/30 shadow-sm transition-transform duration-300 group-hover:scale-105",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-primary-600 dark:text-primary-400",children:e.icon||"devices"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsxs("p",{className:"text-base font-semibold text-gray-900 dark:text-gray-100 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:["N/S: ",j.assetTag]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-0.5",children:T(j.id)})]}),c.jsx("span",{className:"material-symbols-outlined text-gray-400 dark:text-gray-500 transition-transform group-hover:translate-x-1",children:"chevron_right"})]},j.id)):c.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[c.jsx("div",{className:"flex items-center justify-center size-16 rounded-full bg-gray-100 dark:bg-gray-800 mb-3",children:c.jsx("span",{className:"material-symbols-outlined text-3xl text-gray-400 dark:text-gray-500",children:"inventory_2"})}),c.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Aucun article"}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:"Ajoutez des équipements de ce modèle"})]})})]})]})]}),c.jsx(ai,{isOpen:p,onClose:()=>h(!1),onConfirm:()=>{f(t.id),h(!1)},title:`Supprimer "${t.name}"`,confirmButtonText:"Supprimer",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir supprimer ce modèle ? Tous les équipements associés devront être réassignés."})})]})},wve=({models:t,categories:e,equipment:n,assignments:r,users:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onSelectEquipment:d})=>{const{id:p}=$r(),h=t.find(T=>T.id===p);if(!h)return c.jsx("h2",{children:"Modèle non trouvé"});const y=e.find(T=>T.id===h.categoryId),x=n.filter(T=>T.modelId===h.id);return y?c.jsx(Sve,{model:h,category:y,equipmentItems:x,assignments:r,users:a,currentUser:i,onBack:o,onEdit:u,onDelete:f,onSelectEquipment:d}):c.jsx("h2",{children:"Catégorie non trouvée"})},Ave=({title:t,steps:e,currentStep:n,onBack:r,children:a,isNextDisabled:i,isSaving:o=!1,onNext:u,onSubmit:f,onCancel:d})=>{const p=(n+1)/e.length*100,h=n===e.length-1;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[c.jsxs("div",{className:"sticky top-0 z-10 bg-white/80 backdrop-blur-sm",children:[c.jsx(jt,{title:t,onBack:r}),c.jsx("div",{className:"w-full bg-gray-200",children:c.jsx("div",{className:"bg-primary-500 h-1",style:{width:`${p}%`,transition:"width 0.3s ease-in-out"}})}),c.jsx("p",{className:"text-center text-sm p-2 bg-gray-50 text-gray-500",children:`Étape ${n+1} sur ${e.length}: ${e[n]}`})]}),c.jsx("main",{className:"flex-grow overflow-y-auto px-4 pb-36 md:pb-6 pt-0",children:a}),c.jsxs(Nd,{contentClassName:d?"w-full items-center justify-between":void 0,children:[d&&c.jsx(Re,{variant:"secondary",onClick:d,disabled:o,children:"Annuler"}),c.jsx("div",{className:"flex items-center gap-3",children:h?c.jsx(Re,{onClick:f,disabled:i||o,loading:o,icon:"check",children:o?"Soumission...":"Soumettre"}):c.jsx(Re,{onClick:u,disabled:i,children:"Suivant"})})]})]})},Tve=({user:t,onEdit:e,showEditButton:n,compact:r=!1})=>r?c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("img",{src:t.avatarUrl,alt:`Avatar de ${t.name}`,className:"h-12 w-12 rounded-full object-cover"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-900 dark:text-gray-100 font-semibold leading-tight",children:t.name}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-normal leading-normal",children:t.email})]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-4 text-center py-6",children:[c.jsx("div",{className:"bg-center bg-no-repeat aspect-square bg-cover rounded-full h-24 w-24 border-4 border-gray-100 dark:border-gray-900 shadow-lg",style:{backgroundImage:`url("${t.avatarUrl}")`},role:"img","aria-label":`Avatar de ${t.name}`}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-900 dark:text-gray-100 text-2xl font-bold leading-tight",children:t.name}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-base font-normal leading-normal",children:t.email})]}),n&&e&&c.jsx("button",{onClick:()=>e(t.id),className:"mt-2 flex items-center justify-center rounded-full bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-800 dark:text-gray-200 px-5 py-2.5 text-sm font-semibold shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Modifier le profil"})]}),Eve=["Excellent","Bon","Moyen","Mauvais"],Ri={SELECT_EQUIPMENT_ASSIGN:{id:"SELECT_EQUIPMENT_ASSIGN",title:"Choisir l'équipement"},SELECT_EQUIPMENT_RETURN:{id:"SELECT_EQUIPMENT_RETURN",title:"Choisir l'équipement à retourner"},SELECT_USER:{id:"SELECT_USER",title:"Choisir l'utilisateur"},CHECK_CONDITION:{id:"CHECK_CONDITION",title:"État de l'équipement"},ADMIN_VALIDATION:{id:"ADMIN_VALIDATION",title:"Validation Administrateur"},SUMMARY:{id:"SUMMARY",title:"Synthèse"}},B$=({action:t,initialEquipmentId:e,initialUserId:n,equipment:r,users:a,currentUser:i,models:o,categories:u,assignments:f,onSubmit:d,onBack:p})=>{const{addToast:h}=Xn(),[y,x]=I.useState(0),[T,w]=I.useState(""),A=ne=>{ne.preventDefault()},[C,j]=I.useState(n||null),[_,M]=I.useState(e||null),[N,k]=I.useState("Bon"),[P,R]=I.useState(""),[L,U]=I.useState(null),[q,D]=I.useState(!1),[$,H]=I.useState(!1),[J,B]=I.useState(!1),K=()=>B(!0),W=()=>{B(!1),M(null),j(null),k("Bon"),R(""),U(null),D(!1),x(0),w(""),p()},re=()=>B(!1),X=I.useMemo(()=>new Map(o.map(ne=>[ne.id,ne])),[o]),V=I.useMemo(()=>new Map(u.map(ne=>[ne.id,ne])),[u]),z=I.useMemo(()=>{const ne=e||_;return t===ze.RETURN&&ne?f.filter(ve=>ve.equipmentId===ne&&ve.action===ze.ASSIGN).sort((ve,we)=>new Date(we.date).getTime()-new Date(ve.date).getTime())[0]:null},[t,e,_,f]),Y=I.useMemo(()=>{const ne=[];return t===ze.ASSIGN?(e||ne.push(Ri.SELECT_EQUIPMENT_ASSIGN),n||ne.push(Ri.SELECT_USER),ne.push(Ri.ADMIN_VALIDATION),ne.push(Ri.SUMMARY)):(e||ne.push(Ri.SELECT_EQUIPMENT_RETURN),ne.push(Ri.CHECK_CONDITION),ne.push(Ri.ADMIN_VALIDATION),ne.push(Ri.SUMMARY)),ne},[t,e,n]),ee=Y[y];I.useEffect(()=>{(ee==null?void 0:ee.id)==="ADMIN_VALIDATION"&&(D(!1),U(null))},[ee]),I.useEffect(()=>{L||(i.webauthnCredentialId?U("passkey"):i.pin&&U("user_pin"))},[L,i.webauthnCredentialId,i.pin]),I.useEffect(()=>{L&&D(!1)},[L]);const le=I.useMemo(()=>r.filter(ne=>ne.status===De.AVAILABLE).map(ne=>{var ve;return{...ne,model:X.get(ne.modelId),category:V.get(((ve=X.get(ne.modelId))==null?void 0:ve.categoryId)||"")}}).sort((ne,ve)=>{var we,Ee;return(((we=ne.model)==null?void 0:we.name)||"").localeCompare(((Ee=ve.model)==null?void 0:Ee.name)||"")}),[r,X,V]),xe=I.useMemo(()=>r.filter(ne=>ne.status===De.ASSIGNED).map(ne=>{var Ee;const ve=f.filter(me=>me.equipmentId===ne.id&&me.action===ze.ASSIGN).sort((me,Me)=>new Date(Me.date).getTime()-new Date(me.date).getTime())[0],we=ve?a.find(me=>me.id===ve.userId):null;return{...ne,model:X.get(ne.modelId),category:V.get(((Ee=X.get(ne.modelId))==null?void 0:Ee.categoryId)||""),assignedTo:we==null?void 0:we.name}}).sort((ne,ve)=>{var we,Ee;return(((we=ne.model)==null?void 0:we.name)||"").localeCompare(((Ee=ve.model)==null?void 0:Ee.name)||"")}),[r,f,a,X,V]),Te=I.useMemo(()=>le.filter(ne=>{var we,Ee;const ve=T.toLowerCase();return T===""||ne.assetTag.toLowerCase().includes(ve)||((we=ne.model)==null?void 0:we.name.toLowerCase().includes(ve))||((Ee=ne.category)==null?void 0:Ee.name.toLowerCase().includes(ve))}),[le,T]),_e=I.useMemo(()=>xe.filter(ne=>{var we,Ee;const ve=T.toLowerCase();return T===""||ne.assetTag.toLowerCase().includes(ve)||((we=ne.model)==null?void 0:we.name.toLowerCase().includes(ve))||((Ee=ne.assignedTo)==null?void 0:Ee.toLowerCase().includes(ve))}),[xe,T]),ce=I.useMemo(()=>[...a].sort((ne,ve)=>ne.name.localeCompare(ve.name)),[a]),Ce=I.useMemo(()=>ce.filter(ne=>{var we;const ve=T.toLowerCase();return T===""||ne.name.toLowerCase().includes(ve)||((we=ne.department)==null?void 0:we.toLowerCase().includes(ve))}),[ce,T]),G=a.find(ne=>ne.id===C),Z=r.find(ne=>ne.id===_),de=a.find(ne=>ne.id===(z==null?void 0:z.userId)),Se=Z?X.get(Z.modelId):null,Oe=Se?V.get(Se.categoryId):null,$e=ne=>{j(ne)},Je=ne=>{M(ne)},vt=ne=>{U(ne)},It=I.useMemo(()=>{if(!ee)return!0;switch(ee.id){case"SELECT_EQUIPMENT_ASSIGN":case"SELECT_EQUIPMENT_RETURN":return!_;case"SELECT_USER":return!C;case"CHECK_CONDITION":return!1;case"ADMIN_VALIDATION":return!q;case"SUMMARY":return!1;default:return!0}},[ee,C,_,q]),Qt=()=>{It||(w(""),x(ne=>ne+1))},Gt=()=>{y>0?x(ne=>ne-1):p()},rn=async()=>{if($)return;H(!0);let ne=null,ve="";if(L==="user_pin")ve="Validated by Admin PIN";else if(L==="passkey")ve="Validated by Admin Passkey";else{h("Méthode de validation administrateur invalide.","error"),H(!1);return}const we={it:i.role===Ne.ADMIN,manager:i.role===Ne.MANAGER,user:!1};if(t===ze.ASSIGN&&G&&_){const Ee=a.find(me=>me.id===G.managerId);ne={action:ze.ASSIGN,equipmentId:_,date:new Date().toISOString().split("T")[0],userId:G.id,managerId:(Ee==null?void 0:Ee.id)||i.id,signature:ve,validation:{...we}}}else if(t===ze.RETURN&&z&&_)ne={action:ze.RETURN,equipmentId:_,date:new Date().toISOString().split("T")[0],userId:z.userId,managerId:z.managerId,signature:ve,validation:{...we},condition:N,returnNotes:P};else{h("Données manquantes pour la soumission.","error"),H(!1);return}try{await d(ne),H(!1)}catch{h("La soumission a échoué.","error"),H(!1)}},Gn=()=>{if(!ee)return null;switch(ee.id){case"SELECT_EQUIPMENT_ASSIGN":case"SELECT_EQUIPMENT_RETURN":{const ne=ee.id==="SELECT_EQUIPMENT_ASSIGN"?Te:_e,ve=we=>{var Ee;return ee.id==="SELECT_EQUIPMENT_ASSIGN"?[{icon:"category",text:((Ee=we.category)==null?void 0:Ee.name)||"Inconnu"},{icon:"tag",text:we.assetTag}]:[{icon:"tag",text:we.assetTag},{icon:"person",text:we.assignedTo}]};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"sticky top-0 z-10 -mx-4 -mt-4 px-4 pt-4 pb-4 bg-gray-100 dark:bg-gray-900",children:c.jsx(Oc,{value:T,onChange:we=>w(we.target.value),onSubmit:A,placeholder:"Rechercher par nom, catégorie...",isSearching:!1,showAiButton:!1,formClassName:"w-full"})}),c.jsx("div",{className:"flex-1 overflow-y-auto -mx-4 px-4 pb-4 pt-6",children:c.jsx("div",{className:"space-y-3",children:ne.map(we=>{var Ee,me;return c.jsx(Ds,{id:we.id,imageUrl:(Ee=we.model)==null?void 0:Ee.imageUrl,title:we.name||((me=we.model)==null?void 0:me.name)||"Équipement",details:ve(we),statusBadge:c.jsx("span",{className:`inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium whitespace-nowrap overflow-hidden text-ellipsis max-w-[140px] ${fU(we.status)}`,children:we.status}),onCardClick:Je,isSelected:_===we.id},we.id)})})})]})}case"CHECK_CONDITION":return c.jsxs("div",{className:"space-y-6",children:[c.jsx(ir,{title:"État observé",children:c.jsx("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3",children:Eve.map(ne=>c.jsxs("label",{className:`flex items-center gap-3 rounded-lg border p-3 cursor-pointer transition-colors ${N===ne?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-primary-300 dark:hover:border-primary-500"}`,children:[c.jsx("input",{type:"radio",name:"return-condition",value:ne,checked:N===ne,onChange:()=>k(ne),className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),c.jsx("span",{className:"font-medium",children:ne})]},ne))})}),c.jsx(ir,{title:"Notes de retour (optionnel)",children:c.jsx("div",{className:"md:col-span-2",children:c.jsx(ch,{value:P,onChange:ne=>R(ne.target.value),rows:4,placeholder:"Ajoutez des détails sur l'état constaté lors du retour..."})})})]});case"ADMIN_VALIDATION":{const ne=!!i.webauthnCredentialId,ve=!!i.pin,we=!ne&&!ve,Ee=(me,Me)=>`flex items-center justify-between gap-3 rounded-lg border p-4 text-left transition-colors ${L===me?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:border-primary-300 dark:hover:border-primary-500"} ${Me?"opacity-60 cursor-not-allowed":"cursor-pointer"}`;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(ir,{title:"Validation administrateur",children:[c.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("button",{type:"button",onClick:()=>vt("passkey"),disabled:!ne,className:Ee("passkey",!ne),children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Empreinte digitale"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Valider avec WebAuthn"})]}),c.jsx(Cs,{className:"text-primary-600"})]}),c.jsxs("button",{type:"button",onClick:()=>vt("user_pin"),disabled:!ve,className:Ee("user_pin",!ve),children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"Code PIN"}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Confirmer avec votre code PIN"})]}),c.jsx("span",{className:"material-symbols-outlined text-2xl",children:"password"})]})]}),we&&c.jsx("div",{className:"md:col-span-2 text-sm text-amber-700 bg-amber-50 border border-amber-200 rounded-lg p-3",children:"Aucune méthode de validation n'est configurée pour l'administrateur actuel. Ajoutez un code PIN ou une empreinte dans votre profil."})]}),L==="passkey"&&c.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm",children:c.jsx(I3,{onValidated:D,userCredentialId:i.webauthnCredentialId})}),L==="user_pin"&&c.jsx("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4 shadow-sm",children:c.jsx(j3,{onValidated:D,correctPin:i.pin,userName:i.name})}),q&&c.jsxs("div",{className:"flex items-center gap-2 rounded-lg bg-green-50 border border-green-200 text-green-700 px-4 py-3",children:[c.jsx("span",{className:"material-symbols-outlined",children:"verified"}),c.jsx("p",{className:"font-semibold",children:"Validation administrateur réussie."})]})]})}case"SELECT_USER":return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"sticky top-0 z-10 -mx-4 -mt-4 px-4 pt-4 pb-4 bg-gray-100 dark:bg-gray-900",children:c.jsx(Oc,{value:T,onChange:ne=>w(ne.target.value),onSubmit:A,placeholder:"Rechercher par nom ou département...",isSearching:!1,showAiButton:!1,formClassName:"w-full"})}),c.jsx("div",{className:"flex-1 overflow-y-auto -mx-4 px-4 pb-4 pt-6",children:c.jsx("div",{className:"space-y-3",children:Ce.map(ne=>c.jsx(Ds,{id:ne.id,imageUrl:ne.avatarUrl,imageShape:"round",title:ne.name,details:[{icon:"work",text:ne.department||"N/A"}],statusBadge:c.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${mU(ne.role)}`,children:ne.role}),onCardClick:$e,isSelected:C===ne.id},ne.id))})})]});case"SUMMARY":{const ne=t===ze.ASSIGN?G:de;return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx(ir,{title:"Équipement",children:c.jsx("div",{className:"md:col-span-2",children:c.jsx(Ds,{id:Z.id,imageUrl:Se==null?void 0:Se.imageUrl,title:Se==null?void 0:Se.name,details:[{text:`${(Oe==null?void 0:Oe.name)||"Inconnu"} • ${Z.assetTag}`}]})})}),c.jsx(ir,{title:t===ze.ASSIGN?"Attribué à":"Retourné par",children:c.jsx("div",{className:"md:col-span-2",children:ne&&c.jsx(Tve,{user:ne,compact:!0})})}),t===ze.RETURN&&c.jsx(ir,{title:"Détails du retour",children:c.jsxs("div",{className:"md:col-span-2 space-y-2",children:[c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold",children:"État:"})," ",N]}),c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold",children:"Notes:"})," ",P||"Aucune"]})]})}),c.jsx(ir,{title:"Validation",children:c.jsx("div",{className:"md:col-span-2 grid grid-cols-1 gap-4",children:c.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-600 bg-green-50 p-3 rounded-lg",children:[c.jsx("span",{className:"material-symbols-outlined",children:"verified"}),c.jsx("p",{className:"font-semibold",children:"Action validée par l'administrateur"})]})})})]})}}};return c.jsxs(c.Fragment,{children:[c.jsx(Ave,{title:t,steps:Y.map(ne=>ne.title),currentStep:y,onBack:Gt,isNextDisabled:It,isSaving:$,onNext:Qt,onSubmit:rn,onCancel:K,children:c.jsx("div",{className:"max-w-2xl mx-auto",children:Gn()})}),J&&c.jsx(ai,{isOpen:J,onClose:re,onConfirm:W,title:"Quitter le wizard ?",icon:"close",iconBgColor:"bg-gray-100",iconColor:"text-gray-600",confirmButtonText:"Quitter",confirmButtonVariant:"primary",children:c.jsx("p",{className:"text-sm leading-relaxed",children:"Vous perdrez les sélections en cours. Êtes-vous sûr de vouloir abandonner ce processus ?"})})]})},Nve=({equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})=>{const f=$r();let d,p;const h=f["*"];if(h){const y=h.match(/equipment\/([a-zA-Z0-9-]+)/);y&&(d=y[1]);const x=h.match(/user\/([a-zA-Z0-9-]+)/);x&&(p=x[1])}return c.jsx(B$,{action:ze.ASSIGN,initialEquipmentId:d,initialUserId:p,equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})},rq=({equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})=>{const{equipmentId:f}=$r();return c.jsx(B$,{action:ze.RETURN,initialEquipmentId:f,equipment:t,users:e,currentUser:n,models:r,categories:a,assignments:i,onSubmit:o,onBack:u})},_ve=({assignments:t,equipment:e,models:n,categories:r,users:a,currentUser:i,onApprove:o,onReject:u,onBack:f})=>{const d=new Map(e.map(Y=>[Y.id,Y])),p=new Map(n.map(Y=>[Y.id,Y])),h=new Map(r.map(Y=>[Y.id,Y])),y=new Map(a.map(Y=>[Y.id,Y])),[x,T]=I.useState(null),[w,A]=I.useState(null),[C,j]=I.useState(null),[_,M]=I.useState("me"),[N,k]=I.useState(!0);I.useEffect(()=>{const Y=setTimeout(()=>k(!1),250);return()=>clearTimeout(Y)},[]);const P=I.useMemo(()=>a.filter(Y=>Y.managerId===i.id).map(Y=>Y.id),[a,i.id]),R=I.useMemo(()=>new Set(P),[P]),L=Y=>{const ee=Y.validation;if(!ee)return null;if(!ee.it)return"it";if(Y.action===ze.ASSIGN){if(!ee.manager)return"manager";if(ee.it&&ee.manager&&!ee.user)return"user"}else{if(ee.it&&!ee.user)return"user";if(ee.it&&ee.user&&!ee.manager)return"manager"}return null},U=Y=>{const ee=Y.validation;if(!ee)return null;if(i.role===Ne.ADMIN&&!ee.it)return"it";if(Y.action===ze.ASSIGN){if(i.id===Y.managerId&&!ee.manager)return"manager";if(i.id===Y.userId&&ee.it&&ee.manager&&!ee.user)return"user"}else{if(i.id===Y.userId&&ee.it&&!ee.user)return"user";if(i.id===Y.managerId&&ee.it&&ee.user&&!ee.manager)return"manager"}return null},q=I.useMemo(()=>t.filter(Y=>{const ee=e.find(le=>le.id===Y.equipmentId);return!ee||ee.status!==De.PENDING_VALIDATION||Y.status!==Bt.PENDING||!Y.validation?!1:L(Y)!==null}),[t,e]),D=I.useMemo(()=>{const Y=t.filter(ee=>{if(!ee.validation)return!1;const le=ee.validation;return ee.action===ze.ASSIGN?le.it&&le.manager&&le.user:le.it&&le.user&&le.manager});return i.role===Ne.ADMIN?Y:i.role===Ne.MANAGER?Y.filter(ee=>ee.userId===i.id||ee.managerId===i.id||R.has(ee.userId)):Y.filter(ee=>ee.userId===i.id)},[t,i.id,i.role,R]),$=I.useMemo(()=>q.filter(Y=>U(Y)!==null),[q]),H=I.useMemo(()=>i.role!==Ne.MANAGER?$:q.filter(Y=>Y.managerId===i.id||R.has(Y.userId)),[q,$,i.role,i.id,R]),J=Y=>[...Y].sort((ee,le)=>new Date(ee.date).getTime()-new Date(le.date).getTime()),B=Y=>[...Y].sort((ee,le)=>new Date(le.date).getTime()-new Date(ee.date).getTime()),K=I.useMemo(()=>_==="me"?J($):_==="team"?J(H):B(D),[_,$,H,D]),W=I.useMemo(()=>{const Y={it:[],manager:[],user:[]};return _==="all"||K.forEach(ee=>{const le=L(ee);le&&Y[le].push(ee)}),Y},[K,_]),re=Y=>{x&&(u(x,Y),T(null))},X=()=>{w&&(o(w.id,C||void 0),A(null),j(null))},z=w?(Y=>{if(!Y)return null;const ee=p.get(Y.modelId),le=ee?h.get(ee.categoryId):null;return{...Y,model:ee||null,category:le||null}})(d.get(w.equipmentId)):null;return c.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 dark:bg-gray-900",children:[c.jsx(jt,{title:"Approbations en attente",onBack:f}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.jsxs("div",{className:"flex gap-2 mb-2",children:[c.jsx("button",{onClick:()=>M("me"),className:`px-3 py-1.5 rounded-md text-sm font-semibold ${_==="me"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:"À moi"}),i.role===Ne.MANAGER&&c.jsx("button",{onClick:()=>M("team"),className:`px-3 py-1.5 rounded-md text-sm font-semibold ${_==="team"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:"Mon équipe"}),c.jsx("button",{onClick:()=>M("all"),className:`px-3 py-1.5 rounded-md text-sm font-semibold ${_==="all"?"bg-primary-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,children:"Historique"})]}),N?c.jsx("div",{className:"space-y-3",children:[1,2,3].map(Y=>c.jsx("div",{className:"animate-pulse rounded-xl bg-white dark:bg-gray-800 p-4 shadow-sm",children:c.jsxs("div",{className:"flex gap-4 items-center",children:[c.jsx("div",{className:"h-16 w-16 rounded-md bg-gray-200 dark:bg-gray-700"}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsx("div",{className:"h-4 w-2/3 bg-gray-200 dark:bg-gray-700 rounded"}),c.jsx("div",{className:"h-3 w-1/2 bg-gray-200 dark:bg-gray-700 rounded"}),c.jsx("div",{className:"h-3 w-1/3 bg-gray-200 dark:bg-gray-700 rounded"})]})]})},Y))}):K.length===0?c.jsxs("div",{className:"text-center py-10 flex flex-col items-center",children:[c.jsx("span",{className:"material-symbols-outlined text-6xl text-green-500 mb-4",children:"task_alt"}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Tout est à jour !"}),c.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:_==="all"?"Aucun historique d'approbation disponible.":"Il n'y a aucune approbation en attente."})]}):_==="all"?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-1 mb-3",children:[c.jsx("span",{className:"material-symbols-outlined text-sm text-gray-500",children:"history"}),c.jsxs("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:["Historique des approbations (",K.length,")"]})]}),K.map(Y=>{const ee=d.get(Y.equipmentId);if(!ee)return null;const le=p.get(ee.modelId),xe=le?h.get(le.categoryId):null,Te=y.get(Y.userId);Y.validation;const _e=Math.max(0,Math.floor((Date.now()-new Date(Y.date).getTime())/(1e3*60*60*24)));return c.jsx(Ds,{id:Y.id,imageUrl:le==null?void 0:le.imageUrl,title:(le==null?void 0:le.name)||"Modèle inconnu",details:[{text:`${Y.action===ze.ASSIGN?"Attribution":"Retour"} validé • ${xe==null?void 0:xe.name}`},{icon:"person",text:`Utilisateur : ${(Te==null?void 0:Te.name)||"Inconnu"}`},{icon:"schedule",text:`Il y a ${_e}j`},{icon:"check_circle",text:"Validé par IT, Manager et Utilisateur"}],onCardClick:ce=>window.location.hash=`#/equipment/${ee.id}`},Y.id)})]}):["it","manager","user"].map(Y=>{const ee=W[Y];return ee.length===0?null:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 px-1",children:[c.jsx("span",{className:"material-symbols-outlined text-sm text-gray-500",children:Y==="it"?"shield_person":Y==="manager"?"workspace_premium":"person"}),c.jsxs("h4",{className:"text-sm font-bold text-gray-600 dark:text-gray-300",children:[Y==="it"?"Admin IT":Y==="manager"?"Responsable":"Utilisateur"," (",ee.length,")"]})]}),ee.map(le=>{var Oe;const xe=d.get(le.equipmentId);if(!xe)return null;const Te=p.get(xe.modelId),_e=Te?h.get(Te.categoryId):null,ce=U(le),Ce=L(le),G=!ce&&Ce?Ce==="it"?"Action réservée à l’Admin IT":Ce==="manager"?"Action réservée au Responsable":"Action réservée à l’utilisateur":void 0,Z=c.jsxs("div",{className:"flex",children:[c.jsx("button",{onClick:()=>T(le.id),className:"flex-1 p-3 text-center text-sm font-semibold text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors rounded-bl-xl",children:"Rejeter"}),G?c.jsx(ti,{content:G,children:c.jsx("button",{onClick:()=>{},disabled:!0,className:"flex-1 p-3 text-center text-sm font-semibold border-l border-gray-200 dark:border-gray-700 transition-colors rounded-br-xl text-gray-400 cursor-not-allowed",children:"Valider"})}):c.jsx("button",{onClick:()=>{ce&&(A(le),j(ce))},className:"flex-1 p-3 text-center text-sm font-semibold border-l border-gray-200 dark:border-gray-700 transition-colors rounded-br-xl text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:"Valider"})]}),de=Math.max(0,Math.floor((Date.now()-new Date(le.date).getTime())/(1e3*60*60*24))),Se=de>=7;return c.jsx(Ds,{id:le.id,imageUrl:Te==null?void 0:Te.imageUrl,title:(Te==null?void 0:Te.name)||"Modèle inconnu",details:[{text:`${le.action===ze.ASSIGN?"Nouvelle attribution":"Demande de retour"} • ${_e==null?void 0:_e.name}`},{icon:"person",text:`Pour : ${((Oe=y.get(le.userId))==null?void 0:Oe.name)||"Utilisateur inconnu"}`},{icon:"schedule",text:`Depuis ${de}j${Se?" • Urgent":""}`}],onCardClick:$e=>window.location.hash=`#/equipment/${xe.id}`,footerActions:Z},le.id)})]},Y)})]}),c.jsx(uU,{isOpen:!!x,onClose:()=>T(null),onConfirm:re}),w&&z&&c.jsx(cU,{isOpen:!!w,onClose:()=>{A(null),j(null)},onConfirm:X,assignment:w,equipment:z,userToValidate:!C||C==="it"?i:C==="manager"?y.get(w.managerId)||i:y.get(w.userId)||i,actorLabel:C==="it"?"Admin IT":C==="manager"?"Responsable":C==="user"?"Utilisateur":void 0})]})},Cve=({assignments:t,equipment:e,models:n,categories:r,users:a,currentUser:i,onApprove:o,onReject:u,onBack:f})=>c.jsx(_ve,{assignments:t,equipment:e,models:n,categories:r,users:a,currentUser:i,onApprove:o,onReject:u,onBack:f}),Mve={"in-progress":{label:"En cours",icon:"play_circle",badgeClass:"bg-status-info-100 text-status-info-600 dark:bg-status-info-900/40 dark:text-status-info-300"},paused:{label:"En pause",icon:"pause_circle",badgeClass:"bg-status-warning-100 text-status-warning-700 dark:bg-status-warning-900/40 dark:text-status-warning-200"},completed:{label:"Terminé",icon:"check_circle",badgeClass:"bg-status-success-100 text-status-success-700 dark:bg-status-success-900/40 dark:text-status-success-200"},cancelled:{label:"Annulé",icon:"cancel",badgeClass:"bg-status-danger-100 text-status-danger-700 dark:bg-status-danger-900/40 dark:text-status-danger-200"}},jve=({value:t})=>{const e=Math.min(100,Math.max(0,t)),n=36,r=2*Math.PI*n,a=r-e/100*r;return c.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[c.jsxs("svg",{width:84,height:84,className:"-rotate-90",children:[c.jsx("circle",{stroke:"rgba(148, 163, 184, 0.3)",fill:"transparent",strokeWidth:"8",r:n,cx:"42",cy:"42"}),c.jsx("circle",{stroke:e>=100?"#22c55e":"#6e87a7",fill:"transparent",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${r} ${r}`,style:{strokeDashoffset:a},r:n,cx:"42",cy:"42"})]}),c.jsxs("span",{className:"absolute text-xl font-semibold text-gray-900 dark:text-gray-100",children:[Math.round(e),"%"]})]})},Ive={secondary:{iconBg:"bg-secondary-100/80 dark:bg-secondary-900/40",iconText:"text-secondary-700 dark:text-secondary-200",border:"border-secondary-200/70 dark:border-secondary-700/60"},success:{iconBg:"bg-status-success-100/80 dark:bg-status-success-900/40",iconText:"text-status-success-700 dark:text-status-success-200",border:"border-status-success-200/70 dark:border-status-success-700/60"},danger:{iconBg:"bg-status-danger-100/80 dark:bg-status-danger-900/40",iconText:"text-status-danger-700 dark:text-status-danger-200",border:"border-status-danger-200/70 dark:border-status-danger-700/60"}},BS=({label:t,value:e,description:n,icon:r,accent:a})=>{const i=Ive[a];return c.jsxs(Ke.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:`surface-card rounded-2xl p-5 border ${i.border} shadow-[var(--shadow-elev-1)]`,children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:`flex h-11 w-11 items-center justify-center rounded-xl ${i.iconBg} ${i.iconText}`,children:c.jsx("span",{className:"material-symbols-outlined text-2xl",children:r})}),c.jsx("span",{className:"text-xs uppercase font-semibold tracking-wide text-secondary-500 dark:text-secondary-300",children:t})]}),c.jsx("p",{className:"mt-4 text-3xl font-semibold text-gray-900 dark:text-gray-50",children:e}),c.jsx("p",{className:"mt-1 text-sm text-secondary-600 dark:text-secondary-300",children:n})]})},kve={success:{iconBg:"bg-status-success-100/80 dark:bg-status-success-900/40",iconText:"text-status-success-700 dark:text-status-success-200",badge:"bg-status-success-100 text-status-success-700 dark:bg-status-success-900/40 dark:text-status-success-200"},warning:{iconBg:"bg-status-warning-100/80 dark:bg-status-warning-900/40",iconText:"text-status-warning-700 dark:text-status-warning-200",badge:"bg-status-warning-100 text-status-warning-700 dark:bg-status-warning-900/40 dark:text-status-warning-200"}},aq=({title:t,items:e,emptyMessage:n,accent:r,icon:a,getLocation:i})=>{const o=kve[r];return c.jsxs(Ke.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-4",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-xl shadow-[var(--shadow-elev-1)] ${o.iconBg} ${o.iconText}`,children:c.jsx("span",{className:"material-symbols-outlined text-xl",children:a})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-gray-50",children:t}),c.jsxs("p",{className:"text-xs text-secondary-600 dark:text-secondary-400",children:[e.length," équipement(s)"]})]})]})}),c.jsx("div",{className:"space-y-3",children:e.length===0?c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 italic",children:n}):e.map(u=>{var f,d;return c.jsxs(Ke.div,{layout:!0,className:"flex items-start gap-4 rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/40 px-4 py-3 shadow-sm transition-all duration-300 hover:shadow-[var(--shadow-elev-1)] hover:-translate-y-0.5",whileHover:{y:-1},children:[c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:((f=u.model)==null?void 0:f.name)||u.assetTag}),c.jsx("span",{className:"text-xs font-medium text-secondary-500 dark:text-secondary-300",children:u.assetTag})]}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-300",children:i(u)}),((d=u.category)==null?void 0:d.name)&&c.jsxs("p",{className:"text-xs text-secondary-500 dark:text-secondary-300",children:["Catégorie · ",u.category.name]})]}),c.jsx("span",{className:`inline-flex items-center gap-1 rounded-full px-3 py-1 text-xs font-semibold ${o.badge}`,children:r==="success"?"Confirmé":"À vérifier"})]},u.id)})})]})},Pve=({session:t,allEquipment:e,allModels:n,allCategories:r,sites:a,departments:i,countries:o,onBack:u,onUpdateEquipment:f,dispatch:d})=>{const{addToast:p}=Xn(),[h,y]=I.useState(!1),[x,T]=I.useState(null),[w,A]=I.useState(!1),C=I.useMemo(()=>i.find(z=>z.id===t.departmentId),[i,t.departmentId]),j=I.useMemo(()=>a.find(z=>z.id===(C==null?void 0:C.siteId)),[a,C]),_=I.useMemo(()=>o.find(z=>z.id===(j==null?void 0:j.countryId)),[o,j]),M=[_==null?void 0:_.name,j==null?void 0:j.name,C==null?void 0:C.name].filter(Boolean).join(" / "),N=I.useMemo(()=>e.map(z=>{const Y=n.find(le=>le.id===z.modelId),ee=Y?r.find(le=>le.id===Y.categoryId):null;return{...z,model:Y,category:ee}}),[e,n,r]),k=I.useMemo(()=>N.filter(z=>z.departmentId===t.departmentId),[N,t.departmentId]),P=I.useMemo(()=>new Set(t.scannedItemIds),[t.scannedItemIds]),R=I.useMemo(()=>k.filter(z=>P.has(z.id)),[k,P]),L=I.useMemo(()=>k.filter(z=>!P.has(z.id)),[k,P]),U=k.length===0?0:R.length/k.length*100,q=L.length,D=Mve[t.status]||{label:"Session",icon:"info",badgeClass:"bg-secondary-100 text-secondary-700 dark:bg-secondary-900/40 dark:text-secondary-200"},$=I.useMemo(()=>(Array.isArray(t.scannedItemIds)?[...t.scannedItemIds]:[]).slice(-4).reverse().reduce((Y,ee)=>{const le=N.find(xe=>xe.id===ee);return le&&Y.push(le),Y},[]),[t.scannedItemIds,N]),H=z=>{const Y=z.siteId?a.find(ee=>ee.id===z.siteId):null;if(!Y)return z.location||"Emplacement inconnu";if(z.departmentId){const ee=i.find(le=>le.id===z.departmentId);if(ee&&ee.siteId===Y.id)return`${Y.name} / ${ee.name}`}return Y.name},J=z=>{y(!1);const Y=(ee,le)=>{var Te;if(!ee){p("QR code invalide: Numéro de série manquant.","error");return}const xe=N.find(_e=>_e.assetTag===ee);if(xe){if(P.has(xe.id)){p("Déjà scanné.","info");return}xe.departmentId!==t.departmentId?T({type:"unexpected",data:xe}):(d({type:"UPDATE_AUDIT_SESSION_SCAN",payload:{sessionId:t.id,scannedItemId:xe.id}}),p(`${((Te=xe.model)==null?void 0:Te.name)||xe.assetTag} confirmé !`,"success"))}else le?T({type:"new",data:le}):p(`Équipement avec N/S "${ee}" non trouvé.`,"error")};try{const ee=JSON.parse(z);Y(ee.serialNumber,ee)}catch{Y(z)}},B=()=>{var z;if((x==null?void 0:x.type)==="unexpected"){const Y=x.data;f({id:Y.id,siteId:j==null?void 0:j.id,departmentId:C==null?void 0:C.id}),d({type:"UPDATE_AUDIT_SESSION_SCAN",payload:{sessionId:t.id,scannedItemId:Y.id}}),p(`${(z=Y.model)==null?void 0:z.name} déplacé vers ${M}.`,"success"),T(null)}},K=()=>{(x==null?void 0:x.type)==="new"&&(sessionStorage.setItem("new-equipment-from-scan",JSON.stringify(x.data)),window.location.hash="#/equipment/new",T(null))},W=()=>{d({type:"PAUSE_AUDIT_SESSION",payload:{sessionId:t.id}}),u()},re=()=>{d({type:"COMPLETE_AUDIT_SESSION",payload:{sessionId:t.id}}),window.location.hash=`#/audit/report/${t.id}`},X=()=>{d({type:"CANCEL_AUDIT_SESSION",payload:{sessionId:t.id}}),u()},V=[{label:"Annuler l'audit",icon:"cancel",onClick:()=>A(!0),isDestructive:!0}];return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(jt,{title:"Session d'audit",subtitle:M||"Emplacement non défini",onBack:W,children:c.jsx(ba,{actions:V})}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-36",children:[c.jsx(Ke.section,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:"surface-card surface-card-gradient rounded-3xl p-8 md:p-10 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:c.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex items-start gap-5",children:[c.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-gradient-to-br from-secondary-100 to-secondary-50 dark:from-secondary-900/50 dark:to-secondary-800/30 text-secondary-700 dark:text-secondary-300 shadow-[var(--shadow-elev-1)]",children:c.jsx("span",{className:"material-symbols-outlined text-4xl",children:"inventory_2"})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("p",{className:"text-sm font-bold uppercase tracking-wider text-secondary-600 dark:text-secondary-400",children:"Session d'audit"}),c.jsxs("span",{className:`inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-semibold ${D.badgeClass}`,children:[c.jsx("span",{className:"material-symbols-outlined !text-sm",children:D.icon}),D.label]})]}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-gray-50 tracking-tight leading-tight",children:M}),c.jsx("p",{className:"mt-3 text-sm leading-relaxed text-secondary-700 dark:text-secondary-300 max-w-xl",children:"Confirmez les équipements présents, signalez les anomalies et suivez en temps réel la progression de cette campagne."})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[c.jsx(jve,{value:U}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx(Re,{variant:"secondary",icon:"check_circle",onClick:re,children:"Terminer l'audit"}),c.jsx(Re,{variant:"ghost",icon:"pause_circle",onClick:W,children:"Mettre en pause"})]})]})]})}),c.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[c.jsx(BS,{label:"Attendus",value:k.length,description:"Équipements prévus dans ce service",icon:"assignment",accent:"secondary"}),c.jsx(BS,{label:"Confirmés",value:R.length,description:"Scannés et validés pour cette session",icon:"task_alt",accent:"success"}),c.jsx(BS,{label:"Restants",value:q,description:"À vérifier ou à signaler",icon:"hourglass_empty",accent:"danger"})]}),c.jsxs("div",{className:"flex flex-col gap-6 xl:flex-row",children:[c.jsxs("section",{className:"flex-1 space-y-5",children:[c.jsx(aq,{title:"Confirmés",items:R,emptyMessage:"Aucun équipement confirmé pour le moment. Scanner un élément pour commencer.",accent:"success",icon:"verified",getLocation:H}),c.jsx(aq,{title:"Restants",items:L,emptyMessage:"Tous les équipements ont été confirmés. Rien à signaler !",accent:"warning",icon:"pending_actions",getLocation:H})]}),c.jsxs(Ke.aside,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.25,ease:"easeOut"},className:"xl:w-[320px] flex-shrink-0 space-y-5",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-sm font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Actions rapides"}),c.jsx("span",{className:"material-symbols-outlined text-secondary-500 dark:text-secondary-300",children:"bolt"})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsx(Re,{variant:"primary",icon:"qr_code_scanner",onClick:()=>y(!0),children:"Scanner un équipement"}),c.jsx(Re,{variant:"ghost",icon:"report",onClick:()=>{d({type:"REPORT_AUDIT_EXCEPTION",payload:{sessionId:t.id}}),p("Espace de signalement ouvert.","info")},children:"Signaler une anomalie"})]})]}),c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)] space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"material-symbols-outlined text-secondary-600 dark:text-secondary-400",children:"history"}),c.jsx("h3",{className:"text-sm font-bold text-secondary-600 dark:text-secondary-400 uppercase tracking-wide",children:"Derniers scans"})]}),c.jsx("div",{className:"space-y-3",children:$.length===0?c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-300 italic",children:"Aucune entrée pour le moment."}):$.map(z=>{var Y;return c.jsxs("div",{className:"rounded-2xl border border-white/40 dark:border-white/5 bg-white/60 dark:bg-secondary-900/40 px-4 py-3 transition-all duration-300 hover:shadow-sm hover:-translate-y-0.5",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-gray-50",children:((Y=z.model)==null?void 0:Y.name)||z.assetTag}),c.jsx("p",{className:"text-xs text-secondary-600 dark:text-secondary-400 mt-0.5",children:z.assetTag})]},z.id)})})]})]})]})]}),c.jsx("footer",{className:"fixed bottom-16 left-0 right-0 z-10 surface-card backdrop-blur-md p-4 border-t border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)] lg:static",children:c.jsxs("div",{className:"flex gap-4",children:[c.jsx(Re,{variant:"secondary",onClick:re,className:"flex-1",children:"Terminer l'audit"}),c.jsx(Re,{onClick:()=>y(!0),className:"flex-1",children:"Scanner"})]})}),h&&c.jsx(dU,{onScanSuccess:J,onClose:()=>y(!1)}),(x==null?void 0:x.type)==="unexpected"&&c.jsxs(Aw,{isOpen:!0,onClose:()=>T(null),title:"Équipement inattendu",icon:"warning",iconBgColor:"bg-yellow-100",iconColor:"text-yellow-600",primaryButtonText:"Oui, déplacer",onPrimaryClick:B,secondaryButtonText:"Ignorer",onSecondaryClick:()=>{var z;d({type:"UPDATE_AUDIT_SESSION_SCAN",payload:{sessionId:t.id,unexpectedItem:{assetTag:x.data.assetTag,modelName:(z=x.data.model)==null?void 0:z.name,originalLocation:H(x.data)}}}),T(null)},children:["Cet équipement (",x.data.model.name,`) est enregistré à l'emplacement "`,H(x.data),'". Voulez-vous le déplacer vers "',M,'"?']}),(x==null?void 0:x.type)==="new"&&c.jsxs(Aw,{isOpen:!0,onClose:()=>T(null),title:"Nouvel équipement trouvé",icon:"add_circle",iconBgColor:"bg-blue-100",iconColor:"text-blue-600",primaryButtonText:"Oui, ajouter maintenant",onPrimaryClick:K,secondaryButtonText:"Ignorer pour l'instant",onSecondaryClick:()=>T(null),children:[`L'équipement avec le numéro de série "`,x.data.serialNumber,`" n'a pas été trouvé dans l'inventaire. Voulez-vous l'ajouter ?`]}),c.jsx(ai,{isOpen:w,onClose:()=>A(!1),onConfirm:X,title:"Annuler l'audit",confirmButtonText:"Oui, annuler",children:c.jsx("p",{children:"Êtes-vous sûr de vouloir annuler cet audit ? Toute la progression sera perdue."})})]})},Ove=({auditSessions:t,equipment:e,models:n,categories:r,sites:a,departments:i,countries:o,onBack:u,onUpdateEquipment:f,dispatch:d})=>{const{sessionId:p}=$r(),h=t.find(y=>y.id===p);return h?c.jsx(Pve,{session:h,allEquipment:e,allModels:n,allCategories:r,sites:a,departments:i,countries:o,onBack:u,onUpdateEquipment:f,dispatch:d}):c.jsx("h2",{children:"Session d'audit non trouvée"})},Rve=({session:t,equipment:e,models:n,sites:r,departments:a,countries:i,onBack:o})=>{const[u,f]=I.useState(null);if(I.useEffect(()=>{if(t){const A=a.find(R=>R.id===t.departmentId),C=r.find(R=>R.id===(A==null?void 0:A.siteId)),j=i.find(R=>R.id===(C==null?void 0:C.countryId)),_=[j==null?void 0:j.name,C==null?void 0:C.name,A==null?void 0:A.name].filter(Boolean).join(" / "),M=e.filter(R=>R.departmentId===t.departmentId),N=M.filter(R=>t.scannedItemIds.includes(R.id)),k=M.filter(R=>!t.scannedItemIds.includes(R.id)),P=R=>R.map(L=>{if("id"in L){const U=n.find(q=>q.id===L.modelId);return{...L,modelName:U==null?void 0:U.name,imageUrl:U==null?void 0:U.imageUrl}}return L});f({location:_,confirmed:P(N),missing:P(k),unexpected:P(t.unexpectedItems),scanDate:t.updatedAt})}},[t,e,n,r,a,i]),!u)return c.jsxs("div",{className:"flex flex-col h-full bg-gray-100 dark:bg-gray-900",children:[c.jsx(jt,{title:"Rapport d'audit",onBack:o}),c.jsx("main",{className:"flex-1 flex items-center justify-center",children:c.jsx("p",{children:"Chargement du rapport d'audit..."})})]});const{confirmed:d,missing:p,unexpected:h,scanDate:y,location:x}=u,T=d.length+p.length,w=({items:A})=>c.jsx("div",{className:"p-4 space-y-2",children:A.map((C,j)=>c.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5 transition-all duration-300 hover:shadow-sm hover:-translate-y-0.5",children:[c.jsx("img",{src:C.imageUrl||"https://placehold.co/64x64/e2e8f0/a0aec0/png",alt:C.modelName,className:"size-12 rounded-xl object-contain bg-gradient-to-br from-gray-100 to-gray-50 dark:from-gray-700 dark:to-gray-800 shadow-sm"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:C.modelName||"Modèle inconnu"}),c.jsx("p",{className:"text-sm text-secondary-600 dark:text-secondary-400 mt-0.5",children:C.assetTag}),C.originalLocation&&c.jsxs("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-1 flex items-center gap-1",children:[c.jsx("span",{className:"material-symbols-outlined !text-xs",children:"location_on"}),"Trouvé à: ",C.originalLocation]})]})]},C.id||j))});return c.jsxs("div",{className:"flex flex-col h-full bg-secondary-50 dark:bg-[#0f1722]",children:[c.jsx(jt,{title:`Rapport: ${x}`,onBack:o}),c.jsxs("main",{className:"flex-1 overflow-y-auto p-4 space-y-6 pb-24",children:[c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl p-6 md:p-8 border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-2)]",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[c.jsx("div",{className:"flex items-center justify-center size-12 rounded-xl bg-gradient-to-br from-green-100 to-green-50 dark:from-green-900/50 dark:to-green-800/30 shadow-sm",children:c.jsx("span",{className:"material-symbols-outlined text-2xl text-green-600 dark:text-green-400",children:"summarize"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:"Résumé de l'audit"}),c.jsxs("p",{className:"text-sm text-secondary-600 dark:text-secondary-400",children:["Terminé le ",new Date(y).toLocaleString("fr-FR",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5",children:[c.jsx("p",{className:"text-4xl font-bold text-gray-900 dark:text-gray-100",children:T}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-400 mt-2",children:"Attendu"})]}),c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5",children:[c.jsx("p",{className:"text-4xl font-bold text-green-600 dark:text-green-400",children:d.length}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-400 mt-2",children:"Trouvé"})]}),c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-white/60 dark:bg-secondary-900/40 border border-white/40 dark:border-white/5",children:[c.jsx("p",{className:"text-4xl font-bold text-red-600 dark:text-red-400",children:p.length}),c.jsx("p",{className:"text-sm font-semibold text-secondary-600 dark:text-secondary-400 mt-2",children:"Manquant"})]})]}),h.length>0&&c.jsx("div",{className:"mt-6 pt-6 border-t border-white/40 dark:border-white/5",children:c.jsxs("div",{className:"text-center p-4 rounded-2xl bg-gradient-to-br from-orange-50 to-white dark:from-orange-900/20 dark:to-secondary-900/30 border border-orange-200/50 dark:border-orange-700/30",children:[c.jsx("p",{className:"text-4xl font-bold text-orange-600 dark:text-orange-400",children:h.length}),c.jsx("p",{className:"text-sm font-semibold text-orange-700 dark:text-orange-300 mt-2",children:"Inattendu"})]})})]}),p.length>0&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"p-6 border-b border-white/40 dark:border-white/5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-red-100 dark:bg-red-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-red-600 dark:text-red-400",children:"report_problem"})}),c.jsxs("h2",{className:"text-lg font-bold text-red-600 dark:text-red-400",children:["Équipements manquants (",p.length,")"]})]})}),c.jsx(w,{items:p})]}),h.length>0&&c.jsxs("div",{className:"surface-card surface-card-gradient rounded-3xl border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"p-6 border-b border-white/40 dark:border-white/5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex items-center justify-center size-10 rounded-xl bg-orange-100 dark:bg-orange-900/40",children:c.jsx("span",{className:"material-symbols-outlined text-orange-600 dark:text-orange-400",children:"error_outline"})}),c.jsxs("h2",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:["Équipements inattendus (",h.length,")"]})]})}),c.jsx(w,{items:h})]}),p.length===0&&h.length===0&&c.jsxs("div",{className:"surface-card surface-card-gradient text-center py-12 rounded-3xl border border-white/60 dark:border-white/10 shadow-[var(--shadow-elev-1)]",children:[c.jsx("div",{className:"flex items-center justify-center size-20 rounded-full bg-green-100 dark:bg-green-900/40 mx-auto mb-4",children:c.jsx("span",{className:"material-symbols-outlined text-5xl text-green-600 dark:text-green-400",children:"verified"})}),c.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:"Inventaire complet !"}),c.jsx("p",{className:"text-secondary-600 dark:text-secondary-400 mt-2",children:"Tous les équipements attendus ont été trouvés."})]})]})]})},Dve=({auditSessions:t,equipment:e,models:n,sites:r,departments:a,countries:i,onBack:o})=>{const{sessionId:u}=$r(),f=t.find(d=>d.id===u);return f?c.jsx(Rve,{session:f,equipment:e,models:n,sites:r,departments:a,countries:i,onBack:o}):c.jsx("h2",{children:"Session d'audit non trouvée"})},Lve=({onLogout:t})=>{var _e,ce,Ce;const{state:e,dispatch:n}=e3(),r=Sd(),a=`#${r.pathname}${r.search}`,{addToast:i}=Xn(),o=700,u=.15,[f,d]=I.useState(!1),[p,h]=I.useState(new Set),[y,x]=I.useState(new Set),[T,w]=I.useState(!1),[A,C]=I.useState(!1),[j,_]=I.useState(null),[M,N]=I.useState(null);I.useEffect(()=>{w(!1)},[r.pathname]);const k=I.useMemo(()=>{const G=r.pathname;return G.includes("/assign")||G.includes("/return")||G.includes("/new")||G.includes("/edit")||G.includes("/import")},[r.pathname]),P=e.currentUser,R=P.role===Ne.MANAGER,L=P.role!==Ne.EMPLOYEE,U=I.useMemo(()=>e.users.filter(G=>G.managerId===P.id),[e.users,P.id]),q=I.useMemo(()=>new Set([P.id,...U.map(G=>G.id)]),[P.id,U]),D=I.useMemo(()=>{if(!R)return e.users;const G=new Map;return G.set(P.id,P),U.forEach(Z=>G.set(Z.id,Z)),Array.from(G.values())},[R,e.users,P,U]),$=I.useMemo(()=>R?e.assignments.filter(G=>q.has(G.userId)||q.has(G.managerId)):e.assignments,[R,e.assignments,q]),H=I.useMemo(()=>{if(!R)return e.equipment;const G=new Set($.map(de=>de.equipmentId)),Z=new Set($.map(de=>de.id));return e.equipment.filter(de=>G.has(de.id)||(de.pendingAssignmentId?Z.has(de.pendingAssignmentId):!1))},[R,e.equipment,$]),J=I.useMemo(()=>$.filter(G=>{const Z=H.find(Je=>Je.id===G.equipmentId);if(!Z||Z.status!==De.PENDING_VALIDATION||G.status!==Bt.PENDING||!G.validation)return!1;const de=G.validation,Se=G.action===ze.ASSIGN,Oe=Se?!de.manager&&de.it:!de.manager&&de.it&&de.user;if(P.id===G.managerId&&Oe)return!0;const $e=Se?de.it&&de.manager&&!de.user:de.it&&!de.user;return!!(P.id===G.userId&&$e||P.role===Ne.ADMIN&&!de.it)}).length,[$,H,P]),B=(G,Z,de)=>{P&&n({type:"LOG_AUDIT_EVENT",payload:{user:P,action:G,entityType:Z,entityName:de}})},K=async G=>{n({type:"SAVE_EQUIPMENT",payload:G}),B(G.id?"update":"create","equipment",G.name||G.assetTag||"N/A"),window.location.hash=G.id?`#/equipment/${G.id}`:"#/inventory"},W=async G=>{const{avatarFile:Z,...de}=G;let Se=de.avatarUrl;Z&&(Se=URL.createObjectURL(Z)),n({type:"SAVE_USER",payload:{...de,avatarUrl:Se}}),B(de.id?"update":"create","user",de.name||"N/A"),window.location.hash=de.id?`#/users/${de.id}`:"#/users"},re=()=>{const{id:G}=$r(),Z=e.equipment.find(de=>de.id===G);return Z?c.jsx(WI,{onSave:K,onBack:()=>window.history.back(),categories:e.categories,models:e.models,countries:e.countries,sites:e.sites,departments:e.departments,initialData:Z}):c.jsx("h2",{children:"Équipement non trouvé"})},X=()=>{const{id:G}=$r(),Z=e.users.find(de=>de.id===G);return Z?c.jsx(XI,{onSave:W,onBack:()=>window.history.back(),users:e.users,initialData:Z}):c.jsx("h2",{children:"Utilisateur non trouvé"})},V=()=>{const{id:G}=$r(),Z=e.categories.find(de=>de.id===G);return Z?c.jsx(JI,{onSave:async de=>{n({type:"SAVE_CATEGORY",payload:de}),B(de.id?"update":"create","category",de.name),window.location.hash="#/management"},onBack:()=>window.history.back(),initialData:Z}):c.jsx("h2",{children:"Catégorie non trouvée"})},z=()=>{const[G]=iz(),Z=G.get("categoryId");return c.jsx(QI,{onSave:async de=>{n({type:"SAVE_MODEL",payload:de}),B(de.id?"update":"create","model",de.modelName),window.location.hash="#/management"},onBack:()=>window.history.back(),categories:e.categories,initialData:{categoryId:Z||""}})},Y=()=>{const{id:G}=$r(),Z=e.models.find(de=>de.id===G);return Z?c.jsx(QI,{onSave:async de=>{n({type:"SAVE_MODEL",payload:de}),B(de.id?"update":"create","model",de.modelName),window.location.hash="#/management"},onBack:()=>window.history.back(),categories:e.categories,initialData:Z}):c.jsx("h2",{children:"Modèle non trouvé"})},ee=async G=>{n({type:"SAVE_ASSIGNMENT",payload:G});const Z=G.validation||{it:!1,manager:!1,user:!1},de=G.action===ze.ASSIGN;let Se=null;Z.it?de?Z.manager?Z.user||(Se="Utilisateur"):Se="Responsable":Z.user?Z.manager||(Se="Responsable"):Se="Utilisateur":Se="Admin IT",Se==="Admin IT"&&P.role===Ne.ADMIN?i("Demande créée. Validez maintenant en tant qu'Admin IT.","info",{actionLabel:"Valider",onAction:()=>{window.location.hash="#/pending-approvals"}}):i(Se?`Demande créée. Notification envoyée à ${Se}.`:"Demande créée.","info"),window.location.hash="#/dashboard"},le=(G,Z)=>{const de=e.assignments.find(Oe=>Oe.id===G);if(!de||R&&de.managerId!==P.id)return;const Se=Z||(P.id===de.managerId?"manager":P.id===de.userId?"user":P.role===Ne.ADMIN?"it":"user");n({type:"APPROVE_ASSIGNMENT",payload:{assignmentId:G,currentUser:P,actor:Se}}),i("Validation enregistrée","success",{actionLabel:"Annuler",onAction:()=>n({type:"REVERT_ASSIGNMENT_VALIDATION",payload:{assignmentId:G,actor:Se}})});try{const Oe={...de.validation||{it:!1,manager:!1,user:!1}};Oe[Se]=!0;const $e=de.action===ze.ASSIGN;let Je=null;$e?Oe.it?Oe.manager?Oe.user||(Je="Utilisateur"):Je="Responsable":Je="Admin IT":Oe.it?Oe.user?Oe.manager||(Je="Responsable"):Je="Utilisateur":Je="Admin IT",Oe.it;const vt=e.equipment.find(Qt=>Qt.id===de.equipmentId);vt&&n({type:"LOG_AUDIT_EVENT",payload:{user:P,action:"update",entityType:"equipment",entityName:vt.assetTag}}),Oe.it&&Oe.manager&&Oe.user?i("Processus complété.","success"):Je&&i(`Notification envoyée à ${Je}.`,"info")}catch{}setTimeout(()=>{Math.random()<u&&(n({type:"REVERT_ASSIGNMENT_VALIDATION",payload:{assignmentId:G,actor:Se}}),i("Erreur réseau: validation annulée, restauration effectuée.","error",{actionLabel:"Réessayer",onAction:()=>le(G,Se)}))},o)},xe=(G,Z)=>{const de=e.assignments.find(Se=>Se.id===G);de&&(R&&de.managerId!==P.id||(n({type:"REJECT_ASSIGNMENT",payload:{assignmentId:G,reason:Z}}),i("Demande rejetée","info",{actionLabel:"Annuler",onAction:()=>n({type:"RESTORE_REJECTED_ASSIGNMENT",payload:{assignmentId:G}})}),setTimeout(()=>{Math.random()<u&&(n({type:"RESTORE_REJECTED_ASSIGNMENT",payload:{assignmentId:G}}),i("Erreur réseau: rejet annulé, restauration effectuée.","error",{actionLabel:"Réessayer",onAction:()=>xe(G,Z)}))},o)))},Te=G=>{n({type:"SAVE_EQUIPMENT",payload:G})};return c.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900 font-sans",children:[c.jsx(t7,{currentUser:P,activeHash:a,isCollapsed:f,onToggle:()=>d(G=>!G),onOpenSettings:()=>C(!0),onLogout:t,pendingApprovalsCount:J}),c.jsx("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:c.jsxs(ez,{children:[c.jsx(Qe,{path:"/dashboard",element:c.jsx(y7,{currentUser:P,assignments:$,equipment:H,users:D,models:e.models,categories:e.categories,auditLog:e.auditLog,editHistory:e.editHistory,onAddEquipment:()=>window.location.hash="#/equipment/new",onShowPendingApprovals:()=>window.location.hash="#/pending-approvals",isLoading:!1,onOpenSettings:()=>C(!0)})}),c.jsx(Qe,{path:"/inventory",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(HZ,{equipment:e.equipment,models:e.models,categories:e.categories,assignments:e.assignments,users:e.users,onAdd:()=>window.location.hash="#/equipment/new",onImport:()=>window.location.hash="#/equipment/import",canAdd:P.role===Ne.ADMIN,onEdit:G=>window.location.hash=`#/equipment/${G}/edit`,onDelete:G=>{const Z=e.equipment.find(de=>de.id===G);if(Z){const de=e.models.find(Se=>Se.id===Z.modelId);B("delete","equipment",(de==null?void 0:de.name)||Z.assetTag)}n({type:"DELETE_EQUIPMENT",payload:G})},selectedIds:p,onSelectedIdsChange:h,onBulkDelete:G=>n({type:"BULK_DELETE_EQUIPMENT",payload:G}),onBulkUpdateStatus:(G,Z)=>n({type:"BULK_UPDATE_STATUS",payload:{ids:G,status:Z}}),onBulkUpdateLocation:(G,Z)=>n({type:"BULK_UPDATE_LOCATION",payload:{ids:G,location:Z}}),isLoading:!1,currentUser:P})}),c.jsx(Qe,{path:"/users",element:c.jsx(YZ,{users:D,onAdd:()=>window.location.hash="#/users/new",isLoading:!1,canAdd:P.role===Ne.ADMIN,onEdit:G=>window.location.hash=`#/users/${G}/edit`,onDelete:G=>{const Z=e.users.find(de=>de.id===G);Z&&B("delete","user",Z.name),n({type:"DELETE_USER",payload:G})},currentUser:P,selectedIds:y,onSelectedIdsChange:x,onBulkDelete:G=>{n({type:"BULK_DELETE_USERS",payload:G}),x(new Set)}})}),c.jsx(Qe,{path:"/equipment/:id",element:c.jsx(pve,{assignments:$,equipmentList:H,users:D,currentUser:P,models:e.models,categories:e.categories,editHistory:e.editHistory,sites:e.sites,departments:e.departments,onBack:()=>window.history.back(),onEdit:G=>window.location.hash=`#/equipment/${G}/edit`,onDelete:G=>{const Z=e.equipment.find(de=>de.id===G);if(Z){const de=e.models.find(Se=>Se.id===Z.modelId);B("delete","equipment",(de==null?void 0:de.name)||Z.assetTag)}n({type:"DELETE_EQUIPMENT",payload:G}),window.location.hash="#/inventory"},onApprove:(G,Z)=>n({type:"APPROVE_ASSIGNMENT",payload:{assignmentId:G,currentUser:P,actor:Z}}),onReject:(G,Z)=>n({type:"REJECT_ASSIGNMENT",payload:{assignmentId:G,reason:Z}})})}),c.jsx(Qe,{path:"/users/:id",element:c.jsx(vve,{assignments:$,equipment:H,users:D,models:e.models,categories:e.categories,currentUser:P,editHistory:e.editHistory,onBack:()=>window.location.hash="#/users",onEdit:G=>window.location.hash=`#/users/${G}/edit`,onDelete:G=>{const Z=e.users.find(de=>de.id===G);Z&&B("delete","user",Z.name),n({type:"DELETE_USER",payload:G}),window.location.hash="#/users"},onManagePin:G=>{var Z;return _({userId:G,existingPin:(Z=e.users.find(de=>de.id===G))==null?void 0:Z.pin})},onRegisterFingerprint:G=>N({userId:G})})}),c.jsx(Qe,{path:"/equipment/new",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(WI,{onSave:K,onBack:()=>window.history.back(),categories:e.categories,models:e.models,countries:e.countries,sites:e.sites,departments:e.departments})}),c.jsx(Qe,{path:"/equipment/import",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Gye,{onImport:async G=>{n({type:"IMPORT_EQUIPMENT",payload:G}),window.location.hash="#/inventory"},onBack:()=>window.history.back(),models:e.models})}),c.jsx(Qe,{path:"/equipment/:id/edit",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(re,{})}),c.jsx(Qe,{path:"/users/new",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(XI,{onSave:W,onBack:()=>window.history.back(),users:e.users})}),c.jsx(Qe,{path:"/users/import",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Wye,{users:e.users,onImport:async G=>{n({type:"IMPORT_USERS",payload:G}),window.location.hash="#/users"},onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/users/:id/edit",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(X,{})}),c.jsx(Qe,{path:"/assign/*",element:c.jsx(Nve,{equipment:e.equipment,users:e.users,currentUser:P,models:e.models,categories:e.categories,assignments:e.assignments,onSubmit:ee,onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/return",element:c.jsx(rq,{equipment:e.equipment,users:e.users,currentUser:P,models:e.models,categories:e.categories,assignments:e.assignments,onSubmit:ee,onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/return/equipment/:equipmentId",element:c.jsx(rq,{equipment:e.equipment,users:e.users,currentUser:P,models:e.models,categories:e.categories,assignments:e.assignments,onSubmit:ee,onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/pending-approvals",element:c.jsx(Cve,{assignments:$,equipment:H,models:e.models,categories:e.categories,users:D,currentUser:P,onApprove:le,onReject:xe,onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/management",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(ZZ,{categories:e.categories,models:e.models,equipment:e.equipment,onAddCategory:()=>window.location.hash="#/categories/new",onAddModel:()=>window.location.hash="#/models/new",onViewCategory:G=>window.location.hash=`#/categories/${G}`,onSelectModel:G=>window.location.hash=`#/models/${G}`})}),c.jsx(Qe,{path:"/locations",element:c.jsx(eee,{countries:e.countries,sites:e.sites,departments:e.departments,dispatch:n,logAuditEvent:B})}),c.jsx(Qe,{path:"/locations/import",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(nve,{countries:e.countries,sites:e.sites,onImport:async G=>{n({type:"IMPORT_LOCATIONS",payload:G}),window.location.hash="#/locations"},onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/categories/new",element:c.jsx(JI,{onSave:async G=>{n({type:"SAVE_CATEGORY",payload:G}),B(G.id?"update":"create","category",G.name),window.location.hash="#/management"},onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/categories/:id",element:c.jsx(bve,{categories:e.categories,models:e.models,equipment:e.equipment,users:e.users,currentUser:P,onBack:()=>window.location.hash="#/management",onEdit:G=>window.location.hash=`#/categories/${G}/edit`,onDelete:G=>{const Z=e.categories.find(de=>de.id===G);Z&&B("delete","category",Z.name),n({type:"DELETE_CATEGORY",payload:G}),window.location.hash="#/management"},onSelectEquipment:G=>window.location.hash=`#/equipment/${G}`,onSelectModel:G=>window.location.hash=`#/models/${G}`})}),c.jsx(Qe,{path:"/categories/:id/edit",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(V,{})}),c.jsx(Qe,{path:"/models/new",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(z,{})}),c.jsx(Qe,{path:"/models/import",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Jye,{categories:e.categories,onImport:async G=>{n({type:"IMPORT_MODELS",payload:G}),window.location.hash="#/management"},onBack:()=>window.history.back()})}),c.jsx(Qe,{path:"/models/:id",element:c.jsx(wve,{models:e.models,categories:e.categories,equipment:e.equipment,assignments:e.assignments,users:e.users,currentUser:P,onBack:()=>window.location.hash="#/management",onEdit:G=>window.location.hash=`#/models/${G}/edit`,onDelete:G=>{const Z=e.models.find(de=>de.id===G);Z&&B("delete","model",Z.name),n({type:"DELETE_MODEL",payload:G}),window.location.hash="#/management"},onSelectEquipment:G=>window.location.hash=`#/equipment/${G}`})}),c.jsx(Qe,{path:"/models/:id/edit",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Y,{})}),c.jsx(Qe,{path:"/reports",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(nee,{equipment:e.equipment,assignments:e.assignments,users:e.users,models:e.models,categories:e.categories,currentUser:P})}),c.jsx(Qe,{path:"/audit",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(aee,{equipment:e.equipment,currentUser:P,sites:e.sites,departments:e.departments,countries:e.countries,auditSessions:e.auditSessions,dispatch:n})}),c.jsx(Qe,{path:"/audit/overview",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Lye,{auditSessions:e.auditSessions,equipment:e.equipment,countries:e.countries,sites:e.sites,departments:e.departments,users:e.users})}),c.jsx(Qe,{path:"/audit/session/:sessionId",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Ove,{auditSessions:e.auditSessions,equipment:e.equipment,models:e.models,categories:e.categories,sites:e.sites,departments:e.departments,countries:e.countries,onBack:()=>window.location.hash="#/audit",onUpdateEquipment:Te,dispatch:n})}),c.jsx(Qe,{path:"/audit/report/:sessionId",element:R?c.jsx(vn,{to:"/dashboard",replace:!0}):c.jsx(Dve,{auditSessions:e.auditSessions,equipment:e.equipment,models:e.models,sites:e.sites,departments:e.departments,countries:e.countries,onBack:()=>window.location.hash="#/audit"})}),c.jsx(Qe,{path:"/profile",element:c.jsx(Uye,{currentUser:P,onBack:()=>window.history.back(),onEdit:G=>window.location.hash=`#/users/${G}/edit`,onLogout:t,onManagePin:G=>_({userId:G,existingPin:P.pin})})}),c.jsx(Qe,{path:"/settings/about",element:c.jsx(rve,{})}),c.jsx(Qe,{path:"/settings/notifications",element:c.jsx(ave,{})}),c.jsx(Qe,{path:"/settings/data",element:c.jsx(ive,{})}),c.jsx(Qe,{path:"/settings/help",element:c.jsx(sve,{})}),c.jsx(Qe,{path:"/settings/whats-new",element:c.jsx(ove,{})}),c.jsx(Qe,{path:"*",element:c.jsx(vn,{to:"/dashboard",replace:!0})})]})}),!k&&c.jsx(i7,{activeHash:a,showFullNav:L,role:P.role,onMoreClick:()=>w(!0),pendingApprovalsCount:J}),c.jsx(Vye,{isOpen:T,onClose:()=>w(!1),onNavigate:G=>window.location.hash=G,role:P.role}),c.jsx(Kye,{isOpen:A,onClose:()=>C(!1),currentUser:P,onLogout:t}),c.jsx($Z,{isOpen:!!j,onClose:()=>_(null),onSave:G=>{j&&(n({type:"SAVE_PIN",payload:{userId:j.userId,pin:G}}),_(null))},userName:((_e=e.users.find(G=>G.id===(j==null?void 0:j.userId)))==null?void 0:_e.name)||"",existingPin:j==null?void 0:j.existingPin}),c.jsx(BZ,{isOpen:!!M,onClose:()=>N(null),onSave:G=>{M&&n({type:"SAVE_WEBAUTHN_CREDENTIAL",payload:{userId:M.userId,credentialId:G}}),N(null)},userId:(M==null?void 0:M.userId)||"",userName:((ce=e.users.find(G=>G.id===(M==null?void 0:M.userId)))==null?void 0:ce.name)||"",existingCredentialId:(Ce=e.users.find(G=>G.id===(M==null?void 0:M.userId)))==null?void 0:Ce.webauthnCredentialId})]})},qve=()=>{const{state:t,dispatch:e}=e3(),n=a=>{e({type:"LOGIN_SUCCESS",payload:a}),window.location.hash="#/dashboard"},r=()=>{e({type:"LOGOUT"})};return t.currentUser?c.jsx(Lve,{onLogout:r}):c.jsx(Zye,{users:t.users,onLoginSuccess:n})},Uve=()=>c.jsx(e7,{children:c.jsx($9,{children:c.jsx(Z9,{children:c.jsx(az,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:c.jsx(qve,{})})})})}),$$=document.getElementById("root");if(!$$)throw new Error("Could not find root element to mount to");const Bve=uF.createRoot($$);Bve.render(c.jsx(te.StrictMode,{children:c.jsx(Uve,{})}));
